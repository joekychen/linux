<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › plat-samsung › include › plat › cpu.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>cpu.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* linux/arch/arm/plat-samsung/include/plat/cpu.h</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2011 Samsung Electronics Co., Ltd.</span>
<span class="cm"> *		http://www.samsung.com/</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2004-2005 Simtec Electronics</span>
<span class="cm"> *	Ben Dooks &lt;ben@simtec.co.uk&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Header file for Samsung CPU support</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm">*/</span>

<span class="cm">/* todo - fix when rmk changes iodescs to use `void __iomem *` */</span>

<span class="cp">#ifndef __SAMSUNG_PLAT_CPU_H</span>
<span class="cp">#define __SAMSUNG_PLAT_CPU_H</span>

<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">samsung_cpu_id</span><span class="p">;</span>

<span class="cp">#define S3C24XX_CPU_ID		0x32400000</span>
<span class="cp">#define S3C24XX_CPU_MASK	0xFFF00000</span>

<span class="cp">#define S3C6400_CPU_ID		0x36400000</span>
<span class="cp">#define S3C6410_CPU_ID		0x36410000</span>
<span class="cp">#define S3C64XX_CPU_MASK	0xFFFFF000</span>

<span class="cp">#define S5P6440_CPU_ID		0x56440000</span>
<span class="cp">#define S5P6450_CPU_ID		0x36450000</span>
<span class="cp">#define S5P64XX_CPU_MASK	0xFFFFF000</span>

<span class="cp">#define S5PC100_CPU_ID		0x43100000</span>
<span class="cp">#define S5PC100_CPU_MASK	0xFFFFF000</span>

<span class="cp">#define S5PV210_CPU_ID		0x43110000</span>
<span class="cp">#define S5PV210_CPU_MASK	0xFFFFF000</span>

<span class="cp">#define EXYNOS4210_CPU_ID	0x43210000</span>
<span class="cp">#define EXYNOS4212_CPU_ID	0x43220000</span>
<span class="cp">#define EXYNOS4412_CPU_ID	0xE4412200</span>
<span class="cp">#define EXYNOS4_CPU_MASK	0xFFFE0000</span>

<span class="cp">#define EXYNOS5250_SOC_ID	0x43520000</span>
<span class="cp">#define EXYNOS5_SOC_MASK	0xFFFFF000</span>

<span class="cp">#define IS_SAMSUNG_CPU(name, id, mask)		\</span>
<span class="cp">static inline int is_samsung_##name(void)	\</span>
<span class="cp">{						\</span>
<span class="cp">	return ((samsung_cpu_id &amp; mask) == (id &amp; mask));	\</span>
<span class="cp">}</span>

<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">s3c24xx</span><span class="p">,</span> <span class="n">S3C24XX_CPU_ID</span><span class="p">,</span> <span class="n">S3C24XX_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">s3c6400</span><span class="p">,</span> <span class="n">S3C6400_CPU_ID</span><span class="p">,</span> <span class="n">S3C64XX_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">s3c6410</span><span class="p">,</span> <span class="n">S3C6410_CPU_ID</span><span class="p">,</span> <span class="n">S3C64XX_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">s5p6440</span><span class="p">,</span> <span class="n">S5P6440_CPU_ID</span><span class="p">,</span> <span class="n">S5P64XX_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">s5p6450</span><span class="p">,</span> <span class="n">S5P6450_CPU_ID</span><span class="p">,</span> <span class="n">S5P64XX_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">s5pc100</span><span class="p">,</span> <span class="n">S5PC100_CPU_ID</span><span class="p">,</span> <span class="n">S5PC100_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">s5pv210</span><span class="p">,</span> <span class="n">S5PV210_CPU_ID</span><span class="p">,</span> <span class="n">S5PV210_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">exynos4210</span><span class="p">,</span> <span class="n">EXYNOS4210_CPU_ID</span><span class="p">,</span> <span class="n">EXYNOS4_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">exynos4212</span><span class="p">,</span> <span class="n">EXYNOS4212_CPU_ID</span><span class="p">,</span> <span class="n">EXYNOS4_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">exynos4412</span><span class="p">,</span> <span class="n">EXYNOS4412_CPU_ID</span><span class="p">,</span> <span class="n">EXYNOS4_CPU_MASK</span><span class="p">)</span>
<span class="n">IS_SAMSUNG_CPU</span><span class="p">(</span><span class="n">exynos5250</span><span class="p">,</span> <span class="n">EXYNOS5250_SOC_ID</span><span class="p">,</span> <span class="n">EXYNOS5_SOC_MASK</span><span class="p">)</span>

<span class="cp">#if defined(CONFIG_CPU_S3C2410) || defined(CONFIG_CPU_S3C2412) || \</span>
<span class="cp">    defined(CONFIG_CPU_S3C2416) || defined(CONFIG_CPU_S3C2440) || \</span>
<span class="cp">    defined(CONFIG_CPU_S3C2442) || defined(CONFIG_CPU_S3C244X) || \</span>
<span class="cp">    defined(CONFIG_CPU_S3C2443)</span>
<span class="cp"># define soc_is_s3c24xx()	is_samsung_s3c24xx()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_s3c24xx()	0</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_CPU_S3C6400) || defined(CONFIG_CPU_S3C6410)</span>
<span class="cp"># define soc_is_s3c64xx()	(is_samsung_s3c6400() || is_samsung_s3c6410())</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_s3c64xx()	0</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_CPU_S5P6440)</span>
<span class="cp"># define soc_is_s5p6440()	is_samsung_s5p6440()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_s5p6440()	0</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_CPU_S5P6450)</span>
<span class="cp"># define soc_is_s5p6450()	is_samsung_s5p6450()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_s5p6450()	0</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_CPU_S5PC100)</span>
<span class="cp"># define soc_is_s5pc100()	is_samsung_s5pc100()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_s5pc100()	0</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_CPU_S5PV210)</span>
<span class="cp"># define soc_is_s5pv210()	is_samsung_s5pv210()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_s5pv210()	0</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_CPU_EXYNOS4210)</span>
<span class="cp"># define soc_is_exynos4210()	is_samsung_exynos4210()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_exynos4210()	0</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_SOC_EXYNOS4212)</span>
<span class="cp"># define soc_is_exynos4212()	is_samsung_exynos4212()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_exynos4212()	0</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_SOC_EXYNOS4412)</span>
<span class="cp"># define soc_is_exynos4412()	is_samsung_exynos4412()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_exynos4412()	0</span>
<span class="cp">#endif</span>

<span class="cp">#define EXYNOS4210_REV_0	(0x0)</span>
<span class="cp">#define EXYNOS4210_REV_1_0	(0x10)</span>
<span class="cp">#define EXYNOS4210_REV_1_1	(0x11)</span>

<span class="cp">#if defined(CONFIG_SOC_EXYNOS5250)</span>
<span class="cp"># define soc_is_exynos5250()	is_samsung_exynos5250()</span>
<span class="cp">#else</span>
<span class="cp"># define soc_is_exynos5250()	0</span>
<span class="cp">#endif</span>

<span class="cp">#define IODESC_ENT(x) { (unsigned long)S3C24XX_VA_##x, __phys_to_pfn(S3C24XX_PA_##x), S3C24XX_SZ_##x, MT_DEVICE }</span>

<span class="cp">#ifndef MHZ</span>
<span class="cp">#define MHZ (1000*1000)</span>
<span class="cp">#endif</span>

<span class="cp">#define print_mhz(m) ((m) / MHZ), (((m) / 1000) % 1000)</span>

<span class="cm">/* forward declaration */</span>
<span class="k">struct</span> <span class="n">s3c24xx_uart_resources</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">platform_device</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">s3c2410_uartcfg</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">map_desc</span><span class="p">;</span>

<span class="cm">/* per-cpu initialisation function table. */</span>

<span class="k">struct</span> <span class="n">cpu_table</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">idcode</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">idmask</span><span class="p">;</span>
	<span class="kt">void</span>		<span class="p">(</span><span class="o">*</span><span class="n">map_io</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>
	<span class="kt">void</span>		<span class="p">(</span><span class="o">*</span><span class="n">init_uarts</span><span class="p">)(</span><span class="k">struct</span> <span class="n">s3c2410_uartcfg</span> <span class="o">*</span><span class="n">cfg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">no</span><span class="p">);</span>
	<span class="kt">void</span>		<span class="p">(</span><span class="o">*</span><span class="n">init_clocks</span><span class="p">)(</span><span class="kt">int</span> <span class="n">xtal</span><span class="p">);</span>
	<span class="kt">int</span>		<span class="p">(</span><span class="o">*</span><span class="n">init</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>
	<span class="k">const</span> <span class="kt">char</span>	<span class="o">*</span><span class="n">name</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">s3c_init_cpu</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">idcode</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">cpu_table</span> <span class="o">*</span><span class="n">cpus</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">cputab_size</span><span class="p">);</span>

<span class="cm">/* core initialisation functions */</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">s3c24xx_init_irq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">s5p_init_irq</span><span class="p">(</span><span class="n">u32</span> <span class="o">*</span><span class="n">vic</span><span class="p">,</span> <span class="n">u32</span> <span class="n">num_vic</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">s3c24xx_init_io</span><span class="p">(</span><span class="k">struct</span> <span class="n">map_desc</span> <span class="o">*</span><span class="n">mach_desc</span><span class="p">,</span> <span class="kt">int</span> <span class="n">size</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">s3c24xx_init_cpu</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">s3c64xx_init_cpu</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">s5p_init_cpu</span><span class="p">(</span><span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">cpuid_addr</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">samsung_rev</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">s3c24xx_init_uarts</span><span class="p">(</span><span class="k">struct</span> <span class="n">s3c2410_uartcfg</span> <span class="o">*</span><span class="n">cfg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">no</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">s3c24xx_init_clocks</span><span class="p">(</span><span class="kt">int</span> <span class="n">xtal</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">s3c24xx_init_uartdevs</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span>
				  <span class="k">struct</span> <span class="n">s3c24xx_uart_resources</span> <span class="o">*</span><span class="n">res</span><span class="p">,</span>
				  <span class="k">struct</span> <span class="n">s3c2410_uartcfg</span> <span class="o">*</span><span class="n">cfg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">no</span><span class="p">);</span>

<span class="cm">/* timer for 2410/2440 */</span>

<span class="k">struct</span> <span class="n">sys_timer</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">sys_timer</span> <span class="n">s3c24xx_timer</span><span class="p">;</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">syscore_ops</span> <span class="n">s3c2410_pm_syscore_ops</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">syscore_ops</span> <span class="n">s3c2412_pm_syscore_ops</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">syscore_ops</span> <span class="n">s3c2416_pm_syscore_ops</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">syscore_ops</span> <span class="n">s3c244x_pm_syscore_ops</span><span class="p">;</span>

<span class="cm">/* system device subsystems */</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s3c2410_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s3c2410a_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s3c2412_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s3c2416_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s3c2440_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s3c2442_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s3c2443_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s3c6410_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s5p64x0_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">s5pv210_subsys</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">bus_type</span> <span class="n">exynos_subsys</span><span class="p">;</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">s5pc1xx_idle</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
