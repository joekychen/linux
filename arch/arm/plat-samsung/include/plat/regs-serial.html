<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › plat-samsung › include › plat › regs-serial.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>regs-serial.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* arch/arm/plat-samsung/include/plat/regs-serial.h</span>
<span class="cm"> *</span>
<span class="cm"> *  From linux/include/asm-arm/hardware/serial_s3c2410.h</span>
<span class="cm"> *</span>
<span class="cm"> *  Internal header file for Samsung S3C2410 serial ports (UART0-2)</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2002 Shane Nay (shane@minirl.com)</span>
<span class="cm"> *</span>
<span class="cm"> *  Additional defines, Copyright 2003 Simtec Electronics (linux@simtec.co.uk)</span>
<span class="cm"> *</span>
<span class="cm"> *  Adapted from:</span>
<span class="cm"> *</span>
<span class="cm"> *  Internal header file for MX1ADS serial ports (UART1 &amp; 2)</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2002 Shane Nay (shane@minirl.com)</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<span class="cm">*/</span>

<span class="cp">#ifndef __ASM_ARM_REGS_SERIAL_H</span>
<span class="cp">#define __ASM_ARM_REGS_SERIAL_H</span>

<span class="cp">#define S3C24XX_VA_UART0      (S3C_VA_UART)</span>
<span class="cp">#define S3C24XX_VA_UART1      (S3C_VA_UART + 0x4000 )</span>
<span class="cp">#define S3C24XX_VA_UART2      (S3C_VA_UART + 0x8000 )</span>
<span class="cp">#define S3C24XX_VA_UART3      (S3C_VA_UART + 0xC000 )</span>

<span class="cp">#define S3C2410_PA_UART0      (S3C24XX_PA_UART)</span>
<span class="cp">#define S3C2410_PA_UART1      (S3C24XX_PA_UART + 0x4000 )</span>
<span class="cp">#define S3C2410_PA_UART2      (S3C24XX_PA_UART + 0x8000 )</span>
<span class="cp">#define S3C2443_PA_UART3      (S3C24XX_PA_UART + 0xC000 )</span>

<span class="cp">#define S3C2410_URXH	  (0x24)</span>
<span class="cp">#define S3C2410_UTXH	  (0x20)</span>
<span class="cp">#define S3C2410_ULCON	  (0x00)</span>
<span class="cp">#define S3C2410_UCON	  (0x04)</span>
<span class="cp">#define S3C2410_UFCON	  (0x08)</span>
<span class="cp">#define S3C2410_UMCON	  (0x0C)</span>
<span class="cp">#define S3C2410_UBRDIV	  (0x28)</span>
<span class="cp">#define S3C2410_UTRSTAT	  (0x10)</span>
<span class="cp">#define S3C2410_UERSTAT	  (0x14)</span>
<span class="cp">#define S3C2410_UFSTAT	  (0x18)</span>
<span class="cp">#define S3C2410_UMSTAT	  (0x1C)</span>

<span class="cp">#define S3C2410_LCON_CFGMASK	  ((0xF&lt;&lt;3)|(0x3))</span>

<span class="cp">#define S3C2410_LCON_CS5	  (0x0)</span>
<span class="cp">#define S3C2410_LCON_CS6	  (0x1)</span>
<span class="cp">#define S3C2410_LCON_CS7	  (0x2)</span>
<span class="cp">#define S3C2410_LCON_CS8	  (0x3)</span>
<span class="cp">#define S3C2410_LCON_CSMASK	  (0x3)</span>

<span class="cp">#define S3C2410_LCON_PNONE	  (0x0)</span>
<span class="cp">#define S3C2410_LCON_PEVEN	  (0x5 &lt;&lt; 3)</span>
<span class="cp">#define S3C2410_LCON_PODD	  (0x4 &lt;&lt; 3)</span>
<span class="cp">#define S3C2410_LCON_PMASK	  (0x7 &lt;&lt; 3)</span>

<span class="cp">#define S3C2410_LCON_STOPB	  (1&lt;&lt;2)</span>
<span class="cp">#define S3C2410_LCON_IRM          (1&lt;&lt;6)</span>

<span class="cp">#define S3C2440_UCON_CLKMASK	  (3&lt;&lt;10)</span>
<span class="cp">#define S3C2440_UCON_CLKSHIFT	  (10)</span>
<span class="cp">#define S3C2440_UCON_PCLK	  (0&lt;&lt;10)</span>
<span class="cp">#define S3C2440_UCON_UCLK	  (1&lt;&lt;10)</span>
<span class="cp">#define S3C2440_UCON_PCLK2	  (2&lt;&lt;10)</span>
<span class="cp">#define S3C2440_UCON_FCLK	  (3&lt;&lt;10)</span>
<span class="cp">#define S3C2443_UCON_EPLL	  (3&lt;&lt;10)</span>

<span class="cp">#define S3C6400_UCON_CLKMASK	(3&lt;&lt;10)</span>
<span class="cp">#define S3C6400_UCON_CLKSHIFT	(10)</span>
<span class="cp">#define S3C6400_UCON_PCLK	(0&lt;&lt;10)</span>
<span class="cp">#define S3C6400_UCON_PCLK2	(2&lt;&lt;10)</span>
<span class="cp">#define S3C6400_UCON_UCLK0	(1&lt;&lt;10)</span>
<span class="cp">#define S3C6400_UCON_UCLK1	(3&lt;&lt;10)</span>

<span class="cp">#define S3C2440_UCON2_FCLK_EN	  (1&lt;&lt;15)</span>
<span class="cp">#define S3C2440_UCON0_DIVMASK	  (15 &lt;&lt; 12)</span>
<span class="cp">#define S3C2440_UCON1_DIVMASK	  (15 &lt;&lt; 12)</span>
<span class="cp">#define S3C2440_UCON2_DIVMASK	  (7 &lt;&lt; 12)</span>
<span class="cp">#define S3C2440_UCON_DIVSHIFT	  (12)</span>

<span class="cp">#define S3C2412_UCON_CLKMASK	(3&lt;&lt;10)</span>
<span class="cp">#define S3C2412_UCON_CLKSHIFT	(10)</span>
<span class="cp">#define S3C2412_UCON_UCLK	(1&lt;&lt;10)</span>
<span class="cp">#define S3C2412_UCON_USYSCLK	(3&lt;&lt;10)</span>
<span class="cp">#define S3C2412_UCON_PCLK	(0&lt;&lt;10)</span>
<span class="cp">#define S3C2412_UCON_PCLK2	(2&lt;&lt;10)</span>

<span class="cp">#define S3C2410_UCON_CLKMASK	(1 &lt;&lt; 10)</span>
<span class="cp">#define S3C2410_UCON_CLKSHIFT	(10)</span>
<span class="cp">#define S3C2410_UCON_UCLK	  (1&lt;&lt;10)</span>
<span class="cp">#define S3C2410_UCON_SBREAK	  (1&lt;&lt;4)</span>

<span class="cp">#define S3C2410_UCON_TXILEVEL	  (1&lt;&lt;9)</span>
<span class="cp">#define S3C2410_UCON_RXILEVEL	  (1&lt;&lt;8)</span>
<span class="cp">#define S3C2410_UCON_TXIRQMODE	  (1&lt;&lt;2)</span>
<span class="cp">#define S3C2410_UCON_RXIRQMODE	  (1&lt;&lt;0)</span>
<span class="cp">#define S3C2410_UCON_RXFIFO_TOI	  (1&lt;&lt;7)</span>
<span class="cp">#define S3C2443_UCON_RXERR_IRQEN  (1&lt;&lt;6)</span>
<span class="cp">#define S3C2443_UCON_LOOPBACK	  (1&lt;&lt;5)</span>

<span class="cp">#define S3C2410_UCON_DEFAULT	  (S3C2410_UCON_TXILEVEL  | \</span>
<span class="cp">				   S3C2410_UCON_RXILEVEL  | \</span>
<span class="cp">				   S3C2410_UCON_TXIRQMODE | \</span>
<span class="cp">				   S3C2410_UCON_RXIRQMODE | \</span>
<span class="cp">				   S3C2410_UCON_RXFIFO_TOI)</span>

<span class="cp">#define S3C2410_UFCON_FIFOMODE	  (1&lt;&lt;0)</span>
<span class="cp">#define S3C2410_UFCON_TXTRIG0	  (0&lt;&lt;6)</span>
<span class="cp">#define S3C2410_UFCON_RXTRIG8	  (1&lt;&lt;4)</span>
<span class="cp">#define S3C2410_UFCON_RXTRIG12	  (2&lt;&lt;4)</span>

<span class="cm">/* S3C2440 FIFO trigger levels */</span>
<span class="cp">#define S3C2440_UFCON_RXTRIG1	  (0&lt;&lt;4)</span>
<span class="cp">#define S3C2440_UFCON_RXTRIG8	  (1&lt;&lt;4)</span>
<span class="cp">#define S3C2440_UFCON_RXTRIG16	  (2&lt;&lt;4)</span>
<span class="cp">#define S3C2440_UFCON_RXTRIG32	  (3&lt;&lt;4)</span>

<span class="cp">#define S3C2440_UFCON_TXTRIG0	  (0&lt;&lt;6)</span>
<span class="cp">#define S3C2440_UFCON_TXTRIG16	  (1&lt;&lt;6)</span>
<span class="cp">#define S3C2440_UFCON_TXTRIG32	  (2&lt;&lt;6)</span>
<span class="cp">#define S3C2440_UFCON_TXTRIG48	  (3&lt;&lt;6)</span>

<span class="cp">#define S3C2410_UFCON_RESETBOTH	  (3&lt;&lt;1)</span>
<span class="cp">#define S3C2410_UFCON_RESETTX	  (1&lt;&lt;2)</span>
<span class="cp">#define S3C2410_UFCON_RESETRX	  (1&lt;&lt;1)</span>

<span class="cp">#define S3C2410_UFCON_DEFAULT	  (S3C2410_UFCON_FIFOMODE | \</span>
<span class="cp">				   S3C2410_UFCON_TXTRIG0  | \</span>
<span class="cp">				   S3C2410_UFCON_RXTRIG8 )</span>

<span class="cp">#define	S3C2410_UMCOM_AFC	  (1&lt;&lt;4)</span>
<span class="cp">#define	S3C2410_UMCOM_RTS_LOW	  (1&lt;&lt;0)</span>

<span class="cp">#define S3C2412_UMCON_AFC_63	(0&lt;&lt;5)		</span><span class="cm">/* same as s3c2443 */</span><span class="cp"></span>
<span class="cp">#define S3C2412_UMCON_AFC_56	(1&lt;&lt;5)</span>
<span class="cp">#define S3C2412_UMCON_AFC_48	(2&lt;&lt;5)</span>
<span class="cp">#define S3C2412_UMCON_AFC_40	(3&lt;&lt;5)</span>
<span class="cp">#define S3C2412_UMCON_AFC_32	(4&lt;&lt;5)</span>
<span class="cp">#define S3C2412_UMCON_AFC_24	(5&lt;&lt;5)</span>
<span class="cp">#define S3C2412_UMCON_AFC_16	(6&lt;&lt;5)</span>
<span class="cp">#define S3C2412_UMCON_AFC_8	(7&lt;&lt;5)</span>

<span class="cp">#define S3C2410_UFSTAT_TXFULL	  (1&lt;&lt;9)</span>
<span class="cp">#define S3C2410_UFSTAT_RXFULL	  (1&lt;&lt;8)</span>
<span class="cp">#define S3C2410_UFSTAT_TXMASK	  (15&lt;&lt;4)</span>
<span class="cp">#define S3C2410_UFSTAT_TXSHIFT	  (4)</span>
<span class="cp">#define S3C2410_UFSTAT_RXMASK	  (15&lt;&lt;0)</span>
<span class="cp">#define S3C2410_UFSTAT_RXSHIFT	  (0)</span>

<span class="cm">/* UFSTAT S3C2443 same as S3C2440 */</span>
<span class="cp">#define S3C2440_UFSTAT_TXFULL	  (1&lt;&lt;14)</span>
<span class="cp">#define S3C2440_UFSTAT_RXFULL	  (1&lt;&lt;6)</span>
<span class="cp">#define S3C2440_UFSTAT_TXSHIFT	  (8)</span>
<span class="cp">#define S3C2440_UFSTAT_RXSHIFT	  (0)</span>
<span class="cp">#define S3C2440_UFSTAT_TXMASK	  (63&lt;&lt;8)</span>
<span class="cp">#define S3C2440_UFSTAT_RXMASK	  (63)</span>

<span class="cp">#define S3C2410_UTRSTAT_TXE	  (1&lt;&lt;2)</span>
<span class="cp">#define S3C2410_UTRSTAT_TXFE	  (1&lt;&lt;1)</span>
<span class="cp">#define S3C2410_UTRSTAT_RXDR	  (1&lt;&lt;0)</span>

<span class="cp">#define S3C2410_UERSTAT_OVERRUN	  (1&lt;&lt;0)</span>
<span class="cp">#define S3C2410_UERSTAT_FRAME	  (1&lt;&lt;2)</span>
<span class="cp">#define S3C2410_UERSTAT_BREAK	  (1&lt;&lt;3)</span>
<span class="cp">#define S3C2443_UERSTAT_PARITY	  (1&lt;&lt;1)</span>

<span class="cp">#define S3C2410_UERSTAT_ANY	  (S3C2410_UERSTAT_OVERRUN | \</span>
<span class="cp">				   S3C2410_UERSTAT_FRAME | \</span>
<span class="cp">				   S3C2410_UERSTAT_BREAK)</span>

<span class="cp">#define S3C2410_UMSTAT_CTS	  (1&lt;&lt;0)</span>
<span class="cp">#define S3C2410_UMSTAT_DeltaCTS	  (1&lt;&lt;2)</span>

<span class="cp">#define S3C2443_DIVSLOT		  (0x2C)</span>

<span class="cm">/* S3C64XX interrupt registers. */</span>
<span class="cp">#define S3C64XX_UINTP		0x30</span>
<span class="cp">#define S3C64XX_UINTSP		0x34</span>
<span class="cp">#define S3C64XX_UINTM		0x38</span>

<span class="cp">#define S3C64XX_UINTM_RXD	(0)</span>
<span class="cp">#define S3C64XX_UINTM_TXD	(2)</span>
<span class="cp">#define S3C64XX_UINTM_RXD_MSK	(1 &lt;&lt; S3C64XX_UINTM_RXD)</span>
<span class="cp">#define S3C64XX_UINTM_TXD_MSK	(1 &lt;&lt; S3C64XX_UINTM_TXD)</span>

<span class="cm">/* Following are specific to S5PV210 */</span>
<span class="cp">#define S5PV210_UCON_CLKMASK	(1&lt;&lt;10)</span>
<span class="cp">#define S5PV210_UCON_CLKSHIFT	(10)</span>
<span class="cp">#define S5PV210_UCON_PCLK	(0&lt;&lt;10)</span>
<span class="cp">#define S5PV210_UCON_UCLK	(1&lt;&lt;10)</span>

<span class="cp">#define S5PV210_UFCON_TXTRIG0	(0&lt;&lt;8)</span>
<span class="cp">#define S5PV210_UFCON_TXTRIG4	(1&lt;&lt;8)</span>
<span class="cp">#define S5PV210_UFCON_TXTRIG8	(2&lt;&lt;8)</span>
<span class="cp">#define S5PV210_UFCON_TXTRIG16	(3&lt;&lt;8)</span>
<span class="cp">#define S5PV210_UFCON_TXTRIG32	(4&lt;&lt;8)</span>
<span class="cp">#define S5PV210_UFCON_TXTRIG64	(5&lt;&lt;8)</span>
<span class="cp">#define S5PV210_UFCON_TXTRIG128 (6&lt;&lt;8)</span>
<span class="cp">#define S5PV210_UFCON_TXTRIG256 (7&lt;&lt;8)</span>

<span class="cp">#define S5PV210_UFCON_RXTRIG1	(0&lt;&lt;4)</span>
<span class="cp">#define S5PV210_UFCON_RXTRIG4	(1&lt;&lt;4)</span>
<span class="cp">#define S5PV210_UFCON_RXTRIG8	(2&lt;&lt;4)</span>
<span class="cp">#define S5PV210_UFCON_RXTRIG16	(3&lt;&lt;4)</span>
<span class="cp">#define S5PV210_UFCON_RXTRIG32	(4&lt;&lt;4)</span>
<span class="cp">#define S5PV210_UFCON_RXTRIG64	(5&lt;&lt;4)</span>
<span class="cp">#define S5PV210_UFCON_RXTRIG128	(6&lt;&lt;4)</span>
<span class="cp">#define S5PV210_UFCON_RXTRIG256	(7&lt;&lt;4)</span>

<span class="cp">#define S5PV210_UFSTAT_TXFULL	(1&lt;&lt;24)</span>
<span class="cp">#define S5PV210_UFSTAT_RXFULL	(1&lt;&lt;8)</span>
<span class="cp">#define S5PV210_UFSTAT_TXMASK	(255&lt;&lt;16)</span>
<span class="cp">#define S5PV210_UFSTAT_TXSHIFT	(16)</span>
<span class="cp">#define S5PV210_UFSTAT_RXMASK	(255&lt;&lt;0)</span>
<span class="cp">#define S5PV210_UFSTAT_RXSHIFT	(0)</span>

<span class="cp">#define S3C2410_UCON_CLKSEL0	(1 &lt;&lt; 0)</span>
<span class="cp">#define S3C2410_UCON_CLKSEL1	(1 &lt;&lt; 1)</span>
<span class="cp">#define S3C2410_UCON_CLKSEL2	(1 &lt;&lt; 2)</span>
<span class="cp">#define S3C2410_UCON_CLKSEL3	(1 &lt;&lt; 3)</span>

<span class="cm">/* Default values for s5pv210 UCON and UFCON uart registers */</span>
<span class="cp">#define S5PV210_UCON_DEFAULT	(S3C2410_UCON_TXILEVEL |	\</span>
<span class="cp">				 S3C2410_UCON_RXILEVEL |	\</span>
<span class="cp">				 S3C2410_UCON_TXIRQMODE |	\</span>
<span class="cp">				 S3C2410_UCON_RXIRQMODE |	\</span>
<span class="cp">				 S3C2410_UCON_RXFIFO_TOI |	\</span>
<span class="cp">				 S3C2443_UCON_RXERR_IRQEN)</span>

<span class="cp">#define S5PV210_UFCON_DEFAULT	(S3C2410_UFCON_FIFOMODE |	\</span>
<span class="cp">				 S5PV210_UFCON_TXTRIG4 |	\</span>
<span class="cp">				 S5PV210_UFCON_RXTRIG4)</span>

<span class="cp">#ifndef __ASSEMBLY__</span>

<span class="cm">/* configuration structure for per-machine configurations for the</span>
<span class="cm"> * serial port</span>
<span class="cm"> *</span>
<span class="cm"> * the pointer is setup by the machine specific initialisation from the</span>
<span class="cm"> * arch/arm/mach-s3c2410/ directory.</span>
<span class="cm">*/</span>

<span class="k">struct</span> <span class="n">s3c2410_uartcfg</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	   <span class="n">hwport</span><span class="p">;</span>	 <span class="cm">/* hardware port number */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	   <span class="n">unused</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	   <span class="n">flags</span><span class="p">;</span>
	<span class="n">upf_t</span>		   <span class="n">uart_flags</span><span class="p">;</span>	 <span class="cm">/* default uart flags */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	   <span class="n">clk_sel</span><span class="p">;</span>

	<span class="kt">unsigned</span> <span class="kt">int</span>	   <span class="n">has_fracval</span><span class="p">;</span>

	<span class="kt">unsigned</span> <span class="kt">long</span>	   <span class="n">ucon</span><span class="p">;</span>	 <span class="cm">/* value of ucon for port */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	   <span class="n">ulcon</span><span class="p">;</span>	 <span class="cm">/* value of ulcon for port */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	   <span class="n">ufcon</span><span class="p">;</span>	 <span class="cm">/* value of ufcon for port */</span>
<span class="p">};</span>

<span class="cm">/* s3c24xx_uart_devs</span>
<span class="cm"> *</span>
<span class="cm"> * this is exported from the core as we cannot use driver_register(),</span>
<span class="cm"> * or platform_add_device() before the console_initcall()</span>
<span class="cm">*/</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">s3c24xx_uart_devs</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>

<span class="cp">#endif </span><span class="cm">/* __ASSEMBLY__ */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* __ASM_ARM_REGS_SERIAL_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
