<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-clps711x › include › mach › hardware.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>hardware.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  arch/arm/mach-clps711x/include/mach/hardware.h</span>
<span class="cm"> *</span>
<span class="cm"> *  This file contains the hardware definitions of the Prospector P720T.</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2000 Deep Blue Solutions Ltd.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __MACH_HARDWARE_H</span>
<span class="cp">#define __MACH_HARDWARE_H</span>

<span class="cp">#include &lt;mach/clps711x.h&gt;</span>

<span class="cp">#define CLPS711X_VIRT_BASE	IOMEM(0xff000000)</span>

<span class="cp">#ifndef __ASSEMBLY__</span>
<span class="cp">#define clps_readb(off)		readb(CLPS711X_VIRT_BASE + (off))</span>
<span class="cp">#define clps_readw(off)		readw(CLPS711X_VIRT_BASE + (off))</span>
<span class="cp">#define clps_readl(off)		readl(CLPS711X_VIRT_BASE + (off))</span>
<span class="cp">#define clps_writeb(val,off)	writeb(val, CLPS711X_VIRT_BASE + (off))</span>
<span class="cp">#define clps_writew(val,off)	writew(val, CLPS711X_VIRT_BASE + (off))</span>
<span class="cp">#define clps_writel(val,off)	writel(val, CLPS711X_VIRT_BASE + (off))</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * The physical addresses that the external chip select signals map to is</span>
<span class="cm"> * dependent on the setting of the nMEDCHG signal on EP7211 and EP7212</span>
<span class="cm"> * processors.  CONFIG_EP72XX_BOOT_ROM is only available if these</span>
<span class="cm"> * processors are in use.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef CONFIG_EP72XX_ROM_BOOT</span>
<span class="cp">#define CS0_PHYS_BASE		(0x00000000)</span>
<span class="cp">#define CS1_PHYS_BASE		(0x10000000)</span>
<span class="cp">#define CS2_PHYS_BASE		(0x20000000)</span>
<span class="cp">#define CS3_PHYS_BASE		(0x30000000)</span>
<span class="cp">#define CS4_PHYS_BASE		(0x40000000)</span>
<span class="cp">#define CS5_PHYS_BASE		(0x50000000)</span>
<span class="cp">#define CS6_PHYS_BASE		(0x60000000)</span>
<span class="cp">#define CS7_PHYS_BASE		(0x70000000)</span>
<span class="cp">#else</span>
<span class="cp">#define CS0_PHYS_BASE		(0x70000000)</span>
<span class="cp">#define CS1_PHYS_BASE		(0x60000000)</span>
<span class="cp">#define CS2_PHYS_BASE		(0x50000000)</span>
<span class="cp">#define CS3_PHYS_BASE		(0x40000000)</span>
<span class="cp">#define CS4_PHYS_BASE		(0x30000000)</span>
<span class="cp">#define CS5_PHYS_BASE		(0x20000000)</span>
<span class="cp">#define CS6_PHYS_BASE		(0x10000000)</span>
<span class="cp">#define CS7_PHYS_BASE		(0x00000000)</span>
<span class="cp">#endif</span>

<span class="cp">#define SYSPLD_VIRT_BASE	0xfe000000</span>
<span class="cp">#define SYSPLD_BASE		SYSPLD_VIRT_BASE</span>

<span class="cp">#if defined (CONFIG_ARCH_CDB89712)</span>

<span class="cp">#define ETHER_START      0x20000000</span>
<span class="cp">#define ETHER_SIZE       0x1000</span>
<span class="cp">#define ETHER_BASE       0xfe000000</span>

<span class="cp">#endif</span>


<span class="cp">#if defined (CONFIG_ARCH_EDB7211)</span>

<span class="cm">/*</span>
<span class="cm"> * The extra 8 lines of the keyboard matrix are wired to chip select 3 (nCS3) </span>
<span class="cm"> * and repeat across it. This is the mapping for it.</span>
<span class="cm"> *</span>
<span class="cm"> * In jumpered boot mode, nCS3 is mapped to 0x4000000, not 0x3000000. This </span>
<span class="cm"> * was cause for much consternation and headscratching. This should probably</span>
<span class="cm"> * be made a compile/run time kernel option.</span>
<span class="cm"> */</span>
<span class="cp">#define EP7211_PHYS_EXTKBD		CS3_PHYS_BASE	</span><span class="cm">/* physical */</span><span class="cp"></span>

<span class="cp">#define EP7211_VIRT_EXTKBD		(0xfd000000)	</span><span class="cm">/* virtual */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * The CS8900A ethernet chip has its I/O registers wired to chip select 2 </span>
<span class="cm"> * (nCS2). This is the mapping for it.</span>
<span class="cm"> *</span>
<span class="cm"> * In jumpered boot mode, nCS2 is mapped to 0x5000000, not 0x2000000. This </span>
<span class="cm"> * was cause for much consternation and headscratching. This should probably</span>
<span class="cm"> * be made a compile/run time kernel option.</span>
<span class="cm"> */</span>
<span class="cp">#define EP7211_PHYS_CS8900A		CS2_PHYS_BASE	</span><span class="cm">/* physical */</span><span class="cp"></span>

<span class="cp">#define EP7211_VIRT_CS8900A		(0xfc000000)	</span><span class="cm">/* virtual */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * The two flash banks are wired to chip selects 0 and 1. This is the mapping</span>
<span class="cm"> * for them.</span>
<span class="cm"> *</span>
<span class="cm"> * nCS0 and nCS1 are at 0x70000000 and 0x60000000, respectively, when running</span>
<span class="cm"> * in jumpered boot mode.</span>
<span class="cm"> */</span>
<span class="cp">#define EP7211_PHYS_FLASH1		CS0_PHYS_BASE	</span><span class="cm">/* physical */</span><span class="cp"></span>
<span class="cp">#define EP7211_PHYS_FLASH2		CS1_PHYS_BASE	</span><span class="cm">/* physical */</span><span class="cp"></span>

<span class="cp">#define EP7211_VIRT_FLASH1		(0xfa000000)	</span><span class="cm">/* virtual */</span><span class="cp"></span>
<span class="cp">#define EP7211_VIRT_FLASH2		(0xfb000000)	</span><span class="cm">/* virtual */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* CONFIG_ARCH_EDB7211 */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * Relevant bits in port D, which controls power to the various parts of</span>
<span class="cm"> * the LCD on the EDB7211.</span>
<span class="cm"> */</span>
<span class="cp">#define EDB_PD1_LCD_DC_DC_EN	(1&lt;&lt;1)</span>
<span class="cp">#define EDB_PD2_LCDEN		(1&lt;&lt;2)</span>
<span class="cp">#define EDB_PD3_LCDBL		(1&lt;&lt;3)</span>


<span class="cp">#if defined (CONFIG_ARCH_CEIVA)</span>

<span class="cm">/*</span>
<span class="cm"> * The two flash banks are wired to chip selects 0 and 1. This is the mapping</span>
<span class="cm"> * for them.</span>
<span class="cm"> *</span>
<span class="cm"> * nCS0 and nCS1 are at 0x70000000 and 0x60000000, respectively, when running</span>
<span class="cm"> * in jumpered boot mode.</span>
<span class="cm"> */</span>
<span class="cp">#define CEIVA_PHYS_FLASH1	CS0_PHYS_BASE	</span><span class="cm">/* physical */</span><span class="cp"></span>
<span class="cp">#define CEIVA_PHYS_FLASH2	CS1_PHYS_BASE	</span><span class="cm">/* physical */</span><span class="cp"></span>

<span class="cp">#define CEIVA_VIRT_FLASH1	(0xfa000000)	</span><span class="cm">/* virtual */</span><span class="cp"></span>
<span class="cp">#define CEIVA_VIRT_FLASH2	(0xfb000000)	</span><span class="cm">/* virtual */</span><span class="cp"></span>

<span class="cp">#define CEIVA_FLASH_SIZE        0x100000</span>
<span class="cp">#define CEIVA_FLASH_WIDTH       2</span>

<span class="cm">/*</span>
<span class="cm"> * SED1355 LCD controller</span>
<span class="cm"> */</span>
<span class="cp">#define CEIVA_PHYS_SED1355	CS2_PHYS_BASE</span>
<span class="cp">#define CEIVA_VIRT_SED1355	(0xfc000000)</span>

<span class="cm">/*</span>
<span class="cm"> * Relevant bits in port D, which controls power to the various parts of</span>
<span class="cm"> * the LCD on the Ceiva Photo Max, and reset to the LCD controller.</span>
<span class="cm"> */</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>Reset line to SED1355 (must be high to operate)</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CEIVA_PD1_LCDRST	(1&lt;&lt;1)</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>LCD panel enable (set to one, to enable LCD)</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CEIVA_PD4_LCDEN		(1&lt;&lt;4)</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>Backlight (set to one, to turn on backlight</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CEIVA_PD5_LCDBL		(1&lt;&lt;5)</span>

<span class="cm">/*</span>
<span class="cm"> * Relevant bits in port B, which report the status of the buttons.</span>
<span class="cm"> */</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>White button</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CEIVA_PB4_WHT_BTN	(1&lt;&lt;4)</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>Black button</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CEIVA_PB0_BLK_BTN	(1&lt;&lt;0)</span>
<span class="cp">#endif </span><span class="c1">// #if defined (CONFIG_ARCH_CEIVA)</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
