<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › blackfin › include › asm › bfin6xx_spi.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>bfin6xx_spi.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Analog Devices SPI3 controller driver</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2011 Analog Devices Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _SPI_CHANNEL_H_</span>
<span class="cp">#define _SPI_CHANNEL_H_</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/* SPI_CONTROL */</span>
<span class="cp">#define SPI_CTL_EN                  0x00000001    </span><span class="cm">/* Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_MSTR                0x00000002    </span><span class="cm">/* Master/Slave */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_PSSE                0x00000004    </span><span class="cm">/* controls modf error in master mode */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_ODM                 0x00000008    </span><span class="cm">/* Open Drain Mode */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_CPHA                0x00000010    </span><span class="cm">/* Clock Phase */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_CPOL                0x00000020    </span><span class="cm">/* Clock Polarity */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_ASSEL               0x00000040    </span><span class="cm">/* Slave Select Pin Control */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_SELST               0x00000080    </span><span class="cm">/* Slave Select Polarity in-between transfers */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_EMISO               0x00000100    </span><span class="cm">/* Enable MISO */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_SIZE                0x00000600    </span><span class="cm">/* Word Transfer Size */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_SIZE08              0x00000000    </span><span class="cm">/* SIZE: 8 bits */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_SIZE16              0x00000200    </span><span class="cm">/* SIZE: 16 bits */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_SIZE32              0x00000400    </span><span class="cm">/* SIZE: 32 bits */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_LSBF                0x00001000    </span><span class="cm">/* LSB First */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_FCEN                0x00002000    </span><span class="cm">/* Flow-Control Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_FCCH                0x00004000    </span><span class="cm">/* Flow-Control Channel Selection */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_FCPL                0x00008000    </span><span class="cm">/* Flow-Control Polarity */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_FCWM                0x00030000    </span><span class="cm">/* Flow-Control Water-Mark */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_FIFO0               0x00000000    </span><span class="cm">/* FCWM: TFIFO empty or RFIFO Full */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_FIFO1               0x00010000    </span><span class="cm">/* FCWM: TFIFO 75% or more empty or RFIFO 75% or more full */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_FIFO2               0x00020000    </span><span class="cm">/* FCWM: TFIFO 50% or more empty or RFIFO 50% or more full */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_FMODE               0x00040000    </span><span class="cm">/* Fast-mode Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_MIOM                0x00300000    </span><span class="cm">/* Multiple I/O Mode */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_MIO_DIS             0x00000000    </span><span class="cm">/* MIOM: Disable */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_MIO_DUAL            0x00100000    </span><span class="cm">/* MIOM: Enable DIOM (Dual I/O Mode) */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_MIO_QUAD            0x00200000    </span><span class="cm">/* MIOM: Enable QUAD (Quad SPI Mode) */</span><span class="cp"></span>
<span class="cp">#define SPI_CTL_SOSI                0x00400000    </span><span class="cm">/* Start on MOSI */</span><span class="cp"></span>
<span class="cm">/* SPI_RX_CONTROL */</span>
<span class="cp">#define SPI_RXCTL_REN               0x00000001    </span><span class="cm">/* Receive Channel Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RTI               0x00000004    </span><span class="cm">/* Receive Transfer Initiate */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RWCEN             0x00000008    </span><span class="cm">/* Receive Word Counter Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RDR               0x00000070    </span><span class="cm">/* Receive Data Request */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RDR_DIS           0x00000000    </span><span class="cm">/* RDR: Disabled */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RDR_NE            0x00000010    </span><span class="cm">/* RDR: RFIFO not empty */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RDR_25            0x00000020    </span><span class="cm">/* RDR: RFIFO 25% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RDR_50            0x00000030    </span><span class="cm">/* RDR: RFIFO 50% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RDR_75            0x00000040    </span><span class="cm">/* RDR: RFIFO 75% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RDR_FULL          0x00000050    </span><span class="cm">/* RDR: RFIFO full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RDO               0x00000100    </span><span class="cm">/* Receive Data Over-Run */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RRWM              0x00003000    </span><span class="cm">/* FIFO Regular Water-Mark */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RWM_0             0x00000000    </span><span class="cm">/* RRWM: RFIFO Empty */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RWM_25            0x00001000    </span><span class="cm">/* RRWM: RFIFO 25% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RWM_50            0x00002000    </span><span class="cm">/* RRWM: RFIFO 50% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RWM_75            0x00003000    </span><span class="cm">/* RRWM: RFIFO 75% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_RUWM              0x00070000    </span><span class="cm">/* FIFO Urgent Water-Mark */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_UWM_DIS           0x00000000    </span><span class="cm">/* RUWM: Disabled */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_UWM_25            0x00010000    </span><span class="cm">/* RUWM: RFIFO 25% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_UWM_50            0x00020000    </span><span class="cm">/* RUWM: RFIFO 50% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_UWM_75            0x00030000    </span><span class="cm">/* RUWM: RFIFO 75% full */</span><span class="cp"></span>
<span class="cp">#define SPI_RXCTL_UWM_FULL          0x00040000    </span><span class="cm">/* RUWM: RFIFO full */</span><span class="cp"></span>
<span class="cm">/* SPI_TX_CONTROL */</span>
<span class="cp">#define SPI_TXCTL_TEN               0x00000001    </span><span class="cm">/* Transmit Channel Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TTI               0x00000004    </span><span class="cm">/* Transmit Transfer Initiate */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TWCEN             0x00000008    </span><span class="cm">/* Transmit Word Counter Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TDR               0x00000070    </span><span class="cm">/* Transmit Data Request */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TDR_DIS           0x00000000    </span><span class="cm">/* TDR: Disabled */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TDR_NF            0x00000010    </span><span class="cm">/* TDR: TFIFO not full */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TDR_25            0x00000020    </span><span class="cm">/* TDR: TFIFO 25% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TDR_50            0x00000030    </span><span class="cm">/* TDR: TFIFO 50% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TDR_75            0x00000040    </span><span class="cm">/* TDR: TFIFO 75% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TDR_EMPTY         0x00000050    </span><span class="cm">/* TDR: TFIFO empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TDU               0x00000100    </span><span class="cm">/* Transmit Data Under-Run */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TRWM              0x00003000    </span><span class="cm">/* FIFO Regular Water-Mark */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_RWM_FULL          0x00000000    </span><span class="cm">/* TRWM: TFIFO full */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_RWM_25            0x00001000    </span><span class="cm">/* TRWM: TFIFO 25% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_RWM_50            0x00002000    </span><span class="cm">/* TRWM: TFIFO 50% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_RWM_75            0x00003000    </span><span class="cm">/* TRWM: TFIFO 75% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_TUWM              0x00070000    </span><span class="cm">/* FIFO Urgent Water-Mark */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_UWM_DIS           0x00000000    </span><span class="cm">/* TUWM: Disabled */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_UWM_25            0x00010000    </span><span class="cm">/* TUWM: TFIFO 25% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_UWM_50            0x00020000    </span><span class="cm">/* TUWM: TFIFO 50% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_UWM_75            0x00030000    </span><span class="cm">/* TUWM: TFIFO 75% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_TXCTL_UWM_EMPTY         0x00040000    </span><span class="cm">/* TUWM: TFIFO empty */</span><span class="cp"></span>
<span class="cm">/* SPI_CLOCK */</span>
<span class="cp">#define SPI_CLK_BAUD                0x0000FFFF    </span><span class="cm">/* Baud Rate */</span><span class="cp"></span>
<span class="cm">/* SPI_DELAY */</span>
<span class="cp">#define SPI_DLY_STOP                0x000000FF    </span><span class="cm">/* Transfer delay time in multiples of SCK period */</span><span class="cp"></span>
<span class="cp">#define SPI_DLY_LEADX               0x00000100    </span><span class="cm">/* Extended (1 SCK) LEAD Control */</span><span class="cp"></span>
<span class="cp">#define SPI_DLY_LAGX                0x00000200    </span><span class="cm">/* Extended (1 SCK) LAG control */</span><span class="cp"></span>
<span class="cm">/* SPI_SSEL */</span>
<span class="cp">#define SPI_SLVSEL_SSE1             0x00000002    </span><span class="cm">/* SPISSEL1 Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSE2             0x00000004    </span><span class="cm">/* SPISSEL2 Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSE3             0x00000008    </span><span class="cm">/* SPISSEL3 Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSE4             0x00000010    </span><span class="cm">/* SPISSEL4 Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSE5             0x00000020    </span><span class="cm">/* SPISSEL5 Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSE6             0x00000040    </span><span class="cm">/* SPISSEL6 Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSE7             0x00000080    </span><span class="cm">/* SPISSEL7 Enable */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSEL1            0x00000200    </span><span class="cm">/* SPISSEL1 Value */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSEL2            0x00000400    </span><span class="cm">/* SPISSEL2 Value */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSEL3            0x00000800    </span><span class="cm">/* SPISSEL3 Value */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSEL4            0x00001000    </span><span class="cm">/* SPISSEL4 Value */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSEL5            0x00002000    </span><span class="cm">/* SPISSEL5 Value */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSEL6            0x00004000    </span><span class="cm">/* SPISSEL6 Value */</span><span class="cp"></span>
<span class="cp">#define SPI_SLVSEL_SSEL7            0x00008000    </span><span class="cm">/* SPISSEL7 Value */</span><span class="cp"></span>
<span class="cm">/* SPI_RWC */</span>
<span class="cp">#define SPI_RWC_VALUE               0x0000FFFF    </span><span class="cm">/* Received Word-Count */</span><span class="cp"></span>
<span class="cm">/* SPI_RWCR */</span>
<span class="cp">#define SPI_RWCR_VALUE              0x0000FFFF    </span><span class="cm">/* Received Word-Count Reload */</span><span class="cp"></span>
<span class="cm">/* SPI_TWC */</span>
<span class="cp">#define SPI_TWC_VALUE               0x0000FFFF    </span><span class="cm">/* Transmitted Word-Count */</span><span class="cp"></span>
<span class="cm">/* SPI_TWCR */</span>
<span class="cp">#define SPI_TWCR_VALUE              0x0000FFFF    </span><span class="cm">/* Transmitted Word-Count Reload */</span><span class="cp"></span>
<span class="cm">/* SPI_IMASK */</span>
<span class="cp">#define SPI_IMSK_RUWM               0x00000002    </span><span class="cm">/* Receive Urgent Water-Mark Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_TUWM               0x00000004    </span><span class="cm">/* Transmit Urgent Water-Mark Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_ROM                0x00000010    </span><span class="cm">/* Receive Over-Run Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_TUM                0x00000020    </span><span class="cm">/* Transmit Under-Run Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_TCM                0x00000040    </span><span class="cm">/* Transmit Collision Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_MFM                0x00000080    </span><span class="cm">/* Mode Fault Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_RSM                0x00000100    </span><span class="cm">/* Receive Start Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_TSM                0x00000200    </span><span class="cm">/* Transmit Start Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_RFM                0x00000400    </span><span class="cm">/* Receive Finish Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_TFM                0x00000800    </span><span class="cm">/* Transmit Finish Interrupt Mask */</span><span class="cp"></span>
<span class="cm">/* SPI_IMASKCL */</span>
<span class="cp">#define SPI_IMSK_CLR_RUW            0x00000002    </span><span class="cm">/* Receive Urgent Water-Mark Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_TUWM           0x00000004    </span><span class="cm">/* Transmit Urgent Water-Mark Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_ROM            0x00000010    </span><span class="cm">/* Receive Over-Run Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_TUM            0x00000020    </span><span class="cm">/* Transmit Under-Run Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_TCM            0x00000040    </span><span class="cm">/* Transmit Collision Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_MFM            0x00000080    </span><span class="cm">/* Mode Fault Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_RSM            0x00000100    </span><span class="cm">/* Receive Start Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_TSM            0x00000200    </span><span class="cm">/* Transmit Start Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_RFM            0x00000400    </span><span class="cm">/* Receive Finish Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_CLR_TFM            0x00000800    </span><span class="cm">/* Transmit Finish Interrupt Mask */</span><span class="cp"></span>
<span class="cm">/* SPI_IMASKST */</span>
<span class="cp">#define SPI_IMSK_SET_RUWM           0x00000002    </span><span class="cm">/* Receive Urgent Water-Mark Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_TUWM           0x00000004    </span><span class="cm">/* Transmit Urgent Water-Mark Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_ROM            0x00000010    </span><span class="cm">/* Receive Over-Run Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_TUM            0x00000020    </span><span class="cm">/* Transmit Under-Run Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_TCM            0x00000040    </span><span class="cm">/* Transmit Collision Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_MFM            0x00000080    </span><span class="cm">/* Mode Fault Error Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_RSM            0x00000100    </span><span class="cm">/* Receive Start Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_TSM            0x00000200    </span><span class="cm">/* Transmit Start Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_RFM            0x00000400    </span><span class="cm">/* Receive Finish Interrupt Mask */</span><span class="cp"></span>
<span class="cp">#define SPI_IMSK_SET_TFM            0x00000800    </span><span class="cm">/* Transmit Finish Interrupt Mask */</span><span class="cp"></span>
<span class="cm">/* SPI_STATUS */</span>
<span class="cp">#define SPI_STAT_SPIF               0x00000001    </span><span class="cm">/* SPI Finished */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RUWM               0x00000002    </span><span class="cm">/* Receive Urgent Water-Mark Breached */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TUWM               0x00000004    </span><span class="cm">/* Transmit Urgent Water-Mark Breached */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_ROE                0x00000010    </span><span class="cm">/* Receive Over-Run Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TUE                0x00000020    </span><span class="cm">/* Transmit Under-Run Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TCE                0x00000040    </span><span class="cm">/* Transmit Collision Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_MODF               0x00000080    </span><span class="cm">/* Mode Fault Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RS                 0x00000100    </span><span class="cm">/* Receive Start Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TS                 0x00000200    </span><span class="cm">/* Transmit Start Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RF                 0x00000400    </span><span class="cm">/* Receive Finish Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TF                 0x00000800    </span><span class="cm">/* Transmit Finish Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RFS                0x00007000    </span><span class="cm">/* SPI_RFIFO status */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RFIFO_EMPTY        0x00000000    </span><span class="cm">/* RFS: RFIFO Empty */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RFIFO_25           0x00001000    </span><span class="cm">/* RFS: RFIFO 25% Full */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RFIFO_50           0x00002000    </span><span class="cm">/* RFS: RFIFO 50% Full */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RFIFO_75           0x00003000    </span><span class="cm">/* RFS: RFIFO 75% Full */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RFIFO_FULL         0x00004000    </span><span class="cm">/* RFS: RFIFO Full */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TFS                0x00070000    </span><span class="cm">/* SPI_TFIFO status */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TFIFO_FULL         0x00000000    </span><span class="cm">/* TFS: TFIFO full */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TFIFO_25           0x00010000    </span><span class="cm">/* TFS: TFIFO 25% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TFIFO_50           0x00020000    </span><span class="cm">/* TFS: TFIFO 50% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TFIFO_75           0x00030000    </span><span class="cm">/* TFS: TFIFO 75% empty */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TFIFO_EMPTY        0x00040000    </span><span class="cm">/* TFS: TFIFO empty */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_FCS                0x00100000    </span><span class="cm">/* Flow-Control Stall Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_RFE                0x00400000    </span><span class="cm">/* SPI_RFIFO Empty */</span><span class="cp"></span>
<span class="cp">#define SPI_STAT_TFF                0x00800000    </span><span class="cm">/* SPI_TFIFO Full */</span><span class="cp"></span>
<span class="cm">/* SPI_ILAT */</span>
<span class="cp">#define SPI_ILAT_RUWMI              0x00000002    </span><span class="cm">/* Receive Urgent Water Mark Interrupt */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_TUWMI              0x00000004    </span><span class="cm">/* Transmit Urgent Water Mark Interrupt */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_ROI                0x00000010    </span><span class="cm">/* Receive Over-Run Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_TUI                0x00000020    </span><span class="cm">/* Transmit Under-Run Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_TCI                0x00000040    </span><span class="cm">/* Transmit Collision Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_MFI                0x00000080    </span><span class="cm">/* Mode Fault Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_RSI                0x00000100    </span><span class="cm">/* Receive Start Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_TSI                0x00000200    </span><span class="cm">/* Transmit Start Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_RFI                0x00000400    </span><span class="cm">/* Receive Finish Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_TFI                0x00000800    </span><span class="cm">/* Transmit Finish Indication */</span><span class="cp"></span>
<span class="cm">/* SPI_ILATCL */</span>
<span class="cp">#define SPI_ILAT_CLR_RUWMI          0x00000002    </span><span class="cm">/* Receive Urgent Water Mark Interrupt */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_TUWMI          0x00000004    </span><span class="cm">/* Transmit Urgent Water Mark Interrupt */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_ROI            0x00000010    </span><span class="cm">/* Receive Over-Run Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_TUI            0x00000020    </span><span class="cm">/* Transmit Under-Run Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_TCI            0x00000040    </span><span class="cm">/* Transmit Collision Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_MFI            0x00000080    </span><span class="cm">/* Mode Fault Error Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_RSI            0x00000100    </span><span class="cm">/* Receive Start Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_TSI            0x00000200    </span><span class="cm">/* Transmit Start Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_RFI            0x00000400    </span><span class="cm">/* Receive Finish Indication */</span><span class="cp"></span>
<span class="cp">#define SPI_ILAT_CLR_TFI            0x00000800    </span><span class="cm">/* Transmit Finish Indication */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * bfin spi3 registers layout</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfin_spi_regs</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">revid</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">clock</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">delay</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ssel</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rwc</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rwcr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">twc</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">twcr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">emask</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">emaskcl</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">emaskst</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">status</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">elat</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">elatcl</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfifo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved3</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tfifo</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define MAX_CTRL_CS          8  </span><span class="cm">/* cs in spi controller */</span><span class="cp"></span>

<span class="cm">/* device.platform_data for SSP controller devices */</span>
<span class="k">struct</span> <span class="n">bfin6xx_spi_master</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">num_chipselect</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">pin_req</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* spi_board_info.controller_data for SPI slave devices,</span>
<span class="cm"> * copied to spi_device.platform_data ... mostly for dma tuning</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfin6xx_spi_chip</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">control</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">cs_chg_udelay</span><span class="p">;</span> <span class="cm">/* Some devices require 16-bit delays */</span>
	<span class="n">u32</span> <span class="n">tx_dummy_val</span><span class="p">;</span> <span class="cm">/* tx value for rx only transfer */</span>
	<span class="n">bool</span> <span class="n">enable_dma</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* _SPI_CHANNEL_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
