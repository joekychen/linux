<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › blackfin › include › asm › bfin_ppi.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>bfin_ppi.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * bfin_ppi.h - interface to Blackfin PPIs</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2005-2010 Analog Devices Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Licensed under the GPL-2 or later.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ASM_BFIN_PPI_H__</span>
<span class="cp">#define __ASM_BFIN_PPI_H__</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;asm/blackfin.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * All Blackfin system MMRs are padded to 32bits even if the register</span>
<span class="cm"> * itself is only 16bits.  So use a helper macro to streamline this.</span>
<span class="cm"> */</span>
<span class="cp">#define __BFP(m) u16 m; u16 __pad_##m</span>

<span class="cm">/*</span>
<span class="cm"> * bfin ppi registers layout</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfin_ppi_regs</span> <span class="p">{</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">control</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">count</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">delay</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">frame</span><span class="p">);</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * bfin eppi registers layout</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfin_eppi_regs</span> <span class="p">{</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">hcount</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">hdelay</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">vcount</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">vdelay</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">frame</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
	<span class="n">__BFP</span><span class="p">(</span><span class="n">clkdiv</span><span class="p">);</span>
	<span class="n">u32</span> <span class="n">control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs1w_hbl</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs1p_avpl</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs2w_lvb</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs2p_lavf</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">clip</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * bfin eppi3 registers layout</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfin_eppi3_regs</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">stat</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">hcnt</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">hdly</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">vcnt</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">vdly</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">frame</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">line</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">clkdiv</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ctl</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs1_wlhb</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs1_paspl</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs2_wlvb</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs2_palpf</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">imsk</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">oddclip</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">evenclip</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs1_dly</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fs2_dly</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ctl2</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#undef __BFP</span>

<span class="cp">#ifdef EPPI0_CTL2</span>
<span class="cp">#define EPPI_STAT_CFIFOERR              0x00000001    </span><span class="cm">/* Chroma FIFO Error */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_YFIFOERR              0x00000002    </span><span class="cm">/* Luma FIFO Error */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_LTERROVR              0x00000004    </span><span class="cm">/* Line Track Overflow */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_LTERRUNDR             0x00000008    </span><span class="cm">/* Line Track Underflow */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_FTERROVR              0x00000010    </span><span class="cm">/* Frame Track Overflow */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_FTERRUNDR             0x00000020    </span><span class="cm">/* Frame Track Underflow */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_ERRNCOR               0x00000040    </span><span class="cm">/* Preamble Error Not Corrected */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_PXPERR                0x00000080    </span><span class="cm">/* PxP Ready Error */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_ERRDET                0x00004000    </span><span class="cm">/* Preamble Error Detected */</span><span class="cp"></span>
<span class="cp">#define EPPI_STAT_FLD                   0x00008000    </span><span class="cm">/* Current Field Received by EPPI */</span><span class="cp"></span>

<span class="cp">#define EPPI_HCNT_VALUE                 0x0000FFFF    </span><span class="cm">/* Holds the number of samples to read in or write out per line, after PPIx_HDLY number of cycles have expired since the last assertion of PPIx_FS1 */</span><span class="cp"></span>

<span class="cp">#define EPPI_HDLY_VALUE                 0x0000FFFF    </span><span class="cm">/* Number of PPIx_CLK cycles to delay after assertion of PPIx_FS1 before starting to read or write data */</span><span class="cp"></span>

<span class="cp">#define EPPI_VCNT_VALUE                 0x0000FFFF    </span><span class="cm">/* Holds the number of lines to read in or write out, after PPIx_VDLY number of lines from the start of frame */</span><span class="cp"></span>

<span class="cp">#define EPPI_VDLY_VALUE                 0x0000FFFF    </span><span class="cm">/* Number of lines to wait after the start of a new frame before starting to read/transmit data */</span><span class="cp"></span>

<span class="cp">#define EPPI_FRAME_VALUE                0x0000FFFF    </span><span class="cm">/* Holds the number of lines expected per frame of data */</span><span class="cp"></span>

<span class="cp">#define EPPI_LINE_VALUE                 0x0000FFFF    </span><span class="cm">/* Holds the number of samples expected per line */</span><span class="cp"></span>

<span class="cp">#define EPPI_CLKDIV_VALUE               0x0000FFFF    </span><span class="cm">/* Internal clock divider */</span><span class="cp"></span>

<span class="cp">#define EPPI_CTL_EN                     0x00000001    </span><span class="cm">/* PPI Enable */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DIR                    0x00000002    </span><span class="cm">/* PPI Direction */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_XFRTYPE                0x0000000C    </span><span class="cm">/* PPI Operating Mode */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_ACTIVE656              0x00000000    </span><span class="cm">/* XFRTYPE: ITU656 Active Video Only Mode */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_ENTIRE656              0x00000004    </span><span class="cm">/* XFRTYPE: ITU656 Entire Field Mode */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_VERT656                0x00000008    </span><span class="cm">/* XFRTYPE: ITU656 Vertical Blanking Only Mode */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_NON656                 0x0000000C    </span><span class="cm">/* XFRTYPE: Non-ITU656 Mode (GP Mode) */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_FSCFG                  0x00000030    </span><span class="cm">/* Frame Sync Configuration */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SYNC0                  0x00000000    </span><span class="cm">/* FSCFG: Sync Mode 0 */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SYNC1                  0x00000010    </span><span class="cm">/* FSCFG: Sync Mode 1 */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SYNC2                  0x00000020    </span><span class="cm">/* FSCFG: Sync Mode 2 */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SYNC3                  0x00000030    </span><span class="cm">/* FSCFG: Sync Mode 3 */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_FLDSEL                 0x00000040    </span><span class="cm">/* Field Select/Trigger */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_ITUTYPE                0x00000080    </span><span class="cm">/* ITU Interlace or Progressive */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_BLANKGEN               0x00000100    </span><span class="cm">/* ITU Output Mode with Internal Blanking Generation */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_ICLKGEN                0x00000200    </span><span class="cm">/* Internal Clock Generation */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_IFSGEN                 0x00000400    </span><span class="cm">/* Internal Frame Sync Generation */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SIGNEXT                0x00000800    </span><span class="cm">/* Sign Extension */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_POLC                   0x00003000    </span><span class="cm">/* Frame Sync and Data Driving and Sampling Edges */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_POLC0                  0x00000000    </span><span class="cm">/* POLC: Clock/Sync polarity mode 0 */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_POLC1                  0x00001000    </span><span class="cm">/* POLC: Clock/Sync polarity mode 1 */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_POLC2                  0x00002000    </span><span class="cm">/* POLC: Clock/Sync polarity mode 2 */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_POLC3                  0x00003000    </span><span class="cm">/* POLC: Clock/Sync polarity mode 3 */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_POLS                   0x0000C000    </span><span class="cm">/* Frame Sync Polarity */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_FS1HI_FS2HI            0x00000000    </span><span class="cm">/* POLS: FS1 and FS2 are active high */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_FS1LO_FS2HI            0x00004000    </span><span class="cm">/* POLS: FS1 is active low. FS2 is active high */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_FS1HI_FS2LO            0x00008000    </span><span class="cm">/* POLS: FS1 is active high. FS2 is active low */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_FS1LO_FS2LO            0x0000C000    </span><span class="cm">/* POLS: FS1 and FS2 are active low */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN                   0x00070000    </span><span class="cm">/* Data Length */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN08                 0x00000000    </span><span class="cm">/* DLEN: 8 bits */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN10                 0x00010000    </span><span class="cm">/* DLEN: 10 bits */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN12                 0x00020000    </span><span class="cm">/* DLEN: 12 bits */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN14                 0x00030000    </span><span class="cm">/* DLEN: 14 bits */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN16                 0x00040000    </span><span class="cm">/* DLEN: 16 bits */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN18                 0x00050000    </span><span class="cm">/* DLEN: 18 bits */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN20                 0x00060000    </span><span class="cm">/* DLEN: 20 bits */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DLEN24                 0x00070000    </span><span class="cm">/* DLEN: 24 bits */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DMIRR                  0x00080000    </span><span class="cm">/* Data Mirroring */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SKIPEN                 0x00100000    </span><span class="cm">/* Skip Enable */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SKIPEO                 0x00200000    </span><span class="cm">/* Skip Even or Odd */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_PACKEN                 0x00400000    </span><span class="cm">/* Pack/Unpack Enable */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SWAPEN                 0x00800000    </span><span class="cm">/* Swap Enable */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SPLTEO                 0x01000000    </span><span class="cm">/* Split Even and Odd Data Samples */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SUBSPLTODD             0x02000000    </span><span class="cm">/* Sub-Split Odd Samples */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_SPLTWRD                0x04000000    </span><span class="cm">/* Split Word */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_RGBFMTEN               0x08000000    </span><span class="cm">/* RGB Formatting Enable */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DMACFG                 0x10000000    </span><span class="cm">/* One or Two DMA Channels Mode */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_DMAFINEN               0x20000000    </span><span class="cm">/* DMA Finish Enable */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_MUXSEL                 0x40000000    </span><span class="cm">/* MUX Select */</span><span class="cp"></span>
<span class="cp">#define EPPI_CTL_CLKGATEN               0x80000000    </span><span class="cm">/* Clock Gating Enable */</span><span class="cp"></span>

<span class="cp">#define EPPI_FS2_WLVB_F2VBAD            0xFF000000    </span><span class="cm">/* In GP transmit mode with BLANKGEN = 1, contains number of lines of vertical blanking after field 2 */</span><span class="cp"></span>
<span class="cp">#define EPPI_FS2_WLVB_F2VBBD            0x00FF0000    </span><span class="cm">/* In GP transmit mode with BLANKGEN = 1, contains number of lines of vertical blanking before field 2 */</span><span class="cp"></span>
<span class="cp">#define EPPI_FS2_WLVB_F1VBAD            0x0000FF00    </span><span class="cm">/* In GP transmit mode with, BLANKGEN = 1, contains number of lines of vertical blanking after field 1 */</span><span class="cp"></span>
<span class="cp">#define EPPI_FS2_WLVB_F1VBBD            0x000000FF    </span><span class="cm">/* In GP 2, or 3 FS modes used to generate PPIx_FS2 width (32-bit). In GP Transmit mode, with BLANKGEN=1, contains the number of lines of Vertical blanking before field 1. */</span><span class="cp"></span>

<span class="cp">#define EPPI_FS2_PALPF_F2ACT            0xFFFF0000    </span><span class="cm">/* Number of lines of Active Data in Field 2 */</span><span class="cp"></span>
<span class="cp">#define EPPI_FS2_PALPF_F1ACT            0x0000FFFF    </span><span class="cm">/* Number of lines of Active Data in Field 1 */</span><span class="cp"></span>

<span class="cp">#define EPPI_IMSK_CFIFOERR              0x00000001    </span><span class="cm">/* Mask CFIFO Underflow or Overflow Error Interrupt */</span><span class="cp"></span>
<span class="cp">#define EPPI_IMSK_YFIFOERR              0x00000002    </span><span class="cm">/* Mask YFIFO Underflow or Overflow Error Interrupt */</span><span class="cp"></span>
<span class="cp">#define EPPI_IMSK_LTERROVR              0x00000004    </span><span class="cm">/* Mask Line Track Overflow Error Interrupt */</span><span class="cp"></span>
<span class="cp">#define EPPI_IMSK_LTERRUNDR             0x00000008    </span><span class="cm">/* Mask Line Track Underflow Error Interrupt */</span><span class="cp"></span>
<span class="cp">#define EPPI_IMSK_FTERROVR              0x00000010    </span><span class="cm">/* Mask Frame Track Overflow Error Interrupt */</span><span class="cp"></span>
<span class="cp">#define EPPI_IMSK_FTERRUNDR             0x00000020    </span><span class="cm">/* Mask Frame Track Underflow Error Interrupt */</span><span class="cp"></span>
<span class="cp">#define EPPI_IMSK_ERRNCOR               0x00000040    </span><span class="cm">/* Mask ITU Preamble Error Not Corrected Interrupt */</span><span class="cp"></span>
<span class="cp">#define EPPI_IMSK_PXPERR                0x00000080    </span><span class="cm">/* Mask PxP Ready Error Interrupt */</span><span class="cp"></span>

<span class="cp">#define EPPI_ODDCLIP_HIGHODD            0xFFFF0000</span>
<span class="cp">#define EPPI_ODDCLIP_LOWODD             0x0000FFFF</span>

<span class="cp">#define EPPI_EVENCLIP_HIGHEVEN          0xFFFF0000</span>
<span class="cp">#define EPPI_EVENCLIP_LOWEVEN           0x0000FFFF</span>

<span class="cp">#define EPPI_CTL2_FS1FINEN              0x00000002    </span><span class="cm">/* HSYNC Finish Enable */</span><span class="cp"></span>
<span class="cp">#endif</span>
<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
