f | io.h | s | 2.2K | 61 | Mike Frysinger | vapier@gentoo.org | 1294661884 |  | Blackfin: switch to asm-generic/io.h  Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin_simple_timer.h | s | 683B | 16 | Steven Miao | realmz6@gmail.com | 1332298806 |  | blackfin: timer: refine bfin simple timer driver  Add ioctl cmd for gptimer test app and do some codecleanup(remove spaces).  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | kvm_para.h | s | 34B | 1 | Eric B Munson | emunson@mgebm.net | 1333878539 |  | kvmclock: Add functions to check if the host has stopped the vm  When a host stops or suspends a VM it will set a flag to show this.  The watchdog will use these functions to determine if a softlockup is real, or the result of a suspended VM.  Signed-off-by: Eric B Munson <emunson@mgebm.net> asm-generic changes Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Marcelo Tosatti <mtosatti@redhat.com> Signed-off-by: Avi Kivity <avi@redhat.com>
f | rwlock.h | s | 103B | 4 | Graf Yang | graf.yang@analog.com | 1231341279 |  | Blackfin arch: SMP supporting patchset: Blackfin header files and machine common code  Blackfin dual core BF561 processor can support SMP like features. https://docs.blackfin.uclinux.org/doku.php?id=linux-kernel:smp-like  In this patch, we provide SMP extend to Blackfin header files and machine common code  Signed-off-by: Graf Yang <graf.yang@analog.com> Signed-off-by: Bryan Wu <cooloney@kernel.org>
f | bfin_serial.h | s | 17K | 382 | Sonic Zhang | sonic.zhang@analog.com | 1337583298 |  | blackfin: bf60x: anomaly: Add a temporary anomaly 0501001  Add a temporary anomaly 0501001 for data loss in MMR reading if interrupted. Add work around for bfin serial driver as well.  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | pci.h | s | 413B | 13 | Myron Stowe | mstowe@redhat.com | 1325880642 |  | PCI: Pull PCI 'latency timer' setup up into the core  The 'latency timer' of PCI devices, both Type 0 and Type 1, is setup in architecture-specific code [see: 'pcibios_set_master()']. There are two approaches being taken by all the architectures - check if the 'latency timer' is currently set between 16 and 255 and if not bring it within bounds, or, do nothing (and then there is the gratuitously different PA-RISC implementation).  There is nothing architecture-specific about PCI's 'latency timer' so this patch pulls its setup functionality up into the PCI core by creating a generic 'pcibios_set_master()' function using the '__weak' attribute which can be used by all architectures as a default which, if necessary, can then be over-ridden by architecture-specific code.  No functional change.  Signed-off-by: Myron Stowe <myron.stowe@redhat.com> Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
f | context.S | g | 5.7K |  | Yi Li | yi.li@analog.com | 1268112649 |  | Blackfin: add support for irqflags tracing  Signed-off-by: Yi Li <yi.li@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin_sdh.h | s | 6.1K | 118 | Mike Frysinger | vapier@gentoo.org | 1281113756 |  | Blackfin: unify SDH/RSI bitmasks  Avoid duplication and ugly global namespace pollution.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | cpu.h | s | 443B | 19 | Bob Liu | lliubbo@gmail.com | 1326075975 |  | blackfin: smp: cleanup smp code  move idle task point to percpu blackfin_cpudata and add smp_timer_broadcast interface. enable SUPPLE_1_WAKEUP and add BFIN_IPI_TIMER ipi support.  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | sections.h | s | 2.0K | 58 | Mike Frysinger | vapier@gentoo.org | 1311398303 |  | Blackfin: convert unicode space gremlins  Not sure how these guys slipped in, but they're annoying me. So bring these unicode space gremlins down to earth to normal ascii spaces.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | delay.h | s | 917B | 40 | Barry Song | barry.song@analog.com | 1268112650 |  | Blackfin: implement ndelay()  Signed-off-by: Barry Song <barry.song@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | barrier.h | s | 1.2K | 38 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | cacheflush.h | s | 3.8K | 102 | Sonic Zhang | sonic.zhang@analog.com | 1306325621 |  | Blackfin: don't attempt to flush on-chip L1 SRAM regions  Since the on-chip L1 regions are not cacheable, there is no point in trying to flush/invalidate them.  Plus, older Blackfin parts like to trigger an exception (like BF533-0.3).  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | fixed_code.h | s | 1.7K | 45 | Bob Liu | lliubbo@gmail.com | 1337583252 |  | blackfin: add bf60x to current framework  This patch added bf60x to current blackfin kernel framework.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | cachectl.h | s | 478B | 17 | Sonic Zhang | sonic.zhang@analog.com | 1287733739 |  | Blackfin: add new cacheflush syscall  Flushing caches sometimes requires anomaly workarounds which require supervisor-only insns.  Normally we don't need to flush caches from userspace so this isn't a problem, but when gcc generates trampolines on the stack, we do.  So add a new syscall for gcc to use modeled after the mips version.  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin6xx_spi.h | s | 15K | 250 | Scott Jiang | scott.jiang.linux@gmail.com | 1337583258 |  | blackfin: add spi/sport3/ppi head file for bf60x  Signed-off-by: Scott Jiang <scott.jiang.linux@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | irq_handler.h | s | 2.0K | 56 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | trace.h | s | 2.7K | 84 | Robin Getz | robin.getz@analog.com | 1274449219 |  | Blackfin: make hardware trace output a little more useful  Decode the vast majority of insns that appear in the trace buffer to get a better idea of what's going on at a glance.  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | traps.h | s | 4.8K | 124 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | segment.h | s | 226B | 10 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | elf.h | s | 4.9K | 112 | Mike Frysinger | vapier@gentoo.org | 1281113744 |  | Blackfin: stub fpregs dumping  The Blackfin processor has no FPU, so there are no FPU regs to dump.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | ipipe_base.h | s | 2.4K | 56 | Philippe Gerum | rpm@xenomai.org | 1300435270 |  | Blackfin/ipipe: upgrade to I-pipe mainline  This patch introduces Blackfin-specific bits to support the current tip of the interrupt pipeline development, mainly:  - 2/3-level interrupt maps (sparse IRQs) - generic virq handling - sysinfo v2 format for ipipe_get_sysinfo()  Signed-off-by: Philippe Gerum <rpm@xenomai.org> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | mem_map.h | s | 1.7K | 73 | Mike Frysinger | vapier@gentoo.org | 1245719767 |  | Blackfin: unify memory map headers  Many aspects of the Blackfin memory map is exactly the same across all variants.  Rather than copy and paste all of these duplicated values in each header, unify all of these into the common Blackfin memory map header file.  In the process, push down BF561 SMP specific stuff to the BF561 specific header to keep the noise down.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | tlb.h | s | 481B | 17 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | smp.h | s | 1.2K | 41 | Bob Liu | lliubbo@gmail.com | 1326075975 |  | blackfin: smp: cleanup smp code  move idle task point to percpu blackfin_cpudata and add smp_timer_broadcast interface. enable SUPPLE_1_WAKEUP and add BFIN_IPI_TIMER ipi support.  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | ioctls.h | s | 127B | 5 | Mike Frysinger | vapier@gentoo.org | 1245375653 |  | Blackfin: convert asm/ioctls.h to asm-generic/ioctls.h  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | reboot.h | s | 446B | 16 | Sonic Zhang | sonic.zhang@analog.com | 1233737385 |  | Blackfin arch: Fix bug - Run "reboot" hangs bf518-ezbrd  [Mike Frysinger <vapier.adi@gmail.com>:  - setup P_DEFAULT_BOOT_SPI_CS  for every arch based on    the default bootrom behavior and convert all our boards    to it  - revert previous anomaly change ... bf51x is not affected    by anomaly 05000353]  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Mike Frysinger <vapier.adi@gmail.com> Signed-off-by: Bryan Wu <cooloney@kernel.org>
f | bfin_watchdog.h | s | 696B | 24 | Graf Yang | graf.yang@analog.com | 1268112650 |  | Blackfin: split watchdog definitions into a dedicated header file  This allows things to be shared between the different watchdog sources.  Signed-off-by: Graf Yang <graf.yang@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin-global.h | s | 2.5K | 75 | Bob Liu | lliubbo@gmail.com | 1337583289 |  | blackfin: bf60x: make clock changeable in kernel menuconfig  Add clock changeable support in kernel menuconfig for bf60x.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | gptimers.h | s | 8.9K | 309 | Steven Miao | realmz6@gmail.com | 1337583260 |  | blackfin: bf60x: enable gptimer clock source  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | nand.h | s | 895B | 32 | Barry Song | barry.song@analog.com | 1281021278 |  | mtd: Blackfin NFC: fix handling of page sizes  Rather than forcing the platform resources to declare the desired page size, simply use the existing information passed down to us by the higher layers.  This way we work out of the box with all flash chips that the kernel knows about.  Signed-off-by: Barry Song <barry.song@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | siginfo.h | s | 1.2K | 32 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | dpmc.h | s | 18K | 719 | Sonic Zhang | sonic.zhang@analog.com | 1337583292 |  | blackfin: bf60x: pm: Add a debug option to calculate kernel wakeup time.  Display the total time when kernel resumes normal from standby or suspend to mem mode.  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | dma-mapping.h | s | 3.9K | 134 | FUJITA Tomonori | fujita.tomonori@lab.ntt.co.jp | 1281542361 |  | dma-mapping: remove dma_is_consistent API  Architectures implement dma_is_consistent() in different ways (some misinterpret the definition of API in DMA-API.txt).  So it hasn't been so useful for drivers.  We have only one user of the API in tree.  Unlikely out-of-tree drivers use the API.  Even if we fix dma_is_consistent() in some architectures, it doesn't look useful at all.  It was invented long ago for some old systems that can't allocate coherent memory at all.  It's better to export only APIs that are definitely necessary for drivers.  Let's remove this API.  Signed-off-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp> Cc: James Bottomley <James.Bottomley@HansenPartnership.com> Reviewed-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com> Cc: <linux-arch@vger.kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | bfin_can.h | s | 36K | 675 | Mike Frysinger | vapier@gentoo.org | 1287779403 |  | Blackfin: bfin_can.h: add missing VERSION/VERSION2 MMRs  Also document the mailbox (channel) data array layout.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | cplbinit.h | s | 1.6K | 49 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | pda.h | s | 1.9K | 61 | Steven Miao | realmz6@gmail.com | 1337583276 |  | blackfin: SMP: pda: "next" field of blackfin_pda only used in SMP kernel  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | bfin_pfmon.h | s | 1.1K | 39 | Sonic Zhang | sonic.zhang@analog.com | 1337583270 |  | blackfin: license: Change ADI BSD license  Change ADI BSD license to standart 3 clause BSD license for some blackfin arch code requested by ADI Legal.  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | ipipe.h | s | 5.8K | 163 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | cdef_LPBlackfin.h | s | 18K | 297 | Mike Frysinger | vapier@gentoo.org | 1288041840 |  | Blackfin: fix inverted anomaly 05000481 logic  No one uses these MMRs so we didn't notice when the anomaly handling logic was inverted.  Reported-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | dma.h | s | 9.3K | 299 | Bob Liu | lliubbo@gmail.com | 1337583252 |  | blackfin: add bf60x to current framework  This patch added bf60x to current blackfin kernel framework.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | bitops.h | s | 3.7K | 115 | Mike Frysinger | vapier@gentoo.org | 1301086453 |  | Blackfin: bitops: fix include order after little endian inclusion  The le.h header requires things like test_bit to be declared, so we need to move its inclusion to after the point where that happens.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | checksum.h | s | 916B | 37 | Mike Frysinger | vapier@gentoo.org | 1260854012 |  | Blackfin: convert to generic checksum code  The Blackfin port only implemented an optimized version of the csum_tcpudp_nofold function, so convert everything else to the new generic code.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin_crc.h | s | 4.1K | 126 | Sonic Zhang | sonic.zhang@analog.com | 1337583304 |  | blackfin: bf60x: add head file for crc controller  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | ptrace.h | s | 4.0K | 178 | Mike Frysinger | vapier@gentoo.org | 1311724183 |  | ptrace: unify show_regs() prototype  [ poleg@redhat.com: no need to declare show_regs() in ptrace.h, sched.h does this ] Signed-off-by: Mike Frysinger <vapier@gentoo.org> Cc: Tejun Heo <tj@kernel.org> Signed-off-by: Oleg Nesterov <oleg@redhat.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | mmu_context.h | s | 5.3K | 189 | Barry Song | barry.song@analog.com | 1332298806 |  | blackfin: restore L1 base address and length  Restore L1 base address and length to 0 after free else the value will be wrong.  Signed-off-by: Barry Song <barry.song@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | clocks.h | s | 1.7K | 61 | Steven Miao | realmz6@gmail.com | 1337583253 |  | blackfin: bf60x: add clock support  Add clock support for bf60x.  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | ftrace.h | s | 1.8K | 60 | Mike Frysinger | vapier@gentoo.org | 1281113754 |  | Blackfin: add support for dynamic ftrace  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | cache.h | s | 1.5K | 57 | Mike Frysinger | vapier@gentoo.org | 1294661894 |  | Blackfin: SMP: fix build breakage in cache.h  The SMP code needs "asmlinkage" which linkage.h provides.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin_rotary.h | s | 4.9K | 100 | Sonic Zhang | sonic.zhang@analog.com | 1337583283 |  | blackfin: rotary: Add pm_wakeup flag to platform data structure.  Rotary can't be used as a wakeup source in all platform.  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | bfin-lq035q1.h | s | 868B | 33 | Michael Hennerich | michael.hennerich@analog.com | 1268112646 |  | Blackfin: extend bfin-lq035q1-fb resources to include PPI mode  This lets us support the new BF527-EZKIT V2.1 via platform resources tweaks only.  Signed-off-by: Michael Hennerich <michael.hennerich@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | l1layout.h | s | 879B | 30 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | pm.h | s | 590B | 25 | Steven Miao | realmz6@gmail.com | 1337583307 |  | blackfin: fix build after add bf60x mach/pm.h  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | early_printk.h | s | 1.1K | 32 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | nmi.h | s | 151B | 9 | Graf Yang | graf.yang@analog.com | 1268112649 |  | Blackfin: implement nmi_watchdog for SMP on BF561  Signed-off-by: Graf Yang <graf.yang@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | exec.h | s | 37B | 1 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | Kbuild | g | 1.1K |  | Mike Frysinger | vapier@gentoo.org | 1319586707 |  | Blackfin: merge asm/mutex.h into kbuild too  This header was being rewritten while the asm-generic kbuild support was in flight, so it missed out on the update.  Punt the stub and use the kbuild now that everything has settled.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | sigcontext.h | s | 1.3K | 58 | Mike Frysinger | vapier@gentoo.org | 1311398303 |  | Blackfin: convert unicode space gremlins  Not sure how these guys slipped in, but they're annoying me. So bring these unicode space gremlins down to earth to normal ascii spaces.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bug.h | s | 1.5K | 59 | Robin Getz | robin.getz@analog.com | 1274552344 |  | Blackfin: change the BUG opcode to an unused 16-bit opcode  The current BUG opcode includes the bit that flags the insn as a 32bit opcode, but it wasn't declaring it as 32bits.  So pick an unused 16bit.  URL: http://blackfin.uclinux.org/gf/tracker/5973 Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | hardirq.h | s | 375B | 14 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | atomic.h | s | 1.0K | 24 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | spinlock_types.h | s | 495B | 20 | Thomas Gleixner | tglx@linutronix.de | 1260831332 |  | locking: Convert raw_rwlock to arch_rwlock  Not strictly necessary for -rt as -rt does not have non sleeping rwlocks, but it's odd to not have a consistent naming convention.  No functional change.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Acked-by: Peter Zijlstra <peterz@infradead.org> Acked-by: David S. Miller <davem@davemloft.net> Acked-by: Ingo Molnar <mingo@elte.hu> Cc: linux-arch@vger.kernel.org
f | posix_types.h | s | 741B | 22 | Al Viro | viro@zeniv.linux.org.uk | 1338426290 |  | bury __kernel_nlink_t, make internal nlink_t consistent  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | mmu.h | s | 713B | 29 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin_sport.h | s | 6.0K | 171 | Aaron Wu | Aaron.Wu@analog.com | 1337583268 |  | blackfin: bf537-stamp: update board file for platform bfin_sport device  Blackfin sport driver has been rewrited update board file according.  Signed-off-by: Aaron Wu <Aaron.Wu@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | tlbflush.h | s | 88B | 2 | Graf Yang | graf.yang@analog.com | 1274449220 |  | Blackfin: SMP: add flush_tlb_kernel_range stub  Newer code in mm/page_alloc.c requires this function now in arches.  Signed-off-by: Graf Yang <graf.yang@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfrom.h | s | 3.4K | 79 | Robin Getz | rgetz@blackfin.uclinux.org | 1231341279 |  | Blackfin arch: Update some inline assembly, tweak some register constraints  Signed-off-by: Robin Getz <rgetz@blackfin.uclinux.org> Signed-off-by: Bryan Wu <cooloney@kernel.org>
f | linkage.h | s | 205B | 10 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | unistd.h | s | 12K | 446 | Mike Frysinger | vapier@gentoo.org | 1337583279 |  | Blackfin: delete fork func  We don't implement fork() since we are no-mmu, so redirect it to the existing ENOSYS stub rather than adding a custom EINVAL one.  Signed-off-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | irqflags.h | s | 7.1K | 249 | Steven Miao | realmz6@gmail.com | 1337583255 |  | blackfin: mach-common: add sec support for bf60x  Add system event controller support for bf60x so that interrupt can be handled.  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | string.h | s | 1.0K | 29 | Robin Getz | robin.getz@analog.com | 1274552349 |  | Blackfin: move string functions to normal lib/ assembly  Since 'extern inline' doesn't work correctly in the context of the Linux kernel (too many overriding defines), move the string functions to normal lib/ assembly files (like the existing mem funcs).  This avoids the forced inline all over the kernel and allows us to place them constantly in L1.  This also avoids some module failures when gcc inserts calls to string functions but the kernel build system doesn't fully consult the library archives.  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | perf_event.h | s | 23B | 1 | Mike Frysinger | vapier@gentoo.org | 1306326249 |  | Blackfin: initial perf_event support  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin_dma.h | s | 5.5K | 151 | Bob Liu | lliubbo@gmail.com | 1337583252 |  | blackfin: add bf60x to current framework  This patch added bf60x to current blackfin kernel framework.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | mem_init.h | s | 8.2K | 259 | Christian Dietrich | qy03fugy@stud.informatik.uni-erlangen.de | 1281113757 |  | Blackfin: remove CONFIG_MEM_GENERIC_BOARD  MEM_GENERIC_BOARD depends on GENERIC_BOARD, but this flag was removed in 4f25eb85d64640bc656e72917113a84701521b99, therefore all references to it from the source can be removed.  Signed-off-by: Christian Dietrich <qy03fugy@stud.informatik.uni-erlangen.de> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | syscall.h | s | 2.2K | 81 | Mike Frysinger | vapier@gentoo.org | 1268112651 |  | Blackfin: initial tracehook support  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin_sport3.h | s | 5.5K | 95 | Scott Jiang | scott.jiang.linux@gmail.com | 1337583258 |  | blackfin: add spi/sport3/ppi head file for bf60x  Signed-off-by: Scott Jiang <scott.jiang.linux@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | module.h | s | 482B | 21 | Mike Frysinger | vapier@gentoo.org | 1311398303 |  | Blackfin: convert unicode space gremlins  Not sure how these guys slipped in, but they're annoying me. So bring these unicode space gremlins down to earth to normal ascii spaces.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | cplb.h | s | 4.9K | 129 | Bob Liu | lliubbo@gmail.com | 1337583256 |  | blackfin: cplb: add support for bf60x  Bf60x support big CPLB pages, this commit enable it.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | flat.h | s | 1.4K | 46 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | poll.h | s | 237B | 12 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | cmpxchg.h | s | 3.2K | 111 | Paul Gortmaker | paul.gortmaker@windriver.com | 1333402885 |  | blackfin: fix cmpxchg build fails from system.h fallout  Commit 3bed8d67469c ("Disintegrate asm/system.h for Blackfin [ver #2]") introduced arch/blackfin/include/asm/cmpxchg.h but has it also including the asm-generic one which causes this:    CC      arch/blackfin/kernel/asm-offsets.s   In file included from arch/blackfin/include/asm/cmpxchg.h:125:0,                  from arch/blackfin/include/asm/atomic.h:10,                  from include/linux/atomic.h:4,                  from include/linux/spinlock.h:384,                  from include/linux/seqlock.h:29,                  from include/linux/time.h:8,                  from include/linux/timex.h:56,                  from include/linux/sched.h:57,                  from arch/blackfin/kernel/asm-offsets.c:10:   include/asm-generic/cmpxchg.h:24:15: error: redefinition of '__xchg'   arch/blackfin/include/asm/cmpxchg.h:82:29: note: previous definition of '__xchg' was here   make[2]: *** [arch/blackfin/kernel/asm-offsets.s] Error 1  It really only needs two simple defines from asm-generic, so just use those instead.  Cc: Bob Liu <lliubbo@gmail.com> Cc: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Acked-by: David Howells <dhowells@redhat.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | page.h | s | 546B | 17 | Bob Liu | lliubbo@gmail.com | 1337583252 |  | blackfin: add bf60x to current framework  This patch added bf60x to current blackfin kernel framework.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | processor.h | s | 3.5K | 129 | Suresh Siddha | suresh.b.siddha@intel.com | 1337206586 |  | fork: move the real prepare_to_copy() users to arch_dup_task_struct()  Historical prepare_to_copy() is mostly a no-op, duplicated for majority of the architectures and the rest following the x86 model of flushing the extended register state like fpu there.  Remove it and use the arch_dup_task_struct() instead.  Suggested-by: Oleg Nesterov <oleg@redhat.com> Suggested-by: Linus Torvalds <torvalds@linux-foundation.org> Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com> Link: http://lkml.kernel.org/r/1336692811-30576-1-git-send-email-suresh.b.siddha@intel.com Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: David Howells <dhowells@redhat.com> Cc: Koichi Yasutake <yasutake.koichi@jp.panasonic.com> Cc: Paul Mackerras <paulus@samba.org> Cc: Paul Mundt <lethal@linux-sh.org> Cc: Chris Zankel <chris@zankel.net> Cc: Richard Henderson <rth@twiddle.net> Cc: Russell King <linux@arm.linux.org.uk> Cc: Haavard Skinnemoen <hskinnemoen@gmail.com> Cc: Mike Frysinger <vapier@gentoo.org> Cc: Mark Salter <msalter@redhat.com> Cc: Aurelien Jacquiot <a-jacquiot@ti.com> Cc: Mikael Starvik <starvik@axis.com> Cc: Yoshinori Sato <ysato@users.sourceforge.jp> Cc: Richard Kuo <rkuo@codeaurora.org> Cc: Tony Luck <tony.luck@intel.com> Cc: Michal Simek <monstr@monstr.eu> Cc: Ralf Baechle <ralf@linux-mips.org> Cc: Jonas Bonn <jonas@southpole.se> Cc: James E.J. Bottomley <jejb@parisc-linux.org> Cc: Helge Deller <deller@gmx.de> Cc: Martin Schwidefsky <schwidefsky@de.ibm.com> Cc: Heiko Carstens <heiko.carstens@de.ibm.com> Cc: Chen Liqin <liqin.chen@sunplusct.com> Cc: Lennox Wu <lennox.wu@gmail.com> Cc: David S. Miller <davem@davemloft.net> Cc: Chris Metcalf <cmetcalf@tilera.com> Cc: Jeff Dike <jdike@addtoit.com> Cc: Richard Weinberger <richard@nod.at> Cc: Guan Xuetao <gxt@mprc.pku.edu.cn> Signed-off-by: H. Peter Anvin <hpa@linux.intel.com>
f | entry.h | s | 5.3K | 164 | Philippe De Muyter | phdm@macqel.be | 1288137132 |  | m68k{nommu}/blackfin : remove old assembler-only flags bit definitions  Long ago, PT_TRACESYS_OFF and friends were introduced as hard defines to avoid straight constants in assembler parts of linux m68k.  They are not used anymore, and were not updated to follow changes in linux kernel. Remove them.  When similar constants are needed, they are now generated using asm-offsets.c.  Signed-off-by: Philippe De Muyter <phdm@macqel.be> Acked-by: Mike Frysinger <vapier@gentoo.org> Acked-by: Geert Uytterhoeven <geert@linux-m68k.org> Acked-by: Greg Ungerer <gerg@uclinux.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | def_LPBlackfin.h | s | 28K | 632 | Sonic Zhang | sonic.zhang@analog.com | 1337583270 |  | blackfin: license: Change ADI BSD license  Change ADI BSD license to standart 3 clause BSD license for some blackfin arch code requested by ADI Legal.  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | gpio.h | s | 7.7K | 277 | Sonic Zhang | sonic.zhang@analog.com | 1337583274 |  | blackfin: GPIO: Implement more GPIO APIs  Implement more GPIO APIs in case GPIOLIB is disabled.  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | bfin_ppi.h | s | 9.0K | 159 | Scott Jiang | scott.jiang.linux@gmail.com | 1337583258 |  | blackfin: add spi/sport3/ppi head file for bf60x  Signed-off-by: Scott Jiang <scott.jiang.linux@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | asm-offsets.h | s | 35B | 1 | Sam Ravnborg | sam@ravnborg.org | 1260619694 |  | kbuild: move asm-offsets.h to include/generated  The simplest method was to add an extra asm-offsets.h file in arch/$ARCH/include/asm that references the generated file.  We can now migrate the architectures one-by-one to reference the generated file direct - and when done we can delete the temporary arch/$ARCH/include/asm/asm-offsets.h file.  Signed-off-by: Sam Ravnborg <sam@ravnborg.org> Cc: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Michal Marek <mmarek@suse.cz>
f | irq.h | s | 879B | 32 | Cong Wang | xiyou.wangcong@gmail.com | 1332547111 |  | nmi watchdog: do not use cpp symbol in Kconfig  ARCH_HAS_NMI_WATCHDOG is a macro defined by arch, but config HARDLOCKUP_DETECTOR depends on it.  This is wrong, ARCH_HAS_NMI_WATCHDOG has to be a Kconfig config, and arch's need it should select it explicitly.  Signed-off-by: WANG Cong <xiyou.wangcong@gmail.com> Acked-by: Don Zickus <dzickus@redhat.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Cc: David Howells <dhowells@redhat.com> Cc: David Miller <davem@davemloft.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | fcntl.h | s | 386B | 13 | Christoph Hellwig | hch@lst.de | 1260453770 |  | vfs: Implement proper O_SYNC semantics  While Linux provided an O_SYNC flag basically since day 1, it took until Linux 2.4.0-test12pre2 to actually get it implemented for filesystems, since that day we had generic_osync_around with only minor changes and the great "For now, when the user asks for O_SYNC, we'll actually give O_DSYNC" comment.  This patch intends to actually give us real O_SYNC semantics in addition to the O_DSYNC semantics.  After Jan's O_SYNC patches which are required before this patch it's actually surprisingly simple, we just need to figure out when to set the datasync flag to vfs_fsync_range and when not.  This patch renames the existing O_SYNC flag to O_DSYNC while keeping it's numerical value to keep binary compatibility, and adds a new real O_SYNC flag.  To guarantee backwards compatiblity it is defined as expanding to both the O_DSYNC and the new additional binary flag (__O_SYNC) to make sure we are backwards-compatible when compiled against the new headers.  This also means that all places that don't care about the differences can just check O_DSYNC and get the right behaviour for O_SYNC, too - only places that actuall care need to check __O_SYNC in addition.  Drivers and network filesystems have been updated in a fail safe way to always do the full sync magic if O_DSYNC is set.  The few places setting O_SYNC for lower layers are kept that way for now to stay failsafe.  We enforce that O_DSYNC is set when __O_SYNC is set early in the open path to make sure we always get these sane options.  Note that parisc really screwed up their headers as they already define a O_DSYNC that has always been a no-op.  We try to repair it by using it for the new O_DSYNC and redefinining O_SYNC to send both the traditional O_SYNC numerical value _and_ the O_DSYNC one.  Cc: Richard Henderson <rth@twiddle.net> Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: Grant Grundler <grundler@parisc-linux.org> Cc: "David S. Miller" <davem@davemloft.net> Cc: Ingo Molnar <mingo@elte.hu> Cc: "H. Peter Anvin" <hpa@zytor.com> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: Al Viro <viro@zeniv.linux.org.uk> Cc: Andreas Dilger <adilger@sun.com> Acked-by: Trond Myklebust <Trond.Myklebust@netapp.com> Acked-by: Kyle McMartin <kyle@mcmartin.ca> Acked-by: Ulrich Drepper <drepper@redhat.com> Signed-off-by: Christoph Hellwig <hch@lst.de> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Jan Kara <jack@suse.cz>
f | time.h | s | 1.3K | 40 | Graf Yang | graf.yang@analog.com | 1268112650 |  | Blackfin: add support for cpufreq on SMP systems  Signed-off-by: Graf Yang <graf.yang@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | swab.h | s | 1.0K | 41 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | thread_info.h | s | 3.2K | 102 | Al Viro | viro@zeniv.linux.org.uk | 1338570049 |  | whack-a-mole with TIF_FREEZE  blackfin has reintroduced it, completely unused.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | pgtable.h | s | 3.1K | 89 | Mike Frysinger | vapier@gentoo.org | 1274446995 |  | Blackfin: drop unused bad_page pages and move zero_page to the bss  The empty_bad_page/empty_bad_page_table pages are unused, so punt them. The zero_page is always allocated, so push it out to the bss to speed up the booting process a bit and pack data nicer.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | page_offset.h | s | 192B | 10 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | timex.h | s | 477B | 18 | Mike Frysinger | vapier.adi@gmail.com | 1224172541 |  | Blackfin arch: make sure cycles is marked as volatile so gcc doesnt reorder on us  Signed-off-by: Mike Frysinger <vapier.adi@gmail.com> Signed-off-by: Bryan Wu <cooloney@kernel.org>
f | bfin_twi.h | s | 7.0K | 162 | Sonic Zhang | sonic.zhang@analog.com | 1337583305 |  | blackfin: twi: include linux/i2c.h  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | stat.h | s | 1.3K | 55 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | clkdev.h | s | 246B | 10 | Steven Miao | realmz6@gmail.com | 1337583253 |  | blackfin: bf60x: add clock support  Add clock support for bf60x.  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | switch_to.h | s | 997B | 32 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | blackfin.h | s | 1.5K | 73 | Bob Liu | lliubbo@gmail.com | 1337583248 |  | blackfin: asm: fix blackfin.h broken  do{...}while makes no sense in __ASSEMBLY__ code paths.  now kernels fail to build: arch/blackfin/mach-bf561/atomic.S: Assembler messages: arch/blackfin/mach-bf561/atomic.S:48: Error: syntax error. Input text was do. arch/blackfin/mach-bf561/atomic.S:48: Error: arch/blackfin/mach-bf561/atomic.S:48: Error: syntax error. Input text was }. arch/blackfin/mach-bf561/atomic.S:48: Error: arch/blackfin/mach-bf561/atomic.S:53: Error: syntax error. Input text was do. arch/blackfin/mach-bf561/atomic.S:53: Error: arch/blackfin/mach-bf561/atomic.S:53: Error: syntax error. Input text was }.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | pseudo_instructions.h | s | 391B | 14 | Robin Getz | robin.getz@analog.com | 1274552345 |  | Blackfin: add support for the DBG (debug output) pseudo insn  Another pseudo insn used by Blackfin simulators.  Also factor some now common register lookup code out of the DBGA handlers.  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | uaccess.h | s | 7.4K | 252 | Mikhail Gruzdev | michail.gruzdev@gmail.com | 1319586695 |  | Blackfin: fix sparse warnings in copy_to/from_user   Fix argument types for copy_to_user.  Fix following sparse warnings:  arch/blackfin/include/asm/uaccess.h:198:14: warning: incorrect type in argument 2 (different address spaces)  arch/blackfin/include/asm/uaccess.h:198:14:    expected void const *s  arch/blackfin/include/asm/uaccess.h:198:14:    got void const [noderef] <asn:1>*from  arch/blackfin/include/asm/uaccess.h:208:14: warning: incorrect type in argument 2 (different address spaces)  arch/blackfin/include/asm/uaccess.h:208:14:    expected void const *s  arch/blackfin/include/asm/uaccess.h:208:14:    got void const [noderef] <asn:1>*from  Signed-off-by: Mikhail Gruzdev <michail.gruzdev@gmail.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | signal.h | s | 126B | 5 | Mike Frysinger | vapier@gentoo.org | 1245375686 |  | Blackfin: convert signal/mmap to asm-generic  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | spinlock.h | s | 2.5K | 82 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | kgdb.h | s | 3.2K | 155 | Bob Liu | lliubbo@gmail.com | 1332298807 |  | blackfin: kgdb: skip hardware watchpoint test  blackfin doesn't support hardware watchpoint except for over JTAG emulator.  Signed-off-by: Sonic Zhang <sonic.zhang@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | bfin5xx_spi.h | s | 2.1K | 74 | Mike Frysinger | vapier@gentoo.org | 1332298807 |  | spi/bfin_spi: drop bits_per_word from client data  No other SPI controller has this field, and SPI clients should be setting this up in their own drivers.  So drop it from the Blackfin controller to keep people from using it.  Signed-off-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | portmux.h | s | 15K | 894 | Mike Frysinger | vapier@gentoo.org | 1281113751 |  | Blackfin: gpio/portmux: clean up whitespace corruption  Random tabs instead of spaces, mixes of the two, and unicode spaces instead of ascii spaces.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | byteorder.h | s | 43B | 1 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
