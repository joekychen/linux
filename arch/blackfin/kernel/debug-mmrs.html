<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › blackfin › kernel › debug-mmrs.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>debug-mmrs.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * debugfs interface to core/system MMRs</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2007-2011 Analog Devices Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Licensed under the GPL-2 or later</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;linux/debugfs.h&gt;</span>
<span class="cp">#include &lt;linux/fs.h&gt;</span>
<span class="cp">#include &lt;linux/kernel.h&gt;</span>
<span class="cp">#include &lt;linux/module.h&gt;</span>

<span class="cp">#include &lt;asm/blackfin.h&gt;</span>
<span class="cp">#include &lt;asm/gpio.h&gt;</span>
<span class="cp">#include &lt;asm/gptimers.h&gt;</span>
<span class="cp">#include &lt;asm/bfin_can.h&gt;</span>
<span class="cp">#include &lt;asm/bfin_dma.h&gt;</span>
<span class="cp">#include &lt;asm/bfin_ppi.h&gt;</span>
<span class="cp">#include &lt;asm/bfin_serial.h&gt;</span>
<span class="cp">#include &lt;asm/bfin5xx_spi.h&gt;</span>
<span class="cp">#include &lt;asm/bfin_twi.h&gt;</span>

<span class="cm">/* Common code defines PORT_MUX on us, so redirect the MMR back locally */</span>
<span class="cp">#ifdef BFIN_PORT_MUX</span>
<span class="cp">#undef PORT_MUX</span>
<span class="cp">#define PORT_MUX BFIN_PORT_MUX</span>
<span class="cp">#endif</span>

<span class="cp">#define _d(name, bits, addr, perms) debugfs_create_x##bits(name, perms, parent, (u##bits *)(addr))</span>
<span class="cp">#define d(name, bits, addr)         _d(name, bits, addr, S_IRUSR|S_IWUSR)</span>
<span class="cp">#define d_RO(name, bits, addr)      _d(name, bits, addr, S_IRUSR)</span>
<span class="cp">#define d_WO(name, bits, addr)      _d(name, bits, addr, S_IWUSR)</span>

<span class="cp">#define D_RO(name, bits) d_RO(#name, bits, name)</span>
<span class="cp">#define D_WO(name, bits) d_WO(#name, bits, name)</span>
<span class="cp">#define D32(name)        d(#name, 32, name)</span>
<span class="cp">#define D16(name)        d(#name, 16, name)</span>

<span class="cp">#define REGS_OFF(peri, mmr) offsetof(struct bfin_##peri##_regs, mmr)</span>
<span class="cp">#define __REGS(peri, sname, rname) \</span>
<span class="cp">	do { \</span>
<span class="cp">		struct bfin_##peri##_regs r; \</span>
<span class="cp">		void *addr = (void *)(base + REGS_OFF(peri, rname)); \</span>
<span class="cp">		strcpy(_buf, sname); \</span>
<span class="cp">		if (sizeof(r.rname) == 2) \</span>
<span class="cp">			debugfs_create_x16(buf, S_IRUSR|S_IWUSR, parent, addr); \</span>
<span class="cp">		else \</span>
<span class="cp">			debugfs_create_x32(buf, S_IRUSR|S_IWUSR, parent, addr); \</span>
<span class="cp">	} while (0)</span>
<span class="cp">#define REGS_STR_PFX(buf, pfx, num) \</span>
<span class="cp">	({ \</span>
<span class="cp">		buf + (num &gt;= 0 ? \</span>
<span class="cp">			sprintf(buf, #pfx &quot;%i_&quot;, num) : \</span>
<span class="cp">			sprintf(buf, #pfx &quot;_&quot;)); \</span>
<span class="cp">	})</span>
<span class="cp">#define REGS_STR_PFX_C(buf, pfx, num) \</span>
<span class="cp">	({ \</span>
<span class="cp">		buf + (num &gt;= 0 ? \</span>
<span class="cp">			sprintf(buf, #pfx &quot;%c_&quot;, &#39;A&#39; + num) : \</span>
<span class="cp">			sprintf(buf, #pfx &quot;_&quot;)); \</span>
<span class="cp">	})</span>

<span class="cm">/*</span>
<span class="cm"> * Core registers (not memory mapped)</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">last_seqstat</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">debug_cclk_get</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u64</span> <span class="o">*</span><span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">val</span> <span class="o">=</span> <span class="n">get_cclk</span><span class="p">();</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">DEFINE_SIMPLE_ATTRIBUTE</span><span class="p">(</span><span class="n">fops_debug_cclk</span><span class="p">,</span> <span class="n">debug_cclk_get</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;0x%08llx</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">debug_sclk_get</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u64</span> <span class="o">*</span><span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">val</span> <span class="o">=</span> <span class="n">get_sclk</span><span class="p">();</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">DEFINE_SIMPLE_ATTRIBUTE</span><span class="p">(</span><span class="n">fops_debug_sclk</span><span class="p">,</span> <span class="n">debug_sclk_get</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;0x%08llx</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="cp">#define DEFINE_SYSREG(sr, pre, post) \</span>
<span class="cp">static int sysreg_##sr##_get(void *data, u64 *val) \</span>
<span class="cp">{ \</span>
<span class="cp">	unsigned long tmp; \</span>
<span class="cp">	pre; \</span>
<span class="cp">	__asm__ __volatile__(&quot;%0 = &quot; #sr &quot;;&quot; : &quot;=d&quot;(tmp)); \</span>
<span class="cp">	*val = tmp; \</span>
<span class="cp">	return 0; \</span>
<span class="cp">} \</span>
<span class="cp">static int sysreg_##sr##_set(void *data, u64 val) \</span>
<span class="cp">{ \</span>
<span class="cp">	unsigned long tmp = val; \</span>
<span class="cp">	__asm__ __volatile__(#sr &quot; = %0;&quot; : : &quot;d&quot;(tmp)); \</span>
<span class="cp">	post; \</span>
<span class="cp">	return 0; \</span>
<span class="cp">} \</span>
<span class="cp">DEFINE_SIMPLE_ATTRIBUTE(fops_sysreg_##sr, sysreg_##sr##_get, sysreg_##sr##_set, &quot;0x%08llx\n&quot;)</span>

<span class="n">DEFINE_SYSREG</span><span class="p">(</span><span class="n">cycles</span><span class="p">,</span> <span class="p">,</span> <span class="p">);</span>
<span class="n">DEFINE_SYSREG</span><span class="p">(</span><span class="n">cycles2</span><span class="p">,</span> <span class="n">__asm__</span> <span class="n">__volatile__</span><span class="p">(</span><span class="s">&quot;%0 = cycles;&quot;</span> <span class="o">:</span> <span class="s">&quot;=d&quot;</span><span class="p">(</span><span class="n">tmp</span><span class="p">)),</span> <span class="p">);</span>
<span class="n">DEFINE_SYSREG</span><span class="p">(</span><span class="n">emudat</span><span class="p">,</span> <span class="p">,</span> <span class="p">);</span>
<span class="n">DEFINE_SYSREG</span><span class="p">(</span><span class="n">seqstat</span><span class="p">,</span> <span class="p">,</span> <span class="p">);</span>
<span class="n">DEFINE_SYSREG</span><span class="p">(</span><span class="n">syscfg</span><span class="p">,</span> <span class="p">,</span> <span class="n">CSYNC</span><span class="p">());</span>
<span class="cp">#define D_SYSREG(sr) debugfs_create_file(#sr, S_IRUSR|S_IWUSR, parent, NULL, &amp;fops_sysreg_##sr)</span>

<span class="cp">#ifndef CONFIG_BF60x</span>
<span class="cm">/*</span>
<span class="cm"> * CAN</span>
<span class="cm"> */</span>
<span class="cp">#define CAN_OFF(mmr)  REGS_OFF(can, mmr)</span>
<span class="cp">#define __CAN(uname, lname) __REGS(can, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_can</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">am</span><span class="p">,</span> <span class="o">*</span><span class="n">mb</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">CAN</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">am</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">am</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;am&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">);</span>
		<span class="n">mb</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;mb&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">__CAN</span><span class="p">(</span><span class="n">MC1</span><span class="p">,</span> <span class="n">mc1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MD1</span><span class="p">,</span> <span class="n">md1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">TRS1</span><span class="p">,</span> <span class="n">trs1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">TRR1</span><span class="p">,</span> <span class="n">trr1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">TA1</span><span class="p">,</span> <span class="n">ta1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">AA1</span><span class="p">,</span> <span class="n">aa1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">RMP1</span><span class="p">,</span> <span class="n">rmp1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">RML1</span><span class="p">,</span> <span class="n">rml1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MBTIF1</span><span class="p">,</span> <span class="n">mbtif1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MBRIF1</span><span class="p">,</span> <span class="n">mbrif1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MBIM1</span><span class="p">,</span> <span class="n">mbim1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">RFH1</span><span class="p">,</span> <span class="n">rfh1</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">OPSS1</span><span class="p">,</span> <span class="n">opss1</span><span class="p">);</span>

	<span class="n">__CAN</span><span class="p">(</span><span class="n">MC2</span><span class="p">,</span> <span class="n">mc2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MD2</span><span class="p">,</span> <span class="n">md2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">TRS2</span><span class="p">,</span> <span class="n">trs2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">TRR2</span><span class="p">,</span> <span class="n">trr2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">TA2</span><span class="p">,</span> <span class="n">ta2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">AA2</span><span class="p">,</span> <span class="n">aa2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">RMP2</span><span class="p">,</span> <span class="n">rmp2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">RML2</span><span class="p">,</span> <span class="n">rml2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MBTIF2</span><span class="p">,</span> <span class="n">mbtif2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MBRIF2</span><span class="p">,</span> <span class="n">mbrif2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MBIM2</span><span class="p">,</span> <span class="n">mbim2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">RFH2</span><span class="p">,</span> <span class="n">rfh2</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">OPSS2</span><span class="p">,</span> <span class="n">opss2</span><span class="p">);</span>

	<span class="n">__CAN</span><span class="p">(</span><span class="n">CLOCK</span><span class="p">,</span> <span class="n">clock</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">TIMING</span><span class="p">,</span> <span class="n">timing</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">debug</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">CEC</span><span class="p">,</span> <span class="n">cec</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">GIS</span><span class="p">,</span> <span class="n">gis</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">GIM</span><span class="p">,</span> <span class="n">gim</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">GIF</span><span class="p">,</span> <span class="n">gif</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">CONTROL</span><span class="p">,</span> <span class="n">control</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">INTR</span><span class="p">,</span> <span class="n">intr</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">VERSION</span><span class="p">,</span> <span class="n">version</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">MBTD</span><span class="p">,</span> <span class="n">mbtd</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">EWR</span><span class="p">,</span> <span class="n">ewr</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">ESR</span><span class="p">,</span> <span class="n">esr</span><span class="p">);</span>
	<span class="cm">/*__CAN(UCREG, ucreg); no longer exists */</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">UCCNT</span><span class="p">,</span> <span class="n">uccnt</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">UCRC</span><span class="p">,</span> <span class="n">ucrc</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">UCCNF</span><span class="p">,</span> <span class="n">uccnf</span><span class="p">);</span>
	<span class="n">__CAN</span><span class="p">(</span><span class="n">VERSION2</span><span class="p">,</span> <span class="n">version2</span><span class="p">);</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">32</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">sprintf</span><span class="p">(</span><span class="n">_buf</span><span class="p">,</span> <span class="s">&quot;AM%02iL&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">debugfs_create_x16</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="o">|</span><span class="n">S_IWUSR</span><span class="p">,</span> <span class="n">am</span><span class="p">,</span>
			<span class="p">(</span><span class="n">u16</span> <span class="o">*</span><span class="p">)(</span><span class="n">base</span> <span class="o">+</span> <span class="n">CAN_OFF</span><span class="p">(</span><span class="n">msk</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">aml</span><span class="p">)));</span>
		<span class="n">sprintf</span><span class="p">(</span><span class="n">_buf</span><span class="p">,</span> <span class="s">&quot;AM%02iH&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">debugfs_create_x16</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="o">|</span><span class="n">S_IWUSR</span><span class="p">,</span> <span class="n">am</span><span class="p">,</span>
			<span class="p">(</span><span class="n">u16</span> <span class="o">*</span><span class="p">)(</span><span class="n">base</span> <span class="o">+</span> <span class="n">CAN_OFF</span><span class="p">(</span><span class="n">msk</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">amh</span><span class="p">)));</span>

		<span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">sprintf</span><span class="p">(</span><span class="n">_buf</span><span class="p">,</span> <span class="s">&quot;MB%02i_DATA%i&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
			<span class="n">debugfs_create_x16</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="o">|</span><span class="n">S_IWUSR</span><span class="p">,</span> <span class="n">mb</span><span class="p">,</span>
				<span class="p">(</span><span class="n">u16</span> <span class="o">*</span><span class="p">)(</span><span class="n">base</span> <span class="o">+</span> <span class="n">CAN_OFF</span><span class="p">(</span><span class="n">chl</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">data</span><span class="p">[</span><span class="n">j</span><span class="o">*</span><span class="mi">2</span><span class="p">])));</span>
		<span class="p">}</span>
		<span class="n">sprintf</span><span class="p">(</span><span class="n">_buf</span><span class="p">,</span> <span class="s">&quot;MB%02i_LENGTH&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">debugfs_create_x16</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="o">|</span><span class="n">S_IWUSR</span><span class="p">,</span> <span class="n">mb</span><span class="p">,</span>
			<span class="p">(</span><span class="n">u16</span> <span class="o">*</span><span class="p">)(</span><span class="n">base</span> <span class="o">+</span> <span class="n">CAN_OFF</span><span class="p">(</span><span class="n">chl</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dlc</span><span class="p">)));</span>
		<span class="n">sprintf</span><span class="p">(</span><span class="n">_buf</span><span class="p">,</span> <span class="s">&quot;MB%02i_TIMESTAMP&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">debugfs_create_x16</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="o">|</span><span class="n">S_IWUSR</span><span class="p">,</span> <span class="n">mb</span><span class="p">,</span>
			<span class="p">(</span><span class="n">u16</span> <span class="o">*</span><span class="p">)(</span><span class="n">base</span> <span class="o">+</span> <span class="n">CAN_OFF</span><span class="p">(</span><span class="n">chl</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">tsv</span><span class="p">)));</span>
		<span class="n">sprintf</span><span class="p">(</span><span class="n">_buf</span><span class="p">,</span> <span class="s">&quot;MB%02i_ID0&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">debugfs_create_x16</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="o">|</span><span class="n">S_IWUSR</span><span class="p">,</span> <span class="n">mb</span><span class="p">,</span>
			<span class="p">(</span><span class="n">u16</span> <span class="o">*</span><span class="p">)(</span><span class="n">base</span> <span class="o">+</span> <span class="n">CAN_OFF</span><span class="p">(</span><span class="n">chl</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id0</span><span class="p">)));</span>
		<span class="n">sprintf</span><span class="p">(</span><span class="n">_buf</span><span class="p">,</span> <span class="s">&quot;MB%02i_ID1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">debugfs_create_x16</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="o">|</span><span class="n">S_IWUSR</span><span class="p">,</span> <span class="n">mb</span><span class="p">,</span>
			<span class="p">(</span><span class="n">u16</span> <span class="o">*</span><span class="p">)(</span><span class="n">base</span> <span class="o">+</span> <span class="n">CAN_OFF</span><span class="p">(</span><span class="n">chl</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id1</span><span class="p">)));</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="cp">#define CAN(num) bfin_debug_mmrs_can(parent, CAN##num##_MC1, num)</span>

<span class="cm">/*</span>
<span class="cm"> * DMA</span>
<span class="cm"> */</span>
<span class="cp">#define __DMA(uname, lname) __REGS(dma, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_dma</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="kt">char</span> <span class="n">mdma</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">pfx</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">mdma</span><span class="p">)</span>
		<span class="n">_buf</span> <span class="o">=</span> <span class="n">buf</span> <span class="o">+</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;%s_%c%i_&quot;</span><span class="p">,</span> <span class="n">pfx</span><span class="p">,</span> <span class="n">mdma</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">_buf</span> <span class="o">=</span> <span class="n">buf</span> <span class="o">+</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;%s%i_&quot;</span><span class="p">,</span> <span class="n">pfx</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>

	<span class="n">__DMA</span><span class="p">(</span><span class="n">NEXT_DESC_PTR</span><span class="p">,</span> <span class="n">next_desc_ptr</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">START_ADDR</span><span class="p">,</span> <span class="n">start_addr</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">CONFIG</span><span class="p">,</span> <span class="n">config</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">X_COUNT</span><span class="p">,</span> <span class="n">x_count</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">X_MODIFY</span><span class="p">,</span> <span class="n">x_modify</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">Y_COUNT</span><span class="p">,</span> <span class="n">y_count</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">Y_MODIFY</span><span class="p">,</span> <span class="n">y_modify</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">CURR_DESC_PTR</span><span class="p">,</span> <span class="n">curr_desc_ptr</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">CURR_ADDR</span><span class="p">,</span> <span class="n">curr_addr</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">IRQ_STATUS</span><span class="p">,</span> <span class="n">irq_status</span><span class="p">);</span>
<span class="cp">#ifndef CONFIG_BF60x</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">pfx</span><span class="p">,</span> <span class="s">&quot;IMDMA&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
		<span class="n">__DMA</span><span class="p">(</span><span class="n">PERIPHERAL_MAP</span><span class="p">,</span> <span class="n">peripheral_map</span><span class="p">);</span>
<span class="cp">#endif</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">CURR_X_COUNT</span><span class="p">,</span> <span class="n">curr_x_count</span><span class="p">);</span>
	<span class="n">__DMA</span><span class="p">(</span><span class="n">CURR_Y_COUNT</span><span class="p">,</span> <span class="n">curr_y_count</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define _DMA(num, base, mdma, pfx) bfin_debug_mmrs_dma(parent, base, num, mdma, pfx &quot;DMA&quot;)</span>
<span class="cp">#define DMA(num)  _DMA(num, DMA##num##_NEXT_DESC_PTR, 0, &quot;&quot;)</span>
<span class="cp">#define _MDMA(num, x) \</span>
<span class="cp">	do { \</span>
<span class="cp">		_DMA(num, x##DMA_D##num##_NEXT_DESC_PTR, &#39;D&#39;, #x); \</span>
<span class="cp">		_DMA(num, x##DMA_S##num##_NEXT_DESC_PTR, &#39;S&#39;, #x); \</span>
<span class="cp">	} while (0)</span>
<span class="cp">#define MDMA(num) _MDMA(num, M)</span>
<span class="cp">#define IMDMA(num) _MDMA(num, IM)</span>

<span class="cm">/*</span>
<span class="cm"> * EPPI</span>
<span class="cm"> */</span>
<span class="cp">#define __EPPI(uname, lname) __REGS(eppi, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_eppi</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">EPPI</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">HCOUNT</span><span class="p">,</span> <span class="n">hcount</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">HDELAY</span><span class="p">,</span> <span class="n">hdelay</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">VCOUNT</span><span class="p">,</span> <span class="n">vcount</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">VDELAY</span><span class="p">,</span> <span class="n">vdelay</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">FRAME</span><span class="p">,</span> <span class="n">frame</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">LINE</span><span class="p">,</span> <span class="n">line</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">CLKDIV</span><span class="p">,</span> <span class="n">clkdiv</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">CONTROL</span><span class="p">,</span> <span class="n">control</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">FS1W_HBL</span><span class="p">,</span> <span class="n">fs1w_hbl</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">FS1P_AVPL</span><span class="p">,</span> <span class="n">fs1p_avpl</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">FS2W_LVB</span><span class="p">,</span> <span class="n">fs2w_lvb</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">FS2P_LAVF</span><span class="p">,</span> <span class="n">fs2p_lavf</span><span class="p">);</span>
	<span class="n">__EPPI</span><span class="p">(</span><span class="n">CLIP</span><span class="p">,</span> <span class="n">clip</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define EPPI(num) bfin_debug_mmrs_eppi(parent, EPPI##num##_STATUS, num)</span>

<span class="cm">/*</span>
<span class="cm"> * General Purpose Timers</span>
<span class="cm"> */</span>
<span class="cp">#define __GPTIMER(uname, lname) __REGS(gptimer, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_gptimer</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">TIMER</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__GPTIMER</span><span class="p">(</span><span class="n">CONFIG</span><span class="p">,</span> <span class="n">config</span><span class="p">);</span>
	<span class="n">__GPTIMER</span><span class="p">(</span><span class="n">COUNTER</span><span class="p">,</span> <span class="n">counter</span><span class="p">);</span>
	<span class="n">__GPTIMER</span><span class="p">(</span><span class="n">PERIOD</span><span class="p">,</span> <span class="n">period</span><span class="p">);</span>
	<span class="n">__GPTIMER</span><span class="p">(</span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">width</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define GPTIMER(num) bfin_debug_mmrs_gptimer(parent, TIMER##num##_CONFIG, num)</span>

<span class="cp">#define GPTIMER_GROUP_OFF(mmr) REGS_OFF(gptimer_group, mmr)</span>
<span class="cp">#define __GPTIMER_GROUP(uname, lname) __REGS(gptimer_group, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_gptimer_group</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">num</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">_buf</span> <span class="o">=</span> <span class="n">buf</span> <span class="o">+</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;TIMER_&quot;</span><span class="p">);</span>
		<span class="n">__GPTIMER_GROUP</span><span class="p">(</span><span class="n">ENABLE</span><span class="p">,</span> <span class="n">enable</span><span class="p">);</span>
		<span class="n">__GPTIMER_GROUP</span><span class="p">(</span><span class="n">DISABLE</span><span class="p">,</span> <span class="n">disable</span><span class="p">);</span>
		<span class="n">__GPTIMER_GROUP</span><span class="p">(</span><span class="n">STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="cm">/* These MMRs are a bit odd as the group # is a suffix */</span>
		<span class="n">_buf</span> <span class="o">=</span> <span class="n">buf</span> <span class="o">+</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;TIMER_ENABLE%i&quot;</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
		<span class="n">d</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="n">GPTIMER_GROUP_OFF</span><span class="p">(</span><span class="n">enable</span><span class="p">));</span>

		<span class="n">_buf</span> <span class="o">=</span> <span class="n">buf</span> <span class="o">+</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;TIMER_DISABLE%i&quot;</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
		<span class="n">d</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="n">GPTIMER_GROUP_OFF</span><span class="p">(</span><span class="n">disable</span><span class="p">));</span>

		<span class="n">_buf</span> <span class="o">=</span> <span class="n">buf</span> <span class="o">+</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;TIMER_STATUS%i&quot;</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
		<span class="n">d</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="n">GPTIMER_GROUP_OFF</span><span class="p">(</span><span class="n">status</span><span class="p">));</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="cp">#define GPTIMER_GROUP(mmr, num) bfin_debug_mmrs_gptimer_group(parent, mmr, num)</span>

<span class="cm">/*</span>
<span class="cm"> * Handshake MDMA</span>
<span class="cm"> */</span>
<span class="cp">#define __HMDMA(uname, lname) __REGS(hmdma, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_hmdma</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">HMDMA</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__HMDMA</span><span class="p">(</span><span class="n">CONTROL</span><span class="p">,</span> <span class="n">control</span><span class="p">);</span>
	<span class="n">__HMDMA</span><span class="p">(</span><span class="n">ECINIT</span><span class="p">,</span> <span class="n">ecinit</span><span class="p">);</span>
	<span class="n">__HMDMA</span><span class="p">(</span><span class="n">BCINIT</span><span class="p">,</span> <span class="n">bcinit</span><span class="p">);</span>
	<span class="n">__HMDMA</span><span class="p">(</span><span class="n">ECURGENT</span><span class="p">,</span> <span class="n">ecurgent</span><span class="p">);</span>
	<span class="n">__HMDMA</span><span class="p">(</span><span class="n">ECOVERFLOW</span><span class="p">,</span> <span class="n">ecoverflow</span><span class="p">);</span>
	<span class="n">__HMDMA</span><span class="p">(</span><span class="n">ECOUNT</span><span class="p">,</span> <span class="n">ecount</span><span class="p">);</span>
	<span class="n">__HMDMA</span><span class="p">(</span><span class="n">BCOUNT</span><span class="p">,</span> <span class="n">bcount</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define HMDMA(num) bfin_debug_mmrs_hmdma(parent, HMDMA##num##_CONTROL, num)</span>

<span class="cm">/*</span>
<span class="cm"> * Peripheral Interrupts (PINT/GPIO)</span>
<span class="cm"> */</span>
<span class="cp">#ifdef PINT0_MASK_SET</span>
<span class="cp">#define __PINT(uname, lname) __REGS(pint, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_pint</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">PINT</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">MASK_SET</span><span class="p">,</span> <span class="n">mask_set</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">MASK_CLEAR</span><span class="p">,</span> <span class="n">mask_clear</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">REQUEST</span><span class="p">,</span> <span class="n">request</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">ASSIGN</span><span class="p">,</span> <span class="n">assign</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">EDGE_SET</span><span class="p">,</span> <span class="n">edge_set</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">EDGE_CLEAR</span><span class="p">,</span> <span class="n">edge_clear</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">INVERT_SET</span><span class="p">,</span> <span class="n">invert_set</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">INVERT_CLEAR</span><span class="p">,</span> <span class="n">invert_clear</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">PINSTATE</span><span class="p">,</span> <span class="n">pinstate</span><span class="p">);</span>
	<span class="n">__PINT</span><span class="p">(</span><span class="n">LATCH</span><span class="p">,</span> <span class="n">latch</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define PINT(num) bfin_debug_mmrs_pint(parent, PINT##num##_MASK_SET, num)</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * Port/GPIO</span>
<span class="cm"> */</span>
<span class="cp">#define bfin_gpio_regs gpio_port_t</span>
<span class="cp">#define __PORT(uname, lname) __REGS(gpio, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_port</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span><span class="p">;</span>
<span class="cp">#ifdef __ADSPBF54x__</span>
	<span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX_C</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">PORT</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">FER</span><span class="p">,</span> <span class="n">port_fer</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">SET</span><span class="p">,</span> <span class="n">data_set</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">CLEAR</span><span class="p">,</span> <span class="n">data_clear</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">DIR_SET</span><span class="p">,</span> <span class="n">dir_set</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">DIR_CLEAR</span><span class="p">,</span> <span class="n">dir_clear</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">INEN</span><span class="p">,</span> <span class="n">inen</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MUX</span><span class="p">,</span> <span class="n">port_mux</span><span class="p">);</span>
<span class="cp">#else</span>
	<span class="n">_buf</span> <span class="o">=</span> <span class="n">buf</span> <span class="o">+</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;PORT%cIO_&quot;</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">CLEAR</span><span class="p">,</span> <span class="n">data_clear</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">SET</span><span class="p">,</span> <span class="n">data_set</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">TOGGLE</span><span class="p">,</span> <span class="n">toggle</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MASKA</span><span class="p">,</span> <span class="n">maska</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MASKA_CLEAR</span><span class="p">,</span> <span class="n">maska_clear</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MASKA_SET</span><span class="p">,</span> <span class="n">maska_set</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MASKA_TOGGLE</span><span class="p">,</span> <span class="n">maska_toggle</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MASKB</span><span class="p">,</span> <span class="n">maskb</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MASKB_CLEAR</span><span class="p">,</span> <span class="n">maskb_clear</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MASKB_SET</span><span class="p">,</span> <span class="n">maskb_set</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">MASKB_TOGGLE</span><span class="p">,</span> <span class="n">maskb_toggle</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="kt">DIR</span><span class="p">,</span> <span class="n">dir</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">POLAR</span><span class="p">,</span> <span class="n">polar</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">EDGE</span><span class="p">,</span> <span class="n">edge</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">both</span><span class="p">);</span>
	<span class="n">__PORT</span><span class="p">(</span><span class="n">INEN</span><span class="p">,</span> <span class="n">inen</span><span class="p">);</span>
<span class="cp">#endif</span>
	<span class="n">_buf</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
	<span class="n">d</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="n">REGS_OFF</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="n">data</span><span class="p">));</span>
<span class="p">}</span>
<span class="cp">#define PORT(base, num) bfin_debug_mmrs_port(parent, base, num)</span>

<span class="cm">/*</span>
<span class="cm"> * PPI</span>
<span class="cm"> */</span>
<span class="cp">#define __PPI(uname, lname) __REGS(ppi, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_ppi</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">PPI</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__PPI</span><span class="p">(</span><span class="n">CONTROL</span><span class="p">,</span> <span class="n">control</span><span class="p">);</span>
	<span class="n">__PPI</span><span class="p">(</span><span class="n">STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">);</span>
	<span class="n">__PPI</span><span class="p">(</span><span class="n">COUNT</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
	<span class="n">__PPI</span><span class="p">(</span><span class="n">DELAY</span><span class="p">,</span> <span class="n">delay</span><span class="p">);</span>
	<span class="n">__PPI</span><span class="p">(</span><span class="n">FRAME</span><span class="p">,</span> <span class="n">frame</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define PPI(num) bfin_debug_mmrs_ppi(parent, PPI##num##_CONTROL, num)</span>

<span class="cm">/*</span>
<span class="cm"> * SPI</span>
<span class="cm"> */</span>
<span class="cp">#define __SPI(uname, lname) __REGS(spi, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_spi</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">SPI</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__SPI</span><span class="p">(</span><span class="n">CTL</span><span class="p">,</span> <span class="n">ctl</span><span class="p">);</span>
	<span class="n">__SPI</span><span class="p">(</span><span class="n">FLG</span><span class="p">,</span> <span class="n">flg</span><span class="p">);</span>
	<span class="n">__SPI</span><span class="p">(</span><span class="n">STAT</span><span class="p">,</span> <span class="n">stat</span><span class="p">);</span>
	<span class="n">__SPI</span><span class="p">(</span><span class="n">TDBR</span><span class="p">,</span> <span class="n">tdbr</span><span class="p">);</span>
	<span class="n">__SPI</span><span class="p">(</span><span class="n">RDBR</span><span class="p">,</span> <span class="n">rdbr</span><span class="p">);</span>
	<span class="n">__SPI</span><span class="p">(</span><span class="n">BAUD</span><span class="p">,</span> <span class="n">baud</span><span class="p">);</span>
	<span class="n">__SPI</span><span class="p">(</span><span class="n">SHADOW</span><span class="p">,</span> <span class="n">shadow</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define SPI(num) bfin_debug_mmrs_spi(parent, SPI##num##_REGBASE, num)</span>

<span class="cm">/*</span>
<span class="cm"> * SPORT</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">sport_width</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">mmr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">lmmr</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="n">mmr</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">((</span><span class="n">lmmr</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0x10</span><span class="p">)</span>
		<span class="cm">/* SPORT#_TX has 0x10 offset -&gt; SPORT#_TCR2 has 0x04 offset */</span>
		<span class="n">lmmr</span> <span class="o">-=</span> <span class="mh">0xc</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="cm">/* SPORT#_RX has 0x18 offset -&gt; SPORT#_RCR2 has 0x24 offset */</span>
		<span class="n">lmmr</span> <span class="o">+=</span> <span class="mh">0xc</span><span class="p">;</span>
	<span class="cm">/* extract SLEN field from control register 2 and add 1 */</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">bfin_read16</span><span class="p">(</span><span class="n">lmmr</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1f</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">static</span> <span class="kt">int</span> <span class="nf">sport_set</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">mmr</span><span class="p">,</span> <span class="n">u64</span> <span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">local_irq_save</span><span class="p">(</span><span class="n">flags</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">sport_width</span><span class="p">(</span><span class="n">mmr</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">16</span><span class="p">)</span>
		<span class="n">bfin_write16</span><span class="p">(</span><span class="n">mmr</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">bfin_write32</span><span class="p">(</span><span class="n">mmr</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
	<span class="n">local_irq_restore</span><span class="p">(</span><span class="n">flags</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">static</span> <span class="kt">int</span> <span class="nf">sport_get</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">mmr</span><span class="p">,</span> <span class="n">u64</span> <span class="o">*</span><span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">local_irq_save</span><span class="p">(</span><span class="n">flags</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">sport_width</span><span class="p">(</span><span class="n">mmr</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">16</span><span class="p">)</span>
		<span class="o">*</span><span class="n">val</span> <span class="o">=</span> <span class="n">bfin_read16</span><span class="p">(</span><span class="n">mmr</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="o">*</span><span class="n">val</span> <span class="o">=</span> <span class="n">bfin_read32</span><span class="p">(</span><span class="n">mmr</span><span class="p">);</span>
	<span class="n">local_irq_restore</span><span class="p">(</span><span class="n">flags</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">DEFINE_SIMPLE_ATTRIBUTE</span><span class="p">(</span><span class="n">fops_sport</span><span class="p">,</span> <span class="n">sport_get</span><span class="p">,</span> <span class="n">sport_set</span><span class="p">,</span> <span class="s">&quot;0x%08llx</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="cm">/*DEFINE_SIMPLE_ATTRIBUTE(fops_sport_ro, sport_get, NULL, &quot;0x%08llx\n&quot;);*/</span>
<span class="n">DEFINE_SIMPLE_ATTRIBUTE</span><span class="p">(</span><span class="n">fops_sport_wo</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">sport_set</span><span class="p">,</span> <span class="s">&quot;0x%08llx</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="cp">#define SPORT_OFF(mmr) (SPORT0_##mmr - SPORT0_TCR1)</span>
<span class="cp">#define _D_SPORT(name, perms, fops) \</span>
<span class="cp">	do { \</span>
<span class="cp">		strcpy(_buf, #name); \</span>
<span class="cp">		debugfs_create_file(buf, perms, parent, (void *)(base + SPORT_OFF(name)), fops); \</span>
<span class="cp">	} while (0)</span>
<span class="cp">#define __SPORT_RW(name) _D_SPORT(name, S_IRUSR|S_IWUSR, &amp;fops_sport)</span>
<span class="cp">#define __SPORT_RO(name) _D_SPORT(name, S_IRUSR, &amp;fops_sport_ro)</span>
<span class="cp">#define __SPORT_WO(name) _D_SPORT(name, S_IWUSR, &amp;fops_sport_wo)</span>
<span class="cp">#define __SPORT(name, bits) \</span>
<span class="cp">	do { \</span>
<span class="cp">		strcpy(_buf, #name); \</span>
<span class="cp">		debugfs_create_x##bits(buf, S_IRUSR|S_IWUSR, parent, (u##bits *)(base + SPORT_OFF(name))); \</span>
<span class="cp">	} while (0)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_sport</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">SPORT</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">CHNL</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MCMC1</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MCMC2</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MRCS0</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MRCS1</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MRCS2</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MRCS3</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MTCS0</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MTCS1</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MTCS2</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">MTCS3</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">RCLKDIV</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">RCR1</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">RCR2</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">RFSDIV</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT_RW</span><span class="p">(</span><span class="n">RX</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">STAT</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">TCLKDIV</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">TCR1</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">TCR2</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT</span><span class="p">(</span><span class="n">TFSDIV</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">__SPORT_WO</span><span class="p">(</span><span class="n">TX</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define SPORT(num) bfin_debug_mmrs_sport(parent, SPORT##num##_TCR1, num)</span>

<span class="cm">/*</span>
<span class="cm"> * TWI</span>
<span class="cm"> */</span>
<span class="cp">#define __TWI(uname, lname) __REGS(twi, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_twi</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">TWI</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">CLKDIV</span><span class="p">,</span> <span class="n">clkdiv</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">CONTROL</span><span class="p">,</span> <span class="n">control</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">SLAVE_CTL</span><span class="p">,</span> <span class="n">slave_ctl</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">SLAVE_STAT</span><span class="p">,</span> <span class="n">slave_stat</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">SLAVE_ADDR</span><span class="p">,</span> <span class="n">slave_addr</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">MASTER_CTL</span><span class="p">,</span> <span class="n">master_ctl</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">MASTER_STAT</span><span class="p">,</span> <span class="n">master_stat</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">MASTER_ADDR</span><span class="p">,</span> <span class="n">master_addr</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">INT_STAT</span><span class="p">,</span> <span class="n">int_stat</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">INT_MASK</span><span class="p">,</span> <span class="n">int_mask</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">FIFO_CTL</span><span class="p">,</span> <span class="n">fifo_ctl</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">FIFO_STAT</span><span class="p">,</span> <span class="n">fifo_stat</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">XMT_DATA8</span><span class="p">,</span> <span class="n">xmt_data8</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">XMT_DATA16</span><span class="p">,</span> <span class="n">xmt_data16</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">RCV_DATA8</span><span class="p">,</span> <span class="n">rcv_data8</span><span class="p">);</span>
	<span class="n">__TWI</span><span class="p">(</span><span class="n">RCV_DATA16</span><span class="p">,</span> <span class="n">rcv_data16</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#define TWI(num) bfin_debug_mmrs_twi(parent, TWI##num##_CLKDIV, num)</span>

<span class="cm">/*</span>
<span class="cm"> * UART</span>
<span class="cm"> */</span>
<span class="cp">#define __UART(uname, lname) __REGS(uart, #uname, lname)</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">__maybe_unused</span>
<span class="nf">bfin_debug_mmrs_uart</span><span class="p">(</span><span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">parent</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="o">*</span><span class="n">_buf</span> <span class="o">=</span> <span class="n">REGS_STR_PFX</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">UART</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
<span class="cp">#ifdef BFIN_UART_BF54X_STYLE</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">DLL</span><span class="p">,</span> <span class="n">dll</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">DLH</span><span class="p">,</span> <span class="n">dlh</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">GCTL</span><span class="p">,</span> <span class="n">gctl</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">LCR</span><span class="p">,</span> <span class="n">lcr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">MCR</span><span class="p">,</span> <span class="n">mcr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">LSR</span><span class="p">,</span> <span class="n">lsr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">MSR</span><span class="p">,</span> <span class="n">msr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">SCR</span><span class="p">,</span> <span class="n">scr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">IER_SET</span><span class="p">,</span> <span class="n">ier_set</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">IER_CLEAR</span><span class="p">,</span> <span class="n">ier_clear</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">THR</span><span class="p">,</span> <span class="n">thr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">RBR</span><span class="p">,</span> <span class="n">rbr</span><span class="p">);</span>
<span class="cp">#else</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">DLL</span><span class="p">,</span> <span class="n">dll</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">THR</span><span class="p">,</span> <span class="n">thr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">RBR</span><span class="p">,</span> <span class="n">rbr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">DLH</span><span class="p">,</span> <span class="n">dlh</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">IER</span><span class="p">,</span> <span class="n">ier</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">IIR</span><span class="p">,</span> <span class="n">iir</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">LCR</span><span class="p">,</span> <span class="n">lcr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">MCR</span><span class="p">,</span> <span class="n">mcr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">LSR</span><span class="p">,</span> <span class="n">lsr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">MSR</span><span class="p">,</span> <span class="n">msr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">SCR</span><span class="p">,</span> <span class="n">scr</span><span class="p">);</span>
	<span class="n">__UART</span><span class="p">(</span><span class="n">GCTL</span><span class="p">,</span> <span class="n">gctl</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="p">}</span>
<span class="cp">#define UART(num) bfin_debug_mmrs_uart(parent, UART##num##_DLL, num)</span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_BF60x */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm"> * The actual debugfs generation</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">debug_mmrs_dentry</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">bfin_debug_mmrs_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">dentry</span> <span class="o">*</span><span class="n">top</span><span class="p">,</span> <span class="o">*</span><span class="n">parent</span><span class="p">;</span>

	<span class="n">pr_info</span><span class="p">(</span><span class="s">&quot;debug-mmrs: setting up Blackfin MMR debugfs</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

	<span class="n">top</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;blackfin&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">top</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;core_regs&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">debugfs_create_file</span><span class="p">(</span><span class="s">&quot;cclk&quot;</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fops_debug_cclk</span><span class="p">);</span>
	<span class="n">debugfs_create_file</span><span class="p">(</span><span class="s">&quot;sclk&quot;</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fops_debug_sclk</span><span class="p">);</span>
	<span class="n">debugfs_create_x32</span><span class="p">(</span><span class="s">&quot;last_seqstat&quot;</span><span class="p">,</span> <span class="n">S_IRUSR</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">last_seqstat</span><span class="p">);</span>
	<span class="n">D_SYSREG</span><span class="p">(</span><span class="n">cycles</span><span class="p">);</span>
	<span class="n">D_SYSREG</span><span class="p">(</span><span class="n">cycles2</span><span class="p">);</span>
	<span class="n">D_SYSREG</span><span class="p">(</span><span class="n">emudat</span><span class="p">);</span>
	<span class="n">D_SYSREG</span><span class="p">(</span><span class="n">seqstat</span><span class="p">);</span>
	<span class="n">D_SYSREG</span><span class="p">(</span><span class="n">syscfg</span><span class="p">);</span>

	<span class="cm">/* Core MMRs */</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;ctimer&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">TCNTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">TCOUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">TPERIOD</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">TSCALE</span><span class="p">);</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;cec&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT8</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT9</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT10</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT11</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT12</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT13</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT14</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT15</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EVT_OVERRIDE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">IMASK</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">IPEND</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ILAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">IPRIO</span><span class="p">);</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DBGSTAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DSPID</span><span class="p">);</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;mmu&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SRAM_BASE_ADDRESS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR10</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR11</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR12</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR13</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR14</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR15</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR8</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_ADDR9</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA10</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA11</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA12</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA13</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA14</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA15</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA8</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_DATA9</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_FAULT_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DCPLB_STATUS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DMEM_CONTROL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DTEST_COMMAND</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DTEST_DATA0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">DTEST_DATA1</span><span class="p">);</span>

	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR8</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR9</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR10</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR11</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR12</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR13</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR14</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_ADDR15</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA8</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA9</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA10</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA11</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA12</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA13</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA14</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_DATA15</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_FAULT_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">ICPLB_STATUS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">IMEM_CONTROL</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ANOMALY_05000481</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">D32</span><span class="p">(</span><span class="n">ITEST_COMMAND</span><span class="p">);</span>
		<span class="n">D32</span><span class="p">(</span><span class="n">ITEST_DATA0</span><span class="p">);</span>
		<span class="n">D32</span><span class="p">(</span><span class="n">ITEST_DATA1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;perf&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">PFCNTR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">PFCNTR1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">PFCTL</span><span class="p">);</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;trace&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">TBUF</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">TBUFCTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">TBUFSTAT</span><span class="p">);</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;watchpoint&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIACTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIA0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIA1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIA2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIA3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIA4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIA5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIACNT0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIACNT1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIACNT2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIACNT3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIACNT4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPIACNT5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPDACTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPDA0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPDA1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPDACNT0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPDACNT1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WPSTAT</span><span class="p">);</span>
<span class="cp">#ifndef CONFIG_BF60x</span>
	<span class="cm">/* System MMRs */</span>
<span class="cp">#ifdef ATAPI_CONTROL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;atapi&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_DEV_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_DEV_RXBUF</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_DEV_TXBUF</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_DMA_TFRCNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_INT_MASK</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_INT_STATUS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_LINE_STATUS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_MULTI_TIM_0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_MULTI_TIM_1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_MULTI_TIM_2</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_PIO_TFRCNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_PIO_TIM_0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_PIO_TIM_1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_REG_TIM_0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_SM_STATE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_STATUS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_TERMINATE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_UDMAOUT_TFRCNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_ULTRA_TIM_0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_ULTRA_TIM_1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_ULTRA_TIM_2</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_ULTRA_TIM_3</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_UMAIN_TFRCNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">ATAPI_XFER_LEN</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CAN_MC1) || defined(CAN0_MC1) || defined(CAN1_MC1)</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;can&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp"># ifdef CAN_MC1</span>
	<span class="n">bfin_debug_mmrs_can</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">CAN_MC1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef CAN0_MC1</span>
	<span class="n">CAN</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef CAN1_MC1</span>
	<span class="n">CAN</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CNT_COMMAND</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;counter&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">CNT_COMMAND</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">CNT_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">CNT_COUNTER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">CNT_DEBOUNCE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">CNT_IMASK</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">CNT_MAX</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">CNT_MIN</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">CNT_STATUS</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;dmac&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp">#ifdef DMAC_TC_CNT</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">DMAC_TC_CNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">DMAC_TC_PER</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef DMAC0_TC_CNT</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">DMAC0_TC_CNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">DMAC0_TC_PER</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef DMAC1_TC_CNT</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">DMAC1_TC_CNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">DMAC1_TC_PER</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef DMAC1_PERIMUX</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">DMAC1_PERIMUX</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef __ADSPBF561__</span>
	<span class="cm">/* XXX: should rewrite the MMR map */</span>
<span class="cp"># define DMA0_NEXT_DESC_PTR DMA2_0_NEXT_DESC_PTR</span>
<span class="cp"># define DMA1_NEXT_DESC_PTR DMA2_1_NEXT_DESC_PTR</span>
<span class="cp"># define DMA2_NEXT_DESC_PTR DMA2_2_NEXT_DESC_PTR</span>
<span class="cp"># define DMA3_NEXT_DESC_PTR DMA2_3_NEXT_DESC_PTR</span>
<span class="cp"># define DMA4_NEXT_DESC_PTR DMA2_4_NEXT_DESC_PTR</span>
<span class="cp"># define DMA5_NEXT_DESC_PTR DMA2_5_NEXT_DESC_PTR</span>
<span class="cp"># define DMA6_NEXT_DESC_PTR DMA2_6_NEXT_DESC_PTR</span>
<span class="cp"># define DMA7_NEXT_DESC_PTR DMA2_7_NEXT_DESC_PTR</span>
<span class="cp"># define DMA8_NEXT_DESC_PTR DMA2_8_NEXT_DESC_PTR</span>
<span class="cp"># define DMA9_NEXT_DESC_PTR DMA2_9_NEXT_DESC_PTR</span>
<span class="cp"># define DMA10_NEXT_DESC_PTR DMA2_10_NEXT_DESC_PTR</span>
<span class="cp"># define DMA11_NEXT_DESC_PTR DMA2_11_NEXT_DESC_PTR</span>
<span class="cp"># define DMA12_NEXT_DESC_PTR DMA1_0_NEXT_DESC_PTR</span>
<span class="cp"># define DMA13_NEXT_DESC_PTR DMA1_1_NEXT_DESC_PTR</span>
<span class="cp"># define DMA14_NEXT_DESC_PTR DMA1_2_NEXT_DESC_PTR</span>
<span class="cp"># define DMA15_NEXT_DESC_PTR DMA1_3_NEXT_DESC_PTR</span>
<span class="cp"># define DMA16_NEXT_DESC_PTR DMA1_4_NEXT_DESC_PTR</span>
<span class="cp"># define DMA17_NEXT_DESC_PTR DMA1_5_NEXT_DESC_PTR</span>
<span class="cp"># define DMA18_NEXT_DESC_PTR DMA1_6_NEXT_DESC_PTR</span>
<span class="cp"># define DMA19_NEXT_DESC_PTR DMA1_7_NEXT_DESC_PTR</span>
<span class="cp"># define DMA20_NEXT_DESC_PTR DMA1_8_NEXT_DESC_PTR</span>
<span class="cp"># define DMA21_NEXT_DESC_PTR DMA1_9_NEXT_DESC_PTR</span>
<span class="cp"># define DMA22_NEXT_DESC_PTR DMA1_10_NEXT_DESC_PTR</span>
<span class="cp"># define DMA23_NEXT_DESC_PTR DMA1_11_NEXT_DESC_PTR</span>
<span class="cp">#endif</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;dma&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<span class="cp">#ifdef DMA8_NEXT_DESC_PTR</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">11</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef DMA12_NEXT_DESC_PTR</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">14</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">17</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">18</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">19</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef DMA20_NEXT_DESC_PTR</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">21</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">22</span><span class="p">);</span>
	<span class="n">DMA</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;ebiu_amc&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_AMBCTL0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_AMBCTL1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EBIU_AMGCTL</span><span class="p">);</span>
<span class="cp">#ifdef EBIU_MBSCTL</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EBIU_MBSCTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_ARBSTAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_MODE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EBIU_FCTL</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef EBIU_SDGCTL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;ebiu_sdram&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp"># ifdef __ADSPBF561__</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_SDBCTL</span><span class="p">);</span>
<span class="cp"># else</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EBIU_SDBCTL</span><span class="p">);</span>
<span class="cp"># endif</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_SDGCTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EBIU_SDRRC</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EBIU_SDSTAT</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef EBIU_DDRACCT</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;ebiu_ddr&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRACCT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRARCT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBRC0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBRC1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBRC2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBRC3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBRC4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBRC5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBRC6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBRC7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBWC0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBWC1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBWC2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBWC3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBWC4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBWC5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBWC6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRBWC7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRCTL0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRCTL1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRCTL2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRCTL3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRGC0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRGC1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRGC2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRGC3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRMCCL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRMCEN</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRQUE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_DDRTACT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EBIU_ERRADD</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EBIU_ERRMST</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EBIU_RSTCTL</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef EMAC_ADDRHI</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;emac&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_ADDRHI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_ADDRLO</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_FLC</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_HASHHI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_HASHLO</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_MMC_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_MMC_RIRQE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_MMC_RIRQS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_MMC_TIRQE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_MMC_TIRQS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_OPMODE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_ALIGN</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_ALLFRM</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_ALLOCT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_BROAD</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_DMAOVF</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_EQ64</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_FCS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_GE1024</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_LNERRI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_LNERRO</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_LONG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_LT1024</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_LT128</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_LT256</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_LT512</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_MACCTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_MULTI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_OCTET</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_OK</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_OPCODE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_PAUSE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_SHORT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_TYPED</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RXC_UNICST</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RX_IRQE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RX_STAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_RX_STKY</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_STAADD</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_STADAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_SYSCTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_SYSTAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_1COL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_ABORT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_ALLFRM</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_ALLOCT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_BROAD</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_CRSERR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_DEFER</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_DMAUND</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_EQ64</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_GE1024</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_GT1COL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_LATECL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_LT1024</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_LT128</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_LT256</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_LT512</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_MACCTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_MULTI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_OCTET</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_OK</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_UNICST</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_XS_COL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TXC_XS_DFR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TX_IRQE</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TX_STAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_TX_STKY</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_VLAN1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_VLAN2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_FFCMD</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_FFCRC0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_FFCRC1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_FFMSK0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_FFMSK1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_FFMSK2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_FFMSK3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_WKUP_FFOFF</span><span class="p">);</span>
<span class="cp"># ifdef EMAC_PTP_ACCR</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_ACCR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_ADDEND</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_ALARMHI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_ALARMLO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EMAC_PTP_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_FOFF</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_FV1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_FV2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_FV3</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EMAC_PTP_ID_OFF</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_ID_SNAP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EMAC_PTP_IE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">EMAC_PTP_ISTAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_OFFSET</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_PPS_PERIOD</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_PPS_STARTHI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_PPS_STARTLO</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_RXSNAPHI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_RXSNAPLO</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_TIMEHI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_TIMELO</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_TXSNAPHI</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">EMAC_PTP_TXSNAPLO</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(EPPI0_STATUS) || defined(EPPI1_STATUS) || defined(EPPI2_STATUS)</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;eppi&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp"># ifdef EPPI0_STATUS</span>
	<span class="n">EPPI</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef EPPI1_STATUS</span>
	<span class="n">EPPI</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef EPPI2_STATUS</span>
	<span class="n">EPPI</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;gptimer&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp">#ifdef TIMER_ENABLE</span>
	<span class="n">GPTIMER_GROUP</span><span class="p">(</span><span class="n">TIMER_ENABLE</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef TIMER_ENABLE0</span>
	<span class="n">GPTIMER_GROUP</span><span class="p">(</span><span class="n">TIMER_ENABLE0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef TIMER_ENABLE1</span>
	<span class="n">GPTIMER_GROUP</span><span class="p">(</span><span class="n">TIMER_ENABLE1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>
	<span class="cm">/* XXX: Should convert BF561 MMR names */</span>
<span class="cp">#ifdef TMRS4_DISABLE</span>
	<span class="n">GPTIMER_GROUP</span><span class="p">(</span><span class="n">TMRS4_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">GPTIMER_GROUP</span><span class="p">(</span><span class="n">TMRS8_ENABLE</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="cp">#ifdef TIMER3_CONFIG</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef TIMER8_CONFIG</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef TIMER11_CONFIG</span>
	<span class="n">GPTIMER</span><span class="p">(</span><span class="mi">11</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef HMDMA0_CONTROL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;hmdma&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">HMDMA</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
	<span class="n">HMDMA</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef HOST_CONTROL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;hostdp&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">HOST_CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">HOST_STATUS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">HOST_TIMEOUT</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef IMDMA_S0_CONFIG</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;imdma&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">IMDMA</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
	<span class="n">IMDMA</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef KPAD_CTL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;keypad&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">KPAD_CTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">KPAD_PRESCALE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">KPAD_MSEL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">KPAD_ROWCOL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">KPAD_STAT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">KPAD_SOFTEVAL</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;mdma&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">MDMA</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
	<span class="n">MDMA</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">#ifdef MDMA_D2_CONFIG</span>
	<span class="n">MDMA</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
	<span class="n">MDMA</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef MXVR_CONFIG</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;mxvr&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_CONFIG</span><span class="p">);</span>
<span class="cp"># ifdef MXVR_PLL_CTL_0</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_PLL_CTL_0</span><span class="p">);</span>
<span class="cp"># endif</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_STATE_0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_STATE_1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_INT_STAT_0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_INT_STAT_1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_INT_EN_0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_INT_EN_1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_POSITION</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_MAX_POSITION</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DELAY</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_MAX_DELAY</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_LADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_GADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_AADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_8</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_9</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_10</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_11</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_12</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_13</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ALLOC_14</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_SYNC_LCHAN_0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_SYNC_LCHAN_1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_SYNC_LCHAN_2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_SYNC_LCHAN_3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_SYNC_LCHAN_4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_SYNC_LCHAN_5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_SYNC_LCHAN_6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_SYNC_LCHAN_7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA0_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA0_START_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA0_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA0_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA0_CURR_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA1_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA1_START_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA1_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA1_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA1_CURR_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA2_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA2_START_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA2_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA2_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA2_CURR_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA3_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA3_START_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA3_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA3_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA3_CURR_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA4_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA4_START_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA4_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA4_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA4_CURR_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA5_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA5_START_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA5_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA5_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA5_CURR_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA6_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA6_START_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA6_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA6_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA6_CURR_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA7_CONFIG</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA7_START_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA7_COUNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_DMA7_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_DMA7_CURR_COUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_AP_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_APRB_START_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_APRB_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_APTB_START_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_APTB_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_CM_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_CMRB_START_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_CMRB_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_CMTB_START_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_CMTB_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_RRDB_START_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_RRDB_CURR_ADDR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_PAT_DATA_0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_PAT_EN_0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_PAT_DATA_1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_PAT_EN_1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_FRAME_CNT_0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_FRAME_CNT_1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_8</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_9</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_10</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_11</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_12</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_13</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_ROUTING_14</span><span class="p">);</span>
<span class="cp"># ifdef MXVR_PLL_CTL_1</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_PLL_CTL_1</span><span class="p">);</span>
<span class="cp"># endif</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_BLOCK_CNT</span><span class="p">);</span>
<span class="cp"># ifdef MXVR_CLK_CTL</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_CLK_CTL</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef MXVR_CDRPLL_CTL</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_CDRPLL_CTL</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef MXVR_FMPLL_CTL</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">MXVR_FMPLL_CTL</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef MXVR_PIN_CTL</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_PIN_CTL</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef MXVR_SCLK_CNT</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MXVR_SCLK_CNT</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef NFC_ADDR</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;nfc&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D_WO</span><span class="p">(</span><span class="n">NFC_ADDR</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_WO</span><span class="p">(</span><span class="n">NFC_CMD</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">NFC_COUNT</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">NFC_CTL</span><span class="p">);</span>
	<span class="n">D_WO</span><span class="p">(</span><span class="n">NFC_DATA_RD</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_WO</span><span class="p">(</span><span class="n">NFC_DATA_WR</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">NFC_ECC0</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">NFC_ECC1</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">NFC_ECC2</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">NFC_ECC3</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">NFC_IRQMASK</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">NFC_IRQSTAT</span><span class="p">);</span>
	<span class="n">D_WO</span><span class="p">(</span><span class="n">NFC_PGCTL</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">NFC_READ</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">NFC_RST</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">NFC_STAT</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef OTP_CONTROL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;otp&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">OTP_CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">OTP_BEN</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">OTP_STATUS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">OTP_TIMING</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">OTP_DATA0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">OTP_DATA1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">OTP_DATA2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">OTP_DATA3</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef PINT0_MASK_SET</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;pint&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">PINT</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
	<span class="n">PINT</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">PINT</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
	<span class="n">PINT</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef PIXC_CTL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;pixc&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_CTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_PPL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_LPF</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_AHSTART</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_AHEND</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_AVSTART</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_AVEND</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_ATRANSP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_BHSTART</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_BHEND</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_BVSTART</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_BVEND</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_BTRANSP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PIXC_INTRSTAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">PIXC_RYCON</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">PIXC_GUCON</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">PIXC_BVCON</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">PIXC_CCBIAS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">PIXC_TC</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;pll&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PLL_CTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PLL_DIV</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PLL_LOCKCNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PLL_STAT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">VR_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">CHIPID</span><span class="p">);</span>	<span class="cm">/* it&#39;s part of this hardware block */</span>

<span class="cp">#if defined(PPI_CONTROL) || defined(PPI0_CONTROL) || defined(PPI1_CONTROL)</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;ppi&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp"># ifdef PPI_CONTROL</span>
	<span class="n">bfin_debug_mmrs_ppi</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">PPI_CONTROL</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef PPI0_CONTROL</span>
	<span class="n">PPI</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef PPI1_CONTROL</span>
	<span class="n">PPI</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef PWM_CTRL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;pwm&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_CTRL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_STAT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_TM</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_DT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_GATE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_CHA</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_CHB</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_CHC</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_SEG</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_SYNCWT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_CHAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_CHBL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_CHCL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_LSI</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PWM_STAT2</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef RSI_CONFIG</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;rsi&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_ARGUMENT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_CEATA_CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_CLK_CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_COMMAND</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_CONFIG</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_DATA_CNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_DATA_CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_DATA_LGTH</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_DATA_TIMER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_EMASK</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_ESTAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_FIFO_CNT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_MASK0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_MASK1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PID0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PID1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PID2</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PID3</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PID4</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PID5</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PID6</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PID7</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_PWR_CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_RD_WAIT_EN</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_RESPONSE0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_RESPONSE1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_RESPONSE2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_RESPONSE3</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RSI_RESP_CMD</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RSI_STATUS</span><span class="p">);</span>
	<span class="n">D_WO</span><span class="p">(</span><span class="n">RSI_STATUSCL</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef RTC_ALARM</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;rtc&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RTC_ALARM</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RTC_ICTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RTC_ISTAT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RTC_PREN</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">RTC_STAT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">RTC_SWCNT</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef SDH_CFG</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;sdh&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SDH_ARGUMENT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_CFG</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_CLK_CTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_COMMAND</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_DATA_CNT</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_DATA_CTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_DATA_LGTH</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SDH_DATA_TIMER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_E_MASK</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_E_STATUS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SDH_FIFO</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_FIFO_CNT</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SDH_MASK0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SDH_MASK1</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_PID0</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_PID1</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_PID2</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_PID3</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_PID4</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_PID5</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_PID6</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_PID7</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_PWR_CTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SDH_RD_WAIT_EN</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_RESPONSE0</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_RESPONSE1</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_RESPONSE2</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_RESPONSE3</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_RESP_CMD</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">D_RO</span><span class="p">(</span><span class="n">SDH_STATUS</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
	<span class="n">D_WO</span><span class="p">(</span><span class="n">SDH_STATUS_CLR</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef SECURE_CONTROL</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;security&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SECURE_CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SECURE_STATUS</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SECURE_SYSSWT</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;sic&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SWRST</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SYSCR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SIC_RVECT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR2</span><span class="p">);</span>
<span class="cp">#ifdef SIC_IAR3</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR3</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SIC_IAR4</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR6</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SIC_IAR7</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR7</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SIC_IAR8</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR8</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR9</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR10</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IAR11</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SIC_IMASK</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IMASK</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_ISR</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IWR</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SIC_IMASK0</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IMASK0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IMASK1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_ISR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_ISR1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IWR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IWR1</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SIC_IMASK2</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IMASK2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_ISR2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SIC_IWR2</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SICB_RVECT</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SICB_SWRST</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SICB_SYSCR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">SICB_RVECT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IAR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IAR1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IAR2</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IAR3</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IAR4</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IAR5</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IAR6</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IAR7</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IMASK0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IMASK1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_ISR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_ISR1</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IWR0</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">SICB_IWR1</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;spi&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp">#ifdef SPI0_REGBASE</span>
	<span class="n">SPI</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SPI1_REGBASE</span>
	<span class="n">SPI</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SPI2_REGBASE</span>
	<span class="n">SPI</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;sport&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp">#ifdef SPORT0_STAT</span>
	<span class="n">SPORT</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SPORT1_STAT</span>
	<span class="n">SPORT</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SPORT2_STAT</span>
	<span class="n">SPORT</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef SPORT3_STAT</span>
	<span class="n">SPORT</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(TWI_CLKDIV) || defined(TWI0_CLKDIV) || defined(TWI1_CLKDIV)</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;twi&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp"># ifdef TWI_CLKDIV</span>
	<span class="n">bfin_debug_mmrs_twi</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">TWI_CLKDIV</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef TWI0_CLKDIV</span>
	<span class="n">TWI</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp"># ifdef TWI1_CLKDIV</span>
	<span class="n">TWI</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp"># endif</span>
<span class="cp">#endif</span>

	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;uart&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp">#ifdef BFIN_UART_DLL</span>
	<span class="n">bfin_debug_mmrs_uart</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">BFIN_UART_DLL</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef UART0_DLL</span>
	<span class="n">UART</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef UART1_DLL</span>
	<span class="n">UART</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef UART2_DLL</span>
	<span class="n">UART</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef UART3_DLL</span>
	<span class="n">UART</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef USB_FADDR</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;usb&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_FADDR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_POWER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_INTRTX</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_INTRRX</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_INTRTXE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_INTRRXE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_INTRUSB</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_INTRUSBE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_FRAME</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_INDEX</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_TESTMODE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_GLOBINTR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_GLOBAL_CTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_TX_MAX_PACKET</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_CSR0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_RX_MAX_PACKET</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_COUNT0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_NAKLIMIT0</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP0_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP1_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP2_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP3_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP4_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP5_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP6_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP7_FIFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_OTG_DEV_CTL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_OTG_VBUS_IRQ</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_OTG_VBUS_MASK</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_LINKINFO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_VPLEN</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_HS_EOF1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_FS_EOF1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_LS_EOF1</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_APHY_CNTRL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_APHY_CALIB</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_APHY_CNTRL2</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_PHY_TEST</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_PLLOSC_CTRL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_SRP_CLKDIV</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_TXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_RXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI0_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_TXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_RXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI1_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_TXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_RXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI2_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_TXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_RXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI3_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_TXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_RXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI4_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_TXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_RXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI5_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_TXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_RXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI6_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_TXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_TXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_RXMAXP</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_RXCSR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_RXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_TXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_TXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_RXTYPE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_RXINTERVAL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_EP_NI7_TXCOUNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA_INTERRUPT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA0CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA0ADDRLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA0ADDRHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA0COUNTLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA0COUNTHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA1CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA1ADDRLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA1ADDRHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA1COUNTLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA1COUNTHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA2CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA2ADDRLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA2ADDRHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA2COUNTLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA2COUNTHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA3CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA3ADDRLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA3ADDRHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA3COUNTLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA3COUNTHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA4CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA4ADDRLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA4ADDRHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA4COUNTLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA4COUNTHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA5CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA5ADDRLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA5ADDRHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA5COUNTLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA5COUNTHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA6CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA6ADDRLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA6ADDRHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA6COUNTLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA6COUNTHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA7CONTROL</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA7ADDRLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA7ADDRHIGH</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA7COUNTLOW</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">USB_DMA7COUNTHIGH</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef WDOG_CNT</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;watchdog&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WDOG_CNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">WDOG_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WDOG_STAT</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef WDOGA_CNT</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;watchdog&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WDOGA_CNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">WDOGA_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WDOGA_STAT</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WDOGB_CNT</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">WDOGB_CTL</span><span class="p">);</span>
	<span class="n">D32</span><span class="p">(</span><span class="n">WDOGB_STAT</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="cm">/* BF533 glue */</span>
<span class="cp">#ifdef FIO_FLAG_D</span>
<span class="cp">#define PORTFIO FIO_FLAG_D</span>
<span class="cp">#endif</span>
	<span class="cm">/* BF561 glue */</span>
<span class="cp">#ifdef FIO0_FLAG_D</span>
<span class="cp">#define PORTFIO FIO0_FLAG_D</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef FIO1_FLAG_D</span>
<span class="cp">#define PORTGIO FIO1_FLAG_D</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef FIO2_FLAG_D</span>
<span class="cp">#define PORTHIO FIO2_FLAG_D</span>
<span class="cp">#endif</span>
	<span class="n">parent</span> <span class="o">=</span> <span class="n">debugfs_create_dir</span><span class="p">(</span><span class="s">&quot;port&quot;</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
<span class="cp">#ifdef PORTFIO</span>
	<span class="n">PORT</span><span class="p">(</span><span class="n">PORTFIO</span><span class="p">,</span> <span class="sc">&#39;F&#39;</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef PORTGIO</span>
	<span class="n">PORT</span><span class="p">(</span><span class="n">PORTGIO</span><span class="p">,</span> <span class="sc">&#39;G&#39;</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef PORTHIO</span>
	<span class="n">PORT</span><span class="p">(</span><span class="n">PORTHIO</span><span class="p">,</span> <span class="sc">&#39;H&#39;</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef __ADSPBF51x__</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_DRIVE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_HYSTERESIS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_MUX</span><span class="p">);</span>

	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_DRIVE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_HYSTERESIS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_MUX</span><span class="p">);</span>

	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_DRIVE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_HYSTERESIS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_MUX</span><span class="p">);</span>

	<span class="n">D16</span><span class="p">(</span><span class="n">MISCPORT_DRIVE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MISCPORT_HYSTERESIS</span><span class="p">);</span>
<span class="cp">#endif	</span><span class="cm">/* BF51x */</span><span class="cp"></span>

<span class="cp">#ifdef __ADSPBF52x__</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_DRIVE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_HYSTERESIS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_MUX</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_SLEW</span><span class="p">);</span>

	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_DRIVE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_HYSTERESIS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_MUX</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_SLEW</span><span class="p">);</span>

	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_DRIVE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_HYSTERESIS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_MUX</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_SLEW</span><span class="p">);</span>

	<span class="n">D16</span><span class="p">(</span><span class="n">MISCPORT_DRIVE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MISCPORT_HYSTERESIS</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">MISCPORT_SLEW</span><span class="p">);</span>
<span class="cp">#endif	</span><span class="cm">/* BF52x */</span><span class="cp"></span>

<span class="cp">#ifdef BF537_FAMILY</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTF_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTG_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTH_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORT_MUX</span><span class="p">);</span>
<span class="cp">#endif	</span><span class="cm">/* BF534 BF536 BF537 */</span><span class="cp"></span>

<span class="cp">#ifdef BF538_FAMILY</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTCIO_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTCIO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTCIO_CLEAR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTCIO_SET</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTCIO_TOGGLE</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTCIO_DIR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTCIO_INEN</span><span class="p">);</span>

	<span class="n">D16</span><span class="p">(</span><span class="n">PORTDIO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTDIO_CLEAR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTDIO_DIR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTDIO_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTDIO_INEN</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTDIO_SET</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTDIO_TOGGLE</span><span class="p">);</span>

	<span class="n">D16</span><span class="p">(</span><span class="n">PORTEIO</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTEIO_CLEAR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTEIO_DIR</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTEIO_FER</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTEIO_INEN</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTEIO_SET</span><span class="p">);</span>
	<span class="n">D16</span><span class="p">(</span><span class="n">PORTEIO_TOGGLE</span><span class="p">);</span>
<span class="cp">#endif	</span><span class="cm">/* BF538 BF539 */</span><span class="cp"></span>

<span class="cp">#ifdef __ADSPBF54x__</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">num</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">base</span><span class="p">;</span>

		<span class="n">base</span> <span class="o">=</span> <span class="n">PORTA_FER</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">num</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">PORT</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
			<span class="n">base</span> <span class="o">+=</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">bfin_gpio_regs</span><span class="p">);</span>
		<span class="p">}</span>

	<span class="p">}</span>
<span class="cp">#endif	</span><span class="cm">/* BF54x */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_BF60x */</span><span class="cp"></span>
	<span class="n">debug_mmrs_dentry</span> <span class="o">=</span> <span class="n">top</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">module_init</span><span class="p">(</span><span class="n">bfin_debug_mmrs_init</span><span class="p">);</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__exit</span> <span class="nf">bfin_debug_mmrs_exit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">debugfs_remove_recursive</span><span class="p">(</span><span class="n">debug_mmrs_dentry</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">module_exit</span><span class="p">(</span><span class="n">bfin_debug_mmrs_exit</span><span class="p">);</span>

<span class="n">MODULE_LICENSE</span><span class="p">(</span><span class="s">&quot;GPL&quot;</span><span class="p">);</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
