f | gptimers.c | s | 9.1K | 343 | Bob Liu | lliubbo@gmail.com | 1337583266 |  | blackfin: bf60x: fix compiling warning  Fix several compiling warning for bf60x.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | Makefile | g | 1.4K |  | Thomas Gleixner | tglx@linutronix.de | 1336215622 |  | blackfin: Use generic init_task  Same code. Use the generic version. The special Makefile treatment is pointless anyway as init_task.o contains only data which is handled by the linker script. So no point on being treated like head text.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Cc: Mike Frysinger <vapier@gentoo.org> Link: http://lkml.kernel.org/r/20120503085034.350246420@linutronix.de
f | debug-mmrs.c | s | 41K | 1792 | Bob Liu | lliubbo@gmail.com | 1337583252 |  | blackfin: add bf60x to current framework  This patch added bf60x to current blackfin kernel framework.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | bfin_ksyms.c | s | 3.7K | 114 | Mike Frysinger | vapier@gentoo.org | 1306325623 |  | Blackfin: move internal irq prototypes out of global namespace  These are only used in a few internal Blackfin places, so move the irq prototypes out of the global header and into the internal irq one.  No functional changes other than shuffling locales.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | kgdb_test.c | s | 2.4K | 91 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | nmi.c | s | 5.7K | 226 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | time.c | s | 3.7K | 133 | Yong Zhang | yong.zhang0@gmail.com | 1319617346 |  | Blackfin: irq: remove IRQF_DISABLED  This flag is a NOOP and can be removed now.  Signed-off-by: Yong Zhang <yong.zhang0@gmail.com> Acked-by: Bob Liu <lliubbo@kernel.org> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | shadow_console.c | s | 2.8K | 96 | Bob Liu | lliubbo@gmail.com | 1337583252 |  | blackfin: add bf60x to current framework  This patch added bf60x to current blackfin kernel framework.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | asm-offsets.c | s | 6.7K | 146 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | dumpstack.c | s | 4.2K | 150 | Robin Getz | robin.getz@analog.com | 1274449219 |  | Blackfin: make hardware trace output a little more useful  Decode the vast majority of insns that appear in the trace buffer to get a better idea of what's going on at a glance.  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | kgdb.c | s | 12K | 435 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | sys_bfin.c | s | 2.0K | 75 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103861 |  | blackfin: Add export.h to files using EXPORT_SYMBOL/THIS_MODULE  These particular files were just assuming that module.h was somehow in the include paths.  Give them the more minimalist header file explicitly.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | traps.c | s | 15K | 543 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | irqchip.c | s | 3.8K | 132 | Mike Frysinger | vapier@gentoo.org | 1306325623 |  | Blackfin: move internal irq prototypes out of global namespace  These are only used in a few internal Blackfin places, so move the irq prototypes out of the global header and into the internal irq one.  No functional changes other than shuffling locales.  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | vmlinux.lds.S | g | 4.7K |  | Steven Miao | realmz6@gmail.com | 1311398302 |  | Blackfin: make sure percpu section is aligned in XIP builds  The alignment is normally handled by PERCPU(), but we need to do it ourselves in the XIP build due to the custom layout.  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
d | cplb-mpu |  | 3 items |  | Barry Song | barry.song@analog.com | 1332298806 |  | blackfin: cplb-mpu: fix page mask table overflow  page mask table will overflow without xip related macros.  Signed-off-by: Barry Song <barry.song@analog.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | perf_event.c | s | 11K | 429 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103861 |  | blackfin: Add export.h to files using EXPORT_SYMBOL/THIS_MODULE  These particular files were just assuming that module.h was somehow in the include paths.  Give them the more minimalist header file explicitly.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | cplb-nompu |  | 3 items |  | Bob Liu | lliubbo@gmail.com | 1337583256 |  | blackfin: cplb: add support for bf60x  Bf60x support big CPLB pages, this commit enable it.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | ptrace.c | s | 9.9K | 351 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | fixed_code.S | g | 3.3K |  | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | time-ts.c | s | 9.3K | 336 | Steven Miao | realmz6@gmail.com | 1337583260 |  | blackfin: bf60x: enable gptimer clock source  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | bfin_dma.c | s | 16K | 522 | Steven Miao | realmz6@gmail.com | 1337583280 |  | bfin_dma: fix initcall return error in proc_dma_init()  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | cplbinfo.c | s | 3.8K | 147 | Mike Frysinger | vapier@gentoo.org | 1254905284 |  | Blackfin: cplbinfo: drop d_path() hacks  The cplbinfo was using d_path() to figure out which cpu/cplb was being parsed.  As Al pointed out, this isn't exactly reliable as it assumes the static VFS path to be unchanged, and it's just poor form.  So use the proc_create_data() to properly (and internally) pass the exact cpu/cplb requested to the parser function.  Reported-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | exception.c | s | 859B | 32 | Robin Getz | robin.getz@analog.com | 1274449217 |  | Blackfin: split kernel/traps.c  The current kernel/traps.c file has grown a bit unwieldy as more debugging functionality has been added over time, so split it up into more logical files.  There should be no functional changes here, just minor whitespace tweaking.  This should make future extensions easier to manage.  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | ipipe.c | s | 10K | 331 | David Howells | dhowells@redhat.com | 1332298808 |  | Disintegrate asm/system.h for Blackfin [ver #2]  Disintegrate asm/system.h for Blackfin.  Signed-off-by: David Howells <dhowells@redhat.com> cc: uclinux-dist-devel@blackfin.uclinux.org Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | module.c | s | 7.7K | 243 | Jonas Bonn | jonas@southpole.se | 1311510964 |  | modules: make arch's use default loader hooks  This patch removes all the module loader hook implementations in the architecture specific code where the functionality is the same as that now provided by the recently added default hooks.  Signed-off-by: Jonas Bonn <jonas@southpole.se> Acked-by: Mike Frysinger <vapier@gentoo.org> Acked-by: Geert Uytterhoeven <geert@linux-m68k.org> Tested-by: Michal Simek <monstr@monstr.eu> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | pseudodbg.c | s | 5.3K | 166 | Robin Getz | robin.getz@analog.com | 1274552346 |  | Blackfin: show the whole accumulator in the pseudo DBG insn  Rather than print just part of the accumulator register, show the whole 40 bits.  This matches the simulator behavior better.  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | stacktrace.c | s | 1.1K | 45 | Mike Frysinger | vapier@gentoo.org | 1244892014 |  | Blackfin: add preliminary support for STACKTRACE  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | bfin_gpio.c | s | 31K | 1116 | Steven Miao | realmz6@gmail.com | 1337583281 |  | bfin_gpio: fix bf548-ezkit kernel fail to boot  Fix bf548-ezkit kernel fail to boot when request peripheral pins.  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | setup.c | s | 39K | 1286 | Steven Miao | realmz6@gmail.com | 1337583307 |  | blackfin: fix build after add bf60x mach/pm.h  Signed-off-by: Steven Miao <realmz6@gmail.com> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | reboot.c | s | 2.7K | 102 | Bob Liu | lliubbo@gmail.com | 1337583252 |  | blackfin: add bf60x to current framework  This patch added bf60x to current blackfin kernel framework.  Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | flat.c | s | 2.0K | 72 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | process.c | s | 13K | 459 | Peter Zijlstra | a.p.zijlstra@chello.nl | 1338379345 |  | sched: Move nr_cpus_allowed out of 'struct sched_rt_entity'  Since nr_cpus_allowed is used outside of sched/rt.c and wants to be used outside of there more, move it to a more natural site.  Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Link: http://lkml.kernel.org/n/tip-kr61f02y9brwzkh6x53pdptm@git.kernel.org Signed-off-by: Ingo Molnar <mingo@kernel.org>
f | trace.c | s | 27K | 858 | Anton Vorontsov | anton.vorontsov@linaro.org | 1338511770 |  | blackfin: fix possible deadlock in decode_address()  Oleg Nesterov found an interesting deadlock possibility:  > sysrq_showregs_othercpus() does smp_call_function(showacpu) > and showacpu() show_stack()->decode_address(). Now suppose that IPI > interrupts the task holding read_lock(tasklist).  To fix this, blackfin should not grab the write_ variant of the tasklist lock, read_ one is enough.  Suggested-by: Oleg Nesterov <oleg@redhat.com> Signed-off-by: Anton Vorontsov <anton.vorontsov@linaro.org> Cc: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | ftrace-entry.S | g | 5.5K |  | Mike Frysinger | vapier@gentoo.org | 1281113754 |  | Blackfin: add support for dynamic ftrace  Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | early_printk.c | s | 6.0K | 237 | Robin Getz | robin.getz@analog.com | 1254904586 |  | Blackfin: mass clean up of copyright/licensing info  Bill Gatliff & David Brownell pointed out we were missing some copyrights, and licensing terms in some of the files in ./arch/blackfin, so this fixes things, and cleans them up.  It also removes:  - verbose GPL text(refer to the top level ./COPYING file)  - file names (you are looking at the file)  - bug url (it's in the ./MAINTAINERS file)  - "or later" on GPL-2, when we did not have that right  It also allows some Blackfin-specific assembly files to be under a BSD like license (for people to use them outside of Linux).  Signed-off-by: Robin Getz <robin.getz@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | signal.c | s | 7.7K | 264 | Al Viro | viro@zeniv.linux.org.uk | 1338570087 |  | blackfin: check __get_user() return value  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | ftrace.c | s | 3.2K | 104 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | entry.S | g | 1.9K |  | Mike Frysinger | vapier@gentoo.org | 1337583279 |  | Blackfin: delete fork func  We don't implement fork() since we are no-mmu, so redirect it to the existing ENOSYS stub rather than adding a custom EINVAL one.  Signed-off-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Bob Liu <lliubbo@gmail.com>
f | pwm.c | s | 1.9K | 80 | Mike Frysinger | vapier@gentoo.org | 1311398303 |  | Blackfin: pwm: implement linux/pwm.h API  For now, this only supports gptimers.  Support for dedicated PWM devices as found on newer parts to come.  Signed-off-by: Michael Hennerich <michael.hennerich@analog.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>
f | dma-mapping.c | s | 3.3K | 123 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103861 |  | blackfin: Add export.h to files using EXPORT_SYMBOL/THIS_MODULE  These particular files were just assuming that module.h was somehow in the include paths.  Give them the more minimalist header file explicitly.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
