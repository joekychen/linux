<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › blackfin › mach-bf561 › include › mach › bf561.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>bf561.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * SYSTEM MMR REGISTER AND MEMORY MAP FOR ADSP-BF561</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2005-2008 Analog Devices Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Licensed under the GPL-2 or later.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __MACH_BF561_H__</span>
<span class="cp">#define __MACH_BF561_H__</span>

<span class="cp">#define OFFSET_(x) ((x) &amp; 0x0000FFFF)</span>

<span class="cm">/*some misc defines*/</span>
<span class="cp">#define IMASK_IVG15		0x8000</span>
<span class="cp">#define IMASK_IVG14		0x4000</span>
<span class="cp">#define IMASK_IVG13		0x2000</span>
<span class="cp">#define IMASK_IVG12		0x1000</span>

<span class="cp">#define IMASK_IVG11		0x0800</span>
<span class="cp">#define IMASK_IVG10		0x0400</span>
<span class="cp">#define IMASK_IVG9		0x0200</span>
<span class="cp">#define IMASK_IVG8		0x0100</span>

<span class="cp">#define IMASK_IVG7		0x0080</span>
<span class="cp">#define IMASK_IVGTMR		0x0040</span>
<span class="cp">#define IMASK_IVGHW		0x0020</span>

<span class="cm">/***************************</span>
<span class="cm"> * Blackfin Cache setup</span>
<span class="cm"> */</span>


<span class="cp">#define BFIN_ISUBBANKS	4</span>
<span class="cp">#define BFIN_IWAYS		4</span>
<span class="cp">#define BFIN_ILINES		32</span>

<span class="cp">#define BFIN_DSUBBANKS	4</span>
<span class="cp">#define BFIN_DWAYS		2</span>
<span class="cp">#define BFIN_DLINES		64</span>

<span class="cp">#define WAY0_L			0x1</span>
<span class="cp">#define WAY1_L			0x2</span>
<span class="cp">#define WAY01_L			0x3</span>
<span class="cp">#define WAY2_L			0x4</span>
<span class="cp">#define WAY02_L			0x5</span>
<span class="cp">#define	WAY12_L			0x6</span>
<span class="cp">#define	WAY012_L		0x7</span>

<span class="cp">#define	WAY3_L			0x8</span>
<span class="cp">#define	WAY03_L			0x9</span>
<span class="cp">#define	WAY13_L			0xA</span>
<span class="cp">#define	WAY013_L		0xB</span>

<span class="cp">#define	WAY32_L			0xC</span>
<span class="cp">#define	WAY320_L		0xD</span>
<span class="cp">#define	WAY321_L		0xE</span>
<span class="cp">#define	WAYALL_L		0xF</span>

<span class="cp">#define DMC_ENABLE (2&lt;&lt;2)	</span><span class="cm">/*yes, 2, not 1 */</span><span class="cp"></span>

<span class="cm">/* IAR0 BIT FIELDS */</span>
<span class="cp">#define	PLL_WAKEUP_BIT		0xFFFFFFFF</span>
<span class="cp">#define	DMA1_ERROR_BIT		0xFFFFFF0F</span>
<span class="cp">#define	DMA2_ERROR_BIT		0xFFFFF0FF</span>
<span class="cp">#define IMDMA_ERROR_BIT		0xFFFF0FFF</span>
<span class="cp">#define	PPI1_ERROR_BIT		0xFFF0FFFF</span>
<span class="cp">#define	PPI2_ERROR_BIT		0xFF0FFFFF</span>
<span class="cp">#define	SPORT0_ERROR_BIT	0xF0FFFFFF</span>
<span class="cp">#define	SPORT1_ERROR_BIT	0x0FFFFFFF</span>
<span class="cm">/* IAR1 BIT FIELDS */</span>
<span class="cp">#define	SPI_ERROR_BIT		0xFFFFFFFF</span>
<span class="cp">#define	UART_ERROR_BIT		0xFFFFFF0F</span>
<span class="cp">#define RESERVED_ERROR_BIT	0xFFFFF0FF</span>
<span class="cp">#define	DMA1_0_BIT		0xFFFF0FFF</span>
<span class="cp">#define	DMA1_1_BIT		0xFFF0FFFF</span>
<span class="cp">#define	DMA1_2_BIT		0xFF0FFFFF</span>
<span class="cp">#define	DMA1_3_BIT		0xF0FFFFFF</span>
<span class="cp">#define	DMA1_4_BIT		0x0FFFFFFF</span>
<span class="cm">/* IAR2 BIT FIELDS */</span>
<span class="cp">#define	DMA1_5_BIT		0xFFFFFFFF</span>
<span class="cp">#define	DMA1_6_BIT		0xFFFFFF0F</span>
<span class="cp">#define	DMA1_7_BIT		0xFFFFF0FF</span>
<span class="cp">#define	DMA1_8_BIT		0xFFFF0FFF</span>
<span class="cp">#define	DMA1_9_BIT		0xFFF0FFFF</span>
<span class="cp">#define	DMA1_10_BIT		0xFF0FFFFF</span>
<span class="cp">#define	DMA1_11_BIT		0xF0FFFFFF</span>
<span class="cp">#define	DMA2_0_BIT		0x0FFFFFFF</span>
<span class="cm">/* IAR3 BIT FIELDS */</span>
<span class="cp">#define	DMA2_1_BIT		0xFFFFFFFF</span>
<span class="cp">#define	DMA2_2_BIT		0xFFFFFF0F</span>
<span class="cp">#define	DMA2_3_BIT		0xFFFFF0FF</span>
<span class="cp">#define	DMA2_4_BIT		0xFFFF0FFF</span>
<span class="cp">#define	DMA2_5_BIT		0xFFF0FFFF</span>
<span class="cp">#define	DMA2_6_BIT		0xFF0FFFFF</span>
<span class="cp">#define	DMA2_7_BIT		0xF0FFFFFF</span>
<span class="cp">#define	DMA2_8_BIT		0x0FFFFFFF</span>
<span class="cm">/* IAR4 BIT FIELDS */</span>
<span class="cp">#define	DMA2_9_BIT		0xFFFFFFFF</span>
<span class="cp">#define	DMA2_10_BIT             0xFFFFFF0F</span>
<span class="cp">#define	DMA2_11_BIT             0xFFFFF0FF</span>
<span class="cp">#define TIMER0_BIT	        0xFFFF0FFF</span>
<span class="cp">#define TIMER1_BIT              0xFFF0FFFF</span>
<span class="cp">#define TIMER2_BIT              0xFF0FFFFF</span>
<span class="cp">#define TIMER3_BIT              0xF0FFFFFF</span>
<span class="cp">#define TIMER4_BIT              0x0FFFFFFF</span>
<span class="cm">/* IAR5 BIT FIELDS */</span>
<span class="cp">#define TIMER5_BIT		0xFFFFFFFF</span>
<span class="cp">#define TIMER6_BIT              0xFFFFFF0F</span>
<span class="cp">#define TIMER7_BIT              0xFFFFF0FF</span>
<span class="cp">#define TIMER8_BIT              0xFFFF0FFF</span>
<span class="cp">#define TIMER9_BIT              0xFFF0FFFF</span>
<span class="cp">#define TIMER10_BIT             0xFF0FFFFF</span>
<span class="cp">#define TIMER11_BIT             0xF0FFFFFF</span>
<span class="cp">#define	PROG0_INTA_BIT	        0x0FFFFFFF</span>
<span class="cm">/* IAR6 BIT FIELDS */</span>
<span class="cp">#define	PROG0_INTB_BIT		0xFFFFFFFF</span>
<span class="cp">#define	PROG1_INTA_BIT          0xFFFFFF0F</span>
<span class="cp">#define	PROG1_INTB_BIT          0xFFFFF0FF</span>
<span class="cp">#define	PROG2_INTA_BIT          0xFFFF0FFF</span>
<span class="cp">#define	PROG2_INTB_BIT          0xFFF0FFFF</span>
<span class="cp">#define DMA1_WRRD0_BIT          0xFF0FFFFF</span>
<span class="cp">#define DMA1_WRRD1_BIT          0xF0FFFFFF</span>
<span class="cp">#define DMA2_WRRD0_BIT          0x0FFFFFFF</span>
<span class="cm">/* IAR7 BIT FIELDS */</span>
<span class="cp">#define DMA2_WRRD1_BIT		0xFFFFFFFF</span>
<span class="cp">#define IMDMA_WRRD0_BIT         0xFFFFFF0F</span>
<span class="cp">#define IMDMA_WRRD1_BIT         0xFFFFF0FF</span>
<span class="cp">#define	WATCH_BIT	        0xFFFF0FFF</span>
<span class="cp">#define RESERVED_1_BIT	        0xFFF0FFFF</span>
<span class="cp">#define RESERVED_2_BIT	        0xFF0FFFFF</span>
<span class="cp">#define SUPPLE_0_BIT	        0xF0FFFFFF</span>
<span class="cp">#define SUPPLE_1_BIT	        0x0FFFFFFF</span>

<span class="cm">/* Miscellaneous Values */</span>

<span class="cm">/****************************** EBIU Settings ********************************/</span>
<span class="cp">#define AMBCTL0VAL	((CONFIG_BANK_1 &lt;&lt; 16) | CONFIG_BANK_0)</span>
<span class="cp">#define AMBCTL1VAL	((CONFIG_BANK_3 &lt;&lt; 16) | CONFIG_BANK_2)</span>

<span class="cp">#if defined(CONFIG_C_AMBEN_ALL)</span>
<span class="cp">#define V_AMBEN AMBEN_ALL</span>
<span class="cp">#elif defined(CONFIG_C_AMBEN)</span>
<span class="cp">#define V_AMBEN 0x0</span>
<span class="cp">#elif defined(CONFIG_C_AMBEN_B0)</span>
<span class="cp">#define V_AMBEN AMBEN_B0</span>
<span class="cp">#elif defined(CONFIG_C_AMBEN_B0_B1)</span>
<span class="cp">#define V_AMBEN AMBEN_B0_B1</span>
<span class="cp">#elif defined(CONFIG_C_AMBEN_B0_B1_B2)</span>
<span class="cp">#define V_AMBEN AMBEN_B0_B1_B2</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_C_AMCKEN</span>
<span class="cp">#define V_AMCKEN AMCKEN</span>
<span class="cp">#else</span>
<span class="cp">#define V_AMCKEN 0x0</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_C_B0PEN</span>
<span class="cp">#define V_B0PEN 0x10</span>
<span class="cp">#else</span>
<span class="cp">#define V_B0PEN 0x00</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_C_B1PEN</span>
<span class="cp">#define V_B1PEN 0x20</span>
<span class="cp">#else</span>
<span class="cp">#define V_B1PEN 0x00</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_C_B2PEN</span>
<span class="cp">#define V_B2PEN 0x40</span>
<span class="cp">#else</span>
<span class="cp">#define V_B2PEN 0x00</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_C_B3PEN</span>
<span class="cp">#define V_B3PEN 0x80</span>
<span class="cp">#else</span>
<span class="cp">#define V_B3PEN 0x00</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_C_CDPRIO</span>
<span class="cp">#define V_CDPRIO 0x100</span>
<span class="cp">#else</span>
<span class="cp">#define V_CDPRIO 0x0</span>
<span class="cp">#endif</span>

<span class="cp">#define AMGCTLVAL	(V_AMBEN | V_AMCKEN | V_CDPRIO | V_B0PEN | V_B1PEN | V_B2PEN | V_B3PEN | 0x0002)</span>

<span class="cp">#ifdef CONFIG_BF561</span>
<span class="cp">#define CPU &quot;BF561&quot;</span>
<span class="cp">#define CPUID 0x27bb</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef CPU</span>
<span class="cp">#error &quot;Unknown CPU type - This kernel doesn&#39;t seem to be configured properly&quot;</span>
<span class="cp">#endif</span>

<span class="cp">#endif				</span><span class="cm">/* __MACH_BF561_H__  */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
