f | init.c | s | 19K | 613 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | tlb.c | s | 13K | 499 | Tony Luck | tony.luck@intel.com | 1277919976 |  | [IA64] Fix spinaphore down_spin()  Typo in down_spin() meant it only read the low 32 bits of the "serve" value, instead of the full 64 bits. This results in the system hanging when the values in ticket/serve get larger than 32-bits. A big enough system running the right test can hit this in a just a few hours.  Broken since 883a3acf5b0d4782ac35981227a0d094e8b44850     [IA64] Re-implement spinaphores using ticket lock concepts  Reported via IRC by Bjorn Helgaas  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | extable.c | s | 2.9K | 102 | Rusty Russell | rusty@rustcorp.com.au | 1245082670 |  | [IA64] fix compile error in arch/ia64/mm/extable.c  ad6561dffa17f17bb68d7207d422c26c381c4313 ("module: trim exception table on init free.") put a bogus trim_init_extable() function into ia64 which didn't compile.  Signed-off-by: Rusty Russell <rusty@rustcorp.com.au> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | Makefile | g | 315B |  | Bjorn Helgaas | bjorn.helgaas@hp.com | 1143392214 |  | [PATCH] ia64: ioremap: check EFI for valid memory attributes  Check the EFI memory map so we can use the correct memory attributes for ioremap().  Previously, we always used uncacheable access, which blows up on some machines for regular system memory.  Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com> Cc: Matt Domsch <Matt_Domsch@dell.com> Cc: "Tolentino, Matthew E" <matthew.e.tolentino@intel.com> Cc: "Brown, Len" <len.brown@intel.com> Cc: Andi Kleen <ak@muc.de> Acked-by: "Luck, Tony" <tony.luck@intel.com> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | contig.c | s | 9.5K | 308 | Tejun Heo | tj@kernel.org | 1323368528 |  | ia64: Use HAVE_MEMBLOCK_NODE_MAP  ia64 used early_node_map[] just to prime free_area_init_nodes().  Now memblock can be used for the same purpose and early_node_map[] is scheduled to be dropped.  Use memblock instead.  Signed-off-by: Tejun Heo <tj@kernel.org> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Yinghai Lu <yinghai@kernel.org> Cc: Tony Luck <tony.luck@intel.com> Cc: Fenghua Yu <fenghua.yu@intel.com> Cc: linux-ia64@vger.kernel.org
f | discontig.c | s | 22K | 711 | David Rientjes | rientjes@google.com | 1306337943 |  | arch, mm: filter disallowed nodes from arch specific show_mem functions  Architectures that implement their own show_mem() function did not pass the filter argument to show_free_areas() to appropriately avoid emitting the state of nodes that are disallowed in the current context.  This patch now passes the filter argument to show_free_areas() so those nodes are now avoided.  This patch also removes the show_free_areas() wrapper around __show_free_areas() and converts existing callers to pass an empty filter.  ia64 emits additional information for each node, so skip_free_areas_zone() must be made global to filter disallowed nodes and it is converted to use a nid argument rather than a zone for this use case.  Signed-off-by: David Rientjes <rientjes@google.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Tony Luck <tony.luck@intel.com> Cc: Fenghua Yu <fenghua.yu@intel.com> Cc: Kyle McMartin <kyle@mcmartin.ca> Cc: Helge Deller <deller@gmx.de> Cc: James Bottomley <jejb@parisc-linux.org> Cc: "David S. Miller" <davem@davemloft.net> Cc: Guan Xuetao <gxt@mprc.pku.edu.cn> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | hugetlbpage.c | s | 4.8K | 180 | Andrea Arcangeli | aarcange@redhat.com | 1294968760 |  | thp: pte alloc trans splitting  pte alloc routines must wait for split_huge_page if the pmd is not present and not null (i.e.  pmd_trans_splitting).  The additional branches are optimized away at compile time by pmd_trans_splitting if the config option is off.  However we must pass the vma down in order to know the anon_vma lock to wait for.  [akpm@linux-foundation.org: coding-style fixes] Signed-off-by: Andrea Arcangeli <aarcange@redhat.com> Acked-by: Rik van Riel <riel@redhat.com> Acked-by: Mel Gorman <mel@csn.ul.ie> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | ioremap.c | s | 3.0K | 105 | Luck, Tony | tony.luck@intel.com | 1260931510 |  | implement early_io{re,un}map for ia64  Needed for commit 2c992208 ("intel-iommu: Detect DMAR in hyperspace at probe time.) to build on IA64.  Signed-off-by: Tony Luck <tony.luck@intel.com> Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | fault.c | s | 7.1K | 245 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | numa.c | s | 2.5K | 79 | Linus Torvalds | torvalds@linux-foundation.org | 1275239283 |  | ia64: revert __node_random addition  This partially reverts commit 4ec37de89d8c758ee8115e0e64b3f994910789ee ("[IA64] Fix build breakage"), since the commit that made it necessary got reverted earlier (see commit 35926ff5fba8, 'Revert "cpusets: randomize node rotor used in cpuset_mem_spread_node()"')  Even if we ever re-introduce this, there is no reason to make __node_random be some architecture-specific function.  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
