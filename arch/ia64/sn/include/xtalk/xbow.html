<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › ia64 › sn › include › xtalk › xbow.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>xbow.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm"> * License.  See the file &quot;COPYING&quot; in the main directory of this archive</span>
<span class="cm"> * for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 1992-1997,2000-2006 Silicon Graphics, Inc. All Rights</span>
<span class="cm"> * Reserved.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _ASM_IA64_SN_XTALK_XBOW_H</span>
<span class="cp">#define _ASM_IA64_SN_XTALK_XBOW_H</span>

<span class="cp">#define XBOW_PORT_8	0x8</span>
<span class="cp">#define XBOW_PORT_C	0xc</span>
<span class="cp">#define XBOW_PORT_F	0xf</span>

<span class="cp">#define MAX_XBOW_PORTS	8	</span><span class="cm">/* number of ports on xbow chip */</span><span class="cp"></span>
<span class="cp">#define BASE_XBOW_PORT	XBOW_PORT_8	</span><span class="cm">/* Lowest external port */</span><span class="cp"></span>

<span class="cp">#define	XBOW_CREDIT	4</span>

<span class="cp">#define MAX_XBOW_NAME 	16</span>

<span class="cm">/* Register set for each xbow link */</span>
<span class="k">typedef</span> <span class="k">volatile</span> <span class="k">struct</span> <span class="n">xb_linkregs_s</span> <span class="p">{</span>
<span class="cm">/*</span>
<span class="cm"> * we access these through synergy unswizzled space, so the address</span>
<span class="cm"> * gets twiddled (i.e. references to 0x4 actually go to 0x0 and vv.)</span>
<span class="cm"> * That&#39;s why we put the register first and filler second.</span>
<span class="cm"> */</span>
	<span class="n">u32</span> <span class="n">link_ibf</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filler0</span><span class="p">;</span>	<span class="cm">/* filler for proper alignment */</span>
	<span class="n">u32</span> <span class="n">link_control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filler1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">link_status</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filler2</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">link_arb_upper</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filler3</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">link_arb_lower</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filler4</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">link_status_clr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filler5</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">link_reset</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filler6</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">link_aux_status</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filler7</span><span class="p">;</span>
<span class="p">}</span> <span class="n">xb_linkregs_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">volatile</span> <span class="k">struct</span> <span class="n">xbow_s</span> <span class="p">{</span>
	<span class="cm">/* standard widget configuration 0x000000-0x000057 */</span>
	<span class="k">struct</span> <span class="n">widget_cfg</span> <span class="n">xb_widget</span><span class="p">;</span>  <span class="cm">/* 0x000000 */</span>

	<span class="cm">/* helper fieldnames for accessing bridge widget */</span>

<span class="cp">#define xb_wid_id 		xb_widget.w_id</span>
<span class="cp">#define xb_wid_stat 		xb_widget.w_status</span>
<span class="cp">#define xb_wid_err_upper 	xb_widget.w_err_upper_addr</span>
<span class="cp">#define xb_wid_err_lower 	xb_widget.w_err_lower_addr</span>
<span class="cp">#define xb_wid_control		xb_widget.w_control</span>
<span class="cp">#define xb_wid_req_timeout 	xb_widget.w_req_timeout</span>
<span class="cp">#define xb_wid_int_upper 	xb_widget.w_intdest_upper_addr</span>
<span class="cp">#define xb_wid_int_lower 	xb_widget.w_intdest_lower_addr</span>
<span class="cp">#define xb_wid_err_cmdword 	xb_widget.w_err_cmd_word</span>
<span class="cp">#define xb_wid_llp 		xb_widget.w_llp_cfg</span>
<span class="cp">#define xb_wid_stat_clr 	xb_widget.w_tflush</span>

<span class="cm">/*</span>
<span class="cm"> * we access these through synergy unswizzled space, so the address</span>
<span class="cm"> * gets twiddled (i.e. references to 0x4 actually go to 0x0 and vv.)</span>
<span class="cm"> * That&#39;s why we put the register first and filler second.</span>
<span class="cm"> */</span>
	<span class="cm">/* xbow-specific widget configuration    0x000058-0x0000FF */</span>
	<span class="n">u32</span> <span class="n">xb_wid_arb_reload</span><span class="p">;</span> <span class="cm">/* 0x00005C */</span>
	<span class="n">u32</span> <span class="n">_pad_000058</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_perf_ctr_a</span><span class="p">;</span>	<span class="cm">/* 0x000064 */</span>
	<span class="n">u32</span> <span class="n">_pad_000060</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_perf_ctr_b</span><span class="p">;</span>	<span class="cm">/* 0x00006c */</span>
	<span class="n">u32</span> <span class="n">_pad_000068</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_nic</span><span class="p">;</span>		<span class="cm">/* 0x000074 */</span>
	<span class="n">u32</span> <span class="n">_pad_000070</span><span class="p">;</span>

	<span class="cm">/* Xbridge only */</span>
	<span class="n">u32</span> <span class="n">xb_w0_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x00007C */</span>
	<span class="n">u32</span> <span class="n">_pad_000078</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_l8_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x000084 */</span>
	<span class="n">u32</span> <span class="n">_pad_000080</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_l9_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x00008c */</span>
	<span class="n">u32</span> <span class="n">_pad_000088</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_la_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x000094 */</span>
	<span class="n">u32</span> <span class="n">_pad_000090</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_lb_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x00009c */</span>
	<span class="n">u32</span> <span class="n">_pad_000098</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_lc_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x0000a4 */</span>
	<span class="n">u32</span> <span class="n">_pad_0000a0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_ld_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x0000ac */</span>
	<span class="n">u32</span> <span class="n">_pad_0000a8</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_le_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x0000b4 */</span>
	<span class="n">u32</span> <span class="n">_pad_0000b0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_lf_rst_fnc</span><span class="p">;</span>	<span class="cm">/* 0x0000bc */</span>
	<span class="n">u32</span> <span class="n">_pad_0000b8</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_lock</span><span class="p">;</span>		<span class="cm">/* 0x0000c4 */</span>
	<span class="n">u32</span> <span class="n">_pad_0000c0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xb_lock_clr</span><span class="p">;</span>	<span class="cm">/* 0x0000cc */</span>
	<span class="n">u32</span> <span class="n">_pad_0000c8</span><span class="p">;</span>
	<span class="cm">/* end of Xbridge only */</span>
	<span class="n">u32</span> <span class="n">_pad_0000d0</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>

	<span class="cm">/* Link Specific Registers, port 8..15   0x000100-0x000300 */</span>
	<span class="n">xb_linkregs_t</span> <span class="n">xb_link_raw</span><span class="p">[</span><span class="n">MAX_XBOW_PORTS</span><span class="p">];</span>
<span class="p">}</span> <span class="n">xbow_t</span><span class="p">;</span>

<span class="cp">#define xb_link(p) xb_link_raw[(p) &amp; (MAX_XBOW_PORTS - 1)]</span>

<span class="cp">#define XB_FLAGS_EXISTS		0x1	</span><span class="cm">/* device exists */</span><span class="cp"></span>
<span class="cp">#define XB_FLAGS_MASTER		0x2</span>
<span class="cp">#define XB_FLAGS_SLAVE		0x0</span>
<span class="cp">#define XB_FLAGS_GBR		0x4</span>
<span class="cp">#define XB_FLAGS_16BIT		0x8</span>
<span class="cp">#define XB_FLAGS_8BIT		0x0</span>

<span class="cm">/* is widget port number valid?  (based on version 7.0 of xbow spec) */</span>
<span class="cp">#define XBOW_WIDGET_IS_VALID(wid) ((wid) &gt;= XBOW_PORT_8 &amp;&amp; (wid) &lt;= XBOW_PORT_F)</span>

<span class="cm">/* whether to use upper or lower arbitration register, given source widget id */</span>
<span class="cp">#define XBOW_ARB_IS_UPPER(wid) 	((wid) &gt;= XBOW_PORT_8 &amp;&amp; (wid) &lt;= XBOW_PORT_B)</span>
<span class="cp">#define XBOW_ARB_IS_LOWER(wid) 	((wid) &gt;= XBOW_PORT_C &amp;&amp; (wid) &lt;= XBOW_PORT_F)</span>

<span class="cm">/* offset of arbitration register, given source widget id */</span>
<span class="cp">#define XBOW_ARB_OFF(wid) 	(XBOW_ARB_IS_UPPER(wid) ? 0x1c : 0x24)</span>

<span class="cp">#define	XBOW_WID_ID		WIDGET_ID</span>
<span class="cp">#define	XBOW_WID_STAT		WIDGET_STATUS</span>
<span class="cp">#define	XBOW_WID_ERR_UPPER	WIDGET_ERR_UPPER_ADDR</span>
<span class="cp">#define	XBOW_WID_ERR_LOWER	WIDGET_ERR_LOWER_ADDR</span>
<span class="cp">#define	XBOW_WID_CONTROL	WIDGET_CONTROL</span>
<span class="cp">#define	XBOW_WID_REQ_TO		WIDGET_REQ_TIMEOUT</span>
<span class="cp">#define	XBOW_WID_INT_UPPER	WIDGET_INTDEST_UPPER_ADDR</span>
<span class="cp">#define	XBOW_WID_INT_LOWER	WIDGET_INTDEST_LOWER_ADDR</span>
<span class="cp">#define	XBOW_WID_ERR_CMDWORD	WIDGET_ERR_CMD_WORD</span>
<span class="cp">#define	XBOW_WID_LLP		WIDGET_LLP_CFG</span>
<span class="cp">#define	XBOW_WID_STAT_CLR	WIDGET_TFLUSH</span>
<span class="cp">#define XBOW_WID_ARB_RELOAD 	0x5c</span>
<span class="cp">#define XBOW_WID_PERF_CTR_A 	0x64</span>
<span class="cp">#define XBOW_WID_PERF_CTR_B 	0x6c</span>
<span class="cp">#define XBOW_WID_NIC 		0x74</span>

<span class="cm">/* Xbridge only */</span>
<span class="cp">#define XBOW_W0_RST_FNC		0x00007C</span>
<span class="cp">#define	XBOW_L8_RST_FNC		0x000084</span>
<span class="cp">#define	XBOW_L9_RST_FNC		0x00008c</span>
<span class="cp">#define	XBOW_LA_RST_FNC		0x000094</span>
<span class="cp">#define	XBOW_LB_RST_FNC		0x00009c</span>
<span class="cp">#define	XBOW_LC_RST_FNC		0x0000a4</span>
<span class="cp">#define	XBOW_LD_RST_FNC		0x0000ac</span>
<span class="cp">#define	XBOW_LE_RST_FNC		0x0000b4</span>
<span class="cp">#define	XBOW_LF_RST_FNC		0x0000bc</span>
<span class="cp">#define XBOW_RESET_FENCE(x) ((x) &gt; 7 &amp;&amp; (x) &lt; 16) ? \</span>
<span class="cp">				(XBOW_W0_RST_FNC + ((x) - 7) * 8) : \</span>
<span class="cp">				((x) == 0) ? XBOW_W0_RST_FNC : 0</span>
<span class="cp">#define XBOW_LOCK		0x0000c4</span>
<span class="cp">#define XBOW_LOCK_CLR		0x0000cc</span>
<span class="cm">/* End of Xbridge only */</span>

<span class="cm">/* used only in ide, but defined here within the reserved portion */</span>
<span class="cm">/* of the widget0 address space (before 0xf4) */</span>
<span class="cp">#define	XBOW_WID_UNDEF		0xe4</span>

<span class="cm">/* xbow link register set base, legal value for x is 0x8..0xf */</span>
<span class="cp">#define	XB_LINK_BASE		0x100</span>
<span class="cp">#define	XB_LINK_OFFSET		0x40</span>
<span class="cp">#define	XB_LINK_REG_BASE(x)	(XB_LINK_BASE + ((x) &amp; (MAX_XBOW_PORTS - 1)) * XB_LINK_OFFSET)</span>

<span class="cp">#define	XB_LINK_IBUF_FLUSH(x)	(XB_LINK_REG_BASE(x) + 0x4)</span>
<span class="cp">#define	XB_LINK_CTRL(x)		(XB_LINK_REG_BASE(x) + 0xc)</span>
<span class="cp">#define	XB_LINK_STATUS(x)	(XB_LINK_REG_BASE(x) + 0x14)</span>
<span class="cp">#define	XB_LINK_ARB_UPPER(x)	(XB_LINK_REG_BASE(x) + 0x1c)</span>
<span class="cp">#define	XB_LINK_ARB_LOWER(x)	(XB_LINK_REG_BASE(x) + 0x24)</span>
<span class="cp">#define	XB_LINK_STATUS_CLR(x)	(XB_LINK_REG_BASE(x) + 0x2c)</span>
<span class="cp">#define	XB_LINK_RESET(x)	(XB_LINK_REG_BASE(x) + 0x34)</span>
<span class="cp">#define	XB_LINK_AUX_STATUS(x)	(XB_LINK_REG_BASE(x) + 0x3c)</span>

<span class="cm">/* link_control(x) */</span>
<span class="cp">#define	XB_CTRL_LINKALIVE_IE		0x80000000	</span><span class="cm">/* link comes alive */</span><span class="cp"></span>
<span class="cm">/* reserved:			0x40000000 */</span>
<span class="cp">#define	XB_CTRL_PERF_CTR_MODE_MSK	0x30000000	</span><span class="cm">/* perf counter mode */</span><span class="cp"></span>
<span class="cp">#define	XB_CTRL_IBUF_LEVEL_MSK		0x0e000000	</span><span class="cm">/* input packet buffer</span>
<span class="cm">							   level */</span><span class="cp"></span>
<span class="cp">#define	XB_CTRL_8BIT_MODE		0x01000000	</span><span class="cm">/* force link into 8</span>
<span class="cm">							   bit mode */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_BAD_LLP_PKT		0x00800000	</span><span class="cm">/* force bad LLP</span>
<span class="cm">							   packet */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_WIDGET_CR_MSK		0x007c0000	</span><span class="cm">/* LLP widget credit</span>
<span class="cm">							   mask */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_WIDGET_CR_SHFT	18			</span><span class="cm">/* LLP widget credit</span>
<span class="cm">							   shift */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_ILLEGAL_DST_IE		0x00020000	</span><span class="cm">/* illegal destination</span>
<span class="cm">							 */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_OALLOC_IBUF_IE		0x00010000	</span><span class="cm">/* overallocated input</span>
<span class="cm">							   buffer */</span><span class="cp"></span>
<span class="cm">/* reserved:			0x0000fe00 */</span>
<span class="cp">#define XB_CTRL_BNDWDTH_ALLOC_IE	0x00000100	</span><span class="cm">/* bandwidth alloc */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_RCV_CNT_OFLOW_IE	0x00000080	</span><span class="cm">/* rcv retry overflow */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_XMT_CNT_OFLOW_IE	0x00000040	</span><span class="cm">/* xmt retry overflow */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_XMT_MAX_RTRY_IE		0x00000020	</span><span class="cm">/* max transmit retry */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_RCV_IE			0x00000010	</span><span class="cm">/* receive */</span><span class="cp"></span>
<span class="cp">#define XB_CTRL_XMT_RTRY_IE		0x00000008	</span><span class="cm">/* transmit retry */</span><span class="cp"></span>
<span class="cm">/* reserved:			0x00000004 */</span>
<span class="cp">#define	XB_CTRL_MAXREQ_TOUT_IE		0x00000002	</span><span class="cm">/* maximum request</span>
<span class="cm">							   timeout */</span><span class="cp"></span>
<span class="cp">#define	XB_CTRL_SRC_TOUT_IE		0x00000001	</span><span class="cm">/* source timeout */</span><span class="cp"></span>

<span class="cm">/* link_status(x) */</span>
<span class="cp">#define	XB_STAT_LINKALIVE		XB_CTRL_LINKALIVE_IE</span>
<span class="cm">/* reserved:			0x7ff80000 */</span>
<span class="cp">#define	XB_STAT_MULTI_ERR		0x00040000	</span><span class="cm">/* multi error */</span><span class="cp"></span>
<span class="cp">#define	XB_STAT_ILLEGAL_DST_ERR		XB_CTRL_ILLEGAL_DST_IE</span>
<span class="cp">#define	XB_STAT_OALLOC_IBUF_ERR		XB_CTRL_OALLOC_IBUF_IE</span>
<span class="cp">#define	XB_STAT_BNDWDTH_ALLOC_ID_MSK	0x0000ff00	</span><span class="cm">/* port bitmask */</span><span class="cp"></span>
<span class="cp">#define	XB_STAT_RCV_CNT_OFLOW_ERR	XB_CTRL_RCV_CNT_OFLOW_IE</span>
<span class="cp">#define	XB_STAT_XMT_CNT_OFLOW_ERR	XB_CTRL_XMT_CNT_OFLOW_IE</span>
<span class="cp">#define	XB_STAT_XMT_MAX_RTRY_ERR	XB_CTRL_XMT_MAX_RTRY_IE</span>
<span class="cp">#define	XB_STAT_RCV_ERR			XB_CTRL_RCV_IE</span>
<span class="cp">#define	XB_STAT_XMT_RTRY_ERR		XB_CTRL_XMT_RTRY_IE</span>
<span class="cm">/* reserved:			0x00000004 */</span>
<span class="cp">#define	XB_STAT_MAXREQ_TOUT_ERR		XB_CTRL_MAXREQ_TOUT_IE</span>
<span class="cp">#define	XB_STAT_SRC_TOUT_ERR		XB_CTRL_SRC_TOUT_IE</span>

<span class="cm">/* link_aux_status(x) */</span>
<span class="cp">#define	XB_AUX_STAT_RCV_CNT	0xff000000</span>
<span class="cp">#define	XB_AUX_STAT_XMT_CNT	0x00ff0000</span>
<span class="cp">#define	XB_AUX_STAT_TOUT_DST	0x0000ff00</span>
<span class="cp">#define	XB_AUX_LINKFAIL_RST_BAD	0x00000040</span>
<span class="cp">#define	XB_AUX_STAT_PRESENT	0x00000020</span>
<span class="cp">#define	XB_AUX_STAT_PORT_WIDTH	0x00000010</span>
<span class="cm">/*	reserved:		0x0000000f */</span>

<span class="cm">/*</span>
<span class="cm"> * link_arb_upper/link_arb_lower(x), (reg) should be the link_arb_upper</span>
<span class="cm"> * register if (x) is 0x8..0xb, link_arb_lower if (x) is 0xc..0xf</span>
<span class="cm"> */</span>
<span class="cp">#define	XB_ARB_GBR_MSK		0x1f</span>
<span class="cp">#define	XB_ARB_RR_MSK		0x7</span>
<span class="cp">#define	XB_ARB_GBR_SHFT(x)	(((x) &amp; 0x3) * 8)</span>
<span class="cp">#define	XB_ARB_RR_SHFT(x)	(((x) &amp; 0x3) * 8 + 5)</span>
<span class="cp">#define	XB_ARB_GBR_CNT(reg,x)	((reg) &gt;&gt; XB_ARB_GBR_SHFT(x) &amp; XB_ARB_GBR_MSK)</span>
<span class="cp">#define	XB_ARB_RR_CNT(reg,x)	((reg) &gt;&gt; XB_ARB_RR_SHFT(x) &amp; XB_ARB_RR_MSK)</span>

<span class="cm">/* XBOW_WID_STAT */</span>
<span class="cp">#define	XB_WID_STAT_LINK_INTR_SHFT	(24)</span>
<span class="cp">#define	XB_WID_STAT_LINK_INTR_MASK	(0xFF &lt;&lt; XB_WID_STAT_LINK_INTR_SHFT)</span>
<span class="cp">#define	XB_WID_STAT_LINK_INTR(x) \</span>
<span class="cp">	(0x1 &lt;&lt; (((x)&amp;7) + XB_WID_STAT_LINK_INTR_SHFT))</span>
<span class="cp">#define	XB_WID_STAT_WIDGET0_INTR	0x00800000</span>
<span class="cp">#define XB_WID_STAT_SRCID_MASK		0x000003c0	</span><span class="cm">/* Xbridge only */</span><span class="cp"></span>
<span class="cp">#define	XB_WID_STAT_REG_ACC_ERR		0x00000020</span>
<span class="cp">#define XB_WID_STAT_RECV_TOUT		0x00000010	</span><span class="cm">/* Xbridge only */</span><span class="cp"></span>
<span class="cp">#define XB_WID_STAT_ARB_TOUT		0x00000008	</span><span class="cm">/* Xbridge only */</span><span class="cp"></span>
<span class="cp">#define	XB_WID_STAT_XTALK_ERR		0x00000004</span>
<span class="cp">#define XB_WID_STAT_DST_TOUT		0x00000002	</span><span class="cm">/* Xbridge only */</span><span class="cp"></span>
<span class="cp">#define	XB_WID_STAT_MULTI_ERR		0x00000001</span>

<span class="cp">#define XB_WID_STAT_SRCID_SHFT		6</span>

<span class="cm">/* XBOW_WID_CONTROL */</span>
<span class="cp">#define XB_WID_CTRL_REG_ACC_IE		XB_WID_STAT_REG_ACC_ERR</span>
<span class="cp">#define XB_WID_CTRL_RECV_TOUT		XB_WID_STAT_RECV_TOUT</span>
<span class="cp">#define XB_WID_CTRL_ARB_TOUT		XB_WID_STAT_ARB_TOUT</span>
<span class="cp">#define XB_WID_CTRL_XTALK_IE		XB_WID_STAT_XTALK_ERR</span>

<span class="cm">/* XBOW_WID_INT_UPPER */</span>
<span class="cm">/* defined in xwidget.h for WIDGET_INTDEST_UPPER_ADDR */</span>

<span class="cm">/* XBOW WIDGET part number, in the ID register */</span>
<span class="cp">#define XBOW_WIDGET_PART_NUM	0x0		</span><span class="cm">/* crossbow */</span><span class="cp"></span>
<span class="cp">#define XXBOW_WIDGET_PART_NUM	0xd000		</span><span class="cm">/* Xbridge */</span><span class="cp"></span>
<span class="cp">#define	XBOW_WIDGET_MFGR_NUM	0x0</span>
<span class="cp">#define	XXBOW_WIDGET_MFGR_NUM	0x0</span>
<span class="cp">#define PXBOW_WIDGET_PART_NUM   0xd100		</span><span class="cm">/* PIC */</span><span class="cp"></span>

<span class="cp">#define	XBOW_REV_1_0		0x1	</span><span class="cm">/* xbow rev 1.0 is &quot;1&quot; */</span><span class="cp"></span>
<span class="cp">#define	XBOW_REV_1_1		0x2	</span><span class="cm">/* xbow rev 1.1 is &quot;2&quot; */</span><span class="cp"></span>
<span class="cp">#define XBOW_REV_1_2		0x3	</span><span class="cm">/* xbow rev 1.2 is &quot;3&quot; */</span><span class="cp"></span>
<span class="cp">#define XBOW_REV_1_3		0x4	</span><span class="cm">/* xbow rev 1.3 is &quot;4&quot; */</span><span class="cp"></span>
<span class="cp">#define XBOW_REV_2_0		0x5	</span><span class="cm">/* xbow rev 2.0 is &quot;5&quot; */</span><span class="cp"></span>

<span class="cp">#define XXBOW_PART_REV_1_0		(XXBOW_WIDGET_PART_NUM &lt;&lt; 4 | 0x1 )</span>
<span class="cp">#define XXBOW_PART_REV_2_0		(XXBOW_WIDGET_PART_NUM &lt;&lt; 4 | 0x2 )</span>

<span class="cm">/* XBOW_WID_ARB_RELOAD */</span>
<span class="cp">#define	XBOW_WID_ARB_RELOAD_INT	0x3f	</span><span class="cm">/* GBR reload interval */</span><span class="cp"></span>

<span class="cp">#define IS_XBRIDGE_XBOW(wid) \</span>
<span class="cp">	(XWIDGET_PART_NUM(wid) == XXBOW_WIDGET_PART_NUM &amp;&amp; \</span>
<span class="cp">	XWIDGET_MFG_NUM(wid) == XXBOW_WIDGET_MFGR_NUM)</span>

<span class="cp">#define IS_PIC_XBOW(wid) \</span>
<span class="cp">	(XWIDGET_PART_NUM(wid) == PXBOW_WIDGET_PART_NUM &amp;&amp; \</span>
<span class="cp">	XWIDGET_MFG_NUM(wid) == XXBOW_WIDGET_MFGR_NUM)</span>

<span class="cp">#define XBOW_WAR_ENABLED(pv, widid) ((1 &lt;&lt; XWIDGET_REV_NUM(widid)) &amp; pv)</span>

<span class="cp">#endif </span><span class="cm">/* _ASM_IA64_SN_XTALK_XBOW_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
