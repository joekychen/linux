d | boot |  | 6 items |  | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | hpsim_irq.c | s | 1.3K | 61 | Jiri Slaby | jslaby@suse.cz | 1331238390 |  | hpsim, initialize chip for assigned irqs  Currently, when assign_irq_vector is called and the irq connected in the simulator, the irq is not ready. request_irq will return ENOSYS immediately. It is because the irq chip is unset.  Hence set the chip properly to irq_type_hp_sim. And make sure this is done from both users of simulated interrupts.  Also we have to set handler here, otherwise we end up in handle_bad_int resulting in spam in logs and no irqs handled. We use handle_simple_irq as these are SW interrupts that need no ACK or anything.  Signed-off-by: Jiri Slaby <jslaby@suse.cz> Signed-off-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | Makefile | g | 490B |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | hpsim_ssc.h | s | 950B | 31 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | simeth.c | s | 11K | 417 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | hpsim_console.c | s | 1.6K | 64 | Peter Chubb | peterc@gelato.unsw.edu.au | 1188640345 |  | [IA64] Cleanup HPSIM code (was: Re: Enable early console for Ski simulator)  After my last patch we have a new header file for HP simulator use. Here's code to use it for stuff that used to have `extern' statements inline in the code.  Functionality should not change with this patch.  Signed-off-by: Peter Chubb <peterc@gelato.unsw.edu.au> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | hpsim.S | g | 146B |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | hpsim_machvec.c | s | 122B | 3 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | simserial.c | s | 13K | 470 | Jiri Slaby | jslaby@suse.cz | 1331239708 |  | TTY: simserial, final cleanup  * remove pointless checks (tty cannot be NULL at that points) * fix some printks (use __func__, print text directly w/o using global   strings) * remove some empty lines  This is the last patch for simserial. Overall, the driver is 400 lines shorter. Being now at 560 lines.  It was tested using ski with a busybox userspace.  Signed-off-by: Jiri Slaby <jslaby@suse.cz> Cc: Tony Luck <tony.luck@intel.com> Cc: Fenghua Yu <fenghua.yu@intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | simscsi.c | s | 8.7K | 326 | Jeff Garzik | jeff@garzik.org | 1289943203 |  | SCSI host lock push-down  Move the mid-layer's ->queuecommand() invocation from being locked with the host lock to being unlocked to facilitate speeding up the critical path for drivers who don't need this lock taken anyway.  The patch below presents a simple SCSI host lock push-down as an equivalent transformation.  No locking or other behavior should change with this patch.  All existing bugs and locking orders are preserved.  Additionally, add one parameter to queuecommand, 	struct Scsi_Host * and remove one parameter from queuecommand, 	void (*done)(struct scsi_cmnd *)  Scsi_Host* is a convenient pointer that most host drivers need anyway, and 'done' is redundant to struct scsi_cmnd->scsi_done.  Minimal code disturbance was attempted with this change.  Most drivers needed only two one-line modifications for their host lock push-down.  Signed-off-by: Jeff Garzik <jgarzik@redhat.com> Acked-by: James Bottomley <James.Bottomley@suse.de> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | hpsim_setup.c | s | 830B | 35 | Jiri Slaby | jslaby@suse.cz | 1331238390 |  | hpsim, initialize chip for assigned irqs  Currently, when assign_irq_vector is called and the irq connected in the simulator, the irq is not ready. request_irq will return ENOSYS immediately. It is because the irq chip is unset.  Hence set the chip properly to irq_type_hp_sim. And make sure this is done from both users of simulated interrupts.  Also we have to set handler here, otherwise we end up in handle_bad_int resulting in spam in logs and no irqs handled. We use handle_simple_irq as these are SW interrupts that need no ACK or anything.  Signed-off-by: Jiri Slaby <jslaby@suse.cz> Signed-off-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | Kconfig | g | 355B |  | Alexander Beregalov | a.beregalov@gmail.com | 1228951490 |  | IA64: HP_SIMETH needs to depend upon NET  From: Alexander Beregalov <a.beregalov@gmail.com>  Signed-off-by: David S. Miller <davem@davemloft.net>
