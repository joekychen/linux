f | sba_iommu.c | s | 58K | 1905 | Linus Torvalds | torvalds@linux-foundation.org | 1333584823 |  | Merge branch 'for-linus' of git://git.linaro.org/people/mszyprowski/linux-dma-mapping  Pull DMA mapping branch from Marek Szyprowski:  "Short summary for the whole series:    A few limitations have been identified in the current dma-mapping   design and its implementations for various architectures.  There exist   more than one function for allocating and freeing the buffers:   currently these 3 are used dma_{alloc, free}_coherent,   dma_{alloc,free}_writecombine, dma_{alloc,free}_noncoherent.    For most of the systems these calls are almost equivalent and can be   interchanged.  For others, especially the truly non-coherent ones   (like ARM), the difference can be easily noticed in overall driver   performance.  Sadly not all architectures provide implementations for   all of them, so the drivers might need to be adapted and cannot be   easily shared between different architectures.  The provided patches   unify all these functions and hide the differences under the already   existing dma attributes concept.  The thread with more references is   available here:      http://www.spinics.net/lists/linux-sh/msg09777.html    These patches are also a prerequisite for unifying DMA-mapping   implementation on ARM architecture with the common one provided by   dma_map_ops structure and extending it with IOMMU support.  More   information is available in the following thread:      http://thread.gmane.org/gmane.linux.kernel.cross-arch/12819    More works on dma-mapping framework are planned, especially in the   area of buffer sharing and managing the shared mappings (together with   the recently introduced dma_buf interface: commit d15bd7ee445d   "dma-buf: Introduce dma buffer sharing mechanism").    The patches in the current set introduce a new alloc/free methods   (with support for memory attributes) in dma_map_ops structure, which   will later replace dma_alloc_coherent and dma_alloc_writecombine   functions."  People finally started piping up with support for merging this, so I'm merging it as the last of the pending stuff from the merge window. Looks like pohmelfs is going to wait for 3.5 and more external support for merging.  * 'for-linus' of git://git.linaro.org/people/mszyprowski/linux-dma-mapping:   common: DMA-mapping: add NON-CONSISTENT attribute   common: DMA-mapping: add WRITE_COMBINE attribute   common: dma-mapping: introduce mmap method   common: dma-mapping: remove old alloc_coherent and free_coherent methods   Hexagon: adapt for dma_map_ops changes   Unicore32: adapt for dma_map_ops changes   Microblaze: adapt for dma_map_ops changes   SH: adapt for dma_map_ops changes   Alpha: adapt for dma_map_ops changes   SPARC: adapt for dma_map_ops changes   PowerPC: adapt for dma_map_ops changes   MIPS: adapt for dma_map_ops changes   X86 & IA64: adapt for dma_map_ops changes   common: dma-mapping: introduce generic alloc() and free() methods
f | hwsw_iommu.c | s | 1.8K | 53 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103858 |  | ia64: Add export.h to arch/ia64 specific files as required  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | aml_nfw.c | s | 5.5K | 198 | Rusty Russell | rusty@rustcorp.com.au | 1326409338 |  | module_param: make bool parameters really bool (arch)  module_param(bool) used to counter-intuitively take an int.  In fddd5201 (mid-2009) we allowed bool or int/unsigned int using a messy trick.  It's time to remove the int/unsigned int option.  For this version it'll simply give a warning, but it'll break next kernel version.  Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | Makefile | g | 293B |  | Bjorn Helgaas | bjorn.helgaas@hp.com | 1192227103 |  | [IA64] add driver for ACPI methods to call native firmware  This driver for HPQ5001 devices installs a global ACPI OpRegion handler. AML methods can use this OpRegion to call native firmware entry points.  ACPI does not define a mechanism for AML methods to call native firmware interfaces such as PAL or SAL.  This OpRegion handler adds such a mechanism. After the handler is installed, an AML method can call native firmware by storing the arguments and firmware entry point to specific offsets in the OpRegion.  When AML reads the "return value" offset from the OpRegion, this handler loads up the arguments, makes the firmware call, and returns the result.  Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com> Signed-off-by: Len Brown <len.brown@intel.com> Signed-off-by: Tony Luck <tony.luck@intel.com>
