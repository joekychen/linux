<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › ia64 › kvm › asm-offsets.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>asm-offsets.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * asm-offsets.c Generate definitions needed by assembly language modules.</span>
<span class="cm"> * This code generates raw asm output which is post-processed</span>
<span class="cm"> * to extract and format the required data.</span>
<span class="cm"> *</span>
<span class="cm"> * Anthony Xu    &lt;anthony.xu@intel.com&gt;</span>
<span class="cm"> * Xiantao Zhang &lt;xiantao.zhang@intel.com&gt;</span>
<span class="cm"> * Copyright (c) 2007 Intel Corporation  KVM support.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms and conditions of the GNU General Public License,</span>
<span class="cm"> * version 2, as published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope it will be useful, but WITHOUT</span>
<span class="cm"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span>
<span class="cm"> * more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License along with</span>
<span class="cm"> * this program; if not, write to the Free Software Foundation, Inc., 59 Temple</span>
<span class="cm"> * Place - Suite 330, Boston, MA 02111-1307 USA.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;linux/kvm_host.h&gt;</span>
<span class="cp">#include &lt;linux/kbuild.h&gt;</span>

<span class="cp">#include &quot;vcpu.h&quot;</span>

<span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_TASK_SIZE</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_SIZE</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">));</span>

	<span class="n">BLANK</span><span class="p">();</span>

	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_META_RR0_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">metaphysical_rr0</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_META_SAVED_RR0_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span>
				<span class="n">arch</span><span class="p">.</span><span class="n">metaphysical_saved_rr0</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_VRR0_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">vrr</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VPD_IRR0_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vpd</span><span class="p">,</span> <span class="n">irr</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_ITC_CHECK_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">itc_check</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_IRQ_CHECK_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">irq_check</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VPD_VHPI_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vpd</span><span class="p">,</span> <span class="n">vhpi</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_VSA_BASE_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">vsa_base</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_VPD_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">vpd</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_IRQ_CHECK</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">irq_check</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_TIMER_PENDING</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">timer_pending</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_META_SAVED_RR0_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">metaphysical_saved_rr0</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_MODE_FLAGS_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">mode_flags</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_ITC_OFS_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">itc_offset</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_LAST_ITC_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">last_itc</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_SAVED_GP_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">saved_gp</span><span class="p">));</span>

	<span class="n">BLANK</span><span class="p">();</span>

	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_B6_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">b6</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_B7_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">b7</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_CSD_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_csd</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_SSD_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_ssd</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R8_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r8</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R9_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r9</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R10_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r10</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R11_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r11</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_CR_IPSR_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">cr_ipsr</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_CR_IIP_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">cr_iip</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_CR_IFS_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">cr_ifs</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_UNAT_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_unat</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_PFS_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_pfs</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_RSC_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_rsc</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_RNAT_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_rnat</span><span class="p">));</span>

	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_BSPSTORE_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_bspstore</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_PR_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">pr</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_B0_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">b0</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_LOADRS_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">loadrs</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R1_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r1</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R12_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r12</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R13_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r13</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_FPSR_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_fpsr</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R15_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r15</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R14_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r14</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R2_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r2</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R3_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r3</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R16_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r16</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R17_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r17</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R18_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r18</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R19_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r19</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R20_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r20</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R21_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r21</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R22_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r22</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R23_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r23</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R24_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r24</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R25_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r25</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R26_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r26</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R27_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r27</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R28_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r28</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R29_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r29</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R30_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r30</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R31_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r31</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_AR_CCV_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">ar_ccv</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_F6_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">f6</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_F7_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">f7</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_F8_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">f8</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_F9_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">f9</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_F10_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">f10</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_F11_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">f11</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R4_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r4</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R5_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r5</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R6_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r6</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R7_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r7</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_EML_UNAT_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">eml_unat</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_IIPA_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">cr_iipa</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_OPCODE_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">opcode</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_CAUSE_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">cause</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_ISR_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">cr_isr</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_PT_REGS_R16_SLOT</span><span class="p">,</span>
				<span class="p">(((</span><span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">,</span> <span class="n">r16</span><span class="p">)</span>
				<span class="o">-</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_pt_regs</span><span class="p">))</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x3f</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_MODE_FLAGS_OFFSET</span><span class="p">,</span>
				<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">mode_flags</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VCPU_GP_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">__gp</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>

	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VPD_BASE_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">vpd</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VPD_VIFS_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vpd</span><span class="p">,</span> <span class="n">ifs</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VLSAPIC_INSVC_BASE_OFFSET</span><span class="p">,</span>
			<span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">kvm_vcpu</span><span class="p">,</span> <span class="n">arch</span><span class="p">.</span><span class="n">insvc</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VPD_VPTA_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vpd</span><span class="p">,</span> <span class="n">pta</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_VPD_VPSR_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vpd</span><span class="p">,</span> <span class="n">vpsr</span><span class="p">));</span>

	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_R4_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">gr</span><span class="p">[</span><span class="mi">4</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_R5_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">gr</span><span class="p">[</span><span class="mi">5</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_R12_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">gr</span><span class="p">[</span><span class="mi">12</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_R13_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">gr</span><span class="p">[</span><span class="mi">13</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_KR0_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_KR1_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_B0_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">br</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_B1_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">br</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_B2_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">br</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_RR0_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">rr</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_RSC_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">16</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_BSPSTORE_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">18</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_RNAT_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">19</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_FCR_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">21</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_EFLAG_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">24</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_CFLG_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">27</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_FSR_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">28</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_FIR_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">29</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_FDR_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">30</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_UNAT_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">36</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_FPSR_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">40</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_PFS_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">64</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_LC_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="mi">65</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_DCR_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">cr</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_IVA_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">cr</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_PTA_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">cr</span><span class="p">[</span><span class="mi">8</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_IBR0_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">ibr</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_DBR0_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">dbr</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_F2_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">fr</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_F3_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">fr</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_F32_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">fr</span><span class="p">[</span><span class="mi">32</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_F33_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">fr</span><span class="p">[</span><span class="mi">33</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_PKR0_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">pkr</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">VMM_CTX_PSR_OFFSET</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">union</span> <span class="n">context</span><span class="p">,</span> <span class="n">psr</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
<span class="p">}</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
