<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › ia64 › include › asm › unwind.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>unwind.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _ASM_IA64_UNWIND_H</span>
<span class="cp">#define _ASM_IA64_UNWIND_H</span>

<span class="cm">/*</span>
<span class="cm"> * Copyright (C) 1999-2000, 2003 Hewlett-Packard Co</span>
<span class="cm"> *	David Mosberger-Tang &lt;davidm@hpl.hp.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * A simple API for unwinding kernel stacks.  This is used for</span>
<span class="cm"> * debugging and error reporting purposes.  The kernel doesn&#39;t need</span>
<span class="cm"> * full-blown stack unwinding with all the bells and whitles, so there</span>
<span class="cm"> * is not much point in implementing the full IA-64 unwind API (though</span>
<span class="cm"> * it would of course be possible to implement the kernel API on top</span>
<span class="cm"> * of it).</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">task_struct</span><span class="p">;</span>	<span class="cm">/* forward declaration */</span>
<span class="k">struct</span> <span class="n">switch_stack</span><span class="p">;</span>	<span class="cm">/* forward declaration */</span>

<span class="k">enum</span> <span class="n">unw_application_register</span> <span class="p">{</span>
	<span class="n">UNW_AR_BSP</span><span class="p">,</span>
	<span class="n">UNW_AR_BSPSTORE</span><span class="p">,</span>
	<span class="n">UNW_AR_PFS</span><span class="p">,</span>
	<span class="n">UNW_AR_RNAT</span><span class="p">,</span>
	<span class="n">UNW_AR_UNAT</span><span class="p">,</span>
	<span class="n">UNW_AR_LC</span><span class="p">,</span>
	<span class="n">UNW_AR_EC</span><span class="p">,</span>
	<span class="n">UNW_AR_FPSR</span><span class="p">,</span>
	<span class="n">UNW_AR_RSC</span><span class="p">,</span>
	<span class="n">UNW_AR_CCV</span><span class="p">,</span>
	<span class="n">UNW_AR_CSD</span><span class="p">,</span>
	<span class="n">UNW_AR_SSD</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The following declarations are private to the unwind</span>
<span class="cm"> * implementation:</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">unw_stack</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">limit</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">top</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define UNW_FLAG_INTERRUPT_FRAME	(1UL &lt;&lt; 0)</span>

<span class="cm">/*</span>
<span class="cm"> * No user of this module should every access this structure directly</span>
<span class="cm"> * as it is subject to change.  It is declared here solely so we can</span>
<span class="cm"> * use automatic variables.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">unw_stack</span> <span class="n">regstk</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">unw_stack</span> <span class="n">memstk</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">flags</span><span class="p">;</span>
	<span class="kt">short</span> <span class="n">hint</span><span class="p">;</span>
	<span class="kt">short</span> <span class="n">prev_script</span><span class="p">;</span>

	<span class="cm">/* current frame info: */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">bsp</span><span class="p">;</span>		<span class="cm">/* backing store pointer value */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sp</span><span class="p">;</span>		<span class="cm">/* stack pointer value */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">psp</span><span class="p">;</span>		<span class="cm">/* previous sp value */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ip</span><span class="p">;</span>		<span class="cm">/* instruction pointer value */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pr</span><span class="p">;</span>		<span class="cm">/* current predicate values */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">cfm_loc</span><span class="p">;</span>		<span class="cm">/* cfm save location (or NULL) */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pt</span><span class="p">;</span>		<span class="cm">/* struct pt_regs location */</span>

	<span class="k">struct</span> <span class="n">task_struct</span> <span class="o">*</span><span class="n">task</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">switch_stack</span> <span class="o">*</span><span class="n">sw</span><span class="p">;</span>

	<span class="cm">/* preserved state: */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">bsp_loc</span><span class="p">;</span>		<span class="cm">/* previous bsp save location */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">bspstore_loc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">pfs_loc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">rnat_loc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">rp_loc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">pri_unat_loc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">unat_loc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">pr_loc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">lc_loc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">fpsr_loc</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">unw_ireg</span> <span class="p">{</span>
		<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">loc</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">unw_ireg_nat</span> <span class="p">{</span>
			<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">type</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>		<span class="cm">/* enum unw_nat_type */</span>
			<span class="kt">signed</span> <span class="kt">long</span> <span class="n">off</span> <span class="o">:</span> <span class="mi">61</span><span class="p">;</span>		<span class="cm">/* NaT word is at loc+nat.off */</span>
		<span class="p">}</span> <span class="n">nat</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">r4</span><span class="p">,</span> <span class="n">r5</span><span class="p">,</span> <span class="n">r6</span><span class="p">,</span> <span class="n">r7</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">b1_loc</span><span class="p">,</span> <span class="o">*</span><span class="n">b2_loc</span><span class="p">,</span> <span class="o">*</span><span class="n">b3_loc</span><span class="p">,</span> <span class="o">*</span><span class="n">b4_loc</span><span class="p">,</span> <span class="o">*</span><span class="n">b5_loc</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ia64_fpreg</span> <span class="o">*</span><span class="n">f2_loc</span><span class="p">,</span> <span class="o">*</span><span class="n">f3_loc</span><span class="p">,</span> <span class="o">*</span><span class="n">f4_loc</span><span class="p">,</span> <span class="o">*</span><span class="n">f5_loc</span><span class="p">,</span> <span class="o">*</span><span class="n">fr_loc</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The official API follows below:</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">unw_table_entry</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">start_offset</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">end_offset</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">info_offset</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Initialize unwind support.</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">unw_init</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="o">*</span><span class="n">unw_add_unwind_table</span> <span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">segment_base</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">gp</span><span class="p">,</span>
				   <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">table_start</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">table_end</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">unw_remove_unwind_table</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">handle</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * Prepare to unwind blocked task t.</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">unw_init_from_blocked_task</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="k">struct</span> <span class="n">task_struct</span> <span class="o">*</span><span class="n">t</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">unw_init_frame_info</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="k">struct</span> <span class="n">task_struct</span> <span class="o">*</span><span class="n">t</span><span class="p">,</span>
				 <span class="k">struct</span> <span class="n">switch_stack</span> <span class="o">*</span><span class="n">sw</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * Prepare to unwind the currently running thread.</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">unw_init_running</span> <span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">arg</span><span class="p">),</span> <span class="kt">void</span> <span class="o">*</span><span class="n">arg</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * Unwind to previous to frame.  Returns 0 if successful, negative</span>
<span class="cm"> * number in case of an error.</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">unw_unwind</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * Unwind until the return pointer is in user-land (or until an error</span>
<span class="cm"> * occurs).  Returns 0 if successful, negative number in case of</span>
<span class="cm"> * error.</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">unw_unwind_to_user</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">);</span>

<span class="cp">#define unw_is_intr_frame(info)	(((info)-&gt;flags &amp; UNW_FLAG_INTERRUPT_FRAME) != 0)</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_get_ip</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">valp</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">valp</span> <span class="o">=</span> <span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">ip</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_get_sp</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">valp</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">valp</span> <span class="o">=</span> <span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">sp</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_get_psp</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">valp</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">valp</span> <span class="o">=</span> <span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">psp</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_get_bsp</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">valp</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">valp</span> <span class="o">=</span> <span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">bsp</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_get_cfm</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">valp</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">valp</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">cfm_loc</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_set_cfm</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">cfm_loc</span> <span class="o">=</span> <span class="n">val</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_get_rp</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">info</span><span class="o">-&gt;</span><span class="n">rp_loc</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="o">*</span><span class="n">val</span> <span class="o">=</span> <span class="o">*</span><span class="n">info</span><span class="o">-&gt;</span><span class="n">rp_loc</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">unw_access_gr</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">unw_access_br</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">unw_access_fr</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ia64_fpreg</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">unw_access_ar</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">unw_access_pr</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_set_gr</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">v</span><span class="p">,</span> <span class="kt">char</span> <span class="n">nat</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">unw_access_gr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">nat</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_set_br</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">v</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">unw_access_br</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_set_fr</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ia64_fpreg</span> <span class="n">v</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">unw_access_fr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_set_ar</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">v</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">unw_access_ar</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">unw_set_pr</span> <span class="p">(</span><span class="k">struct</span> <span class="n">unw_frame_info</span> <span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">v</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">unw_access_pr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#define unw_get_gr(i,n,v,nat)	unw_access_gr(i,n,v,nat,0)</span>
<span class="cp">#define unw_get_br(i,n,v)	unw_access_br(i,n,v,0)</span>
<span class="cp">#define unw_get_fr(i,n,v)	unw_access_fr(i,n,v,0)</span>
<span class="cp">#define unw_get_ar(i,n,v)	unw_access_ar(i,n,v,0)</span>
<span class="cp">#define unw_get_pr(i,v)		unw_access_pr(i,v,0)</span>

<span class="cp">#endif </span><span class="cm">/* _ASM_UNWIND_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
