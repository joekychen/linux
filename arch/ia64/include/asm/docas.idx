f | kvm_para.h | s | 973B | 30 | Eric B Munson | emunson@mgebm.net | 1333878539 |  | kvmclock: Add functions to check if the host has stopped the vm  When a host stops or suspends a VM it will set a flag to show this.  The watchdog will use these functions to determine if a softlockup is real, or the result of a suspended VM.  Signed-off-by: Eric B Munson <emunson@mgebm.net> asm-generic changes Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Marcelo Tosatti <mtosatti@redhat.com> Signed-off-by: Avi Kivity <avi@redhat.com>
f | kmap_types.h | s | 221B | 8 | Randy Dunlap | randy.dunlap@oracle.com | 1245206871 |  | kmap_types: make most arches use generic header file  Convert most arches to use asm-generic/kmap_types.h.  Move the KM_FENCE_ macro additions into asm-generic/kmap_types.h, controlled by __WITH_KM_FENCE from each arch's kmap_types.h file.  Would be nice to be able to add custom KM_types per arch, but I don't yet see a nice, clean way to do that.  Built on x86_64, i386, mips, sparc, alpha(tonyb), powerpc(tonyb), and 68k(tonyb).  Note: avr32 should be able to remove KM_PTE2 (since it's not used) and then just use the generic kmap_types.h file.  Get avr32 maintainer approval.  Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Cc: <linux-arch@vger.kernel.org> Acked-by: Mike Frysinger <vapier@gentoo.org> Cc: Richard Henderson <rth@twiddle.net> Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: Bryan Wu <cooloney@kernel.org> Cc: Mikael Starvik <starvik@axis.com> Cc: Hirokazu Takata <takata@linux-m32r.org> Cc: "Luck Tony" <tony.luck@intel.com> Cc: Geert Uytterhoeven <geert@linux-m68k.org> Cc: Ralf Baechle <ralf@linux-mips.org> Cc: David Howells <dhowells@redhat.com> Cc: Kyle McMartin <kyle@mcmartin.ca> Cc: Martin Schwidefsky <schwidefsky@de.ibm.com> Cc: Paul Mundt <lethal@linux-sh.org> Cc: "David S. Miller" <davem@davemloft.net> Cc: Ingo Molnar <mingo@elte.hu> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: "H. Peter Anvin" <hpa@zytor.com> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Peter Zijlstra <a.p.zijlstra@chello.nl> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | paravirt_patch.h | s | 3.7K | 117 | Isaku Yamahata | yamahata@valinux.co.jp | 1238090551 |  | ia64/pv_op/binarypatch: add helper functions to support binary patching for paravirt_ops.  add helper functions to support binary patching for paravirt_ops.  Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | fpswa.h | s | 1.8K | 62 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | pci.h | s | 3.8K | 114 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
d | sn |  | 35 items |  | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | io.h | s | 11K | 374 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | machvec_dig.h | s | 406B | 13 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | cputime.h | s | 3.0K | 94 | Linus Torvalds | torvalds@linux-foundation.org | 1325868294 |  | Merge branch 'sched-core-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  * 'sched-core-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip: (40 commits)   sched/tracing: Add a new tracepoint for sleeptime   sched: Disable scheduler warnings during oopses   sched: Fix cgroup movement of waking process   sched: Fix cgroup movement of newly created process   sched: Fix cgroup movement of forking process   sched: Remove cfs bandwidth period check in tg_set_cfs_period()   sched: Fix load-balance lock-breaking   sched: Replace all_pinned with a generic flags field   sched: Only queue remote wakeups when crossing cache boundaries   sched: Add missing rcu_dereference() around ->real_parent usage   [S390] fix cputime overflow in uptime_proc_show   [S390] cputime: add sparse checking and cleanup   sched: Mark parent and real_parent as __rcu   sched, nohz: Fix missing RCU read lock   sched, nohz: Set the NOHZ_BALANCE_KICK flag for idle load balancer   sched, nohz: Fix the idle cpu check in nohz_idle_balance   sched: Use jump_labels for sched_feat   sched/accounting: Fix parameter passing in task_group_account_field   sched/accounting: Fix user/system tick double accounting   sched/accounting: Re-use scheduler statistics for the root cgroup   ...  Fix up conflicts in  - arch/ia64/include/asm/cputime.h, include/asm-generic/cputime.h 	usecs_to_cputime64() vs the sparse cleanups  - kernel/sched/fair.c, kernel/time/tick-sched.c 	scheduler changes in multiple branches
f | sections.h | s | 1.4K | 34 | Tony Luck | tony.luck@intel.com | 1222731559 |  | [IA64] Put the space for cpu0 per-cpu area into .data section  Initial fix for making sure that we can access percpu variables in all C code (commit: 10617bbe84628eb18ab5f723d3ba35005adde143) inadvertantly allocated the memory in the "percpu" section of the vmlinux ELF executable.  This confused kexec/dump.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | acpi-ext.h | s | 590B | 16 | Lin Ming | ming.m.lin@intel.com | 1230704122 |  | ACPI: remove private acpica headers from driver files  External driver files should not include any private acpica headers.  Signed-off-by: Lin Ming <ming.m.lin@intel.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | agp.h | s | 818B | 22 | David Woodhouse | David.Woodhouse@intel.com | 1249286700 |  | agp: kill phys_to_gart() and gart_to_phys()  There seems to be no reason for these -- they're a 1:1 mapping on all platforms.  Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | barrier.h | s | 2.3K | 62 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | irq_regs.h | s | 34B | 1 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | pvclock-abi.h | s | 1.4K | 43 | Isaku Yamahata | yamahata@valinux.co.jp | 1224262648 |  | ia64/xen: add a necessary header file to compile include/xen/interface/xen.h  Create include/asm-ia64/pvclock-abi.h to compile which contains the same definitions of include/asm-x86/pvclock-abi.h because ia64/xen uses same structure. Hopefully include/asm-x86/pvclock-abi.h would be moved to somewhere more generic.  Another approach is to include include/asm-x86/pvclock-abi.h from include/asm-ia64/pvclock-abi.h. But this would break if/when x86 header files are moved under arch/x86. So for now, same definitions are duplicated as suggested by Tony.  Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | cpu.h | s | 417B | 16 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
d | uv |  | 3 items |  | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | mmzone.h | s | 1.1K | 36 | Jiri Olsa | jolsa@redhat.com | 1274219152 |  | [IA64] removing redundant ifdef  Pointless to use #ifdef CONFIG_NUMA in code that is already inside another #ifdef CONFIG_NUMA.  Signed-off-by: Jiri Olsa <jolsa@redhat.com> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | mca_asm.h | s | 7.1K | 234 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | delay.h | s | 1.7K | 72 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | cacheflush.h | s | 1.7K | 42 | Ilya Loginov | isloginov@gmail.com | 1259223379 |  | block: add helpers to run flush_dcache_page() against a bio and a request's pages  Mtdblock driver doesn't call flush_dcache_page for pages in request.  So, this causes problems on architectures where the icache doesn't fill from the dcache or with dcache aliases.  The patch fixes this.  The ARCH_IMPLEMENTS_FLUSH_DCACHE_PAGE symbol was introduced to avoid pointless empty cache-thrashing loops on architectures for which flush_dcache_page() is a no-op.  Every architecture was provided with this flush pages on architectires where ARCH_IMPLEMENTS_FLUSH_DCACHE_PAGE is equal 1 or do nothing otherwise.  See "fix mtd_blkdevs problem with caches on some architectures" discussion on LKML for more information.  Signed-off-by: Ilya Loginov <isloginov@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Woodhouse <dwmw2@infradead.org> Cc: Peter Horton <phorton@bitbox.co.uk> Cc: "Ed L. Cashin" <ecashin@coraid.com> Signed-off-by: Jens Axboe <jens.axboe@oracle.com>
f | segment.h | s | 162B | 4 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | current.h | s | 379B | 13 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | machvec_xen.h | s | 676B | 19 | Isaku Yamahata | yamahata@valinux.co.jp | 1224263336 |  | ia64/xen: define xen machine vector for domU.  define xen machine vector for domU.  Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | perfmon.h | s | 10K | 230 | Justin P. Mattock | justinmattock@gmail.com | 1296642681 |  | fix typos 'comamnd' -> 'command' in comments  Signed-off-by: Justin P. Mattock <justinmattock@gmail.com>
f | machvec_hpsim.h | s | 501B | 15 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | ia64regs.h | s | 2.7K | 87 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | sync_bitops.h | s | 1.2K | 41 | Isaku Yamahata | yamahata@valinux.co.jp | 1224262413 |  | ia64/xen: introduce sync bitops which is necessary for ia64/xen support.  define sync bitops which is necessary for ia64/xen. This bit operation is used to communicate with VMM or other guest kernel Even when this kernel is built for UP, VMM might be SMP so that those operation must always use atomic operation.  Cc: Robin Holt <holt@sgi.com> Cc: Jeremy Fitzhardinge <jeremy@goop.org> Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
d | xen |  | 12 items |  | Konrad Rzeszutek Wilk | konrad.wilk@oracle.com | 1331401484 |  | xen/enlighten: Expose MWAIT and MWAIT_LEAF if hypervisor OKs it.  For the hypervisor to take advantage of the MWAIT support it needs to extract from the ACPI _CST the register address. But the hypervisor does not have the support to parse DSDT so it relies on the initial domain (dom0) to parse the ACPI Power Management information and push it up to the hypervisor. The pushing of the data is done by the processor_harveset_xen module which parses the information that the ACPI parser has graciously exposed in 'struct acpi_processor'.  For the ACPI parser to also expose the Cx states for MWAIT, we need to expose the MWAIT capability (leaf 1). Furthermore we also need to expose the MWAIT_LEAF capability (leaf 5) for cstate.c to properly function.  The hypervisor could expose these flags when it traps the XEN_EMULATE_PREFIX operations, but it can't do it since it needs to be backwards compatible. Instead we choose to use the native CPUID to figure out if the MWAIT capability exists and use the XEN_SET_PDC query hypercall to figure out if the hypervisor wants us to expose the MWAIT_LEAF capability or not.  Note: The XEN_SET_PDC query was implemented in c/s 23783: "ACPI: add _PDC input override mechanism".  With this in place, instead of  C3 ACPI IOPORT 415 we get now  C3:ACPI FFH INTEL MWAIT 0x20  Note: The cpu_idle which would be calling the mwait variants for idling never gets set b/c we set the default pm_idle to be the hypercall variant.  Acked-by: Jan Beulich <JBeulich@suse.com> [v2: Fix missing header file include and #ifdef] Signed-off-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
f | elf.h | s | 9.9K | 205 | Daisuke HATAYAMA | d.hatayama@jp.fujitsu.com | 1267903605 |  | elf coredump: replace ELF_CORE_EXTRA_* macros by functions  elf_core_dump() and elf_fdpic_core_dump() use #ifdef and the corresponding macro for hiding _multiline_ logics in functions.  This patch removes #ifdef and replaces ELF_CORE_EXTRA_* by corresponding functions.  For architectures not implemeonting ELF_CORE_EXTRA_*, we use weak functions in order to reduce a range of modification.  This cleanup is for my next patches, but I think this cleanup itself is worth doing regardless of my firnal purpose.  Signed-off-by: Daisuke HATAYAMA <d.hatayama@jp.fujitsu.com> Cc: "Luck, Tony" <tony.luck@intel.com> Cc: Jeff Dike <jdike@addtoit.com> Cc: David Howells <dhowells@redhat.com> Cc: Greg Ungerer <gerg@snapgear.com> Cc: Roland McGrath <roland@redhat.com> Cc: Oleg Nesterov <oleg@redhat.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: Alexander Viro <viro@zeniv.linux.org.uk> Cc: Andi Kleen <andi@firstfloor.org> Cc: Alan Cox <alan@lxorguk.ukuu.org.uk> Cc: <linux-arch@vger.kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | mca.h | s | 5.8K | 154 | Takao Indoh | indou.takao@jp.fujitsu.com | 1260837478 |  | [IA64] Save I-resources to ia64_sal_os_state  This is a patch related to this discussion. http://www.spinics.net/lists/linux-ia64/msg07605.html  When INIT is sent, ip/psr/pfs register is stored to the I-resources (iip/ipsr/ifs registers), and they are copied in the min-state save area(pmsa_{iip,ipsr,ifs}).  Therefore, in creating pt_regs at ia64_mca_modify_original_stack(), cr_{iip,ipsr,ifs} should be derived from pmsa_{iip,ipsr,ifs}. But current code copies pmsa_{xip,xpsr,xfs} to cr_{iip,ipsr,ifs} when PSR.ic is 0.  finish_pt_regs(struct pt_regs *regs, const pal_min_state_area_t *ms,                 unsigned long *nat) { (snip)         if (ia64_psr(regs)->ic) {                 regs->cr_iip = ms->pmsa_iip;                 regs->cr_ipsr = ms->pmsa_ipsr;                 regs->cr_ifs = ms->pmsa_ifs;         } else {                 regs->cr_iip = ms->pmsa_xip;                 regs->cr_ipsr = ms->pmsa_xpsr;                 regs->cr_ifs = ms->pmsa_xfs;         }  It's ok when PSR.ic is not 0. But when PSR.ic is 0, this could be a problem when we investigate kernel as the value of regs->cr_iip does not point to where INIT really interrupted.  At first I tried to change finish_pt_regs() so that it uses always pmsa_{iip,ipsr,ifs} for cr_{iip,ipsr,ifs}, but Keith Owens pointed out it could cause another problem if I change it.  >The only problem I can think of is an MCA/INIT >arriving while code like SAVE_MIN or SAVE_REST is executing.  Back >tracing at that point using pmsa_iip is going to be a problem, you have >no idea what state the registers or stack are in.  I confirmed he was right, so I decided to keep it as-is and to save pmsa_{iip,ipsr,ifs} to ia64_sal_os_state for debugging.  An attached patch is just adding new members into ia64_sal_os_state to save pmsa_{iip,ipsr,ifs}.  Signed-off-by: Takao Indoh <indou.takao@jp.fujitsu.com> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | local64.h | s | 33B | 1 | Peter Zijlstra | a.p.zijlstra@chello.nl | 1276074756 |  | arch: Implement local64_t  On 64bit, local_t is of size long, and thus we make local64_t an alias. On 32bit, we fall back to atomic64_t. (architecture can provide optimized 32-bit version)  (This new facility is to be used by perf events optimizations.)  Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Cc: linux-arch@vger.kernel.org Cc: Andrew Morton <akpm@linux-foundation.org> Cc: Linus Torvalds <torvalds@linux-foundation.org> LKML-Reference: <new-submission> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | tlb.h | s | 8.0K | 248 | Peter Zijlstra | a.p.zijlstra@chello.nl | 1306337955 |  | ia64: mmu_gather rework  Fix up the ia64 mmu_gather code to conform to the new API.  Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Acked-by: Tony Luck <tony.luck@intel.com> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: David Miller <davem@davemloft.net> Cc: Martin Schwidefsky <schwidefsky@de.ibm.com> Cc: Russell King <rmk@arm.linux.org.uk> Cc: Paul Mundt <lethal@linux-sh.org> Cc: Jeff Dike <jdike@addtoit.com> Cc: Richard Weinberger <richard@nod.at> Cc: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com> Cc: Hugh Dickins <hughd@google.com> Cc: Mel Gorman <mel@csn.ul.ie> Cc: KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com> Cc: Nick Piggin <npiggin@kernel.dk> Cc: Namhyung Kim <namhyung@gmail.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | resource.h | s | 152B | 5 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | serial.h | s | 446B | 15 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | unaligned.h | s | 298B | 8 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | gcc_intrin.h | s | 18K | 529 | Matthew Wilcox | matthew@wil.cx | 1245256429 |  | [IA64] Convert ia64 to use int-ll64.h  It is generally agreed that it would be beneficial for u64 to be an unsigned long long on all architectures.  ia64 (in common with several other 64-bit architectures) currently uses unsigned long.  Migrating piecemeal is too painful; this giant patch fixes all compilation warnings and errors that come as a result of switching to use int-ll64.h.  Note that userspace will still see __u64 defined as unsigned long.  This is important as it affects C++ name mangling.  [Updated by Tony Luck to change efi.h:efi_freemem_callback_t to use  u64 for start/end rather than unsigned long]  Signed-off-by: Matthew Wilcox <willy@linux.intel.com> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | numa.h | s | 2.1K | 59 | Lee Schermerhorn | lee.schermerhorn@hp.com | 1260895992 |  | hugetlb: add generic definition of NUMA_NO_NODE  Move definition of NUMA_NO_NODE from ia64 and x86_64 arch specific headers to generic header 'linux/numa.h' for use in generic code.  NUMA_NO_NODE replaces bare '-1' where it's used in this series to indicate "no node id specified".  Ultimately, it can be used to replace the -1 elsewhere where it is used similarly.  Signed-off-by: Lee Schermerhorn <lee.schermerhorn@hp.com> Acked-by: David Rientjes <rientjes@google.com> Acked-by: Mel Gorman <mel@csn.ul.ie> Reviewed-by: Andi Kleen <andi@firstfloor.org> Cc: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com> Cc: Randy Dunlap <randy.dunlap@oracle.com> Cc: Nishanth Aravamudan <nacc@us.ibm.com> Cc: Adam Litke <agl@us.ibm.com> Cc: Andy Whitcroft <apw@canonical.com> Cc: Eric Whitney <eric.whitney@hp.com> Cc: Christoph Lameter <cl@linux-foundation.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | machvec_uv.h | s | 680B | 22 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | ucontext.h | s | 297B | 9 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | perfmon_default_smpl.h | s | 3.4K | 71 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | machvec_sn2.h | s | 4.7K | 112 | Ingo Molnar | mingo@elte.hu | 1232096950 |  | Merge branch 'linus' into core/iommu  Conflicts: 	arch/ia64/include/asm/dma-mapping.h 	arch/ia64/include/asm/machvec.h 	arch/ia64/include/asm/machvec_sn2.h
f | termios.h | s | 2.8K | 83 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | bitsperlong.h | s | 171B | 5 | Arnd Bergmann | arnd@arndb.de | 1244746934 |  | asm-generic: introduce asm/bitsperlong.h  This provides a reliable way for asm-generic/types.h and other files to find out if it is running on a 32 or 64 bit platform.  We cannot use CONFIG_64BIT for this in headers that are included from user space because CONFIG symbols are not available there. We also cannot do it inside of asm/types.h because some headers need the word size but cannot include types.h.  The solution is to introduce a new header <asm/bitsperlong.h> that defines both __BITS_PER_LONG for user space and BITS_PER_LONG for usage in the kernel. The asm-generic version falls back to 32 bit unless the architecture overrides it, which I did for all 64 bit platforms.  Signed-off-by: Remis Lima Baima <remis.developer@googlemail.com> Signed-off-by: Arnd Bergmann <arnd@arndb.de>
f | ioctls.h | s | 120B | 4 | Jeff Mahoney | jeffm@suse.com | 1287768000 |  | ioctl: Use asm-generic/ioctls.h on ia64 (enables termiox)  This patch converts ia64 to use asm-generic/ioctls.h instead of its own version.  The differences between the arch-specific version and the generic version are as follows:  - The generic version adds TIOCSRS485 and TIOCGRS485, which are unused   by any driver available on this architecture. - The generic version adds support for termiox  Cc: Tony Luck <tony.luck@intel.com> Cc: Fenghua Yu <fenghua.yu@intel.com> Signed-off-by: Jeff Mahoney <jeffm@suse.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | smp.h | s | 3.2K | 110 | Rusty Russell | rusty@rustcorp.com.au | 1253750687 |  | cpumask: remove arch_send_call_function_ipi  Now everyone is converted to arch_send_call_function_ipi_mask, remove the shim and the #defines.  Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | siginfo.h | s | 3.2K | 113 | Andi Kleen | ak@linux.intel.com | 1286869030 |  | Add _addr_lsb field to ia64 siginfo  The huge pages code uses the siginfo _addr_lsb field, but ia64 was missing it. Add it to ia64 too (over some padding) to avoid compilation failures.  Acked-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Andi Kleen <ak@linux.intel.com>
f | cyclone.h | s | 403B | 14 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | kvm_host.h | s | 16K | 516 | Avi Kivity | avi@redhat.com | 1334878507 |  | KVM: Fix page-crossing MMIO  MMIO that are split across a page boundary are currently broken - the code does not expect to be aborted by the exit to userspace for the first MMIO fragment.  This patch fixes the problem by generalizing the current code for handling 16-byte MMIOs to handle a number of "fragments", and changes the MMIO code to create those fragments.  Signed-off-by: Avi Kivity <avi@redhat.com> Signed-off-by: Marcelo Tosatti <mtosatti@redhat.com>
f | dma-mapping.h | s | 2.8K | 86 | Andrzej Pietrasiewicz | andrzej.p@samsung.com | 1332945391 |  | X86 & IA64: adapt for dma_map_ops changes  Adapt core x86 and IA64 architecture code for dma_map_ops changes: replace alloc/free_coherent with generic alloc/free methods.  Signed-off-by: Andrzej Pietrasiewicz <andrzej.p@samsung.com> Acked-by: Kyungmin Park <kyungmin.park@samsung.com> [removed swiotlb related changes and replaced it with wrappers,  merged with IA64 patch to avoid inter-patch dependences in intel-iommu code] Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com> Reviewed-by: Arnd Bergmann <arnd@arndb.de> Acked-by: Tony Luck <tony.luck@intel.com>
f | paravirt_privop.h | s | 14K | 416 | Isaku Yamahata | yamahata@valinux.co.jp | 1240245989 |  | [IA64] fix allmodconfig compilation breakage.  This patch fixes the following compilation error caused by recursive inclusion of kernel.h which defines BUILD_BUG_ON(). In this case, the case it catches will be caught by the case CONFIG_PARAVIRT=n, so removing it would not hurt compile time check very much. So fix the breakage by removing it.    CC      arch/ia64/kernel/asm-offsets.s In file included from include/linux/bitops.h:17,                  from include/linux/kernel.h:15,                  from include/linux/sched.h:52,                  from arch/ia64/kernel/asm-offsets.c:9: arch/ia64/include/asm/bitops.h: In function 'set_bit': arch/ia64/include/asm/bitops.h:47: error: implicit declaration of function 'BUILD_BUG_ON'  Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | machvec.h | s | 12K | 348 | Ingo Molnar | mingo@elte.hu | 1232096950 |  | Merge branch 'linus' into core/iommu  Conflicts: 	arch/ia64/include/asm/dma-mapping.h 	arch/ia64/include/asm/machvec.h 	arch/ia64/include/asm/machvec_sn2.h
f | types.h | s | 1008B | 36 | Al Viro | viro@zeniv.linux.org.uk | 1325649317 |  | consolidate umode_t declarations  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | iosapic.h | s | 3.3K | 105 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | bugs.h | s | 397B | 16 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | kdebug.h | s | 1.6K | 55 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | hw_irq.h | s | 6.5K | 167 | Thomas Gleixner | tglx@linutronix.de | 1301402885 |  | ia64: Remove redundant declaration of irq_desc[]  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
d | native |  | 4 items |  | Isaku Yamahata | yamahata@valinux.co.jp | 1238090506 |  | ia64/pv_ops: paravirtualize gate.S.  paravirtualize gate.S.  Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | sparsemem.h | s | 582B | 17 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | nodedata.h | s | 1.9K | 52 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | bitops.h | s | 11K | 413 | Akinobu Mita | akinobu.mita@gmail.com | 1311724186 |  | asm-generic: add another generic ext2 atomic bitops  The majority of architectures implement ext2 atomic bitops as test_and_{set,clear}_bit() without spinlock.  This adds this type of generic implementation in ext2-atomic-setbit.h and use it wherever possible.  Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com> Suggested-by: Andreas Dilger <adilger@dilger.ca> Suggested-by: Arnd Bergmann <arnd@arndb.de> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | kprobes.h | s | 3.7K | 113 | Tony Luck | tony.luck@intel.com | 1262821955 |  | [IA64] sanity in #include files.  Move fnptr to types.h  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | dma.h | s | 427B | 16 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | checksum.h | s | 2.1K | 68 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | ptrace.h | s | 12K | 324 | Eric Paris | eparis@redhat.com | 1326835016 |  | Audit: push audit success and retcode into arch ptrace.h  The audit system previously expected arches calling to audit_syscall_exit to supply as arguments if the syscall was a success and what the return code was. Audit also provides a helper AUDITSC_RESULT which was supposed to simplify things by converting from negative retcodes to an audit internal magic value stating success or failure.  This helper was wrong and could indicate that a valid pointer returned to userspace was a failed syscall.  The fix is to fix the layering foolishness.  We now pass audit_syscall_exit a struct pt_reg and it in turns calls back into arch code to collect the return value and to determine if the syscall was a success or failure.  We also define a generic is_syscall_success() macro which determines success/failure based on if the value is < -MAX_ERRNO.  This works for arches like x86 which do not use a separate mechanism to indicate syscall failure.  We make both the is_syscall_success() and regs_return_value() static inlines instead of macros.  The reason is because the audit function must take a void* for the regs.  (uml calls theirs struct uml_pt_regs instead of just struct pt_regs so audit_syscall_exit can't take a struct pt_regs).  Since the audit function takes a void* we need to use static inlines to cast it back to the arch correct structure to dereference it.  The other major change is that on some arches, like ia64, MIPS and ppc, we change regs_return_value() to give us the negative value on syscall failure. THE only other user of this macro, kretprobe_example.c, won't notice and it makes the value signed consistently for the audit functions across all archs.  In arch/sh/kernel/ptrace_64.c I see that we were using regs[9] in the old audit code as the return value.  But the ptrace_64.h code defined the macro regs_return_value() as regs[3].  I have no idea which one is correct, but this patch now uses the regs_return_value() function, so it now uses regs[3].  For powerpc we previously used regs->result but now use the regs_return_value() function which uses regs->gprs[3].  regs->gprs[3] is always positive so the regs_return_value(), much like ia64 makes it negative before calling the audit code when appropriate.  Signed-off-by: Eric Paris <eparis@redhat.com> Acked-by: H. Peter Anvin <hpa@zytor.com> [for x86 portion] Acked-by: Tony Luck <tony.luck@intel.com> [for ia64] Acked-by: Richard Weinberger <richard@nod.at> [for uml] Acked-by: David S. Miller <davem@davemloft.net> [for sparc] Acked-by: Ralf Baechle <ralf@linux-mips.org> [for mips] Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> [for ppc]
f | asmmacro.h | s | 3.3K | 113 | Denys Vlasenko | vda.linux@googlemail.com | 1267611959 |  | Rename .data..patch.XXX to .data..patch.XXX.  Signed-off-by: Denys Vlasenko <vda.linux@googlemail.com> Signed-off-by: Michal Marek <mmarek@suse.cz>
f | setup.h | s | 861B | 21 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | errno.h | s | 31B | 1 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | clocksource.h | s | 237B | 7 | H. Peter Anvin | hpa@zytor.com | 1311280445 |  | clocksource: Change __ARCH_HAS_CLOCKSOURCE_DATA to a CONFIG option  The machinery for __ARCH_HAS_CLOCKSOURCE_DATA assumed a file in asm-generic would be the default for architectures without their own file in asm/, but that is not how it works.  Replace it with a Kconfig option instead.  Link: http://lkml.kernel.org/r/4E288AA6.7090804@zytor.com Signed-off-by: H. Peter Anvin <hpa@zytor.com> Cc: Andy Lutomirski <luto@mit.edu> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Tony Luck <tony.luck@intel.com>
f | mmu_context.h | s | 5.2K | 168 | Rusty Russell | rusty@rustcorp.com.au | 1237174968 |  | cpumask: use mm_cpumask() wrapper: ia64  Makes code futureproof against the impending change to mm->cpu_vm_mask.  It's also a chance to use the new cpumask_ ops which take a pointer (the older ones are deprecated, but there's no hurry for arch code).  Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | unwind.h | s | 5.7K | 197 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | mc146818rtc.h | s | 228B | 7 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | acpi.h | s | 5.5K | 171 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | cache.h | s | 732B | 23 | Denys Vlasenko | vda.linux@googlemail.com | 1267611960 |  | Rename .data.read_mostly to .data..read_mostly.  Signed-off-by: Denys Vlasenko <vda.linux@googlemail.com> Signed-off-by: Michal Marek <mmarek@suse.cz>
f | ftrace.h | s | 709B | 20 | Tony Luck | tony.luck@intel.com | 1262821955 |  | [IA64] sanity in #include files.  Move fnptr to types.h  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | esi.h | s | 848B | 24 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | machvec_dig_vtd.h | s | 515B | 15 | FUJITA Tomonori | fujita.tomonori@lab.ntt.co.jp | 1231247210 |  | remove dma operations in struct ia64_machine_vector  We don't need dma operation hooks in struct ia64_machine_vector now. This also removes unused ia64_mv_dma_* typedefs.  Signed-off-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp> Acked-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | idle.h | s | 161B | 5 | Jan Beulich | jbeulich@novell.com | 1241548993 |  | [IA64] xen_domu_defconfig: fix build issues/warnings  - drivers/xen/events.c did not compile - xen_setup_hook caused a modpost section warning - the use of u64 (instead of unsigned long long) together with a %llu   in drivers/xen/balloon.c caused a compiler warning  Signed-off-by: Jan Beulich <jbeulich@novell.com> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | user.h | s | 2.2K | 51 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | msidef.h | s | 1.4K | 31 | Xiantao Zhang | xiantao.zhang@intel.com | 1237885392 |  | ia64: Move the macro definitions related to MSI to one header file.  For kvm's MSI support, it needs these macros defined in ia64_msi.c, and to avoid duplicate them, move them to one header file and share with kvm.  Signed-off-by: Xiantao Zhang <xiantao.zhang@intel.com> Acked-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Avi Kivity <avi@redhat.com>
f | statfs.h | s | 492B | 16 | David Woodhouse | David.Woodhouse@intel.com | 1220517973 |  | IA64: Use <asm-generic/statfs.h>  Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | termbits.h | s | 4.7K | 192 | hyc@symas.com | hyc@symas.com | 1281473259 |  | tty: Add EXTPROC support for LINEMODE  This patch is against the 2.6.34 source.  Paraphrased from the 1989 BSD patch by David Borman @ cray.com:       These are the changes needed for the kernel to support      LINEMODE in the server.       There is a new bit in the termios local flag word, EXTPROC.      When this bit is set, several aspects of the terminal driver      are disabled.  Input line editing, character echo, and mapping      of signals are all disabled.  This allows the telnetd to turn      off these functions when in linemode, but still keep track of      what state the user wants the terminal to be in.       New ioctl:          TIOCSIG         Generate a signal to processes in the                          current process group of the pty.       There is a new mode for packet driver, the TIOCPKT_IOCTL bit.      When packet mode is turned on in the pty, and the EXTPROC bit      is set, then whenever the state of the pty is changed, the      next read on the master side of the pty will have the TIOCPKT_IOCTL      bit set.  This allows the process on the server side of the pty      to know when the state of the terminal has changed; it can then      issue the appropriate ioctl to retrieve the new state.  Since the original BSD patches accompanied the source code for telnet I've left that reference here, but obviously the feature is useful for any remote terminal protocol, including ssh.  The corresponding feature has existed in the BSD tty driver since 1989. For historical reference, a good copy of the relevant files can be found here:  http://anonsvn.mit.edu/viewvc/krb5/trunk/src/appl/telnet/?pathrev=17741  Signed-off-by: Howard Chu <hyc@symas.com> Cc: Alan Cox <alan@lxorguk.ukuu.org.uk> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | xor.h | s | 1.1K | 27 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | exec.h | s | 362B | 12 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | hardirq.h | s | 525B | 17 | Tony Luck | tony.luck@intel.com | 1287487871 |  | [IA64] Move local_softirq_pending() definition  Ugly #include dependencies. We need to have local_softirq_pending() defined before it gets used in <linux/interrupt.h>. But <asm/hardirq.h> provides the definition *after* this #include chain:   <linux/irq.h>     <asm/irq.h>       <asm/hw_irq.h>         <linux/interrupt.h>  Signed-off-by: Tony Luck <tony.luck@intel.com> [ cherry-picked from the ia64 tree to fix "2bf2160: irq: Add tracepoint to softirq_raise" ] Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | break.h | s | 729B | 27 | Isaku Yamahata | yamahata@valinux.co.jp | 1224262372 |  | ia64/xen: reserve "break" numbers used for xen hypercalls.  reserve "break" numbers used for xen hypercalls to avoid reuse for something else.  Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | bug.h | s | 311B | 10 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | sigcontext.h | s | 3.0K | 59 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | futex.h | s | 3.2K | 115 | Luck, Tony | tony.luck@intel.com | 1334626201 |  | ia64: fix futex_atomic_cmpxchg_inatomic()  Michel Lespinasse cleaned up the futex calling conventions in commit 37a9d912b24f ("futex: Sanitize cmpxchg_futex_value_locked API").  But the ia64 implementation was subtly broken.  Gcc does not know that register "r8" will be updated by the fault handler if the cmpxchg instruction takes an exception.  So it feels safe in letting the initialization of r8 slide to after the cmpxchg.  Result: we always return 0 whether the user address faulted or not.  Fix by moving the initialization of r8 into the __asm__ code so gcc won't move it.  Reported-by: <emeric.maschino@gmail.com> Bugzilla: https://bugzilla.kernel.org/show_bug.cgi?id=42757 Tested-by: <emeric.maschino@gmail.com> Acked-by: Michel Lespinasse <walken@google.com> Cc: stable@vger.kernel.org # v2.6.39+ Signed-off-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Kbuild | g | 348B |  | maximilian attems | max@stro.at | 1337202278 |  | [IA64] Add cmpxchg.h to exported userspace headers  Fixes klibc build on ia64 after 85f8f7759e418c814ee2ceacf73eddb9bed39492.  Cc: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: maximilian attems <max@stro.at> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | ustack.h | s | 491B | 15 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | parport.h | s | 517B | 16 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | posix_types.h | s | 205B | 5 | Al Viro | viro@zeniv.linux.org.uk | 1338426290 |  | bury __kernel_nlink_t, make internal nlink_t consistent  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | paravirt.h | s | 7.6K | 248 | Ingo Molnar | mingo@elte.hu | 1330074359 |  | static keys: Introduce 'struct static_key', static_key_true()/false() and static_key_slow_[inc||dec]()  So here's a boot tested patch on top of Jason's series that does all the cleanups I talked about and turns jump labels into a more intuitive to use facility. It should also address the various misconceptions and confusions that surround jump labels.  Typical usage scenarios:          #include <linux/static_key.h>          struct static_key key = STATIC_KEY_INIT_TRUE;          if (static_key_false(&key))                 do unlikely code         else                 do likely code  Or:          if (static_key_true(&key))                 do likely code         else                 do unlikely code  The static key is modified via:          static_key_slow_inc(&key);         ...         static_key_slow_dec(&key);  The 'slow' prefix makes it abundantly clear that this is an expensive operation.  I've updated all in-kernel code to use this everywhere. Note that I (intentionally) have not pushed through the rename blindly through to the lowest levels: the actual jump-label patching arch facility should be named like that, so we want to decouple jump labels from the static-key facility a bit.  On non-jump-label enabled architectures static keys default to likely()/unlikely() branches.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Acked-by: Jason Baron <jbaron@redhat.com> Acked-by: Steven Rostedt <rostedt@goodmis.org> Cc: a.p.zijlstra@chello.nl Cc: mathieu.desnoyers@efficios.com Cc: davem@davemloft.net Cc: ddaney.cavm@gmail.com Cc: Linus Torvalds <torvalds@linux-foundation.org> Link: http://lkml.kernel.org/r/20120222085809.GA26397@elte.hu Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | ptrace_offsets.h | s | 6.3K | 259 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | mmu.h | s | 335B | 10 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | device.h | s | 369B | 18 | Suresh Siddha | suresh.b.siddha@intel.com | 1316593323 |  | iommu: Rename the DMAR and INTR_REMAP config options  Change the CONFIG_DMAR to CONFIG_INTEL_IOMMU to be consistent with the other IOMMU options.  Rename the CONFIG_INTR_REMAP to CONFIG_IRQ_REMAP to match the irq subsystem name.  And define the CONFIG_DMAR_TABLE for the common ACPI DMAR routines shared by both CONFIG_INTEL_IOMMU and CONFIG_IRQ_REMAP.  Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com> Cc: yinghai@kernel.org Cc: youquan.song@intel.com Cc: joerg.roedel@amd.com Cc: tony.luck@intel.com Cc: dwmw2@infradead.org Link: http://lkml.kernel.org/r/20110824001456.558630224@sbsiddha-desk.sc.intel.com Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | sal.h | s | 26K | 821 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | meminit.h | s | 2.3K | 63 | Tejun Heo | tj@kernel.org | 1254457735 |  | ia64: don't alias VMALLOC_END to vmalloc_end  If CONFIG_VIRTUAL_MEM_MAP is enabled, ia64 defines macro VMALLOC_END as unsigned long variable vmalloc_end which is adjusted to prepare room for vmemmap.  This becomes probnlematic if a local variables vmalloc_end is defined in some function (not very unlikely) and VMALLOC_END is used in the function - the function thinks its referencing the global VMALLOC_END value but would be referencing its own local vmalloc_end variable.  There's no reason VMALLOC_END should be a macro.  Just define it as an unsigned long variable if CONFIG_VIRTUAL_MEM_MAP is set to avoid nasty surprises.  Signed-off-by: Tejun Heo <tj@kernel.org> Acked-by: Tony Luck <tony.luck@intel.com> Cc: Fenghua Yu <fenghua.yu@intel.com> Cc: linux-ia64 <linux-ia64@vger.kernel.org> Cc: Christoph Lameter <cl@linux-foundation.org>
f | hpsim.h | s | 325B | 12 | Jiri Slaby | jslaby@suse.cz | 1331238390 |  | hpsim, initialize chip for assigned irqs  Currently, when assign_irq_vector is called and the irq connected in the simulator, the irq is not ready. request_irq will return ENOSYS immediately. It is because the irq chip is unset.  Hence set the chip properly to irq_type_hp_sim. And make sure this is done from both users of simulated interrupts.  Also we have to set handler here, otherwise we end up in handle_bad_int resulting in spam in logs and no irqs handled. We use handle_simple_irq as these are SW interrupts that need no ACK or anything.  Signed-off-by: Jiri Slaby <jslaby@suse.cz> Signed-off-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | intrinsics.h | s | 4.3K | 120 | Paul Gortmaker | paul.gortmaker@windriver.com | 1334337316 |  | ia64: populate the cmpxchg header with appropriate code  commit 93f378883cecb9dcb2cf5b51d9d24175906659da      "Fix ia64 build errors (fallout from system.h disintegration)"  introduced arch/ia64/include/asm/cmpxchg.h as a temporary build fix and stated:      "... leave the migration of xchg() and cmpxchg() to this new      header file for a future patch."  Migrate the appropriate chunks from asm/intrinsics.h and fix the whitespace issues in the migrated chunk.  Cc: Fenghua Yu <fenghua.yu@intel.com> Cc: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | atomic.h | s | 6.0K | 185 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | spinlock_types.h | s | 436B | 15 | Thomas Gleixner | tglx@linutronix.de | 1260831332 |  | locking: Convert raw_rwlock to arch_rwlock  Not strictly necessary for -rt as -rt does not have non sleeping rwlocks, but it's odd to not have a consistent naming convention.  No functional change.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Acked-by: Peter Zijlstra <peterz@infradead.org> Acked-by: David S. Miller <davem@davemloft.net> Acked-by: Ingo Molnar <mingo@elte.hu> Cc: linux-arch@vger.kernel.org
f | patch.h | s | 1.1K | 23 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | pal.h | s | 53K | 1616 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | tlbflush.h | s | 2.3K | 85 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | linkage.h | s | 188B | 8 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | mutex.h | s | 2.9K | 85 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | irqflags.h | s | 2.0K | 81 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | kexec.h | s | 1.5K | 38 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | hugetlb.h | s | 1.7K | 63 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | local.h | s | 31B | 1 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | unistd.h | s | 11K | 371 | meric Maschino | emeric.maschino@gmail.com | 1326142510 |  | ia64: Add accept4() syscall  While debugging udev > 170 failure on Debian Wheezy (http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=648325), it appears that the issue was in fact due to missing accept4() in ia64.  This patch simply adds accept4() to ia64.  Signed-off-by: meric Maschino <emeric.maschino@gmail.com> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | topology.h | s | 2.3K | 76 | Peter Zijlstra | a.p.zijlstra@chello.nl | 1336568455 |  | sched/numa: Rewrite the CONFIG_NUMA sched domain support  The current code groups up to 16 nodes in a level and then puts an ALLNODES domain spanning the entire tree on top of that. This doesn't reflect the numa topology and esp for the smaller not-fully-connected machines out there today this might make a difference.  Therefore, build a proper numa topology based on node_distance().  Since there's no fixed numa layers anymore, the static SD_NODE_INIT and SD_ALLNODES_INIT aren't usable anymore, the new code tries to construct something similar and scales some values either on the number of cpus in the domain and/or the node_distance() ratio.  Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Cc: Anton Blanchard <anton@samba.org> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Chris Metcalf <cmetcalf@tilera.com> Cc: David Howells <dhowells@redhat.com> Cc: "David S. Miller" <davem@davemloft.net> Cc: Fenghua Yu <fenghua.yu@intel.com> Cc: "H. Peter Anvin" <hpa@zytor.com> Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: linux-alpha@vger.kernel.org Cc: linux-ia64@vger.kernel.org Cc: linux-kernel@vger.kernel.org Cc: linux-mips@linux-mips.org Cc: linuxppc-dev@lists.ozlabs.org Cc: linux-sh@vger.kernel.org Cc: Matt Turner <mattst88@gmail.com> Cc: Paul Mackerras <paulus@samba.org> Cc: Paul Mundt <lethal@linux-sh.org> Cc: Ralf Baechle <ralf@linux-mips.org> Cc: Richard Henderson <rth@twiddle.net> Cc: sparclinux@vger.kernel.org Cc: Tony Luck <tony.luck@intel.com> Cc: x86@kernel.org Cc: Dimitri Sivanich <sivanich@sgi.com> Cc: Greg Pearson <greg.pearson@hp.com> Cc: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com> Cc: bob.picco@oracle.com Cc: chris.mason@oracle.com Cc: Linus Torvalds <torvalds@linux-foundation.org> Cc: Andrew Morton <akpm@linux-foundation.org> Link: http://lkml.kernel.org/n/tip-r74n3n8hhuc2ynbrnp3vt954@git.kernel.org Signed-off-by: Ingo Molnar <mingo@kernel.org>
f | libata-portmap.h | s | 312B | 9 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | uncached.h | s | 463B | 11 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | syscall.h | s | 2.0K | 70 | Tony Luck | tony.luck@intel.com | 1265654537 |  | [IA64] Remove COMPAT_IA32 support  This has been broken since May 2008 when Al Viro killed altroot support. Since nobody has complained, it would appear that there are no users of this code (A plausible theory since the main OSVs that support ia64 prefer to use the IA32-EL software emulation).  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | machvec_init.h | s | 1.3K | 30 | John Keller | jpk@sgi.com | 1232044936 |  | [IA64] SN specific version of dma_get_required_mask()  Create a platform specific version of dma_get_required_mask() for ia64 SN Altix. All SN Altix platforms support 64 bit DMA addressing regardless of the size of system memory. Create an ia64 machvec for dma_get_required_mask, with the SN version unconditionally returning DMA_64BIT_MASK.  Signed-off-by: John Keller <jpk@sgi.com> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | string.h | s | 620B | 16 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | ioctl.h | s | 31B | 1 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | processor.h | s | 18K | 635 | Linus Torvalds | torvalds@linux-foundation.org | 1337799944 |  | 
f | module.h | s | 1.3K | 34 | Isaku Yamahata | yamahata@valinux.co.jp | 1238090571 |  | ia64/pv_ops/bp/module: support binary patching for kernel module.  support binary patching for kernel module.  Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | poll.h | s | 30B | 1 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | iommu_table.h | s | 136B | 4 | Konrad Rzeszutek Wilk | konrad@dumpdata.com | 1286568671 |  | ia64, iommu: Add a dummy iommu_table.h file in IA64.  We don't need a complex IOMMU dependency list on IA64 so we just define the IOMMU_* macro which is used the DMAR driver, as a dummy.  Signed-off-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com> LKML-Reference: <1286564028-2352-2-git-send-email-konrad.wilk@oracle.com> Reported-by: Tony Luck <tony.luck@intel.com> Tested-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com> Signed-off-by: H. Peter Anvin <hpa@linux.intel.com>
f | page.h | s | 6.4K | 195 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | percpu.h | s | 1.3K | 36 | Linus Torvalds | torvalds@linux-foundation.org | 1275407752 |  | Merge branch 'for-35' of git://repo.or.cz/linux-kbuild  * 'for-35' of git://repo.or.cz/linux-kbuild: (81 commits)   kbuild: Revert part of e8d400a to resolve a conflict   kbuild: Fix checking of scm-identifier variable   gconfig: add support to show hidden options that have prompts   menuconfig: add support to show hidden options which have prompts   gconfig: remove show_debug option   gconfig: remove dbg_print_ptype() and dbg_print_stype()   kconfig: fix zconfdump()   kconfig: some small fixes   add random binaries to .gitignore   kbuild: Include gen_initramfs_list.sh and the file list in the .d file   kconfig: recalc symbol value before showing search results   .gitignore: ignore *.lzo files   headerdep: perlcritic warning   scripts/Makefile.lib: Align the output of LZO   kbuild: Generate modules.builtin in make modules_install   Revert "kbuild: specify absolute paths for cscope"   kbuild: Do not unnecessarily regenerate modules.builtin   headers_install: use local file handles   headers_check: fix perl warnings   export_report: fix perl warnings   ...
f | div64.h | s | 31B | 1 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | intel_intrin.h | s | 4.8K | 134 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | cmpxchg.h | s | 3.6K | 131 | Paul Gortmaker | paul.gortmaker@windriver.com | 1334337316 |  | ia64: populate the cmpxchg header with appropriate code  commit 93f378883cecb9dcb2cf5b51d9d24175906659da      "Fix ia64 build errors (fallout from system.h disintegration)"  introduced arch/ia64/include/asm/cmpxchg.h as a temporary build fix and stated:      "... leave the migration of xchg() and cmpxchg() to this new      header file for a future patch."  Migrate the appropriate chunks from asm/intrinsics.h and fix the whitespace issues in the migrated chunk.  Cc: Fenghua Yu <fenghua.yu@intel.com> Cc: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | auxvec.h | s | 344B | 10 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | kregs.h | s | 6.7K | 150 | Tony Luck | tony.luck@intel.com | 1224276473 |  | [IA64] Fix annoying IA64_TR_ALLOC_MAX message.  Madison cpus support 64 TR registers.  Increase IA64_TR_ALLOC_MAX to 64.  Also fixup the messages that get printed when this limit is exceeded.  Repeating for every cpu is too noisy.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | param.h | s | 707B | 27 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | gpio.h | s | 106B | 4 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1336780814 |  | gpiolib/arches: Centralise bolierplate asm/gpio.h  Rather than requiring architectures that use gpiolib but don't have any need to define anything custom to copy an asm/gpio.h provide a Kconfig symbol which architectures must select in order to include gpio.h and for other architectures just provide the trivial implementation directly.  This makes it much easier to do gpiolib updates and is also a step towards making gpiolib APIs available on every architecture.  For architectures with existing boilerplate code leave a stub header in place which warns on direct inclusion of asm/gpio.h and includes linux/gpio.h to catch code that's doing this.  Direct inclusion of asm/gpio.h has long been deprecated.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Acked-by: Jonas Bonn <jonas@southpole.se> Acked-by: Tony Luck <tony.luck@intel.com> Acked-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
f | kvm.h | s | 6.1K | 240 | Christian Borntraeger | borntraeger@de.ibm.com | 1330951942 |  | KVM: provide synchronous registers in kvm_run  On some cpus the overhead for virtualization instructions is in the same range as a system call. Having to call multiple ioctls to get set registers will make certain userspace handled exits more expensive than necessary. Lets provide a section in kvm_run that works as a shared save area for guest registers. We also provide two 64bit flags fields (architecture specific), that will specify 1. which parts of these fields are valid. 2. which registers were modified by userspace  Each bit for these flag fields will define a group of registers (like general purpose) or a single register.  Signed-off-by: Christian Borntraeger <borntraeger@de.ibm.com> Signed-off-by: Marcelo Tosatti <mtosatti@redhat.com> Signed-off-by: Avi Kivity <avi@redhat.com>
f | dmi.h | s | 239B | 9 | Tejun Heo | tj@kernel.org | 1269954152 |  | include cleanup: Update gfp.h and slab.h includes to prepare for breaking implicit slab.h inclusion from percpu.h  percpu.h is included by sched.h and module.h and thus ends up being included when building most .c files.  percpu.h includes slab.h which in turn includes gfp.h making everything defined by the two files universally available and complicating inclusion dependencies.  percpu.h -> slab.h dependency is about to be removed.  Prepare for this change by updating users of gfp and slab facilities include those headers directly instead of assuming availability.  As this conversion needs to touch large number of source files, the following script is used as the basis of conversion.    http://userweb.kernel.org/~tj/misc/slabh-sweep.py  The script does the followings.  * Scan files for gfp and slab usages and update includes such that   only the necessary includes are there.  ie. if only gfp is used,   gfp.h, if slab is used, slab.h.  * When the script inserts a new include, it looks at the include   blocks and try to put the new include such that its order conforms   to its surrounding.  It's put in the include block which contains   core kernel includes, in the same order that the rest are ordered -   alphabetical, Christmas tree, rev-Xmas-tree or at the end if there   doesn't seem to be any matching order.  * If the script can't find a place to put a new include (mostly   because the file doesn't have fitting include block), it prints out   an error message indicating which .h file needs to be added to the   file.  The conversion was done in the following steps.  1. The initial automatic conversion of all .c files updated slightly    over 4000 files, deleting around 700 includes and adding ~480 gfp.h    and ~3000 slab.h inclusions.  The script emitted errors for ~400    files.  2. Each error was manually checked.  Some didn't need the inclusion,    some needed manual addition while adding it to implementation .h or    embedding .c file was more appropriate for others.  This step added    inclusions to around 150 files.  3. The script was run again and the output was compared to the edits    from #2 to make sure no file was left behind.  4. Several build tests were done and a couple of problems were fixed.    e.g. lib/decompress_*.c used malloc/free() wrappers around slab    APIs requiring slab.h to be added manually.  5. The script was run on all .h files but without automatically    editing them as sprinkling gfp.h and slab.h inclusions around .h    files could easily lead to inclusion dependency hell.  Most gfp.h    inclusion directives were ignored as stuff from gfp.h was usually    wildly available and often used in preprocessor macros.  Each    slab.h inclusion directive was examined and added manually as    necessary.  6. percpu.h was updated not to include slab.h.  7. Build test were done on the following configurations and failures    were fixed.  CONFIG_GCOV_KERNEL was turned off for all tests (as my    distributed build env didn't work with gcov compiles) and a few    more options had to be turned off depending on archs to make things    build (like ipr on powerpc/64 which failed due to missing writeq).     * x86 and x86_64 UP and SMP allmodconfig and a custom test config.    * powerpc and powerpc64 SMP allmodconfig    * sparc and sparc64 SMP allmodconfig    * ia64 SMP allmodconfig    * s390 SMP allmodconfig    * alpha SMP allmodconfig    * um on x86_64 SMP allmodconfig  8. percpu.h modifications were reverted so that it could be applied as    a separate patch and serve as bisection point.  Given the fact that I had only a couple of failures from tests on step 6, I'm fairly confident about the coverage of this conversion patch. If there is a breakage, it's likely to be something in one of the arch headers which should be easily discoverable easily on most builds of the specific arch.  Signed-off-by: Tejun Heo <tj@kernel.org> Guess-its-ok-by: Christoph Lameter <cl@linux-foundation.org> Cc: Ingo Molnar <mingo@redhat.com> Cc: Lee Schermerhorn <Lee.Schermerhorn@hp.com>
f | pgalloc.h | s | 2.7K | 99 | Benjamin Herrenschmidt | benh@kernel.crashing.org | 1248721838 |  | mm: Pass virtual address to [__]p{te,ud,md}_free_tlb()  mm: Pass virtual address to [__]p{te,ud,md}_free_tlb()  Upcoming paches to support the new 64-bit "BookE" powerpc architecture will need to have the virtual address corresponding to PTE page when freeing it, due to the way the HW table walker works.  Basically, the TLB can be loaded with "large" pages that cover the whole virtual space (well, sort-of, half of it actually) represented by a PTE page, and which contain an "indirect" bit indicating that this TLB entry RPN points to an array of PTEs from which the TLB can then create direct entries. Thus, in order to invalidate those when PTE pages are deleted, we need the virtual address to pass to tlbilx or tlbivax instructions.  The old trick of sticking it somewhere in the PTE page struct page sucks too much, the address is almost readily available in all call sites and almost everybody implemets these as macros, so we may as well add the argument everywhere. I added it to the pmd and pud variants for consistency.  Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> Acked-by: David Howells <dhowells@redhat.com> [MN10300 & FRV] Acked-by: Nick Piggin <npiggin@suse.de> Acked-by: Martin Schwidefsky <schwidefsky@de.ibm.com> [s390] Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | scatterlist.h | s | 166B | 5 | FUJITA Tomonori | fujita.tomonori@lab.ntt.co.jp | 1281197750 |  | remove needless ISA_DMA_THRESHOLD  Architectures don't need to define ISA_DMA_THRESHOLD anymore.  Signed-off-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp> Acked-by: James Bottomley <James.Bottomley@suse.de> Acked-by: David Howells <dhowells@redhat.com> Signed-off-by: Jens Axboe <jaxboe@fusionio.com>
f | swab.h | s | 718B | 27 | Jaswinder Singh Rajput | jaswinderrajput@gmail.com | 1233466285 |  | headers_check fix: ia64, swab.h  fix the following 'make headers_check' warnings:    usr/include/asm-ia64/swab.h:9: include of <linux/types.h> is preferred over <asm/types.h>   usr/include/asm-ia64/swab.h:13: found __[us]{8,16,32,64} type without #include <linux/types.h>  Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
f | fb.h | s | 530B | 19 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | asm-offsets.h | s | 35B | 1 | Sam Ravnborg | sam@ravnborg.org | 1260619694 |  | kbuild: move asm-offsets.h to include/generated  The simplest method was to add an extra asm-offsets.h file in arch/$ARCH/include/asm that references the generated file.  We can now migrate the architectures one-by-one to reference the generated file direct - and when done we can delete the temporary arch/$ARCH/include/asm/asm-offsets.h file.  Signed-off-by: Sam Ravnborg <sam@ravnborg.org> Cc: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Michal Marek <mmarek@suse.cz>
f | thread_info.h | s | 5.7K | 147 | Al Viro | viro@zeniv.linux.org.uk | 1338569930 |  | set_restore_sigmask() is never called without SIGPENDING (and never should be)  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | machvec_hpzx1_swiotlb.h | s | 589B | 16 | FUJITA Tomonori | fujita.tomonori@lab.ntt.co.jp | 1231247212 |  | remove hwsw_dma_ops  This removes remove hwsw_dma_ops (and hwsw_* functions). hwsw_dma_get_ops can select swiotlb_dma_ops and sba_dma_ops appropriately.  Signed-off-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp> Acked-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | irq.h | s | 942B | 28 | Sam Ravnborg | sam@ravnborg.org | 1260619694 |  | ia64: move nr-irqs.h to include/generated  Avoid generating files in the now deprecated asm-ia64 dir Simplified the logic in the Makefile when editing stuff in the area  Signed-off-by: Sam Ravnborg <sam@ravnborg.org> Cc: Al Viro <viro@zeniv.linux.org.uk> Cc: Tony Luck <tony.luck@intel.com> Cc: Fenghua Yu <fenghua.yu@intel.com> Signed-off-by: Michal Marek <mmarek@suse.cz>
f | fcntl.h | s | 294B | 10 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | socket.h | s | 1.7K | 64 | Ben Greear | greearb@candelatech.com | 1330076255 |  | net: Add framework to allow sending packets with customized CRC.  This is useful for testing RX handling of frames with bad CRCs.  Requires driver support to actually put the packet on the wire properly.  Signed-off-by: Ben Greear <greearb@candelatech.com> Tested-by: Aaron Brown <aaron.f.brown@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | rwsem.h | s | 3.5K | 124 | Thomas Gleixner | tglx@linutronix.de | 1296127839 |  | rwsem: Move duplicate function prototypes to linux/rwsem.h  All architecture specific rwsem headers carry the same function prototypes. Just x86 adds asmregparm, which is an empty define on all other architectures. S390 has a stale rwsem_downgrade_write() prototype.  Remove the duplicates and add the prototypes to linux/rwsem.h  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Cc: Peter Zijlstra <peterz@infradead.org> Cc: David Howells <dhowells@redhat.com> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Richard Henderson <rth@twiddle.net> Acked-by: Tony Luck <tony.luck@intel.com> Acked-by: Heiko Carstens <heiko.carstens@de.ibm.com> Cc: Paul Mundt <lethal@linux-sh.org> Acked-by: David Miller <davem@davemloft.net> Cc: Chris Zankel <chris@zankel.net> LKML-Reference: <20110126195833.970840140@linutronix.de> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | pgtable.h | s | 21K | 532 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | timex.h | s | 1.4K | 36 | Isaku Yamahata | yamahata@valinux.co.jp | 1238089842 |  | ia64/pv_ops/pv_time_ops: add sched_clock hook.  add sched_clock() hook to paravirtualize sched_clock(). ia64 sched_clock() is based on ar.itc which isn't stable on virtualized environment because vcpu may move around on pcpus. So it needs paravirtualization.  Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | fpu.h | s | 2.2K | 54 | Aurelien Jarno | aurelien@aurel32.net | 1247837705 |  | Revert "Neither asm/types.h nor linux/types.h is required for arch/ia64/include/asm/fpu.h"  asm/fpu.h uses the __IA64_UL macro which is declared in asm/types.h, so this include is really required. Without it, GNU libc fails to build.  This reverts commit 2678c07b07ac2076675e5d57653bdf02e9af1950.  Signed-off-by: Aurelien Jarno <aurelien@aurel32.net> Acked-by: Fenghua Yu <fenghua.yu@intel.com>
f | ipcbuf.h | s | 32B | 1 | Al Viro | viro@zeniv.linux.org.uk | 1325649318 |  | consolidate a bunch of ipcbuf.h instances  ... some still remain weird :-/  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | stat.h | s | 1.0K | 46 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | shmbuf.h | s | 1.0K | 34 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | swiotlb.h | s | 305B | 14 | FUJITA Tomonori | fujita.tomonori@lab.ntt.co.jp | 1258272190 |  | swiotlb: Remove duplicate swiotlb_force extern declarations  Signed-off-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp> Cc: tony.luck@intel.com LKML-Reference: <1258199198-16657-4-git-send-email-fujita.tomonori@lab.ntt.co.jp> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | uaccess.h | s | 13K | 348 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | vga.h | s | 618B | 19 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | switch_to.h | s | 3.1K | 77 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | mman.h | s | 486B | 18 | Arnd Bergmann | arnd@arndb.de | 1253629062 |  | mm: remove duplicate asm/mman.h files  A number of architectures have identical asm/mman.h files so they can all be merged by using the new generic file.  The remaining asm/mman.h files are substantially different from each other.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Cc: <linux-arch@vger.kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | machvec_hpzx1.h | s | 501B | 15 | FUJITA Tomonori | fujita.tomonori@lab.ntt.co.jp | 1231247210 |  | remove dma operations in struct ia64_machine_vector  We don't need dma operation hooks in struct ia64_machine_vector now. This also removes unused ia64_mv_dma_* typedefs.  Signed-off-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp> Acked-by: Tony Luck <tony.luck@intel.com> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | signal.h | s | 4.0K | 134 | Arnd Bergmann | arnd@arndb.de | 1244746912 |  | asm-generic: rename termios.h, signal.h and mman.h  The existing asm-generic versions are incomplete and included by some architectures. New architectures should be able to use a generic version, so rename the existing files and change all users, which lets us add the new files.  Signed-off-by: Remis Lima Baima <remis.developer@googlemail.com> Signed-off-by: Arnd Bergmann <arnd@arndb.de>
f | irq_remapping.h | s | 103B | 4 | Suresh Siddha | suresh.b.siddha@intel.com | 1336394100 |  | iommu: rename intr_remapping.[ch] to irq_remapping.[ch]  Make the file names consistent with the naming conventions of irq subsystem.  Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com> Cc: Joerg Roedel <joerg.roedel@amd.com> Cc: Yinghai Lu <yinghai@kernel.org> Cc: David Woodhouse <dwmw2@infradead.org> Cc: Alex Williamson <alex.williamson@redhat.com> Signed-off-by: Joerg Roedel <joerg.roedel@amd.com>
f | iommu.h | s | 596B | 21 | Alex Williamson | alex.williamson@redhat.com | 1321356151 |  | iommu: Add option to group multi-function devices  The option iommu=group_mf indicates the that the iommu driver should expose all functions of a multi-function PCI device as the same iommu_device_group.  This is useful for disallowing individual functions being exposed as independent devices to userspace as there are often hidden dependencies.  Virtual functions are not affected by this option.  Signed-off-by: Alex Williamson <alex.williamson@redhat.com> Signed-off-by: Joerg Roedel <joerg.roedel@amd.com>
f | sockios.h | s | 496B | 18 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | emergency-restart.h | s | 149B | 4 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | msgbuf.h | s | 867B | 24 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | spinlock.h | s | 7.3K | 238 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for IA64  Disintegrate asm/system.h for IA64.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Tony Luck <tony.luck@intel.com> cc: linux-ia64@vger.kernel.org
f | byteorder.h | s | 140B | 4 | Harvey Harrison | harvey.harrison@gmail.com | 1231991810 |  | byteorder: make swab.h include asm/swab.h like a regular header  Add swab.h to kbuild.asm and remove the individual entries from each arch, mark as unifdef as some arches have some kernel-only bits inside.  Signed-off-by: Harvey Harrison <harvey.harrison@gmail.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | shmparam.h | s | 406B | 10 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | rse.h | s | 1.6K | 57 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
f | sembuf.h | s | 615B | 19 | Tony Luck | tony.luck@intel.com | 1217611281 |  | [IA64] Move include/asm-ia64 to arch/ia64/include/asm  After moving the the include files there were a few clean-ups:  1) Some files used #include <asm-ia64/xyz.h>, changed to <asm/xyz.h>  2) Some comments alerted maintainers to look at various header files to make matching updates if certain code were to be changed. Updated these comments to use the new include paths.  3) Some header files mentioned their own names in initial comments. Just deleted these self references.  Signed-off-by: Tony Luck <tony.luck@intel.com>
