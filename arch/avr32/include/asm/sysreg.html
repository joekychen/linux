<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › avr32 › include › asm › sysreg.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>sysreg.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * AVR32 System Registers</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2004-2006 Atmel Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __ASM_AVR32_SYSREG_H</span>
<span class="cp">#define __ASM_AVR32_SYSREG_H</span>

<span class="cm">/* sysreg register offsets */</span>
<span class="cp">#define SYSREG_SR				0x0000</span>
<span class="cp">#define SYSREG_EVBA				0x0004</span>
<span class="cp">#define SYSREG_ACBA				0x0008</span>
<span class="cp">#define SYSREG_CPUCR				0x000c</span>
<span class="cp">#define SYSREG_ECR				0x0010</span>
<span class="cp">#define SYSREG_RSR_SUP				0x0014</span>
<span class="cp">#define SYSREG_RSR_INT0				0x0018</span>
<span class="cp">#define SYSREG_RSR_INT1				0x001c</span>
<span class="cp">#define SYSREG_RSR_INT2				0x0020</span>
<span class="cp">#define SYSREG_RSR_INT3				0x0024</span>
<span class="cp">#define SYSREG_RSR_EX				0x0028</span>
<span class="cp">#define SYSREG_RSR_NMI				0x002c</span>
<span class="cp">#define SYSREG_RSR_DBG				0x0030</span>
<span class="cp">#define SYSREG_RAR_SUP				0x0034</span>
<span class="cp">#define SYSREG_RAR_INT0				0x0038</span>
<span class="cp">#define SYSREG_RAR_INT1				0x003c</span>
<span class="cp">#define SYSREG_RAR_INT2				0x0040</span>
<span class="cp">#define SYSREG_RAR_INT3				0x0044</span>
<span class="cp">#define SYSREG_RAR_EX				0x0048</span>
<span class="cp">#define SYSREG_RAR_NMI				0x004c</span>
<span class="cp">#define SYSREG_RAR_DBG				0x0050</span>
<span class="cp">#define SYSREG_JECR				0x0054</span>
<span class="cp">#define SYSREG_JOSP				0x0058</span>
<span class="cp">#define SYSREG_JAVA_LV0				0x005c</span>
<span class="cp">#define SYSREG_JAVA_LV1				0x0060</span>
<span class="cp">#define SYSREG_JAVA_LV2				0x0064</span>
<span class="cp">#define SYSREG_JAVA_LV3				0x0068</span>
<span class="cp">#define SYSREG_JAVA_LV4				0x006c</span>
<span class="cp">#define SYSREG_JAVA_LV5				0x0070</span>
<span class="cp">#define SYSREG_JAVA_LV6				0x0074</span>
<span class="cp">#define SYSREG_JAVA_LV7				0x0078</span>
<span class="cp">#define SYSREG_JTBA				0x007c</span>
<span class="cp">#define SYSREG_JBCR				0x0080</span>
<span class="cp">#define SYSREG_CONFIG0				0x0100</span>
<span class="cp">#define SYSREG_CONFIG1				0x0104</span>
<span class="cp">#define SYSREG_COUNT				0x0108</span>
<span class="cp">#define SYSREG_COMPARE				0x010c</span>
<span class="cp">#define SYSREG_TLBEHI				0x0110</span>
<span class="cp">#define SYSREG_TLBELO				0x0114</span>
<span class="cp">#define SYSREG_PTBR				0x0118</span>
<span class="cp">#define SYSREG_TLBEAR				0x011c</span>
<span class="cp">#define SYSREG_MMUCR				0x0120</span>
<span class="cp">#define SYSREG_TLBARLO				0x0124</span>
<span class="cp">#define SYSREG_TLBARHI				0x0128</span>
<span class="cp">#define SYSREG_PCCNT				0x012c</span>
<span class="cp">#define SYSREG_PCNT0				0x0130</span>
<span class="cp">#define SYSREG_PCNT1				0x0134</span>
<span class="cp">#define SYSREG_PCCR				0x0138</span>
<span class="cp">#define SYSREG_BEAR				0x013c</span>
<span class="cp">#define SYSREG_SABAL				0x0300</span>
<span class="cp">#define SYSREG_SABAH				0x0304</span>
<span class="cp">#define SYSREG_SABD				0x0308</span>

<span class="cm">/* Bitfields in SR */</span>
<span class="cp">#define SYSREG_SR_C_OFFSET			0</span>
<span class="cp">#define SYSREG_SR_C_SIZE			1</span>
<span class="cp">#define SYSREG_Z_OFFSET				1</span>
<span class="cp">#define SYSREG_Z_SIZE				1</span>
<span class="cp">#define SYSREG_SR_N_OFFSET			2</span>
<span class="cp">#define SYSREG_SR_N_SIZE			1</span>
<span class="cp">#define SYSREG_SR_V_OFFSET			3</span>
<span class="cp">#define SYSREG_SR_V_SIZE			1</span>
<span class="cp">#define SYSREG_Q_OFFSET				4</span>
<span class="cp">#define SYSREG_Q_SIZE				1</span>
<span class="cp">#define SYSREG_L_OFFSET				5</span>
<span class="cp">#define SYSREG_L_SIZE				1</span>
<span class="cp">#define SYSREG_T_OFFSET				14</span>
<span class="cp">#define SYSREG_T_SIZE				1</span>
<span class="cp">#define SYSREG_SR_R_OFFSET			15</span>
<span class="cp">#define SYSREG_SR_R_SIZE			1</span>
<span class="cp">#define SYSREG_GM_OFFSET			16</span>
<span class="cp">#define SYSREG_GM_SIZE				1</span>
<span class="cp">#define SYSREG_I0M_OFFSET			17</span>
<span class="cp">#define SYSREG_I0M_SIZE				1</span>
<span class="cp">#define SYSREG_I1M_OFFSET			18</span>
<span class="cp">#define SYSREG_I1M_SIZE				1</span>
<span class="cp">#define SYSREG_I2M_OFFSET			19</span>
<span class="cp">#define SYSREG_I2M_SIZE				1</span>
<span class="cp">#define SYSREG_I3M_OFFSET			20</span>
<span class="cp">#define SYSREG_I3M_SIZE				1</span>
<span class="cp">#define SYSREG_EM_OFFSET			21</span>
<span class="cp">#define SYSREG_EM_SIZE				1</span>
<span class="cp">#define SYSREG_MODE_OFFSET			22</span>
<span class="cp">#define SYSREG_MODE_SIZE			3</span>
<span class="cp">#define SYSREG_M0_OFFSET			22</span>
<span class="cp">#define SYSREG_M0_SIZE				1</span>
<span class="cp">#define SYSREG_M1_OFFSET			23</span>
<span class="cp">#define SYSREG_M1_SIZE				1</span>
<span class="cp">#define SYSREG_M2_OFFSET			24</span>
<span class="cp">#define SYSREG_M2_SIZE				1</span>
<span class="cp">#define SYSREG_SR_D_OFFSET			26</span>
<span class="cp">#define SYSREG_SR_D_SIZE			1</span>
<span class="cp">#define SYSREG_DM_OFFSET			27</span>
<span class="cp">#define SYSREG_DM_SIZE				1</span>
<span class="cp">#define SYSREG_SR_J_OFFSET			28</span>
<span class="cp">#define SYSREG_SR_J_SIZE			1</span>
<span class="cp">#define SYSREG_H_OFFSET				29</span>
<span class="cp">#define SYSREG_H_SIZE				1</span>

<span class="cm">/* Bitfields in CPUCR */</span>
<span class="cp">#define SYSREG_BI_OFFSET			0</span>
<span class="cp">#define SYSREG_BI_SIZE				1</span>
<span class="cp">#define SYSREG_BE_OFFSET			1</span>
<span class="cp">#define SYSREG_BE_SIZE				1</span>
<span class="cp">#define SYSREG_FE_OFFSET			2</span>
<span class="cp">#define SYSREG_FE_SIZE				1</span>
<span class="cp">#define SYSREG_RE_OFFSET			3</span>
<span class="cp">#define SYSREG_RE_SIZE				1</span>
<span class="cp">#define SYSREG_IBE_OFFSET			4</span>
<span class="cp">#define SYSREG_IBE_SIZE				1</span>
<span class="cp">#define SYSREG_IEE_OFFSET			5</span>
<span class="cp">#define SYSREG_IEE_SIZE				1</span>

<span class="cm">/* Bitfields in CONFIG0 */</span>
<span class="cp">#define SYSREG_CONFIG0_R_OFFSET			0</span>
<span class="cp">#define SYSREG_CONFIG0_R_SIZE			1</span>
<span class="cp">#define SYSREG_CONFIG0_D_OFFSET			1</span>
<span class="cp">#define SYSREG_CONFIG0_D_SIZE			1</span>
<span class="cp">#define SYSREG_CONFIG0_S_OFFSET			2</span>
<span class="cp">#define SYSREG_CONFIG0_S_SIZE			1</span>
<span class="cp">#define SYSREG_CONFIG0_O_OFFSET			3</span>
<span class="cp">#define SYSREG_CONFIG0_O_SIZE			1</span>
<span class="cp">#define SYSREG_CONFIG0_P_OFFSET			4</span>
<span class="cp">#define SYSREG_CONFIG0_P_SIZE			1</span>
<span class="cp">#define SYSREG_CONFIG0_J_OFFSET			5</span>
<span class="cp">#define SYSREG_CONFIG0_J_SIZE			1</span>
<span class="cp">#define SYSREG_CONFIG0_F_OFFSET			6</span>
<span class="cp">#define SYSREG_CONFIG0_F_SIZE			1</span>
<span class="cp">#define SYSREG_MMUT_OFFSET			7</span>
<span class="cp">#define SYSREG_MMUT_SIZE			3</span>
<span class="cp">#define SYSREG_AR_OFFSET			10</span>
<span class="cp">#define SYSREG_AR_SIZE				3</span>
<span class="cp">#define SYSREG_AT_OFFSET			13</span>
<span class="cp">#define SYSREG_AT_SIZE				3</span>
<span class="cp">#define SYSREG_PROCESSORREVISION_OFFSET		16</span>
<span class="cp">#define SYSREG_PROCESSORREVISION_SIZE		8</span>
<span class="cp">#define SYSREG_PROCESSORID_OFFSET		24</span>
<span class="cp">#define SYSREG_PROCESSORID_SIZE			8</span>

<span class="cm">/* Bitfields in CONFIG1 */</span>
<span class="cp">#define SYSREG_DASS_OFFSET			0</span>
<span class="cp">#define SYSREG_DASS_SIZE			3</span>
<span class="cp">#define SYSREG_DLSZ_OFFSET			3</span>
<span class="cp">#define SYSREG_DLSZ_SIZE			3</span>
<span class="cp">#define SYSREG_DSET_OFFSET			6</span>
<span class="cp">#define SYSREG_DSET_SIZE			4</span>
<span class="cp">#define SYSREG_IASS_OFFSET			10</span>
<span class="cp">#define SYSREG_IASS_SIZE			3</span>
<span class="cp">#define SYSREG_ILSZ_OFFSET			13</span>
<span class="cp">#define SYSREG_ILSZ_SIZE			3</span>
<span class="cp">#define SYSREG_ISET_OFFSET			16</span>
<span class="cp">#define SYSREG_ISET_SIZE			4</span>
<span class="cp">#define SYSREG_DMMUSZ_OFFSET			20</span>
<span class="cp">#define SYSREG_DMMUSZ_SIZE			6</span>
<span class="cp">#define SYSREG_IMMUSZ_OFFSET			26</span>
<span class="cp">#define SYSREG_IMMUSZ_SIZE			6</span>

<span class="cm">/* Bitfields in TLBEHI */</span>
<span class="cp">#define SYSREG_ASID_OFFSET			0</span>
<span class="cp">#define SYSREG_ASID_SIZE			8</span>
<span class="cp">#define SYSREG_TLBEHI_I_OFFSET			8</span>
<span class="cp">#define SYSREG_TLBEHI_I_SIZE			1</span>
<span class="cp">#define SYSREG_TLBEHI_V_OFFSET			9</span>
<span class="cp">#define SYSREG_TLBEHI_V_SIZE			1</span>
<span class="cp">#define SYSREG_VPN_OFFSET			10</span>
<span class="cp">#define SYSREG_VPN_SIZE				22</span>

<span class="cm">/* Bitfields in TLBELO */</span>
<span class="cp">#define SYSREG_W_OFFSET				0</span>
<span class="cp">#define SYSREG_W_SIZE				1</span>
<span class="cp">#define SYSREG_TLBELO_D_OFFSET			1</span>
<span class="cp">#define SYSREG_TLBELO_D_SIZE			1</span>
<span class="cp">#define SYSREG_SZ_OFFSET			2</span>
<span class="cp">#define SYSREG_SZ_SIZE				2</span>
<span class="cp">#define SYSREG_AP_OFFSET			4</span>
<span class="cp">#define SYSREG_AP_SIZE				3</span>
<span class="cp">#define SYSREG_B_OFFSET				7</span>
<span class="cp">#define SYSREG_B_SIZE				1</span>
<span class="cp">#define SYSREG_G_OFFSET				8</span>
<span class="cp">#define SYSREG_G_SIZE				1</span>
<span class="cp">#define SYSREG_TLBELO_C_OFFSET			9</span>
<span class="cp">#define SYSREG_TLBELO_C_SIZE			1</span>
<span class="cp">#define SYSREG_PFN_OFFSET			10</span>
<span class="cp">#define SYSREG_PFN_SIZE				22</span>

<span class="cm">/* Bitfields in MMUCR */</span>
<span class="cp">#define SYSREG_E_OFFSET				0</span>
<span class="cp">#define SYSREG_E_SIZE				1</span>
<span class="cp">#define SYSREG_M_OFFSET				1</span>
<span class="cp">#define SYSREG_M_SIZE				1</span>
<span class="cp">#define SYSREG_MMUCR_I_OFFSET			2</span>
<span class="cp">#define SYSREG_MMUCR_I_SIZE			1</span>
<span class="cp">#define SYSREG_MMUCR_N_OFFSET			3</span>
<span class="cp">#define SYSREG_MMUCR_N_SIZE			1</span>
<span class="cp">#define SYSREG_MMUCR_S_OFFSET			4</span>
<span class="cp">#define SYSREG_MMUCR_S_SIZE			1</span>
<span class="cp">#define SYSREG_DLA_OFFSET			8</span>
<span class="cp">#define SYSREG_DLA_SIZE				6</span>
<span class="cp">#define SYSREG_DRP_OFFSET			14</span>
<span class="cp">#define SYSREG_DRP_SIZE				6</span>
<span class="cp">#define SYSREG_ILA_OFFSET			20</span>
<span class="cp">#define SYSREG_ILA_SIZE				6</span>
<span class="cp">#define SYSREG_IRP_OFFSET			26</span>
<span class="cp">#define SYSREG_IRP_SIZE				6</span>

<span class="cm">/* Bitfields in PCCR */</span>
<span class="cp">#define SYSREG_PCCR_E_OFFSET			0</span>
<span class="cp">#define SYSREG_PCCR_E_SIZE			1</span>
<span class="cp">#define SYSREG_PCCR_R_OFFSET			1</span>
<span class="cp">#define SYSREG_PCCR_R_SIZE			1</span>
<span class="cp">#define SYSREG_PCCR_C_OFFSET			2</span>
<span class="cp">#define SYSREG_PCCR_C_SIZE			1</span>
<span class="cp">#define SYSREG_PCCR_S_OFFSET			3</span>
<span class="cp">#define SYSREG_PCCR_S_SIZE			1</span>
<span class="cp">#define SYSREG_IEC_OFFSET			4</span>
<span class="cp">#define SYSREG_IEC_SIZE				1</span>
<span class="cp">#define SYSREG_IE0_OFFSET			5</span>
<span class="cp">#define SYSREG_IE0_SIZE				1</span>
<span class="cp">#define SYSREG_IE1_OFFSET			6</span>
<span class="cp">#define SYSREG_IE1_SIZE				1</span>
<span class="cp">#define SYSREG_FC_OFFSET			8</span>
<span class="cp">#define SYSREG_FC_SIZE				1</span>
<span class="cp">#define SYSREG_F0_OFFSET			9</span>
<span class="cp">#define SYSREG_F0_SIZE				1</span>
<span class="cp">#define SYSREG_F1_OFFSET			10</span>
<span class="cp">#define SYSREG_F1_SIZE				1</span>
<span class="cp">#define SYSREG_CONF0_OFFSET			12</span>
<span class="cp">#define SYSREG_CONF0_SIZE			6</span>
<span class="cp">#define SYSREG_CONF1_OFFSET			18</span>
<span class="cp">#define SYSREG_CONF1_SIZE			6</span>

<span class="cm">/* Constants for ECR */</span>
<span class="cp">#define ECR_UNRECOVERABLE			0</span>
<span class="cp">#define ECR_TLB_MULTIPLE			1</span>
<span class="cp">#define ECR_BUS_ERROR_WRITE			2</span>
<span class="cp">#define ECR_BUS_ERROR_READ			3</span>
<span class="cp">#define ECR_NMI					4</span>
<span class="cp">#define ECR_ADDR_ALIGN_X			5</span>
<span class="cp">#define ECR_PROTECTION_X			6</span>
<span class="cp">#define ECR_DEBUG				7</span>
<span class="cp">#define ECR_ILLEGAL_OPCODE			8</span>
<span class="cp">#define ECR_UNIMPL_INSTRUCTION			9</span>
<span class="cp">#define ECR_PRIVILEGE_VIOLATION			10</span>
<span class="cp">#define ECR_FPE					11</span>
<span class="cp">#define ECR_COPROC_ABSENT			12</span>
<span class="cp">#define ECR_ADDR_ALIGN_R			13</span>
<span class="cp">#define ECR_ADDR_ALIGN_W			14</span>
<span class="cp">#define ECR_PROTECTION_R			15</span>
<span class="cp">#define ECR_PROTECTION_W			16</span>
<span class="cp">#define ECR_DTLB_MODIFIED			17</span>
<span class="cp">#define ECR_TLB_MISS_X				20</span>
<span class="cp">#define ECR_TLB_MISS_R				24</span>
<span class="cp">#define ECR_TLB_MISS_W				28</span>

<span class="cm">/* Bit manipulation macros */</span>
<span class="cp">#define SYSREG_BIT(name)				\</span>
<span class="cp">	(1 &lt;&lt; SYSREG_##name##_OFFSET)</span>
<span class="cp">#define SYSREG_BF(name,value)				\</span>
<span class="cp">	(((value) &amp; ((1 &lt;&lt; SYSREG_##name##_SIZE) - 1))	\</span>
<span class="cp">	 &lt;&lt; SYSREG_##name##_OFFSET)</span>
<span class="cp">#define SYSREG_BFEXT(name,value)\</span>
<span class="cp">	(((value) &gt;&gt; SYSREG_##name##_OFFSET)		\</span>
<span class="cp">	 &amp; ((1 &lt;&lt; SYSREG_##name##_SIZE) - 1))</span>
<span class="cp">#define SYSREG_BFINS(name,value,old)			\</span>
<span class="cp">	(((old) &amp; ~(((1 &lt;&lt; SYSREG_##name##_SIZE) - 1)	\</span>
<span class="cp">		    &lt;&lt; SYSREG_##name##_OFFSET))		\</span>
<span class="cp">	 | SYSREG_BF(name,value))</span>

<span class="cm">/* Register access macros */</span>
<span class="cp">#ifdef __CHECKER__</span>
<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">__builtin_mfsr</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">reg</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">__builtin_mtsr</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">reg</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">value</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#define sysreg_read(reg)		__builtin_mfsr(SYSREG_##reg)</span>
<span class="cp">#define sysreg_write(reg, value)	__builtin_mtsr(SYSREG_##reg, value)</span>

<span class="cp">#endif </span><span class="cm">/* __ASM_AVR32_SYSREG_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
