d | kernel |  | 24 items |  | Al Viro | viro@zeniv.linux.org.uk | 1338846454 |  | fixups for signal breakage  Obvious brainos spotted by Geert.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
d | mach-at32ap |  | 20 items |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1333402885 |  | avr32: fix build failures from mis-naming of atmel_nand.h  Commit bf4289cba02b ("ATMEL: fix nand ecc support") indicated that it wanted to "Move platform data to a common header include/linux/platform_data/atmel_nand.h" and the new header even had re-include protectors with:      #ifndef __ATMEL_NAND_H__  However, the file that was added was simply called atmel.h and this caused avr32 defconfig to fail with:    In file included from arch/avr32/boards/atstk1000/setup.c:22:   arch/avr32/mach-at32ap/include/mach/board.h:10:44: error: linux/platform_data/atmel_nand.h: No such file or directory   In file included from arch/avr32/boards/atstk1000/setup.c:22:   arch/avr32/mach-at32ap/include/mach/board.h:121: warning: 'struct atmel_nand_data' declared inside parameter list   arch/avr32/mach-at32ap/include/mach/board.h:121: warning: its scope is only this definition or declaration, which is probably not what you want   make[2]: *** [arch/avr32/boards/atstk1000/setup.o] Error 1  It seems the scope of the file contents will expand beyond just nand, so ignore the original intention, and fix up the users who reference the bad name with the _nand suffix.  CC: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com> CC: David Woodhouse <dwmw2@infradead.org> Acked-by: Hans-Christian Egtvedt <egtvedt@samfundet.no> Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Makefile | g | 2.6K |  | Sam Ravnborg | sam@ravnborg.org | 1280837385 |  | kbuild: allow assignment to {A,C,LD}FLAGS_MODULE on the command line  It is now possible to assign options to AS, CC and LD on the command line - which is only used when building modules.  {A,C,LD}FLAGS_MODULE was all used both in the top-level Makefile in the arch makefiles, thus users had no way to specify additional options to AS, CC, LD when building modules without overriding the original value.  Introduce a new set of variables KBUILD_{A,C,LD}FLAGS_MODULE that is used by arch specific files and free up {A,C,LD}FLAGS_MODULE so they can be assigned on the command line.  All arch Makefiles that used the old variables has been updated.  Note: Previously we had a MODFLAGS variable for both AS and CC. But in favour of consistency this was dropped. So in some cases arch Makefile has one assignmnet replaced by two assignmnets.  Note2: MODFLAGS was not documented and is dropped without any notice. I do not expect much/any breakage from this.  Signed-off-by: Sam Ravnborg <sam@ravnborg.org> Cc: Denys Vlasenko <vda.linux@googlemail.com> Cc: Haavard Skinnemoen <hskinnemoen@atmel.com> Cc: Mike Frysinger <vapier@gentoo.org> Cc: Tony Luck <tony.luck@intel.com> Cc: Geert Uytterhoeven <geert@linux-m68k.org> Cc: Ralf Baechle <ralf@linux-mips.org> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Martin Schwidefsky <schwidefsky@de.ibm.com> Cc: Chen Liqin <liqin.chen@sunplusct.com> Acked-by: Mike Frysinger <vapier@gentoo.org> [blackfin] Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com> [avr32] Signed-off-by: Michal Marek <mmarek@suse.cz>
d | boot |  | 2 items |  | Stephen Warren | swarren@wwwdotorg.org | 1332769760 |  | Kbuild: centralize MKIMAGE and cmd_uimage definitions  All ARCHs have the same definition of MKIMAGE. Move it to Makefile.lib to avoid duplication.  All ARCHs have similar definitions of cmd_uimage. Place a sufficiently parameterized version in Makefile.lib to avoid duplication.  Signed-off-by: Stephen Warren <swarren@wwwdotorg.org> Acked-by: Nicolas Pitre <nico@linaro.org> Tested-by: Mike Frysinger <vapier@gentoo.org> [Blackfin] Tested-by: Michal Simek <monstr@monstr.eu> [Microblaze] Tested-by: Guan Xuetao <gxt@mprc.pku.edu.cn> [unicore32] Signed-off-by: Michal Marek <mmarek@suse.cz>
d | include |  | 1 items |  | Al Viro | viro@zeniv.linux.org.uk | 1338426290 |  | bury __kernel_nlink_t, make internal nlink_t consistent  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
d | mm |  | 9 items |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103859 |  | avr32: add export.h to arch/avr32 for EXPORT_SYMBOL/THIS_MODULE  Add it in where the module.h implicit presence was doing the job before.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | oprofile |  | 3 items |  | David Howells | dhowells@redhat.com | 1332955801 |  | Disintegrate asm/system.h for AVR32  Disintegrate asm/system.h for AVR32.  This has not been compiled at all.  Signed-off-by: David Howells <dhowells@redhat.com> cc: Haavard Skinnemoen <hskinnemoen@gmail.com>
f | Kconfig.debug | g | 107B |  | Haavard Skinnemoen | hskinnemoen@atmel.com | 1201246300 |  | [AVR32] Include instrumentation menu  Remove KPROBES option from Kconfig.debug and include kernel/Kconfig.instrumentation.  Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>
f | Kconfig | g | 6.1K |  | Linus Torvalds | torvalds@linux-foundation.org | 1337893306 |  | 
d | boards |  | 6 items |  | Jean-Christophe PLAGNIOL-VILLARD | plagnioj@jcrosoft.com | 1331825192 |  | ATMEL: fix nand ecc support  So we can now choose for the board the ecc mode (ecc soft, soft bch, no ecc and hardware).  Set ecc mode in the boards to soft as currently in the driver.  Move platform data to a common header include/linux/platform_data/atmel_nand.h  Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com> Acked-by: Hans-Christian Egtvedt <egtvedt@samfundet.no> Acked-by: David Woodhouse <dwmw2@infradead.org>
d | configs |  | 15 items |  | Wanlong Gao | wanlong.gao@gmail.com | 1308193442 |  | rtc: fix build warnings in defconfigs  RTC_CLASS is changed to bool, so 'm' is invalid.  Signed-off-by: Wanlong Gao <wanlong.gao@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Acked-by: Wolfram Sang <w.sang@pengutronix.de> Acked-by: Hans-Christian Egtvedt <hans-christian.egtvedt@atmel.com> Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Guan Xuetao <gxt@mprc.pku.edu.cn> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
d | lib |  | 20 items |  | Akinobu Mita | akinobu.mita@gmail.com | 1300934771 |  | asm-generic: rename generic little-endian bitops functions  As a preparation for providing little-endian bitops for all architectures, This renames generic implementation of little-endian bitops.  (remove "generic_" prefix and postfix "_le")  s/generic_find_next_le_bit/find_next_bit_le/ s/generic_find_next_zero_le_bit/find_next_zero_bit_le/ s/generic_find_first_zero_le_bit/find_first_zero_bit_le/ s/generic___test_and_set_le_bit/__test_and_set_bit_le/ s/generic___test_and_clear_le_bit/__test_and_clear_bit_le/ s/generic_test_le_bit/test_bit_le/ s/generic___set_le_bit/__set_bit_le/ s/generic___clear_le_bit/__clear_bit_le/ s/generic_test_and_set_le_bit/test_and_set_bit_le/ s/generic_test_and_clear_le_bit/test_and_clear_bit_le/  Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com> Acked-by: Arnd Bergmann <arnd@arndb.de> Acked-by: Hans-Christian Egtvedt <hans-christian.egtvedt@atmel.com> Cc: Geert Uytterhoeven <geert@linux-m68k.org> Cc: Roman Zippel <zippel@linux-m68k.org> Cc: Andreas Schwab <schwab@linux-m68k.org> Cc: Greg Ungerer <gerg@uclinux.org> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Paul Mackerras <paulus@samba.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
