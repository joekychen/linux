<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › tile › include › arch › interrupts_64.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>interrupts_64.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright 2011 Tilera Corporation. All Rights Reserved.</span>
<span class="cm"> *</span>
<span class="cm"> *   This program is free software; you can redistribute it and/or</span>
<span class="cm"> *   modify it under the terms of the GNU General Public License</span>
<span class="cm"> *   as published by the Free Software Foundation, version 2.</span>
<span class="cm"> *</span>
<span class="cm"> *   This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> *   WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, GOOD TITLE or</span>
<span class="cm"> *   NON INFRINGEMENT.  See the GNU General Public License for</span>
<span class="cm"> *   more details.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ARCH_INTERRUPTS_H__</span>
<span class="cp">#define __ARCH_INTERRUPTS_H__</span>

<span class="cm">/** Mask for an interrupt. */</span>
<span class="cp">#ifdef __ASSEMBLER__</span>
<span class="cm">/* Note: must handle breaking interrupts into high and low words manually. */</span>
<span class="cp">#define INT_MASK(intno) (1 &lt;&lt; (intno))</span>
<span class="cp">#else</span>
<span class="cp">#define INT_MASK(intno) (1ULL &lt;&lt; (intno))</span>
<span class="cp">#endif</span>


<span class="cm">/** Where a given interrupt executes */</span>
<span class="cp">#define INTERRUPT_VECTOR(i, pl) (0xFC000000 + ((pl) &lt;&lt; 24) + ((i) &lt;&lt; 8))</span>

<span class="cm">/** Where to store a vector for a given interrupt. */</span>
<span class="cp">#define USER_INTERRUPT_VECTOR(i) INTERRUPT_VECTOR(i, 0)</span>

<span class="cm">/** The base address of user-level interrupts. */</span>
<span class="cp">#define USER_INTERRUPT_VECTOR_BASE INTERRUPT_VECTOR(0, 0)</span>


<span class="cm">/** Additional synthetic interrupt. */</span>
<span class="cp">#define INT_BREAKPOINT (63)</span>

<span class="cp">#define INT_MEM_ERROR    0</span>
<span class="cp">#define INT_SINGLE_STEP_3    1</span>
<span class="cp">#define INT_SINGLE_STEP_2    2</span>
<span class="cp">#define INT_SINGLE_STEP_1    3</span>
<span class="cp">#define INT_SINGLE_STEP_0    4</span>
<span class="cp">#define INT_IDN_COMPLETE    5</span>
<span class="cp">#define INT_UDN_COMPLETE    6</span>
<span class="cp">#define INT_ITLB_MISS    7</span>
<span class="cp">#define INT_ILL    8</span>
<span class="cp">#define INT_GPV    9</span>
<span class="cp">#define INT_IDN_ACCESS   10</span>
<span class="cp">#define INT_UDN_ACCESS   11</span>
<span class="cp">#define INT_SWINT_3   12</span>
<span class="cp">#define INT_SWINT_2   13</span>
<span class="cp">#define INT_SWINT_1   14</span>
<span class="cp">#define INT_SWINT_0   15</span>
<span class="cp">#define INT_ILL_TRANS   16</span>
<span class="cp">#define INT_UNALIGN_DATA   17</span>
<span class="cp">#define INT_DTLB_MISS   18</span>
<span class="cp">#define INT_DTLB_ACCESS   19</span>
<span class="cp">#define INT_IDN_FIREWALL   20</span>
<span class="cp">#define INT_UDN_FIREWALL   21</span>
<span class="cp">#define INT_TILE_TIMER   22</span>
<span class="cp">#define INT_AUX_TILE_TIMER   23</span>
<span class="cp">#define INT_IDN_TIMER   24</span>
<span class="cp">#define INT_UDN_TIMER   25</span>
<span class="cp">#define INT_IDN_AVAIL   26</span>
<span class="cp">#define INT_UDN_AVAIL   27</span>
<span class="cp">#define INT_IPI_3   28</span>
<span class="cp">#define INT_IPI_2   29</span>
<span class="cp">#define INT_IPI_1   30</span>
<span class="cp">#define INT_IPI_0   31</span>
<span class="cp">#define INT_PERF_COUNT   32</span>
<span class="cp">#define INT_AUX_PERF_COUNT   33</span>
<span class="cp">#define INT_INTCTRL_3   34</span>
<span class="cp">#define INT_INTCTRL_2   35</span>
<span class="cp">#define INT_INTCTRL_1   36</span>
<span class="cp">#define INT_INTCTRL_0   37</span>
<span class="cp">#define INT_BOOT_ACCESS   38</span>
<span class="cp">#define INT_WORLD_ACCESS   39</span>
<span class="cp">#define INT_I_ASID   40</span>
<span class="cp">#define INT_D_ASID   41</span>
<span class="cp">#define INT_DOUBLE_FAULT   42</span>

<span class="cp">#define NUM_INTERRUPTS 43</span>

<span class="cp">#ifndef __ASSEMBLER__</span>
<span class="cp">#define QUEUED_INTERRUPTS ( \</span>
<span class="cp">    INT_MASK(INT_MEM_ERROR) | \</span>
<span class="cp">    INT_MASK(INT_IDN_COMPLETE) | \</span>
<span class="cp">    INT_MASK(INT_UDN_COMPLETE) | \</span>
<span class="cp">    INT_MASK(INT_IDN_FIREWALL) | \</span>
<span class="cp">    INT_MASK(INT_UDN_FIREWALL) | \</span>
<span class="cp">    INT_MASK(INT_TILE_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_AUX_TILE_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_IDN_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_UDN_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_IDN_AVAIL) | \</span>
<span class="cp">    INT_MASK(INT_UDN_AVAIL) | \</span>
<span class="cp">    INT_MASK(INT_IPI_3) | \</span>
<span class="cp">    INT_MASK(INT_IPI_2) | \</span>
<span class="cp">    INT_MASK(INT_IPI_1) | \</span>
<span class="cp">    INT_MASK(INT_IPI_0) | \</span>
<span class="cp">    INT_MASK(INT_PERF_COUNT) | \</span>
<span class="cp">    INT_MASK(INT_AUX_PERF_COUNT) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_3) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_2) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_1) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_0) | \</span>
<span class="cp">    INT_MASK(INT_BOOT_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_WORLD_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_I_ASID) | \</span>
<span class="cp">    INT_MASK(INT_D_ASID) | \</span>
<span class="cp">    INT_MASK(INT_DOUBLE_FAULT) | \</span>
<span class="cp">    0)</span>
<span class="cp">#define NONQUEUED_INTERRUPTS ( \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_3) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_2) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_1) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_0) | \</span>
<span class="cp">    INT_MASK(INT_ITLB_MISS) | \</span>
<span class="cp">    INT_MASK(INT_ILL) | \</span>
<span class="cp">    INT_MASK(INT_GPV) | \</span>
<span class="cp">    INT_MASK(INT_IDN_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_UDN_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_3) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_2) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_1) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_0) | \</span>
<span class="cp">    INT_MASK(INT_ILL_TRANS) | \</span>
<span class="cp">    INT_MASK(INT_UNALIGN_DATA) | \</span>
<span class="cp">    INT_MASK(INT_DTLB_MISS) | \</span>
<span class="cp">    INT_MASK(INT_DTLB_ACCESS) | \</span>
<span class="cp">    0)</span>
<span class="cp">#define CRITICAL_MASKED_INTERRUPTS ( \</span>
<span class="cp">    INT_MASK(INT_MEM_ERROR) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_3) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_2) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_1) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_0) | \</span>
<span class="cp">    INT_MASK(INT_IDN_COMPLETE) | \</span>
<span class="cp">    INT_MASK(INT_UDN_COMPLETE) | \</span>
<span class="cp">    INT_MASK(INT_IDN_FIREWALL) | \</span>
<span class="cp">    INT_MASK(INT_UDN_FIREWALL) | \</span>
<span class="cp">    INT_MASK(INT_TILE_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_AUX_TILE_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_IDN_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_UDN_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_IDN_AVAIL) | \</span>
<span class="cp">    INT_MASK(INT_UDN_AVAIL) | \</span>
<span class="cp">    INT_MASK(INT_IPI_3) | \</span>
<span class="cp">    INT_MASK(INT_IPI_2) | \</span>
<span class="cp">    INT_MASK(INT_IPI_1) | \</span>
<span class="cp">    INT_MASK(INT_IPI_0) | \</span>
<span class="cp">    INT_MASK(INT_PERF_COUNT) | \</span>
<span class="cp">    INT_MASK(INT_AUX_PERF_COUNT) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_3) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_2) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_1) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_0) | \</span>
<span class="cp">    0)</span>
<span class="cp">#define CRITICAL_UNMASKED_INTERRUPTS ( \</span>
<span class="cp">    INT_MASK(INT_ITLB_MISS) | \</span>
<span class="cp">    INT_MASK(INT_ILL) | \</span>
<span class="cp">    INT_MASK(INT_GPV) | \</span>
<span class="cp">    INT_MASK(INT_IDN_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_UDN_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_3) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_2) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_1) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_0) | \</span>
<span class="cp">    INT_MASK(INT_ILL_TRANS) | \</span>
<span class="cp">    INT_MASK(INT_UNALIGN_DATA) | \</span>
<span class="cp">    INT_MASK(INT_DTLB_MISS) | \</span>
<span class="cp">    INT_MASK(INT_DTLB_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_BOOT_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_WORLD_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_I_ASID) | \</span>
<span class="cp">    INT_MASK(INT_D_ASID) | \</span>
<span class="cp">    INT_MASK(INT_DOUBLE_FAULT) | \</span>
<span class="cp">    0)</span>
<span class="cp">#define MASKABLE_INTERRUPTS ( \</span>
<span class="cp">    INT_MASK(INT_MEM_ERROR) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_3) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_2) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_1) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_0) | \</span>
<span class="cp">    INT_MASK(INT_IDN_COMPLETE) | \</span>
<span class="cp">    INT_MASK(INT_UDN_COMPLETE) | \</span>
<span class="cp">    INT_MASK(INT_IDN_FIREWALL) | \</span>
<span class="cp">    INT_MASK(INT_UDN_FIREWALL) | \</span>
<span class="cp">    INT_MASK(INT_TILE_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_AUX_TILE_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_IDN_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_UDN_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_IDN_AVAIL) | \</span>
<span class="cp">    INT_MASK(INT_UDN_AVAIL) | \</span>
<span class="cp">    INT_MASK(INT_IPI_3) | \</span>
<span class="cp">    INT_MASK(INT_IPI_2) | \</span>
<span class="cp">    INT_MASK(INT_IPI_1) | \</span>
<span class="cp">    INT_MASK(INT_IPI_0) | \</span>
<span class="cp">    INT_MASK(INT_PERF_COUNT) | \</span>
<span class="cp">    INT_MASK(INT_AUX_PERF_COUNT) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_3) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_2) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_1) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_0) | \</span>
<span class="cp">    0)</span>
<span class="cp">#define UNMASKABLE_INTERRUPTS ( \</span>
<span class="cp">    INT_MASK(INT_ITLB_MISS) | \</span>
<span class="cp">    INT_MASK(INT_ILL) | \</span>
<span class="cp">    INT_MASK(INT_GPV) | \</span>
<span class="cp">    INT_MASK(INT_IDN_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_UDN_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_3) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_2) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_1) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_0) | \</span>
<span class="cp">    INT_MASK(INT_ILL_TRANS) | \</span>
<span class="cp">    INT_MASK(INT_UNALIGN_DATA) | \</span>
<span class="cp">    INT_MASK(INT_DTLB_MISS) | \</span>
<span class="cp">    INT_MASK(INT_DTLB_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_BOOT_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_WORLD_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_I_ASID) | \</span>
<span class="cp">    INT_MASK(INT_D_ASID) | \</span>
<span class="cp">    INT_MASK(INT_DOUBLE_FAULT) | \</span>
<span class="cp">    0)</span>
<span class="cp">#define SYNC_INTERRUPTS ( \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_3) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_2) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_1) | \</span>
<span class="cp">    INT_MASK(INT_SINGLE_STEP_0) | \</span>
<span class="cp">    INT_MASK(INT_IDN_COMPLETE) | \</span>
<span class="cp">    INT_MASK(INT_UDN_COMPLETE) | \</span>
<span class="cp">    INT_MASK(INT_ITLB_MISS) | \</span>
<span class="cp">    INT_MASK(INT_ILL) | \</span>
<span class="cp">    INT_MASK(INT_GPV) | \</span>
<span class="cp">    INT_MASK(INT_IDN_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_UDN_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_3) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_2) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_1) | \</span>
<span class="cp">    INT_MASK(INT_SWINT_0) | \</span>
<span class="cp">    INT_MASK(INT_ILL_TRANS) | \</span>
<span class="cp">    INT_MASK(INT_UNALIGN_DATA) | \</span>
<span class="cp">    INT_MASK(INT_DTLB_MISS) | \</span>
<span class="cp">    INT_MASK(INT_DTLB_ACCESS) | \</span>
<span class="cp">    0)</span>
<span class="cp">#define NON_SYNC_INTERRUPTS ( \</span>
<span class="cp">    INT_MASK(INT_MEM_ERROR) | \</span>
<span class="cp">    INT_MASK(INT_IDN_FIREWALL) | \</span>
<span class="cp">    INT_MASK(INT_UDN_FIREWALL) | \</span>
<span class="cp">    INT_MASK(INT_TILE_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_AUX_TILE_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_IDN_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_UDN_TIMER) | \</span>
<span class="cp">    INT_MASK(INT_IDN_AVAIL) | \</span>
<span class="cp">    INT_MASK(INT_UDN_AVAIL) | \</span>
<span class="cp">    INT_MASK(INT_IPI_3) | \</span>
<span class="cp">    INT_MASK(INT_IPI_2) | \</span>
<span class="cp">    INT_MASK(INT_IPI_1) | \</span>
<span class="cp">    INT_MASK(INT_IPI_0) | \</span>
<span class="cp">    INT_MASK(INT_PERF_COUNT) | \</span>
<span class="cp">    INT_MASK(INT_AUX_PERF_COUNT) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_3) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_2) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_1) | \</span>
<span class="cp">    INT_MASK(INT_INTCTRL_0) | \</span>
<span class="cp">    INT_MASK(INT_BOOT_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_WORLD_ACCESS) | \</span>
<span class="cp">    INT_MASK(INT_I_ASID) | \</span>
<span class="cp">    INT_MASK(INT_D_ASID) | \</span>
<span class="cp">    INT_MASK(INT_DOUBLE_FAULT) | \</span>
<span class="cp">    0)</span>
<span class="cp">#endif </span><span class="cm">/* !__ASSEMBLER__ */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/* !__ARCH_INTERRUPTS_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
