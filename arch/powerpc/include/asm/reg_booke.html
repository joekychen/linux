<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › powerpc › include › asm › reg_booke.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>reg_booke.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Contains register definitions common to the Book E PowerPC</span>
<span class="cm"> * specification.  Notice that while the IBM-40x series of CPUs</span>
<span class="cm"> * are not true Book E PowerPCs, they borrowed a number of features</span>
<span class="cm"> * before Book E was finalized, and are included here as well.  Unfortunately,</span>
<span class="cm"> * they sometimes used different locations than true Book E CPUs did.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or</span>
<span class="cm"> * modify it under the terms of the GNU General Public License version 2</span>
<span class="cm"> * as published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2009-2010 Freescale Semiconductor, Inc.</span>
<span class="cm"> */</span>
<span class="cp">#ifdef __KERNEL__</span>
<span class="cp">#ifndef __ASM_POWERPC_REG_BOOKE_H__</span>
<span class="cp">#define __ASM_POWERPC_REG_BOOKE_H__</span>

<span class="cm">/* Machine State Register (MSR) Fields */</span>
<span class="cp">#define MSR_GS		(1&lt;&lt;28) </span><span class="cm">/* Guest state */</span><span class="cp"></span>
<span class="cp">#define MSR_UCLE	(1&lt;&lt;26)	</span><span class="cm">/* User-mode cache lock enable */</span><span class="cp"></span>
<span class="cp">#define MSR_SPE		(1&lt;&lt;25)	</span><span class="cm">/* Enable SPE */</span><span class="cp"></span>
<span class="cp">#define MSR_DWE		(1&lt;&lt;10)	</span><span class="cm">/* Debug Wait Enable */</span><span class="cp"></span>
<span class="cp">#define MSR_UBLE	(1&lt;&lt;10)	</span><span class="cm">/* BTB lock enable (e500) */</span><span class="cp"></span>
<span class="cp">#define MSR_IS		MSR_IR	</span><span class="cm">/* Instruction Space */</span><span class="cp"></span>
<span class="cp">#define MSR_DS		MSR_DR	</span><span class="cm">/* Data Space */</span><span class="cp"></span>
<span class="cp">#define MSR_PMM		(1&lt;&lt;2)	</span><span class="cm">/* Performance monitor mark bit */</span><span class="cp"></span>
<span class="cp">#define MSR_CM		(1&lt;&lt;31) </span><span class="cm">/* Computation Mode (0=32-bit, 1=64-bit) */</span><span class="cp"></span>

<span class="cp">#if defined(CONFIG_PPC_BOOK3E_64)</span>
<span class="cp">#define MSR_64BIT	MSR_CM</span>

<span class="cp">#define MSR_		MSR_ME | MSR_CE</span>
<span class="cp">#define MSR_KERNEL	MSR_ | MSR_64BIT</span>
<span class="cp">#define MSR_USER32	MSR_ | MSR_PR | MSR_EE</span>
<span class="cp">#define MSR_USER64	MSR_USER32 | MSR_64BIT</span>
<span class="cp">#elif defined (CONFIG_40x)</span>
<span class="cp">#define MSR_KERNEL	(MSR_ME|MSR_RI|MSR_IR|MSR_DR|MSR_CE)</span>
<span class="cp">#define MSR_USER	(MSR_KERNEL|MSR_PR|MSR_EE)</span>
<span class="cp">#else</span>
<span class="cp">#define MSR_KERNEL	(MSR_ME|MSR_RI|MSR_CE)</span>
<span class="cp">#define MSR_USER	(MSR_KERNEL|MSR_PR|MSR_EE)</span>
<span class="cp">#endif</span>

<span class="cm">/* Special Purpose Registers (SPRNs)*/</span>
<span class="cp">#define SPRN_DECAR	0x036	</span><span class="cm">/* Decrementer Auto Reload Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVPR	0x03F	</span><span class="cm">/* Interrupt Vector Prefix Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_USPRG0	0x100	</span><span class="cm">/* User Special Purpose Register General 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG3R	0x103	</span><span class="cm">/* Special Purpose Register General 3 Read */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG4R	0x104	</span><span class="cm">/* Special Purpose Register General 4 Read */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG5R	0x105	</span><span class="cm">/* Special Purpose Register General 5 Read */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG6R	0x106	</span><span class="cm">/* Special Purpose Register General 6 Read */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG7R	0x107	</span><span class="cm">/* Special Purpose Register General 7 Read */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG4W	0x114	</span><span class="cm">/* Special Purpose Register General 4 Write */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG5W	0x115	</span><span class="cm">/* Special Purpose Register General 5 Write */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG6W	0x116	</span><span class="cm">/* Special Purpose Register General 6 Write */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG7W	0x117	</span><span class="cm">/* Special Purpose Register General 7 Write */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR	0x133	</span><span class="cm">/* Embedded Processor Control Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_DBCR2	0x136	</span><span class="cm">/* Debug Control Register 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MSRP	0x137	</span><span class="cm">/* MSR Protect Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_IAC3	0x13A	</span><span class="cm">/* Instruction Address Compare 3 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IAC4	0x13B	</span><span class="cm">/* Instruction Address Compare 4 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DVC1	0x13E	</span><span class="cm">/* Data Value Compare Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DVC2	0x13F	</span><span class="cm">/* Data Value Compare Register 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_LPID	0x152	</span><span class="cm">/* Logical Partition ID */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS8	0x155	</span><span class="cm">/* MMU Assist Register 8 */</span><span class="cp"></span>
<span class="cp">#define SPRN_TLB0PS	0x158	</span><span class="cm">/* TLB 0 Page Size Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_TLB1PS	0x159	</span><span class="cm">/* TLB 1 Page Size Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS5_MAS6	0x15c	</span><span class="cm">/* MMU Assist Register 5 || 6 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS8_MAS1	0x15d	</span><span class="cm">/* MMU Assist Register 8 || 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPTCFG	0x15e	</span><span class="cm">/* Embedded Page Table Config */</span><span class="cp"></span>
<span class="cp">#define SPRN_GSPRG0	0x170	</span><span class="cm">/* Guest SPRG0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GSPRG1	0x171	</span><span class="cm">/* Guest SPRG1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GSPRG2	0x172	</span><span class="cm">/* Guest SPRG2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GSPRG3	0x173	</span><span class="cm">/* Guest SPRG3 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS7_MAS3	0x174	</span><span class="cm">/* MMU Assist Register 7 || 3 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS0_MAS1	0x175	</span><span class="cm">/* MMU Assist Register 0 || 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GSRR0	0x17A	</span><span class="cm">/* Guest SRR0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GSRR1	0x17B	</span><span class="cm">/* Guest SRR1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GEPR	0x17C	</span><span class="cm">/* Guest EPR */</span><span class="cp"></span>
<span class="cp">#define SPRN_GDEAR	0x17D	</span><span class="cm">/* Guest DEAR */</span><span class="cp"></span>
<span class="cp">#define SPRN_GPIR	0x17E	</span><span class="cm">/* Guest PIR */</span><span class="cp"></span>
<span class="cp">#define SPRN_GESR	0x17F	</span><span class="cm">/* Guest Exception Syndrome Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR0	0x190	</span><span class="cm">/* Interrupt Vector Offset Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR1	0x191	</span><span class="cm">/* Interrupt Vector Offset Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR2	0x192	</span><span class="cm">/* Interrupt Vector Offset Register 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR3	0x193	</span><span class="cm">/* Interrupt Vector Offset Register 3 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR4	0x194	</span><span class="cm">/* Interrupt Vector Offset Register 4 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR5	0x195	</span><span class="cm">/* Interrupt Vector Offset Register 5 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR6	0x196	</span><span class="cm">/* Interrupt Vector Offset Register 6 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR7	0x197	</span><span class="cm">/* Interrupt Vector Offset Register 7 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR8	0x198	</span><span class="cm">/* Interrupt Vector Offset Register 8 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR9	0x199	</span><span class="cm">/* Interrupt Vector Offset Register 9 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR10	0x19A	</span><span class="cm">/* Interrupt Vector Offset Register 10 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR11	0x19B	</span><span class="cm">/* Interrupt Vector Offset Register 11 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR12	0x19C	</span><span class="cm">/* Interrupt Vector Offset Register 12 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR13	0x19D	</span><span class="cm">/* Interrupt Vector Offset Register 13 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR14	0x19E	</span><span class="cm">/* Interrupt Vector Offset Register 14 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR15	0x19F	</span><span class="cm">/* Interrupt Vector Offset Register 15 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR38	0x1B0	</span><span class="cm">/* Interrupt Vector Offset Register 38 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR39	0x1B1	</span><span class="cm">/* Interrupt Vector Offset Register 39 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR40	0x1B2	</span><span class="cm">/* Interrupt Vector Offset Register 40 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR41	0x1B3	</span><span class="cm">/* Interrupt Vector Offset Register 41 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GIVOR2	0x1B8	</span><span class="cm">/* Guest IVOR2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GIVOR3	0x1B9	</span><span class="cm">/* Guest IVOR3 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GIVOR4	0x1BA	</span><span class="cm">/* Guest IVOR4 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GIVOR8	0x1BB	</span><span class="cm">/* Guest IVOR8 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GIVOR13	0x1BC	</span><span class="cm">/* Guest IVOR13 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GIVOR14	0x1BD	</span><span class="cm">/* Guest IVOR14 */</span><span class="cp"></span>
<span class="cp">#define SPRN_GIVPR	0x1BF	</span><span class="cm">/* Guest IVPR */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPEFSCR	0x200	</span><span class="cm">/* SPE &amp; Embedded FP Status &amp; Control */</span><span class="cp"></span>
<span class="cp">#define SPRN_BBEAR	0x201	</span><span class="cm">/* Branch Buffer Entry Address Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_BBTAR	0x202	</span><span class="cm">/* Branch Buffer Target Address Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_L1CFG0	0x203	</span><span class="cm">/* L1 Cache Configure Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_L1CFG1	0x204	</span><span class="cm">/* L1 Cache Configure Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_ATB	0x20E	</span><span class="cm">/* Alternate Time Base */</span><span class="cp"></span>
<span class="cp">#define SPRN_ATBL	0x20E	</span><span class="cm">/* Alternate Time Base Lower */</span><span class="cp"></span>
<span class="cp">#define SPRN_ATBU	0x20F	</span><span class="cm">/* Alternate Time Base Upper */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR32	0x210	</span><span class="cm">/* Interrupt Vector Offset Register 32 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR33	0x211	</span><span class="cm">/* Interrupt Vector Offset Register 33 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR34	0x212	</span><span class="cm">/* Interrupt Vector Offset Register 34 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR35	0x213	</span><span class="cm">/* Interrupt Vector Offset Register 35 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR36	0x214	</span><span class="cm">/* Interrupt Vector Offset Register 36 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IVOR37	0x215	</span><span class="cm">/* Interrupt Vector Offset Register 37 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MCARU	0x239	</span><span class="cm">/* Machine Check Address Register Upper */</span><span class="cp"></span>
<span class="cp">#define SPRN_MCSRR0	0x23A	</span><span class="cm">/* Machine Check Save and Restore Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MCSRR1	0x23B	</span><span class="cm">/* Machine Check Save and Restore Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MCSR	0x23C	</span><span class="cm">/* Machine Check Status Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_MCAR	0x23D	</span><span class="cm">/* Machine Check Address Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_DSRR0	0x23E	</span><span class="cm">/* Debug Save and Restore Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DSRR1	0x23F	</span><span class="cm">/* Debug Save and Restore Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG8	0x25C	</span><span class="cm">/* Special Purpose Register General 8 */</span><span class="cp"></span>
<span class="cp">#define SPRN_SPRG9	0x25D	</span><span class="cm">/* Special Purpose Register General 9 */</span><span class="cp"></span>
<span class="cp">#define SPRN_L1CSR2	0x25E	</span><span class="cm">/* L1 Cache Control and Status Register 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS0	0x270	</span><span class="cm">/* MMU Assist Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS1	0x271	</span><span class="cm">/* MMU Assist Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS2	0x272	</span><span class="cm">/* MMU Assist Register 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS3	0x273	</span><span class="cm">/* MMU Assist Register 3 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS4	0x274	</span><span class="cm">/* MMU Assist Register 4 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS5	0x153	</span><span class="cm">/* MMU Assist Register 5 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS6	0x276	</span><span class="cm">/* MMU Assist Register 6 */</span><span class="cp"></span>
<span class="cp">#define SPRN_PID1	0x279	</span><span class="cm">/* Process ID Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_PID2	0x27A	</span><span class="cm">/* Process ID Register 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_TLB0CFG	0x2B0	</span><span class="cm">/* TLB 0 Config Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_TLB1CFG	0x2B1	</span><span class="cm">/* TLB 1 Config Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_TLB2CFG	0x2B2	</span><span class="cm">/* TLB 2 Config Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_TLB3CFG	0x2B3	</span><span class="cm">/* TLB 3 Config Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPR	0x2BE	</span><span class="cm">/* External Proxy Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_CCR1	0x378	</span><span class="cm">/* Core Configuration Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_ZPR	0x3B0	</span><span class="cm">/* Zone Protection Register (40x) */</span><span class="cp"></span>
<span class="cp">#define SPRN_MAS7	0x3B0	</span><span class="cm">/* MMU Assist Register 7 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MMUCR	0x3B2	</span><span class="cm">/* MMU Control Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_CCR0	0x3B3	</span><span class="cm">/* Core Configuration Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPLC	0x3B3	</span><span class="cm">/* External Process ID Load Context */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPSC	0x3B4	</span><span class="cm">/* External Process ID Store Context */</span><span class="cp"></span>
<span class="cp">#define SPRN_SGR	0x3B9	</span><span class="cm">/* Storage Guarded Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_DCWR	0x3BA	</span><span class="cm">/* Data Cache Write-thru Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_SLER	0x3BB	</span><span class="cm">/* Little-endian real mode */</span><span class="cp"></span>
<span class="cp">#define SPRN_SU0R	0x3BC	</span><span class="cm">/* &quot;User 0&quot; real mode (40x) */</span><span class="cp"></span>
<span class="cp">#define SPRN_DCMP	0x3D1	</span><span class="cm">/* Data TLB Compare Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_ICDBDR	0x3D3	</span><span class="cm">/* Instruction Cache Debug Data Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_EVPR	0x3D6	</span><span class="cm">/* Exception Vector Prefix Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_L1CSR0	0x3F2	</span><span class="cm">/* L1 Cache Control and Status Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_L1CSR1	0x3F3	</span><span class="cm">/* L1 Cache Control and Status Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MMUCSR0	0x3F4	</span><span class="cm">/* MMU Control and Status Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_MMUCFG	0x3F7	</span><span class="cm">/* MMU Configuration Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_PIT	0x3DB	</span><span class="cm">/* Programmable Interval Timer */</span><span class="cp"></span>
<span class="cp">#define SPRN_BUCSR	0x3F5	</span><span class="cm">/* Branch Unit Control and Status */</span><span class="cp"></span>
<span class="cp">#define SPRN_L2CSR0	0x3F9	</span><span class="cm">/* L2 Data Cache Control and Status Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_L2CSR1	0x3FA	</span><span class="cm">/* L2 Data Cache Control and Status Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DCCR	0x3FA	</span><span class="cm">/* Data Cache Cacheability Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_ICCR	0x3FB	</span><span class="cm">/* Instruction Cache Cacheability Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_SVR	0x3FF	</span><span class="cm">/* System Version Register */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * SPRs which have conflicting definitions on true Book E versus classic,</span>
<span class="cm"> * or IBM 40x.</span>
<span class="cm"> */</span>
<span class="cp">#ifdef CONFIG_BOOKE</span>
<span class="cp">#define SPRN_CSRR0	0x03A	</span><span class="cm">/* Critical Save and Restore Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_CSRR1	0x03B	</span><span class="cm">/* Critical Save and Restore Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DEAR	0x03D	</span><span class="cm">/* Data Error Address Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_ESR	0x03E	</span><span class="cm">/* Exception Syndrome Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_PIR	0x11E	</span><span class="cm">/* Processor Identification Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_DBSR	0x130	</span><span class="cm">/* Debug Status Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_DBCR0	0x134	</span><span class="cm">/* Debug Control Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DBCR1	0x135	</span><span class="cm">/* Debug Control Register 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IAC1	0x138	</span><span class="cm">/* Instruction Address Compare 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_IAC2	0x139	</span><span class="cm">/* Instruction Address Compare 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DAC1	0x13C	</span><span class="cm">/* Data Address Compare 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DAC2	0x13D	</span><span class="cm">/* Data Address Compare 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_TSR	0x150	</span><span class="cm">/* Timer Status Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_TCR	0x154	</span><span class="cm">/* Timer Control Register */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/* Book E */</span><span class="cp"></span>
<span class="cp">#ifdef CONFIG_40x</span>
<span class="cp">#define SPRN_DBCR1	0x3BD	</span><span class="cm">/* Debug Control Register 1 */</span><span class="cp">		</span>
<span class="cp">#define SPRN_ESR	0x3D4	</span><span class="cm">/* Exception Syndrome Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_DEAR	0x3D5	</span><span class="cm">/* Data Error Address Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_TSR	0x3D8	</span><span class="cm">/* Timer Status Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_TCR	0x3DA	</span><span class="cm">/* Timer Control Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_SRR2	0x3DE	</span><span class="cm">/* Save/Restore Register 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_SRR3	0x3DF	</span><span class="cm">/* Save/Restore Register 3 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DBSR	0x3F0	</span><span class="cm">/* Debug Status Register */</span><span class="cp">		</span>
<span class="cp">#define SPRN_DBCR0	0x3F2	</span><span class="cm">/* Debug Control Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DAC1	0x3F6	</span><span class="cm">/* Data Address Compare 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_DAC2	0x3F7	</span><span class="cm">/* Data Address Compare 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_CSRR0	SPRN_SRR2 </span><span class="cm">/* Critical Save and Restore Register 0 */</span><span class="cp"></span>
<span class="cp">#define SPRN_CSRR1	SPRN_SRR3 </span><span class="cm">/* Critical Save and Restore Register 1 */</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_PPC_ICSWX</span>
<span class="cp">#define SPRN_HACOP	0x15F	</span><span class="cm">/* Hypervisor Available Coprocessor Register */</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cm">/* Bit definitions for CCR1. */</span>
<span class="cp">#define	CCR1_DPC	0x00000100 </span><span class="cm">/* Disable L1 I-Cache/D-Cache parity checking */</span><span class="cp"></span>
<span class="cp">#define	CCR1_TCS	0x00000080 </span><span class="cm">/* Timer Clock Select */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for the MCSR. */</span>
<span class="cp">#define MCSR_MCS	0x80000000 </span><span class="cm">/* Machine Check Summary */</span><span class="cp"></span>
<span class="cp">#define MCSR_IB		0x40000000 </span><span class="cm">/* Instruction PLB Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_DRB	0x20000000 </span><span class="cm">/* Data Read PLB Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_DWB	0x10000000 </span><span class="cm">/* Data Write PLB Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_TLBP	0x08000000 </span><span class="cm">/* TLB Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_ICP	0x04000000 </span><span class="cm">/* I-Cache Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_DCSP	0x02000000 </span><span class="cm">/* D-Cache Search Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_DCFP	0x01000000 </span><span class="cm">/* D-Cache Flush Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_IMPE	0x00800000 </span><span class="cm">/* Imprecise Machine Check Exception */</span><span class="cp"></span>

<span class="cp">#define PPC47x_MCSR_GPR	0x01000000 </span><span class="cm">/* GPR parity error */</span><span class="cp"></span>
<span class="cp">#define PPC47x_MCSR_FPR	0x00800000 </span><span class="cm">/* FPR parity error */</span><span class="cp"></span>
<span class="cp">#define PPC47x_MCSR_IPR	0x00400000 </span><span class="cm">/* Imprecise Machine Check Exception */</span><span class="cp"></span>

<span class="cp">#ifdef CONFIG_E500</span>
<span class="cm">/* All e500 */</span>
<span class="cp">#define MCSR_MCP 	0x80000000UL </span><span class="cm">/* Machine Check Input Pin */</span><span class="cp"></span>
<span class="cp">#define MCSR_ICPERR 	0x40000000UL </span><span class="cm">/* I-Cache Parity Error */</span><span class="cp"></span>

<span class="cm">/* e500v1/v2 */</span>
<span class="cp">#define MCSR_DCP_PERR 	0x20000000UL </span><span class="cm">/* D-Cache Push Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_DCPERR 	0x10000000UL </span><span class="cm">/* D-Cache Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_IAERR 	0x00000080UL </span><span class="cm">/* Instruction Address Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_RAERR 	0x00000040UL </span><span class="cm">/* Read Address Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_WAERR 	0x00000020UL </span><span class="cm">/* Write Address Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_IBERR 	0x00000010UL </span><span class="cm">/* Instruction Data Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_RBERR 	0x00000008UL </span><span class="cm">/* Read Data Bus Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_WBERR 	0x00000004UL </span><span class="cm">/* Write Data Bus Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_IPERR 	0x00000002UL </span><span class="cm">/* Instruction parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_RPERR 	0x00000001UL </span><span class="cm">/* Read parity Error */</span><span class="cp"></span>

<span class="cm">/* e500mc */</span>
<span class="cp">#define MCSR_DCPERR_MC	0x20000000UL </span><span class="cm">/* D-Cache Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_L2MMU_MHIT	0x04000000UL </span><span class="cm">/* Hit on multiple TLB entries */</span><span class="cp"></span>
<span class="cp">#define MCSR_NMI	0x00100000UL </span><span class="cm">/* Non-Maskable Interrupt */</span><span class="cp"></span>
<span class="cp">#define MCSR_MAV	0x00080000UL </span><span class="cm">/* MCAR address valid */</span><span class="cp"></span>
<span class="cp">#define MCSR_MEA	0x00040000UL </span><span class="cm">/* MCAR is effective address */</span><span class="cp"></span>
<span class="cp">#define MCSR_IF		0x00010000UL </span><span class="cm">/* Instruction Fetch */</span><span class="cp"></span>
<span class="cp">#define MCSR_LD		0x00008000UL </span><span class="cm">/* Load */</span><span class="cp"></span>
<span class="cp">#define MCSR_ST		0x00004000UL </span><span class="cm">/* Store */</span><span class="cp"></span>
<span class="cp">#define MCSR_LDG	0x00002000UL </span><span class="cm">/* Guarded Load */</span><span class="cp"></span>
<span class="cp">#define MCSR_TLBSYNC	0x00000002UL </span><span class="cm">/* Multiple tlbsyncs detected */</span><span class="cp"></span>
<span class="cp">#define MCSR_BSL2_ERR	0x00000001UL </span><span class="cm">/* Backside L2 cache error */</span><span class="cp"></span>

<span class="cp">#define MSRP_UCLEP	0x04000000 </span><span class="cm">/* Protect MSR[UCLE] */</span><span class="cp"></span>
<span class="cp">#define MSRP_DEP	0x00000200 </span><span class="cm">/* Protect MSR[DE] */</span><span class="cp"></span>
<span class="cp">#define MSRP_PMMP	0x00000004 </span><span class="cm">/* Protect MSR[PMM] */</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_E200</span>
<span class="cp">#define MCSR_MCP 	0x80000000UL </span><span class="cm">/* Machine Check Input Pin */</span><span class="cp"></span>
<span class="cp">#define MCSR_CP_PERR 	0x20000000UL </span><span class="cm">/* Cache Push Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_CPERR 	0x10000000UL </span><span class="cm">/* Cache Parity Error */</span><span class="cp"></span>
<span class="cp">#define MCSR_EXCP_ERR 	0x08000000UL </span><span class="cm">/* ISI, ITLB, or Bus Error on 1st insn</span>
<span class="cm">					fetch for an exception handler */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_IRERR 	0x00000010UL </span><span class="cm">/* Read Bus Error on instruction fetch*/</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_DRERR 	0x00000008UL </span><span class="cm">/* Read Bus Error on data load */</span><span class="cp"></span>
<span class="cp">#define MCSR_BUS_WRERR 	0x00000004UL </span><span class="cm">/* Write Bus Error on buffered</span>
<span class="cm">					store or cache line push */</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cm">/* Bit definitions for the HID1 */</span>
<span class="cp">#ifdef CONFIG_E500</span>
<span class="cm">/* e500v1/v2 */</span>
<span class="cp">#define HID1_PLL_CFG_MASK 0xfc000000	</span><span class="cm">/* PLL_CFG input pins */</span><span class="cp"></span>
<span class="cp">#define HID1_RFXE	0x00020000	</span><span class="cm">/* Read fault exception enable */</span><span class="cp"></span>
<span class="cp">#define HID1_R1DPE	0x00008000	</span><span class="cm">/* R1 data bus parity enable */</span><span class="cp"></span>
<span class="cp">#define HID1_R2DPE	0x00004000	</span><span class="cm">/* R2 data bus parity enable */</span><span class="cp"></span>
<span class="cp">#define HID1_ASTME	0x00002000	</span><span class="cm">/* Address bus streaming mode enable */</span><span class="cp"></span>
<span class="cp">#define HID1_ABE	0x00001000	</span><span class="cm">/* Address broadcast enable */</span><span class="cp"></span>
<span class="cp">#define HID1_MPXTT	0x00000400	</span><span class="cm">/* MPX re-map transfer type */</span><span class="cp"></span>
<span class="cp">#define HID1_ATS	0x00000080	</span><span class="cm">/* Atomic status */</span><span class="cp"></span>
<span class="cp">#define HID1_MID_MASK	0x0000000f	</span><span class="cm">/* MID input pins */</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cm">/* Bit definitions for the DBSR. */</span>
<span class="cm">/*</span>
<span class="cm"> * DBSR bits which have conflicting definitions on true Book E versus IBM 40x.</span>
<span class="cm"> */</span>
<span class="cp">#ifdef CONFIG_BOOKE</span>
<span class="cp">#define DBSR_IC		0x08000000	</span><span class="cm">/* Instruction Completion */</span><span class="cp"></span>
<span class="cp">#define DBSR_BT		0x04000000	</span><span class="cm">/* Branch Taken */</span><span class="cp"></span>
<span class="cp">#define DBSR_IRPT	0x02000000	</span><span class="cm">/* Exception Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_TIE	0x01000000	</span><span class="cm">/* Trap Instruction Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC1	0x00800000	</span><span class="cm">/* Instr Address Compare 1 Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC2	0x00400000	</span><span class="cm">/* Instr Address Compare 2 Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC3	0x00200000	</span><span class="cm">/* Instr Address Compare 3 Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC4	0x00100000	</span><span class="cm">/* Instr Address Compare 4 Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_DAC1R	0x00080000	</span><span class="cm">/* Data Addr Compare 1 Read Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_DAC1W	0x00040000	</span><span class="cm">/* Data Addr Compare 1 Write Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_DAC2R	0x00020000	</span><span class="cm">/* Data Addr Compare 2 Read Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_DAC2W	0x00010000	</span><span class="cm">/* Data Addr Compare 2 Write Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_RET	0x00008000	</span><span class="cm">/* Return Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_CIRPT	0x00000040	</span><span class="cm">/* Critical Interrupt Taken Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_CRET	0x00000020	</span><span class="cm">/* Critical Return Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC12ATS	0x00000002	</span><span class="cm">/* Instr Address Compare 1/2 Toggle */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC34ATS	0x00000001	</span><span class="cm">/* Instr Address Compare 3/4 Toggle */</span><span class="cp"></span>
<span class="cp">#endif</span>
<span class="cp">#ifdef CONFIG_40x</span>
<span class="cp">#define DBSR_IC		0x80000000	</span><span class="cm">/* Instruction Completion */</span><span class="cp"></span>
<span class="cp">#define DBSR_BT		0x40000000	</span><span class="cm">/* Branch taken */</span><span class="cp"></span>
<span class="cp">#define DBSR_IRPT	0x20000000	</span><span class="cm">/* Exception Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_TIE	0x10000000	</span><span class="cm">/* Trap Instruction debug Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC1	0x04000000	</span><span class="cm">/* Instruction Address Compare 1 Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC2	0x02000000	</span><span class="cm">/* Instruction Address Compare 2 Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC3	0x00080000	</span><span class="cm">/* Instruction Address Compare 3 Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_IAC4	0x00040000	</span><span class="cm">/* Instruction Address Compare 4 Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_DAC1R	0x01000000	</span><span class="cm">/* Data Address Compare 1 Read Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_DAC1W	0x00800000	</span><span class="cm">/* Data Address Compare 1 Write Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_DAC2R	0x00400000	</span><span class="cm">/* Data Address Compare 2 Read Event */</span><span class="cp"></span>
<span class="cp">#define DBSR_DAC2W	0x00200000	</span><span class="cm">/* Data Address Compare 2 Write Event */</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cm">/* Bit definitions related to the ESR. */</span>
<span class="cp">#define ESR_MCI		0x80000000	</span><span class="cm">/* Machine Check - Instruction */</span><span class="cp"></span>
<span class="cp">#define ESR_IMCP	0x80000000	</span><span class="cm">/* Instr. Machine Check - Protection */</span><span class="cp"></span>
<span class="cp">#define ESR_IMCN	0x40000000	</span><span class="cm">/* Instr. Machine Check - Non-config */</span><span class="cp"></span>
<span class="cp">#define ESR_IMCB	0x20000000	</span><span class="cm">/* Instr. Machine Check - Bus error */</span><span class="cp"></span>
<span class="cp">#define ESR_IMCT	0x10000000	</span><span class="cm">/* Instr. Machine Check - Timeout */</span><span class="cp"></span>
<span class="cp">#define ESR_PIL		0x08000000	</span><span class="cm">/* Program Exception - Illegal */</span><span class="cp"></span>
<span class="cp">#define ESR_PPR		0x04000000	</span><span class="cm">/* Program Exception - Privileged */</span><span class="cp"></span>
<span class="cp">#define ESR_PTR		0x02000000	</span><span class="cm">/* Program Exception - Trap */</span><span class="cp"></span>
<span class="cp">#define ESR_FP		0x01000000	</span><span class="cm">/* Floating Point Operation */</span><span class="cp"></span>
<span class="cp">#define ESR_DST		0x00800000	</span><span class="cm">/* Storage Exception - Data miss */</span><span class="cp"></span>
<span class="cp">#define ESR_DIZ		0x00400000	</span><span class="cm">/* Storage Exception - Zone fault */</span><span class="cp"></span>
<span class="cp">#define ESR_ST		0x00800000	</span><span class="cm">/* Store Operation */</span><span class="cp"></span>
<span class="cp">#define ESR_DLK		0x00200000	</span><span class="cm">/* Data Cache Locking */</span><span class="cp"></span>
<span class="cp">#define ESR_ILK		0x00100000	</span><span class="cm">/* Instr. Cache Locking */</span><span class="cp"></span>
<span class="cp">#define ESR_PUO		0x00040000	</span><span class="cm">/* Unimplemented Operation exception */</span><span class="cp"></span>
<span class="cp">#define ESR_BO		0x00020000	</span><span class="cm">/* Byte Ordering */</span><span class="cp"></span>
<span class="cp">#define ESR_SPV		0x00000080	</span><span class="cm">/* Signal Processing operation */</span><span class="cp"></span>

<span class="cm">/* Bit definitions related to the DBCR0. */</span>
<span class="cp">#if defined(CONFIG_40x)</span>
<span class="cp">#define DBCR0_EDM	0x80000000	</span><span class="cm">/* External Debug Mode */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IDM	0x40000000	</span><span class="cm">/* Internal Debug Mode */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST	0x30000000	</span><span class="cm">/* all the bits in the RST field */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST_SYSTEM 0x30000000	</span><span class="cm">/* System Reset */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST_CHIP	0x20000000	</span><span class="cm">/* Chip Reset */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST_CORE	0x10000000	</span><span class="cm">/* Core Reset */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST_NONE	0x00000000	</span><span class="cm">/* No Reset */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IC	0x08000000	</span><span class="cm">/* Instruction Completion */</span><span class="cp"></span>
<span class="cp">#define DBCR0_ICMP	DBCR0_IC</span>
<span class="cp">#define DBCR0_BT	0x04000000	</span><span class="cm">/* Branch Taken */</span><span class="cp"></span>
<span class="cp">#define DBCR0_BRT	DBCR0_BT</span>
<span class="cp">#define DBCR0_EDE	0x02000000	</span><span class="cm">/* Exception Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IRPT	DBCR0_EDE</span>
<span class="cp">#define DBCR0_TDE	0x01000000	</span><span class="cm">/* TRAP Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IA1	0x00800000	</span><span class="cm">/* Instr Addr compare 1 enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IAC1	DBCR0_IA1</span>
<span class="cp">#define DBCR0_IA2	0x00400000	</span><span class="cm">/* Instr Addr compare 2 enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IAC2	DBCR0_IA2</span>
<span class="cp">#define DBCR0_IA12	0x00200000	</span><span class="cm">/* Instr Addr 1-2 range enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IA12X	0x00100000	</span><span class="cm">/* Instr Addr 1-2 range eXclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IA3	0x00080000	</span><span class="cm">/* Instr Addr compare 3 enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IAC3	DBCR0_IA3</span>
<span class="cp">#define DBCR0_IA4	0x00040000	</span><span class="cm">/* Instr Addr compare 4 enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IAC4	DBCR0_IA4</span>
<span class="cp">#define DBCR0_IA34	0x00020000	</span><span class="cm">/* Instr Addr 3-4 range Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IA34X	0x00010000	</span><span class="cm">/* Instr Addr 3-4 range eXclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IA12T	0x00008000	</span><span class="cm">/* Instr Addr 1-2 range Toggle */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IA34T	0x00004000	</span><span class="cm">/* Instr Addr 3-4 range Toggle */</span><span class="cp"></span>
<span class="cp">#define DBCR0_FT	0x00000001	</span><span class="cm">/* Freeze Timers on debug event */</span><span class="cp"></span>

<span class="cp">#define dbcr_iac_range(task)	((task)-&gt;thread.dbcr0)</span>
<span class="cp">#define DBCR_IAC12I	DBCR0_IA12			</span><span class="cm">/* Range Inclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC12X	(DBCR0_IA12 | DBCR0_IA12X)	</span><span class="cm">/* Range Exclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC12MODE	(DBCR0_IA12 | DBCR0_IA12X)	</span><span class="cm">/* IAC 1-2 Mode Bits */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC34I	DBCR0_IA34			</span><span class="cm">/* Range Inclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC34X	(DBCR0_IA34 | DBCR0_IA34X)	</span><span class="cm">/* Range Exclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC34MODE	(DBCR0_IA34 | DBCR0_IA34X)	</span><span class="cm">/* IAC 3-4 Mode Bits */</span><span class="cp"></span>

<span class="cm">/* Bit definitions related to the DBCR1. */</span>
<span class="cp">#define DBCR1_DAC1R	0x80000000	</span><span class="cm">/* DAC1 Read Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR1_DAC2R	0x40000000	</span><span class="cm">/* DAC2 Read Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR1_DAC1W	0x20000000	</span><span class="cm">/* DAC1 Write Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR1_DAC2W	0x10000000	</span><span class="cm">/* DAC2 Write Debug Event */</span><span class="cp"></span>

<span class="cp">#define dbcr_dac(task)	((task)-&gt;thread.dbcr1)</span>
<span class="cp">#define DBCR_DAC1R	DBCR1_DAC1R</span>
<span class="cp">#define DBCR_DAC1W	DBCR1_DAC1W</span>
<span class="cp">#define DBCR_DAC2R	DBCR1_DAC2R</span>
<span class="cp">#define DBCR_DAC2W	DBCR1_DAC2W</span>

<span class="cm">/*</span>
<span class="cm"> * Are there any active Debug Events represented in the</span>
<span class="cm"> * Debug Control Registers?</span>
<span class="cm"> */</span>
<span class="cp">#define DBCR0_ACTIVE_EVENTS	(DBCR0_ICMP | DBCR0_IAC1 | DBCR0_IAC2 | \</span>
<span class="cp">				 DBCR0_IAC3 | DBCR0_IAC4)</span>
<span class="cp">#define DBCR1_ACTIVE_EVENTS	(DBCR1_DAC1R | DBCR1_DAC2R | \</span>
<span class="cp">				 DBCR1_DAC1W | DBCR1_DAC2W)</span>
<span class="cp">#define DBCR_ACTIVE_EVENTS(dbcr0, dbcr1)  (((dbcr0) &amp; DBCR0_ACTIVE_EVENTS) || \</span>
<span class="cp">					   ((dbcr1) &amp; DBCR1_ACTIVE_EVENTS))</span>

<span class="cp">#elif defined(CONFIG_BOOKE)</span>
<span class="cp">#define DBCR0_EDM	0x80000000	</span><span class="cm">/* External Debug Mode */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IDM	0x40000000	</span><span class="cm">/* Internal Debug Mode */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST	0x30000000	</span><span class="cm">/* all the bits in the RST field */</span><span class="cp"></span>
<span class="cm">/* DBCR0_RST_* is 44x specific and not followed in fsl booke */</span>
<span class="cp">#define DBCR0_RST_SYSTEM 0x30000000	</span><span class="cm">/* System Reset */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST_CHIP	0x20000000	</span><span class="cm">/* Chip Reset */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST_CORE	0x10000000	</span><span class="cm">/* Core Reset */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RST_NONE	0x00000000	</span><span class="cm">/* No Reset */</span><span class="cp"></span>
<span class="cp">#define DBCR0_ICMP	0x08000000	</span><span class="cm">/* Instruction Completion */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IC	DBCR0_ICMP</span>
<span class="cp">#define DBCR0_BRT	0x04000000	</span><span class="cm">/* Branch Taken */</span><span class="cp"></span>
<span class="cp">#define DBCR0_BT	DBCR0_BRT</span>
<span class="cp">#define DBCR0_IRPT	0x02000000	</span><span class="cm">/* Exception Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR0_TDE	0x01000000	</span><span class="cm">/* TRAP Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR0_TIE	DBCR0_TDE</span>
<span class="cp">#define DBCR0_IAC1	0x00800000	</span><span class="cm">/* Instr Addr compare 1 enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IAC2	0x00400000	</span><span class="cm">/* Instr Addr compare 2 enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IAC3	0x00200000	</span><span class="cm">/* Instr Addr compare 3 enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_IAC4	0x00100000	</span><span class="cm">/* Instr Addr compare 4 enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_DAC1R	0x00080000	</span><span class="cm">/* DAC 1 Read enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_DAC1W	0x00040000	</span><span class="cm">/* DAC 1 Write enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_DAC2R	0x00020000	</span><span class="cm">/* DAC 2 Read enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_DAC2W	0x00010000	</span><span class="cm">/* DAC 2 Write enable */</span><span class="cp"></span>
<span class="cp">#define DBCR0_RET	0x00008000	</span><span class="cm">/* Return Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR0_CIRPT	0x00000040	</span><span class="cm">/* Critical Interrupt Taken Event */</span><span class="cp"></span>
<span class="cp">#define DBCR0_CRET	0x00000020	</span><span class="cm">/* Critical Return Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR0_FT	0x00000001	</span><span class="cm">/* Freeze Timers on debug event */</span><span class="cp"></span>

<span class="cp">#define dbcr_dac(task)	((task)-&gt;thread.dbcr0)</span>
<span class="cp">#define DBCR_DAC1R	DBCR0_DAC1R</span>
<span class="cp">#define DBCR_DAC1W	DBCR0_DAC1W</span>
<span class="cp">#define DBCR_DAC2R	DBCR0_DAC2R</span>
<span class="cp">#define DBCR_DAC2W	DBCR0_DAC2W</span>

<span class="cm">/* Bit definitions related to the DBCR1. */</span>
<span class="cp">#define DBCR1_IAC1US	0xC0000000	</span><span class="cm">/* Instr Addr Cmp 1 Sup/User   */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC1ER	0x30000000	</span><span class="cm">/* Instr Addr Cmp 1 Eff/Real */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC1ER_01	0x10000000	</span><span class="cm">/* reserved */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC1ER_10	0x20000000	</span><span class="cm">/* Instr Addr Cmp 1 Eff/Real MSR[IS]=0 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC1ER_11	0x30000000	</span><span class="cm">/* Instr Addr Cmp 1 Eff/Real MSR[IS]=1 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC2US	0x0C000000	</span><span class="cm">/* Instr Addr Cmp 2 Sup/User   */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC2ER	0x03000000	</span><span class="cm">/* Instr Addr Cmp 2 Eff/Real */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC2ER_01	0x01000000	</span><span class="cm">/* reserved */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC2ER_10	0x02000000	</span><span class="cm">/* Instr Addr Cmp 2 Eff/Real MSR[IS]=0 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC2ER_11	0x03000000	</span><span class="cm">/* Instr Addr Cmp 2 Eff/Real MSR[IS]=1 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC12M	0x00800000	</span><span class="cm">/* Instr Addr 1-2 range enable */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC12MX	0x00C00000	</span><span class="cm">/* Instr Addr 1-2 range eXclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC12AT	0x00010000	</span><span class="cm">/* Instr Addr 1-2 range Toggle */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC3US	0x0000C000	</span><span class="cm">/* Instr Addr Cmp 3 Sup/User   */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC3ER	0x00003000	</span><span class="cm">/* Instr Addr Cmp 3 Eff/Real */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC3ER_01	0x00001000	</span><span class="cm">/* reserved */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC3ER_10	0x00002000	</span><span class="cm">/* Instr Addr Cmp 3 Eff/Real MSR[IS]=0 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC3ER_11	0x00003000	</span><span class="cm">/* Instr Addr Cmp 3 Eff/Real MSR[IS]=1 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC4US	0x00000C00	</span><span class="cm">/* Instr Addr Cmp 4 Sup/User   */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC4ER	0x00000300	</span><span class="cm">/* Instr Addr Cmp 4 Eff/Real */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC4ER_01	0x00000100	</span><span class="cm">/* Instr Addr Cmp 4 Eff/Real MSR[IS]=0 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC4ER_10	0x00000200	</span><span class="cm">/* Instr Addr Cmp 4 Eff/Real MSR[IS]=0 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC4ER_11	0x00000300	</span><span class="cm">/* Instr Addr Cmp 4 Eff/Real MSR[IS]=1 */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC34M	0x00000080	</span><span class="cm">/* Instr Addr 3-4 range enable */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC34MX	0x000000C0	</span><span class="cm">/* Instr Addr 3-4 range eXclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR1_IAC34AT	0x00000001	</span><span class="cm">/* Instr Addr 3-4 range Toggle */</span><span class="cp"></span>

<span class="cp">#define dbcr_iac_range(task)	((task)-&gt;thread.dbcr1)</span>
<span class="cp">#define DBCR_IAC12I	DBCR1_IAC12M	</span><span class="cm">/* Range Inclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC12X	DBCR1_IAC12MX	</span><span class="cm">/* Range Exclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC12MODE	DBCR1_IAC12MX	</span><span class="cm">/* IAC 1-2 Mode Bits */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC34I	DBCR1_IAC34M	</span><span class="cm">/* Range Inclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC34X	DBCR1_IAC34MX	</span><span class="cm">/* Range Exclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR_IAC34MODE	DBCR1_IAC34MX	</span><span class="cm">/* IAC 3-4 Mode Bits */</span><span class="cp"></span>

<span class="cm">/* Bit definitions related to the DBCR2. */</span>
<span class="cp">#define DBCR2_DAC1US	0xC0000000	</span><span class="cm">/* Data Addr Cmp 1 Sup/User   */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DAC1ER	0x30000000	</span><span class="cm">/* Data Addr Cmp 1 Eff/Real */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DAC2US	0x0C000000	</span><span class="cm">/* Data Addr Cmp 2 Sup/User   */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DAC2ER	0x03000000	</span><span class="cm">/* Data Addr Cmp 2 Eff/Real */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DAC12M	0x00800000	</span><span class="cm">/* DAC 1-2 range enable */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DAC12MM	0x00400000	</span><span class="cm">/* DAC 1-2 Mask mode*/</span><span class="cp"></span>
<span class="cp">#define DBCR2_DAC12MX	0x00C00000	</span><span class="cm">/* DAC 1-2 range eXclusive */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DAC12MODE	0x00C00000	</span><span class="cm">/* DAC 1-2 Mode Bits */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DAC12A	0x00200000	</span><span class="cm">/* DAC 1-2 Asynchronous */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DVC1M	0x000C0000	</span><span class="cm">/* Data Value Comp 1 Mode */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DVC1M_SHIFT	18	</span><span class="cm">/* # of bits to shift DBCR2_DVC1M */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DVC2M	0x00030000	</span><span class="cm">/* Data Value Comp 2 Mode */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DVC2M_SHIFT	16	</span><span class="cm">/* # of bits to shift DBCR2_DVC2M */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DVC1BE	0x00000F00	</span><span class="cm">/* Data Value Comp 1 Byte */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DVC1BE_SHIFT	8	</span><span class="cm">/* # of bits to shift DBCR2_DVC1BE */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DVC2BE	0x0000000F	</span><span class="cm">/* Data Value Comp 2 Byte */</span><span class="cp"></span>
<span class="cp">#define DBCR2_DVC2BE_SHIFT	0	</span><span class="cm">/* # of bits to shift DBCR2_DVC2BE */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Are there any active Debug Events represented in the</span>
<span class="cm"> * Debug Control Registers?</span>
<span class="cm"> */</span>
<span class="cp">#define DBCR0_ACTIVE_EVENTS  (DBCR0_ICMP | DBCR0_IAC1 | DBCR0_IAC2 | \</span>
<span class="cp">			      DBCR0_IAC3 | DBCR0_IAC4 | DBCR0_DAC1R | \</span>
<span class="cp">			      DBCR0_DAC1W  | DBCR0_DAC2R | DBCR0_DAC2W)</span>
<span class="cp">#define DBCR1_ACTIVE_EVENTS	0</span>

<span class="cp">#define DBCR_ACTIVE_EVENTS(dbcr0, dbcr1)  (((dbcr0) &amp; DBCR0_ACTIVE_EVENTS) || \</span>
<span class="cp">					   ((dbcr1) &amp; DBCR1_ACTIVE_EVENTS))</span>
<span class="cp">#endif </span><span class="cm">/* #elif defined(CONFIG_BOOKE) */</span><span class="cp"></span>

<span class="cm">/* Bit definitions related to the TCR. */</span>
<span class="cp">#define TCR_WP(x)	(((x)&amp;0x3)&lt;&lt;30)	</span><span class="cm">/* WDT Period */</span><span class="cp"></span>
<span class="cp">#define TCR_WP_MASK	TCR_WP(3)</span>
<span class="cp">#define WP_2_17		0		</span><span class="cm">/* 2^17 clocks */</span><span class="cp"></span>
<span class="cp">#define WP_2_21		1		</span><span class="cm">/* 2^21 clocks */</span><span class="cp"></span>
<span class="cp">#define WP_2_25		2		</span><span class="cm">/* 2^25 clocks */</span><span class="cp"></span>
<span class="cp">#define WP_2_29		3		</span><span class="cm">/* 2^29 clocks */</span><span class="cp"></span>
<span class="cp">#define TCR_WRC(x)	(((x)&amp;0x3)&lt;&lt;28)	</span><span class="cm">/* WDT Reset Control */</span><span class="cp"></span>
<span class="cp">#define TCR_WRC_MASK	TCR_WRC(3)</span>
<span class="cp">#define WRC_NONE	0		</span><span class="cm">/* No reset will occur */</span><span class="cp"></span>
<span class="cp">#define WRC_CORE	1		</span><span class="cm">/* Core reset will occur */</span><span class="cp"></span>
<span class="cp">#define WRC_CHIP	2		</span><span class="cm">/* Chip reset will occur */</span><span class="cp"></span>
<span class="cp">#define WRC_SYSTEM	3		</span><span class="cm">/* System reset will occur */</span><span class="cp"></span>
<span class="cp">#define TCR_WIE		0x08000000	</span><span class="cm">/* WDT Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define TCR_PIE		0x04000000	</span><span class="cm">/* PIT Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define TCR_DIE		TCR_PIE		</span><span class="cm">/* DEC Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define TCR_FP(x)	(((x)&amp;0x3)&lt;&lt;24)	</span><span class="cm">/* FIT Period */</span><span class="cp"></span>
<span class="cp">#define TCR_FP_MASK	TCR_FP(3)</span>
<span class="cp">#define FP_2_9		0		</span><span class="cm">/* 2^9 clocks */</span><span class="cp"></span>
<span class="cp">#define FP_2_13		1		</span><span class="cm">/* 2^13 clocks */</span><span class="cp"></span>
<span class="cp">#define FP_2_17		2		</span><span class="cm">/* 2^17 clocks */</span><span class="cp"></span>
<span class="cp">#define FP_2_21		3		</span><span class="cm">/* 2^21 clocks */</span><span class="cp"></span>
<span class="cp">#define TCR_FIE		0x00800000	</span><span class="cm">/* FIT Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define TCR_ARE		0x00400000	</span><span class="cm">/* Auto Reload Enable */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for the TSR. */</span>
<span class="cp">#define TSR_ENW		0x80000000	</span><span class="cm">/* Enable Next Watchdog */</span><span class="cp"></span>
<span class="cp">#define TSR_WIS		0x40000000	</span><span class="cm">/* WDT Interrupt Status */</span><span class="cp"></span>
<span class="cp">#define TSR_WRS(x)	(((x)&amp;0x3)&lt;&lt;28)	</span><span class="cm">/* WDT Reset Status */</span><span class="cp"></span>
<span class="cp">#define WRS_NONE	0		</span><span class="cm">/* No WDT reset occurred */</span><span class="cp"></span>
<span class="cp">#define WRS_CORE	1		</span><span class="cm">/* WDT forced core reset */</span><span class="cp"></span>
<span class="cp">#define WRS_CHIP	2		</span><span class="cm">/* WDT forced chip reset */</span><span class="cp"></span>
<span class="cp">#define WRS_SYSTEM	3		</span><span class="cm">/* WDT forced system reset */</span><span class="cp"></span>
<span class="cp">#define TSR_PIS		0x08000000	</span><span class="cm">/* PIT Interrupt Status */</span><span class="cp"></span>
<span class="cp">#define TSR_DIS		TSR_PIS		</span><span class="cm">/* DEC Interrupt Status */</span><span class="cp"></span>
<span class="cp">#define TSR_FIS		0x04000000	</span><span class="cm">/* FIT Interrupt Status */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for the DCCR. */</span>
<span class="cp">#define DCCR_NOCACHE	0		</span><span class="cm">/* Noncacheable */</span><span class="cp"></span>
<span class="cp">#define DCCR_CACHE	1		</span><span class="cm">/* Cacheable */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for DCWR. */</span>
<span class="cp">#define DCWR_COPY	0		</span><span class="cm">/* Copy-back */</span><span class="cp"></span>
<span class="cp">#define DCWR_WRITE	1		</span><span class="cm">/* Write-through */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for ICCR. */</span>
<span class="cp">#define ICCR_NOCACHE	0		</span><span class="cm">/* Noncacheable */</span><span class="cp"></span>
<span class="cp">#define ICCR_CACHE	1		</span><span class="cm">/* Cacheable */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for L1CSR0. */</span>
<span class="cp">#define L1CSR0_CPE	0x00010000	</span><span class="cm">/* Data Cache Parity Enable */</span><span class="cp"></span>
<span class="cp">#define L1CSR0_CLFC	0x00000100	</span><span class="cm">/* Cache Lock Bits Flash Clear */</span><span class="cp"></span>
<span class="cp">#define L1CSR0_DCFI	0x00000002	</span><span class="cm">/* Data Cache Flash Invalidate */</span><span class="cp"></span>
<span class="cp">#define L1CSR0_CFI	0x00000002	</span><span class="cm">/* Cache Flash Invalidate */</span><span class="cp"></span>
<span class="cp">#define L1CSR0_DCE	0x00000001	</span><span class="cm">/* Data Cache Enable */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for L1CSR1. */</span>
<span class="cp">#define L1CSR1_CPE	0x00010000	</span><span class="cm">/* Instruction Cache Parity Enable */</span><span class="cp"></span>
<span class="cp">#define L1CSR1_ICLFR	0x00000100	</span><span class="cm">/* Instr Cache Lock Bits Flash Reset */</span><span class="cp"></span>
<span class="cp">#define L1CSR1_ICFI	0x00000002	</span><span class="cm">/* Instr Cache Flash Invalidate */</span><span class="cp"></span>
<span class="cp">#define L1CSR1_ICE	0x00000001	</span><span class="cm">/* Instr Cache Enable */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for L1CSR2. */</span>
<span class="cp">#define L1CSR2_DCWS	0x40000000	</span><span class="cm">/* Data Cache write shadow */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for L2CSR0. */</span>
<span class="cp">#define L2CSR0_L2E	0x80000000	</span><span class="cm">/* L2 Cache Enable */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2PE	0x40000000	</span><span class="cm">/* L2 Cache Parity/ECC Enable */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2WP	0x1c000000	</span><span class="cm">/* L2 I/D Way Partioning */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2CM	0x03000000	</span><span class="cm">/* L2 Cache Coherency Mode */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2FI	0x00200000	</span><span class="cm">/* L2 Cache Flash Invalidate */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2IO	0x00100000	</span><span class="cm">/* L2 Cache Instruction Only */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2DO	0x00010000	</span><span class="cm">/* L2 Cache Data Only */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2REP	0x00003000	</span><span class="cm">/* L2 Line Replacement Algo */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2FL	0x00000800	</span><span class="cm">/* L2 Cache Flush */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2LFC	0x00000400	</span><span class="cm">/* L2 Cache Lock Flash Clear */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2LOA	0x00000080	</span><span class="cm">/* L2 Cache Lock Overflow Allocate */</span><span class="cp"></span>
<span class="cp">#define L2CSR0_L2LO	0x00000020	</span><span class="cm">/* L2 Cache Lock Overflow */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for SGR. */</span>
<span class="cp">#define SGR_NORMAL	0		</span><span class="cm">/* Speculative fetching allowed. */</span><span class="cp"></span>
<span class="cp">#define SGR_GUARDED	1		</span><span class="cm">/* Speculative fetching disallowed. */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for EPCR */</span>
<span class="cp">#define SPRN_EPCR_EXTGS		0x80000000	</span><span class="cm">/* External Input interrupt</span>
<span class="cm">						 * directed to Guest state */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_DTLBGS	0x40000000	</span><span class="cm">/* Data TLB Error interrupt</span>
<span class="cm">						 * directed to guest state */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_ITLBGS	0x20000000	</span><span class="cm">/* Instr. TLB error interrupt</span>
<span class="cm">						 * directed to guest state */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_DSIGS		0x10000000	</span><span class="cm">/* Data Storage interrupt</span>
<span class="cm">						 * directed to guest state */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_ISIGS		0x08000000	</span><span class="cm">/* Instr. Storage interrupt</span>
<span class="cm">						 * directed to guest state */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_DUVD		0x04000000	</span><span class="cm">/* Disable Hypervisor Debug */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_ICM		0x02000000	</span><span class="cm">/* Interrupt computation mode</span>
<span class="cm">						 * (copied to MSR:CM on intr) */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_GICM		0x01000000	</span><span class="cm">/* Guest Interrupt Comp. mode */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_DGTMI		0x00800000	</span><span class="cm">/* Disable TLB Guest Management</span>
<span class="cm">						 * instructions */</span><span class="cp"></span>
<span class="cp">#define SPRN_EPCR_DMIUH		0x00400000	</span><span class="cm">/* Disable MAS Interrupt updates</span>
<span class="cm">						 * for hypervisor */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for EPLC/EPSC */</span>
<span class="cp">#define EPC_EPR		0x80000000 </span><span class="cm">/* 1 = user, 0 = kernel */</span><span class="cp"></span>
<span class="cp">#define EPC_EPR_SHIFT	31</span>
<span class="cp">#define EPC_EAS		0x40000000 </span><span class="cm">/* Address Space */</span><span class="cp"></span>
<span class="cp">#define EPC_EAS_SHIFT	30</span>
<span class="cp">#define EPC_EGS		0x20000000 </span><span class="cm">/* 1 = guest, 0 = hypervisor */</span><span class="cp"></span>
<span class="cp">#define EPC_EGS_SHIFT	29</span>
<span class="cp">#define EPC_ELPID	0x00ff0000</span>
<span class="cp">#define EPC_ELPID_SHIFT	16</span>
<span class="cp">#define EPC_EPID	0x00003fff</span>
<span class="cp">#define EPC_EPID_SHIFT	0</span>

<span class="cm">/*</span>
<span class="cm"> * The IBM-403 is an even more odd special case, as it is much</span>
<span class="cm"> * older than the IBM-405 series.  We put these down here incase someone</span>
<span class="cm"> * wishes to support these machines again.</span>
<span class="cm"> */</span>
<span class="cp">#ifdef CONFIG_403GCX</span>
<span class="cm">/* Special Purpose Registers (SPRNs)*/</span>
<span class="cp">#define SPRN_TBHU	0x3CC	</span><span class="cm">/* Time Base High User-mode */</span><span class="cp"></span>
<span class="cp">#define SPRN_TBLU	0x3CD	</span><span class="cm">/* Time Base Low User-mode */</span><span class="cp"></span>
<span class="cp">#define SPRN_CDBCR	0x3D7	</span><span class="cm">/* Cache Debug Control Register */</span><span class="cp"></span>
<span class="cp">#define SPRN_TBHI	0x3DC	</span><span class="cm">/* Time Base High */</span><span class="cp"></span>
<span class="cp">#define SPRN_TBLO	0x3DD	</span><span class="cm">/* Time Base Low */</span><span class="cp"></span>
<span class="cp">#define SPRN_DBCR	0x3F2	</span><span class="cm">/* Debug Control Regsiter */</span><span class="cp"></span>
<span class="cp">#define SPRN_PBL1	0x3FC	</span><span class="cm">/* Protection Bound Lower 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_PBL2	0x3FE	</span><span class="cm">/* Protection Bound Lower 2 */</span><span class="cp"></span>
<span class="cp">#define SPRN_PBU1	0x3FD	</span><span class="cm">/* Protection Bound Upper 1 */</span><span class="cp"></span>
<span class="cp">#define SPRN_PBU2	0x3FF	</span><span class="cm">/* Protection Bound Upper 2 */</span><span class="cp"></span>


<span class="cm">/* Bit definitions for the DBCR. */</span>
<span class="cp">#define DBCR_EDM	DBCR0_EDM</span>
<span class="cp">#define DBCR_IDM	DBCR0_IDM</span>
<span class="cp">#define DBCR_RST(x)	(((x) &amp; 0x3) &lt;&lt; 28)</span>
<span class="cp">#define DBCR_RST_NONE	0</span>
<span class="cp">#define DBCR_RST_CORE	1</span>
<span class="cp">#define DBCR_RST_CHIP	2</span>
<span class="cp">#define DBCR_RST_SYSTEM	3</span>
<span class="cp">#define DBCR_IC		DBCR0_IC	</span><span class="cm">/* Instruction Completion Debug Evnt */</span><span class="cp"></span>
<span class="cp">#define DBCR_BT		DBCR0_BT	</span><span class="cm">/* Branch Taken Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR_EDE	DBCR0_EDE	</span><span class="cm">/* Exception Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR_TDE	DBCR0_TDE	</span><span class="cm">/* TRAP Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR_FER	0x00F80000	</span><span class="cm">/* First Events Remaining Mask */</span><span class="cp"></span>
<span class="cp">#define DBCR_FT		0x00040000	</span><span class="cm">/* Freeze Timers on Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR_IA1	0x00020000	</span><span class="cm">/* Instr. Addr. Compare 1 Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_IA2	0x00010000	</span><span class="cm">/* Instr. Addr. Compare 2 Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_D1R	0x00008000	</span><span class="cm">/* Data Addr. Compare 1 Read Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_D1W	0x00004000	</span><span class="cm">/* Data Addr. Compare 1 Write Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_D1S(x)	(((x) &amp; 0x3) &lt;&lt; 12)	</span><span class="cm">/* Data Adrr. Compare 1 Size */</span><span class="cp"></span>
<span class="cp">#define DAC_BYTE	0</span>
<span class="cp">#define DAC_HALF	1</span>
<span class="cp">#define DAC_WORD	2</span>
<span class="cp">#define DAC_QUAD	3</span>
<span class="cp">#define DBCR_D2R	0x00000800	</span><span class="cm">/* Data Addr. Compare 2 Read Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_D2W	0x00000400	</span><span class="cm">/* Data Addr. Compare 2 Write Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_D2S(x)	(((x) &amp; 0x3) &lt;&lt; 8)	</span><span class="cm">/* Data Addr. Compare 2 Size */</span><span class="cp"></span>
<span class="cp">#define DBCR_SBT	0x00000040	</span><span class="cm">/* Second Branch Taken Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR_SED	0x00000020	</span><span class="cm">/* Second Exception Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR_STD	0x00000010	</span><span class="cm">/* Second Trap Debug Event */</span><span class="cp"></span>
<span class="cp">#define DBCR_SIA	0x00000008	</span><span class="cm">/* Second IAC Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_SDA	0x00000004	</span><span class="cm">/* Second DAC Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_JOI	0x00000002	</span><span class="cm">/* JTAG Serial Outbound Int. Enable */</span><span class="cp"></span>
<span class="cp">#define DBCR_JII	0x00000001	</span><span class="cm">/* JTAG Serial Inbound Int. Enable */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/* 403GCX */</span><span class="cp"></span>

<span class="cm">/* Some 476 specific registers */</span>
<span class="cp">#define SPRN_SSPCR		830</span>
<span class="cp">#define SPRN_USPCR		831</span>
<span class="cp">#define SPRN_ISPCR		829</span>
<span class="cp">#define SPRN_MMUBE0		820</span>
<span class="cp">#define MMUBE0_IBE0_SHIFT	24</span>
<span class="cp">#define MMUBE0_IBE1_SHIFT	16</span>
<span class="cp">#define MMUBE0_IBE2_SHIFT	8</span>
<span class="cp">#define MMUBE0_VBE0		0x00000004</span>
<span class="cp">#define MMUBE0_VBE1		0x00000002</span>
<span class="cp">#define MMUBE0_VBE2		0x00000001</span>
<span class="cp">#define SPRN_MMUBE1		821</span>
<span class="cp">#define MMUBE1_IBE3_SHIFT	24</span>
<span class="cp">#define MMUBE1_IBE4_SHIFT	16</span>
<span class="cp">#define MMUBE1_IBE5_SHIFT	8</span>
<span class="cp">#define MMUBE1_VBE3		0x00000004</span>
<span class="cp">#define MMUBE1_VBE4		0x00000002</span>
<span class="cp">#define MMUBE1_VBE5		0x00000001</span>

<span class="cp">#endif </span><span class="cm">/* __ASM_POWERPC_REG_BOOKE_H__ */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
