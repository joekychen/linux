<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › powerpc › include › asm › cell-regs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>cell-regs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * cbe_regs.h</span>
<span class="cm"> *</span>
<span class="cm"> * This file is intended to hold the various register definitions for CBE</span>
<span class="cm"> * on-chip system devices (memory controller, IO controller, etc...)</span>
<span class="cm"> *</span>
<span class="cm"> * (C) Copyright IBM Corporation 2001,2006</span>
<span class="cm"> *</span>
<span class="cm"> * Authors: Maximino Aguilar (maguilar@us.ibm.com)</span>
<span class="cm"> *          David J. Erb (djerb@us.ibm.com)</span>
<span class="cm"> *</span>
<span class="cm"> * (c) 2006 Benjamin Herrenschmidt &lt;benh@kernel.crashing.org&gt;, IBM Corp.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef CBE_REGS_H</span>
<span class="cp">#define CBE_REGS_H</span>

<span class="cp">#include &lt;asm/cell-pmu.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> * Some HID register definitions</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/* CBE specific HID0 bits */</span>
<span class="cp">#define HID0_CBE_THERM_WAKEUP	0x0000020000000000ul</span>
<span class="cp">#define HID0_CBE_SYSERR_WAKEUP	0x0000008000000000ul</span>
<span class="cp">#define HID0_CBE_THERM_INT_EN	0x0000000400000000ul</span>
<span class="cp">#define HID0_CBE_SYSERR_INT_EN	0x0000000200000000ul</span>

<span class="cp">#define MAX_CBE		2</span>

<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> * Pervasive unit register definitions</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="k">union</span> <span class="n">spe_reg</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">val</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">spe</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">ppe_spe_reg</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">val</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">ppe</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">spe</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">cbe_pmd_regs</span> <span class="p">{</span>
	<span class="cm">/* Debug Bus Control */</span>
	<span class="n">u64</span>	<span class="n">pad_0x0000</span><span class="p">;</span>					<span class="cm">/* 0x0000 */</span>

	<span class="n">u64</span>	<span class="n">group_control</span><span class="p">;</span>					<span class="cm">/* 0x0008 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x0010_0x00a8</span> <span class="p">[</span><span class="mh">0x00a8</span> <span class="o">-</span> <span class="mh">0x0010</span><span class="p">];</span>		<span class="cm">/* 0x0010 */</span>

	<span class="n">u64</span>	<span class="n">debug_bus_control</span><span class="p">;</span>				<span class="cm">/* 0x00a8 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x00b0_0x0100</span> <span class="p">[</span><span class="mh">0x0100</span> <span class="o">-</span> <span class="mh">0x00b0</span><span class="p">];</span>		<span class="cm">/* 0x00b0 */</span>

	<span class="n">u64</span>	<span class="n">trace_aux_data</span><span class="p">;</span>					<span class="cm">/* 0x0100 */</span>
	<span class="n">u64</span>	<span class="n">trace_buffer_0_63</span><span class="p">;</span>				<span class="cm">/* 0x0108 */</span>
	<span class="n">u64</span>	<span class="n">trace_buffer_64_127</span><span class="p">;</span>				<span class="cm">/* 0x0110 */</span>
	<span class="n">u64</span>	<span class="n">trace_address</span><span class="p">;</span>					<span class="cm">/* 0x0118 */</span>
	<span class="n">u64</span>	<span class="n">ext_tr_timer</span><span class="p">;</span>					<span class="cm">/* 0x0120 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x0128_0x0400</span> <span class="p">[</span><span class="mh">0x0400</span> <span class="o">-</span> <span class="mh">0x0128</span><span class="p">];</span>		<span class="cm">/* 0x0128 */</span>

	<span class="cm">/* Performance Monitor */</span>
	<span class="n">u64</span>	<span class="n">pm_status</span><span class="p">;</span>					<span class="cm">/* 0x0400 */</span>
	<span class="n">u64</span>	<span class="n">pm_control</span><span class="p">;</span>					<span class="cm">/* 0x0408 */</span>
	<span class="n">u64</span>	<span class="n">pm_interval</span><span class="p">;</span>					<span class="cm">/* 0x0410 */</span>
	<span class="n">u64</span>	<span class="n">pm_ctr</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>					<span class="cm">/* 0x0418 */</span>
	<span class="n">u64</span>	<span class="n">pm_start_stop</span><span class="p">;</span>					<span class="cm">/* 0x0438 */</span>
	<span class="n">u64</span>	<span class="n">pm07_control</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>				<span class="cm">/* 0x0440 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x0480_0x0800</span> <span class="p">[</span><span class="mh">0x0800</span> <span class="o">-</span> <span class="mh">0x0480</span><span class="p">];</span>		<span class="cm">/* 0x0480 */</span>

	<span class="cm">/* Thermal Sensor Registers */</span>
	<span class="k">union</span>	<span class="n">spe_reg</span>	<span class="n">ts_ctsr1</span><span class="p">;</span>				<span class="cm">/* 0x0800 */</span>
	<span class="n">u64</span>	<span class="n">ts_ctsr2</span><span class="p">;</span>					<span class="cm">/* 0x0808 */</span>
	<span class="k">union</span>	<span class="n">spe_reg</span>	<span class="n">ts_mtsr1</span><span class="p">;</span>				<span class="cm">/* 0x0810 */</span>
	<span class="n">u64</span>	<span class="n">ts_mtsr2</span><span class="p">;</span>					<span class="cm">/* 0x0818 */</span>
	<span class="k">union</span>	<span class="n">spe_reg</span>	<span class="n">ts_itr1</span><span class="p">;</span>				<span class="cm">/* 0x0820 */</span>
	<span class="n">u64</span>	<span class="n">ts_itr2</span><span class="p">;</span>					<span class="cm">/* 0x0828 */</span>
	<span class="n">u64</span>	<span class="n">ts_gitr</span><span class="p">;</span>					<span class="cm">/* 0x0830 */</span>
	<span class="n">u64</span>	<span class="n">ts_isr</span><span class="p">;</span>						<span class="cm">/* 0x0838 */</span>
	<span class="n">u64</span>	<span class="n">ts_imr</span><span class="p">;</span>						<span class="cm">/* 0x0840 */</span>
	<span class="k">union</span>	<span class="n">spe_reg</span>	<span class="n">tm_cr1</span><span class="p">;</span>					<span class="cm">/* 0x0848 */</span>
	<span class="n">u64</span>	<span class="n">tm_cr2</span><span class="p">;</span>						<span class="cm">/* 0x0850 */</span>
	<span class="n">u64</span>	<span class="n">tm_simr</span><span class="p">;</span>					<span class="cm">/* 0x0858 */</span>
	<span class="k">union</span>	<span class="n">ppe_spe_reg</span> <span class="n">tm_tpr</span><span class="p">;</span>				<span class="cm">/* 0x0860 */</span>
	<span class="k">union</span>	<span class="n">spe_reg</span>	<span class="n">tm_str1</span><span class="p">;</span>				<span class="cm">/* 0x0868 */</span>
	<span class="n">u64</span>	<span class="n">tm_str2</span><span class="p">;</span>					<span class="cm">/* 0x0870 */</span>
	<span class="k">union</span>	<span class="n">ppe_spe_reg</span> <span class="n">tm_tsr</span><span class="p">;</span>				<span class="cm">/* 0x0878 */</span>

	<span class="cm">/* Power Management */</span>
	<span class="n">u64</span>	<span class="n">pmcr</span><span class="p">;</span>						<span class="cm">/* 0x0880 */</span>
<span class="cp">#define CBE_PMD_PAUSE_ZERO_CONTROL	0x10000</span>
	<span class="n">u64</span>	<span class="n">pmsr</span><span class="p">;</span>						<span class="cm">/* 0x0888 */</span>

	<span class="cm">/* Time Base Register */</span>
	<span class="n">u64</span>	<span class="n">tbr</span><span class="p">;</span>						<span class="cm">/* 0x0890 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x0898_0x0c00</span> <span class="p">[</span><span class="mh">0x0c00</span> <span class="o">-</span> <span class="mh">0x0898</span><span class="p">];</span>		<span class="cm">/* 0x0898 */</span>

	<span class="cm">/* Fault Isolation Registers */</span>
	<span class="n">u64</span>	<span class="n">checkstop_fir</span><span class="p">;</span>					<span class="cm">/* 0x0c00 */</span>
	<span class="n">u64</span>	<span class="n">recoverable_fir</span><span class="p">;</span>				<span class="cm">/* 0x0c08 */</span>
	<span class="n">u64</span>	<span class="n">spec_att_mchk_fir</span><span class="p">;</span>				<span class="cm">/* 0x0c10 */</span>
	<span class="n">u32</span>	<span class="n">fir_mode_reg</span><span class="p">;</span>					<span class="cm">/* 0x0c18 */</span>
	<span class="n">u8</span>	<span class="n">pad_0x0c1c_0x0c20</span> <span class="p">[</span><span class="mi">4</span><span class="p">];</span>				<span class="cm">/* 0x0c1c */</span>
<span class="cp">#define CBE_PMD_FIR_MODE_M8		0x00800</span>
	<span class="n">u64</span>	<span class="n">fir_enable_mask</span><span class="p">;</span>				<span class="cm">/* 0x0c20 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x0c28_0x0ca8</span> <span class="p">[</span><span class="mh">0x0ca8</span> <span class="o">-</span> <span class="mh">0x0c28</span><span class="p">];</span>		<span class="cm">/* 0x0c28 */</span>
	<span class="n">u64</span>	<span class="n">ras_esc_0</span><span class="p">;</span>					<span class="cm">/* 0x0ca8 */</span>
	<span class="n">u8</span>	<span class="n">pad_0x0cb0_0x1000</span> <span class="p">[</span><span class="mh">0x1000</span> <span class="o">-</span> <span class="mh">0x0cb0</span><span class="p">];</span>		<span class="cm">/* 0x0cb0 */</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">cbe_pmd_regs</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">cbe_get_pmd_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">device_node</span> <span class="o">*</span><span class="n">np</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">cbe_pmd_regs</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">cbe_get_cpu_pmd_regs</span><span class="p">(</span><span class="kt">int</span> <span class="n">cpu</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * PMU shadow registers</span>
<span class="cm"> *</span>
<span class="cm"> * Many of the registers in the performance monitoring unit are write-only,</span>
<span class="cm"> * so we need to save a copy of what we write to those registers.</span>
<span class="cm"> *</span>
<span class="cm"> * The actual data counters are read/write. However, writing to the counters</span>
<span class="cm"> * only takes effect if the PMU is enabled. Otherwise the value is stored in</span>
<span class="cm"> * a hardware latch until the next time the PMU is enabled. So we save a copy</span>
<span class="cm"> * of the counter values if we need to read them back while the PMU is</span>
<span class="cm"> * disabled. The counter_value_in_latch field is a bitmap indicating which</span>
<span class="cm"> * counters currently have a value waiting to be written.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">cbe_pmd_shadow_regs</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">group_control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">debug_bus_control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">trace_address</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ext_tr_timer</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pm_status</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pm_control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pm_interval</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pm_start_stop</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pm07_control</span><span class="p">[</span><span class="n">NR_CTRS</span><span class="p">];</span>

	<span class="n">u32</span> <span class="n">pm_ctr</span><span class="p">[</span><span class="n">NR_PHYS_CTRS</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">counter_value_in_latch</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">cbe_pmd_shadow_regs</span> <span class="o">*</span><span class="n">cbe_get_pmd_shadow_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">device_node</span> <span class="o">*</span><span class="n">np</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">cbe_pmd_shadow_regs</span> <span class="o">*</span><span class="n">cbe_get_cpu_pmd_shadow_regs</span><span class="p">(</span><span class="kt">int</span> <span class="n">cpu</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> * IIC unit register definitions</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">cbe_iic_pending_bits</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">data</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">class</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">source</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">prio</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define CBE_IIC_IRQ_VALID	0x80</span>
<span class="cp">#define CBE_IIC_IRQ_IPI		0x40</span>

<span class="k">struct</span> <span class="n">cbe_iic_thread_regs</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">cbe_iic_pending_bits</span> <span class="n">pending</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cbe_iic_pending_bits</span> <span class="n">pending_destr</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">generate</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">prio</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">cbe_iic_regs</span> <span class="p">{</span>
	<span class="n">u8</span>	<span class="n">pad_0x0000_0x0400</span><span class="p">[</span><span class="mh">0x0400</span> <span class="o">-</span> <span class="mh">0x0000</span><span class="p">];</span>		<span class="cm">/* 0x0000 */</span>

	<span class="cm">/* IIC interrupt registers */</span>
	<span class="k">struct</span>	<span class="n">cbe_iic_thread_regs</span> <span class="kr">thread</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>			<span class="cm">/* 0x0400 */</span>

	<span class="n">u64</span>	<span class="n">iic_ir</span><span class="p">;</span>						<span class="cm">/* 0x0440 */</span>
<span class="cp">#define CBE_IIC_IR_PRIO(x)      (((x) &amp; 0xf) &lt;&lt; 12)</span>
<span class="cp">#define CBE_IIC_IR_DEST_NODE(x) (((x) &amp; 0xf) &lt;&lt; 4)</span>
<span class="cp">#define CBE_IIC_IR_DEST_UNIT(x) ((x) &amp; 0xf)</span>
<span class="cp">#define CBE_IIC_IR_IOC_0        0x0</span>
<span class="cp">#define CBE_IIC_IR_IOC_1S       0xb</span>
<span class="cp">#define CBE_IIC_IR_PT_0         0xe</span>
<span class="cp">#define CBE_IIC_IR_PT_1         0xf</span>

	<span class="n">u64</span>	<span class="n">iic_is</span><span class="p">;</span>						<span class="cm">/* 0x0448 */</span>
<span class="cp">#define CBE_IIC_IS_PMI		0x2</span>

	<span class="n">u8</span>	<span class="n">pad_0x0450_0x0500</span><span class="p">[</span><span class="mh">0x0500</span> <span class="o">-</span> <span class="mh">0x0450</span><span class="p">];</span>		<span class="cm">/* 0x0450 */</span>

	<span class="cm">/* IOC FIR */</span>
	<span class="n">u64</span>	<span class="n">ioc_fir_reset</span><span class="p">;</span>					<span class="cm">/* 0x0500 */</span>
	<span class="n">u64</span>	<span class="n">ioc_fir_set</span><span class="p">;</span>					<span class="cm">/* 0x0508 */</span>
	<span class="n">u64</span>	<span class="n">ioc_checkstop_enable</span><span class="p">;</span>				<span class="cm">/* 0x0510 */</span>
	<span class="n">u64</span>	<span class="n">ioc_fir_error_mask</span><span class="p">;</span>				<span class="cm">/* 0x0518 */</span>
	<span class="n">u64</span>	<span class="n">ioc_syserr_enable</span><span class="p">;</span>				<span class="cm">/* 0x0520 */</span>
	<span class="n">u64</span>	<span class="n">ioc_fir</span><span class="p">;</span>					<span class="cm">/* 0x0528 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x0530_0x1000</span><span class="p">[</span><span class="mh">0x1000</span> <span class="o">-</span> <span class="mh">0x0530</span><span class="p">];</span>		<span class="cm">/* 0x0530 */</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">cbe_iic_regs</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">cbe_get_iic_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">device_node</span> <span class="o">*</span><span class="n">np</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">cbe_iic_regs</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">cbe_get_cpu_iic_regs</span><span class="p">(</span><span class="kt">int</span> <span class="n">cpu</span><span class="p">);</span>


<span class="k">struct</span> <span class="n">cbe_mic_tm_regs</span> <span class="p">{</span>
	<span class="n">u8</span>	<span class="n">pad_0x0000_0x0040</span><span class="p">[</span><span class="mh">0x0040</span> <span class="o">-</span> <span class="mh">0x0000</span><span class="p">];</span>		<span class="cm">/* 0x0000 */</span>

	<span class="n">u64</span>	<span class="n">mic_ctl_cnfg2</span><span class="p">;</span>					<span class="cm">/* 0x0040 */</span>
<span class="cp">#define CBE_MIC_ENABLE_AUX_TRC		0x8000000000000000LL</span>
<span class="cp">#define CBE_MIC_DISABLE_PWR_SAV_2	0x0200000000000000LL</span>
<span class="cp">#define CBE_MIC_DISABLE_AUX_TRC_WRAP	0x0100000000000000LL</span>
<span class="cp">#define CBE_MIC_ENABLE_AUX_TRC_INT	0x0080000000000000LL</span>

	<span class="n">u64</span>	<span class="n">pad_0x0048</span><span class="p">;</span>					<span class="cm">/* 0x0048 */</span>

	<span class="n">u64</span>	<span class="n">mic_aux_trc_base</span><span class="p">;</span>				<span class="cm">/* 0x0050 */</span>
	<span class="n">u64</span>	<span class="n">mic_aux_trc_max_addr</span><span class="p">;</span>				<span class="cm">/* 0x0058 */</span>
	<span class="n">u64</span>	<span class="n">mic_aux_trc_cur_addr</span><span class="p">;</span>				<span class="cm">/* 0x0060 */</span>
	<span class="n">u64</span>	<span class="n">mic_aux_trc_grf_addr</span><span class="p">;</span>				<span class="cm">/* 0x0068 */</span>
	<span class="n">u64</span>	<span class="n">mic_aux_trc_grf_data</span><span class="p">;</span>				<span class="cm">/* 0x0070 */</span>

	<span class="n">u64</span>	<span class="n">pad_0x0078</span><span class="p">;</span>					<span class="cm">/* 0x0078 */</span>

	<span class="n">u64</span>	<span class="n">mic_ctl_cnfg_0</span><span class="p">;</span>					<span class="cm">/* 0x0080 */</span>
<span class="cp">#define CBE_MIC_DISABLE_PWR_SAV_0	0x8000000000000000LL</span>

	<span class="n">u64</span>	<span class="n">pad_0x0088</span><span class="p">;</span>					<span class="cm">/* 0x0088 */</span>

	<span class="n">u64</span>	<span class="n">slow_fast_timer_0</span><span class="p">;</span>				<span class="cm">/* 0x0090 */</span>
	<span class="n">u64</span>	<span class="n">slow_next_timer_0</span><span class="p">;</span>				<span class="cm">/* 0x0098 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x00a0_0x00f8</span><span class="p">[</span><span class="mh">0x00f8</span> <span class="o">-</span> <span class="mh">0x00a0</span><span class="p">];</span>		<span class="cm">/* 0x00a0 */</span>
	<span class="n">u64</span>    	<span class="n">mic_df_ecc_address_0</span><span class="p">;</span>				<span class="cm">/* 0x00f8 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x0100_0x01b8</span><span class="p">[</span><span class="mh">0x01b8</span> <span class="o">-</span> <span class="mh">0x0100</span><span class="p">];</span>		<span class="cm">/* 0x0100 */</span>
	<span class="n">u64</span>    	<span class="n">mic_df_ecc_address_1</span><span class="p">;</span>				<span class="cm">/* 0x01b8 */</span>

	<span class="n">u64</span>	<span class="n">mic_ctl_cnfg_1</span><span class="p">;</span>					<span class="cm">/* 0x01c0 */</span>
<span class="cp">#define CBE_MIC_DISABLE_PWR_SAV_1	0x8000000000000000LL</span>

	<span class="n">u64</span>	<span class="n">pad_0x01c8</span><span class="p">;</span>					<span class="cm">/* 0x01c8 */</span>

	<span class="n">u64</span>	<span class="n">slow_fast_timer_1</span><span class="p">;</span>				<span class="cm">/* 0x01d0 */</span>
	<span class="n">u64</span>	<span class="n">slow_next_timer_1</span><span class="p">;</span>				<span class="cm">/* 0x01d8 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x01e0_0x0208</span><span class="p">[</span><span class="mh">0x0208</span> <span class="o">-</span> <span class="mh">0x01e0</span><span class="p">];</span>		<span class="cm">/* 0x01e0 */</span>
	<span class="n">u64</span>	<span class="n">mic_exc</span><span class="p">;</span>					<span class="cm">/* 0x0208 */</span>
<span class="cp">#define CBE_MIC_EXC_BLOCK_SCRUB		0x0800000000000000ULL</span>
<span class="cp">#define CBE_MIC_EXC_FAST_SCRUB		0x0100000000000000ULL</span>

	<span class="n">u64</span>	<span class="n">mic_mnt_cfg</span><span class="p">;</span>					<span class="cm">/* 0x0210 */</span>
<span class="cp">#define CBE_MIC_MNT_CFG_CHAN_0_POP	0x0002000000000000ULL</span>
<span class="cp">#define CBE_MIC_MNT_CFG_CHAN_1_POP	0x0004000000000000ULL</span>

	<span class="n">u64</span>	<span class="n">mic_df_config</span><span class="p">;</span>					<span class="cm">/* 0x0218 */</span>
<span class="cp">#define CBE_MIC_ECC_DISABLE_0		0x4000000000000000ULL</span>
<span class="cp">#define CBE_MIC_ECC_REP_SINGLE_0	0x2000000000000000ULL</span>
<span class="cp">#define CBE_MIC_ECC_DISABLE_1		0x0080000000000000ULL</span>
<span class="cp">#define CBE_MIC_ECC_REP_SINGLE_1	0x0040000000000000ULL</span>

	<span class="n">u8</span>	<span class="n">pad_0x0220_0x0230</span><span class="p">[</span><span class="mh">0x0230</span> <span class="o">-</span> <span class="mh">0x0220</span><span class="p">];</span>		<span class="cm">/* 0x0220 */</span>
	<span class="n">u64</span>	<span class="n">mic_fir</span><span class="p">;</span>					<span class="cm">/* 0x0230 */</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SINGLE_0_ERR	0x0200000000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_MULTI_0_ERR	0x0100000000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SINGLE_1_ERR	0x0080000000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_MULTI_1_ERR	0x0040000000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_ERR_MASK	0xffff000000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SINGLE_0_CTE	0x0000020000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_MULTI_0_CTE	0x0000010000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SINGLE_1_CTE	0x0000008000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_MULTI_1_CTE	0x0000004000000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_CTE_MASK	0x0000ffff00000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SINGLE_0_RESET	0x0000000002000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_MULTI_0_RESET	0x0000000001000000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SINGLE_1_RESET	0x0000000000800000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_MULTI_1_RESET	0x0000000000400000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_RESET_MASK	0x00000000ffff0000ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SINGLE_0_SET	0x0000000000000200ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_MULTI_0_SET	0x0000000000000100ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SINGLE_1_SET	0x0000000000000080ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_MULTI_1_SET	0x0000000000000040ULL</span>
<span class="cp">#define CBE_MIC_FIR_ECC_SET_MASK	0x000000000000ffffULL</span>
	<span class="n">u64</span>	<span class="n">mic_fir_debug</span><span class="p">;</span>					<span class="cm">/* 0x0238 */</span>

	<span class="n">u8</span>	<span class="n">pad_0x0240_0x1000</span><span class="p">[</span><span class="mh">0x1000</span> <span class="o">-</span> <span class="mh">0x0240</span><span class="p">];</span>		<span class="cm">/* 0x0240 */</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">cbe_mic_tm_regs</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">cbe_get_mic_tm_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">device_node</span> <span class="o">*</span><span class="n">np</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">cbe_mic_tm_regs</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">cbe_get_cpu_mic_tm_regs</span><span class="p">(</span><span class="kt">int</span> <span class="n">cpu</span><span class="p">);</span>


<span class="cm">/* Cell page table entries */</span>
<span class="cp">#define CBE_IOPTE_PP_W		0x8000000000000000ul </span><span class="cm">/* protection: write */</span><span class="cp"></span>
<span class="cp">#define CBE_IOPTE_PP_R		0x4000000000000000ul </span><span class="cm">/* protection: read */</span><span class="cp"></span>
<span class="cp">#define CBE_IOPTE_M		0x2000000000000000ul </span><span class="cm">/* coherency required */</span><span class="cp"></span>
<span class="cp">#define CBE_IOPTE_SO_R		0x1000000000000000ul </span><span class="cm">/* ordering: writes */</span><span class="cp"></span>
<span class="cp">#define CBE_IOPTE_SO_RW		0x1800000000000000ul </span><span class="cm">/* ordering: r &amp; w */</span><span class="cp"></span>
<span class="cp">#define CBE_IOPTE_RPN_Mask	0x07fffffffffff000ul </span><span class="cm">/* RPN */</span><span class="cp"></span>
<span class="cp">#define CBE_IOPTE_H		0x0000000000000800ul </span><span class="cm">/* cache hint */</span><span class="cp"></span>
<span class="cp">#define CBE_IOPTE_IOID_Mask	0x00000000000007fful </span><span class="cm">/* ioid */</span><span class="cp"></span>

<span class="cm">/* some utility functions to deal with SMT */</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">cbe_get_hw_thread_id</span><span class="p">(</span><span class="kt">int</span> <span class="n">cpu</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">cbe_cpu_to_node</span><span class="p">(</span><span class="kt">int</span> <span class="n">cpu</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">cbe_node_to_cpu</span><span class="p">(</span><span class="kt">int</span> <span class="n">node</span><span class="p">);</span>

<span class="cm">/* Init this module early */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">cbe_regs_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>


<span class="cp">#endif </span><span class="cm">/* CBE_REGS_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
