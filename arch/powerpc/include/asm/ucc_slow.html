<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › powerpc › include › asm › ucc_slow.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>ucc_slow.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2006 Freescale Semicondutor, Inc. All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Authors: 	Shlomi Gridish &lt;gridish@freescale.com&gt;</span>
<span class="cm"> * 		Li Yang &lt;leoli@freescale.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Description:</span>
<span class="cm"> * Internal header file for UCC SLOW unit routines.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute  it and/or modify it</span>
<span class="cm"> * under  the terms of  the GNU General  Public License as published by the</span>
<span class="cm"> * Free Software Foundation;  either version 2 of the  License, or (at your</span>
<span class="cm"> * option) any later version.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __UCC_SLOW_H__</span>
<span class="cp">#define __UCC_SLOW_H__</span>

<span class="cp">#include &lt;linux/kernel.h&gt;</span>

<span class="cp">#include &lt;asm/immap_qe.h&gt;</span>
<span class="cp">#include &lt;asm/qe.h&gt;</span>

<span class="cp">#include &quot;ucc.h&quot;</span>

<span class="cm">/* transmit BD&#39;s status */</span>
<span class="cp">#define T_R	0x80000000	</span><span class="cm">/* ready bit */</span><span class="cp"></span>
<span class="cp">#define T_PAD	0x40000000	</span><span class="cm">/* add pads to short frames */</span><span class="cp"></span>
<span class="cp">#define T_W	0x20000000	</span><span class="cm">/* wrap bit */</span><span class="cp"></span>
<span class="cp">#define T_I	0x10000000	</span><span class="cm">/* interrupt on completion */</span><span class="cp"></span>
<span class="cp">#define T_L	0x08000000	</span><span class="cm">/* last */</span><span class="cp"></span>

<span class="cp">#define T_A	0x04000000	</span><span class="cm">/* Address - the data transmitted as address</span>
<span class="cm">				   chars */</span><span class="cp"></span>
<span class="cp">#define T_TC	0x04000000	</span><span class="cm">/* transmit CRC */</span><span class="cp"></span>
<span class="cp">#define T_CM	0x02000000	</span><span class="cm">/* continuous mode */</span><span class="cp"></span>
<span class="cp">#define T_DEF	0x02000000	</span><span class="cm">/* collision on previous attempt to transmit */</span><span class="cp"></span>
<span class="cp">#define T_P	0x01000000	</span><span class="cm">/* Preamble - send Preamble sequence before</span>
<span class="cm">				   data */</span><span class="cp"></span>
<span class="cp">#define T_HB	0x01000000	</span><span class="cm">/* heartbeat */</span><span class="cp"></span>
<span class="cp">#define T_NS	0x00800000	</span><span class="cm">/* No Stop */</span><span class="cp"></span>
<span class="cp">#define T_LC	0x00800000	</span><span class="cm">/* late collision */</span><span class="cp"></span>
<span class="cp">#define T_RL	0x00400000	</span><span class="cm">/* retransmission limit */</span><span class="cp"></span>
<span class="cp">#define T_UN	0x00020000	</span><span class="cm">/* underrun */</span><span class="cp"></span>
<span class="cp">#define T_CT	0x00010000	</span><span class="cm">/* CTS lost */</span><span class="cp"></span>
<span class="cp">#define T_CSL	0x00010000	</span><span class="cm">/* carrier sense lost */</span><span class="cp"></span>
<span class="cp">#define T_RC	0x003c0000	</span><span class="cm">/* retry count */</span><span class="cp"></span>

<span class="cm">/* Receive BD&#39;s status */</span>
<span class="cp">#define R_E	0x80000000	</span><span class="cm">/* buffer empty */</span><span class="cp"></span>
<span class="cp">#define R_W	0x20000000	</span><span class="cm">/* wrap bit */</span><span class="cp"></span>
<span class="cp">#define R_I	0x10000000	</span><span class="cm">/* interrupt on reception */</span><span class="cp"></span>
<span class="cp">#define R_L	0x08000000	</span><span class="cm">/* last */</span><span class="cp"></span>
<span class="cp">#define R_C	0x08000000	</span><span class="cm">/* the last byte in this buffer is a cntl</span>
<span class="cm">				   char */</span><span class="cp"></span>
<span class="cp">#define R_F	0x04000000	</span><span class="cm">/* first */</span><span class="cp"></span>
<span class="cp">#define R_A	0x04000000	</span><span class="cm">/* the first byte in this buffer is address</span>
<span class="cm">				   byte */</span><span class="cp"></span>
<span class="cp">#define R_CM	0x02000000	</span><span class="cm">/* continuous mode */</span><span class="cp"></span>
<span class="cp">#define R_ID	0x01000000	</span><span class="cm">/* buffer close on reception of idles */</span><span class="cp"></span>
<span class="cp">#define R_M	0x01000000	</span><span class="cm">/* Frame received because of promiscuous</span>
<span class="cm">				   mode */</span><span class="cp"></span>
<span class="cp">#define R_AM	0x00800000	</span><span class="cm">/* Address match */</span><span class="cp"></span>
<span class="cp">#define R_DE	0x00800000	</span><span class="cm">/* Address match */</span><span class="cp"></span>
<span class="cp">#define R_LG	0x00200000	</span><span class="cm">/* Break received */</span><span class="cp"></span>
<span class="cp">#define R_BR	0x00200000	</span><span class="cm">/* Frame length violation */</span><span class="cp"></span>
<span class="cp">#define R_NO	0x00100000	</span><span class="cm">/* Rx Non Octet Aligned Packet */</span><span class="cp"></span>
<span class="cp">#define R_FR	0x00100000	</span><span class="cm">/* Framing Error (no stop bit) character</span>
<span class="cm">				   received */</span><span class="cp"></span>
<span class="cp">#define R_PR	0x00080000	</span><span class="cm">/* Parity Error character received */</span><span class="cp"></span>
<span class="cp">#define R_AB	0x00080000	</span><span class="cm">/* Frame Aborted */</span><span class="cp"></span>
<span class="cp">#define R_SH	0x00080000	</span><span class="cm">/* frame is too short */</span><span class="cp"></span>
<span class="cp">#define R_CR	0x00040000	</span><span class="cm">/* CRC Error */</span><span class="cp"></span>
<span class="cp">#define R_OV	0x00020000	</span><span class="cm">/* Overrun */</span><span class="cp"></span>
<span class="cp">#define R_CD	0x00010000	</span><span class="cm">/* CD lost */</span><span class="cp"></span>
<span class="cp">#define R_CL	0x00010000	</span><span class="cm">/* this frame is closed because of a</span>
<span class="cm">				   collision */</span><span class="cp"></span>

<span class="cm">/* Rx Data buffer must be 4 bytes aligned in most cases.*/</span>
<span class="cp">#define UCC_SLOW_RX_ALIGN		4</span>
<span class="cp">#define UCC_SLOW_MRBLR_ALIGNMENT	4</span>
<span class="cp">#define UCC_SLOW_PRAM_SIZE		0x100</span>
<span class="cp">#define ALIGNMENT_OF_UCC_SLOW_PRAM	64</span>

<span class="cm">/* UCC Slow Channel Protocol Mode */</span>
<span class="k">enum</span> <span class="n">ucc_slow_channel_protocol_mode</span> <span class="p">{</span>
	<span class="n">UCC_SLOW_CHANNEL_PROTOCOL_MODE_QMC</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
	<span class="n">UCC_SLOW_CHANNEL_PROTOCOL_MODE_UART</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
	<span class="n">UCC_SLOW_CHANNEL_PROTOCOL_MODE_BISYNC</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UCC Slow Transparent Transmit CRC (TCRC) */</span>
<span class="k">enum</span> <span class="n">ucc_slow_transparent_tcrc</span> <span class="p">{</span>
	<span class="cm">/* 16-bit CCITT CRC (HDLC).  (X16 + X12 + X5 + 1) */</span>
	<span class="n">UCC_SLOW_TRANSPARENT_TCRC_CCITT_CRC16</span> <span class="o">=</span> <span class="mh">0x00000000</span><span class="p">,</span>
	<span class="cm">/* CRC16 (BISYNC).  (X16 + X15 + X2 + 1) */</span>
	<span class="n">UCC_SLOW_TRANSPARENT_TCRC_CRC16</span> <span class="o">=</span> <span class="mh">0x00004000</span><span class="p">,</span>
	<span class="cm">/* 32-bit CCITT CRC (Ethernet and HDLC) */</span>
	<span class="n">UCC_SLOW_TRANSPARENT_TCRC_CCITT_CRC32</span> <span class="o">=</span> <span class="mh">0x00008000</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UCC Slow oversampling rate for transmitter (TDCR) */</span>
<span class="k">enum</span> <span class="n">ucc_slow_tx_oversampling_rate</span> <span class="p">{</span>
	<span class="cm">/* 1x clock mode */</span>
	<span class="n">UCC_SLOW_OVERSAMPLING_RATE_TX_TDCR_1</span> <span class="o">=</span> <span class="mh">0x00000000</span><span class="p">,</span>
	<span class="cm">/* 8x clock mode */</span>
	<span class="n">UCC_SLOW_OVERSAMPLING_RATE_TX_TDCR_8</span> <span class="o">=</span> <span class="mh">0x00010000</span><span class="p">,</span>
	<span class="cm">/* 16x clock mode */</span>
	<span class="n">UCC_SLOW_OVERSAMPLING_RATE_TX_TDCR_16</span> <span class="o">=</span> <span class="mh">0x00020000</span><span class="p">,</span>
	<span class="cm">/* 32x clock mode */</span>
	<span class="n">UCC_SLOW_OVERSAMPLING_RATE_TX_TDCR_32</span> <span class="o">=</span> <span class="mh">0x00030000</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UCC Slow Oversampling rate for receiver (RDCR)</span>
<span class="cm">*/</span>
<span class="k">enum</span> <span class="n">ucc_slow_rx_oversampling_rate</span> <span class="p">{</span>
	<span class="cm">/* 1x clock mode */</span>
	<span class="n">UCC_SLOW_OVERSAMPLING_RATE_RX_RDCR_1</span> <span class="o">=</span> <span class="mh">0x00000000</span><span class="p">,</span>
	<span class="cm">/* 8x clock mode */</span>
	<span class="n">UCC_SLOW_OVERSAMPLING_RATE_RX_RDCR_8</span> <span class="o">=</span> <span class="mh">0x00004000</span><span class="p">,</span>
	<span class="cm">/* 16x clock mode */</span>
	<span class="n">UCC_SLOW_OVERSAMPLING_RATE_RX_RDCR_16</span> <span class="o">=</span> <span class="mh">0x00008000</span><span class="p">,</span>
	<span class="cm">/* 32x clock mode */</span>
	<span class="n">UCC_SLOW_OVERSAMPLING_RATE_RX_RDCR_32</span> <span class="o">=</span> <span class="mh">0x0000c000</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UCC Slow Transmitter encoding method (TENC)</span>
<span class="cm">*/</span>
<span class="k">enum</span> <span class="n">ucc_slow_tx_encoding_method</span> <span class="p">{</span>
	<span class="n">UCC_SLOW_TRANSMITTER_ENCODING_METHOD_TENC_NRZ</span> <span class="o">=</span> <span class="mh">0x00000000</span><span class="p">,</span>
	<span class="n">UCC_SLOW_TRANSMITTER_ENCODING_METHOD_TENC_NRZI</span> <span class="o">=</span> <span class="mh">0x00000100</span>
<span class="p">};</span>

<span class="cm">/* UCC Slow Receiver decoding method (RENC)</span>
<span class="cm">*/</span>
<span class="k">enum</span> <span class="n">ucc_slow_rx_decoding_method</span> <span class="p">{</span>
	<span class="n">UCC_SLOW_RECEIVER_DECODING_METHOD_RENC_NRZ</span> <span class="o">=</span> <span class="mh">0x00000000</span><span class="p">,</span>
	<span class="n">UCC_SLOW_RECEIVER_DECODING_METHOD_RENC_NRZI</span> <span class="o">=</span> <span class="mh">0x00000800</span>
<span class="p">};</span>

<span class="cm">/* UCC Slow Diagnostic mode (DIAG)</span>
<span class="cm">*/</span>
<span class="k">enum</span> <span class="n">ucc_slow_diag_mode</span> <span class="p">{</span>
	<span class="n">UCC_SLOW_DIAG_MODE_NORMAL</span> <span class="o">=</span> <span class="mh">0x00000000</span><span class="p">,</span>
	<span class="n">UCC_SLOW_DIAG_MODE_LOOPBACK</span> <span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span>
	<span class="n">UCC_SLOW_DIAG_MODE_ECHO</span> <span class="o">=</span> <span class="mh">0x00000080</span><span class="p">,</span>
	<span class="n">UCC_SLOW_DIAG_MODE_LOOPBACK_ECHO</span> <span class="o">=</span> <span class="mh">0x000000c0</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ucc_slow_info</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">ucc_num</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">protocol</span><span class="p">;</span>			<span class="cm">/* QE_CR_PROTOCOL_xxx */</span>
	<span class="k">enum</span> <span class="n">qe_clock</span> <span class="n">rx_clock</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">qe_clock</span> <span class="n">tx_clock</span><span class="p">;</span>
	<span class="n">phys_addr_t</span> <span class="n">regs</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">irq</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">uccm_mask</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">data_mem_part</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">init_tx</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">init_rx</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_bd_ring_len</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_bd_ring_len</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">rx_interrupts</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">brkpt_support</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">grant_support</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">tsa</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">cdp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">cds</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ctsp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ctss</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">rinv</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">tinv</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">rtsm</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">rfw</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">tci</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">tend</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">tfl</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">txsy</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">max_rx_buf_length</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">ucc_slow_transparent_tcrc</span> <span class="n">tcrc</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">ucc_slow_channel_protocol_mode</span> <span class="n">mode</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">ucc_slow_diag_mode</span> <span class="n">diag</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">ucc_slow_tx_oversampling_rate</span> <span class="n">tdcr</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">ucc_slow_rx_oversampling_rate</span> <span class="n">rdcr</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">ucc_slow_tx_encoding_method</span> <span class="n">tenc</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">ucc_slow_rx_decoding_method</span> <span class="n">renc</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ucc_slow_info</span> <span class="o">*</span><span class="n">us_info</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ucc_slow</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">us_regs</span><span class="p">;</span> <span class="cm">/* Ptr to memory map of UCC regs */</span>
	<span class="k">struct</span> <span class="n">ucc_slow_pram</span> <span class="o">*</span><span class="n">us_pram</span><span class="p">;</span>	<span class="cm">/* a pointer to the parameter RAM */</span>
	<span class="n">u32</span> <span class="n">us_pram_offset</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">enabled_tx</span><span class="p">;</span>		<span class="cm">/* Whether channel is enabled for Tx (ENT) */</span>
	<span class="kt">int</span> <span class="n">enabled_rx</span><span class="p">;</span>		<span class="cm">/* Whether channel is enabled for Rx (ENR) */</span>
	<span class="kt">int</span> <span class="n">stopped_tx</span><span class="p">;</span>		<span class="cm">/* Whether channel has been stopped for Tx</span>
<span class="cm">				   (STOP_TX, etc.) */</span>
	<span class="kt">int</span> <span class="n">stopped_rx</span><span class="p">;</span>		<span class="cm">/* Whether channel has been stopped for Rx */</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">confQ</span><span class="p">;</span>	<span class="cm">/* frames passed to chip waiting for tx */</span>
	<span class="n">u32</span> <span class="n">first_tx_bd_mask</span><span class="p">;</span>	<span class="cm">/* mask is used in Tx routine to save status</span>
<span class="cm">				   and length for first BD in a frame */</span>
	<span class="n">u32</span> <span class="n">tx_base_offset</span><span class="p">;</span>	<span class="cm">/* first BD in Tx BD table offset (In MURAM) */</span>
	<span class="n">u32</span> <span class="n">rx_base_offset</span><span class="p">;</span>	<span class="cm">/* first BD in Rx BD table offset (In MURAM) */</span>
	<span class="k">struct</span> <span class="n">qe_bd</span> <span class="o">*</span><span class="n">confBd</span><span class="p">;</span>	<span class="cm">/* next BD for confirm after Tx */</span>
	<span class="k">struct</span> <span class="n">qe_bd</span> <span class="o">*</span><span class="n">tx_bd</span><span class="p">;</span>	<span class="cm">/* next BD for new Tx request */</span>
	<span class="k">struct</span> <span class="n">qe_bd</span> <span class="o">*</span><span class="n">rx_bd</span><span class="p">;</span>	<span class="cm">/* next BD to collect after Rx */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">p_rx_frame</span><span class="p">;</span>	<span class="cm">/* accumulating receive frame */</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">p_ucce</span><span class="p">;</span>		<span class="cm">/* a pointer to the event register in memory.</span>
<span class="cm">				 */</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">p_uccm</span><span class="p">;</span>		<span class="cm">/* a pointer to the mask register in memory */</span>
	<span class="n">u16</span> <span class="n">saved_uccm</span><span class="p">;</span>		<span class="cm">/* a saved mask for the RX Interrupt bits */</span>
<span class="cp">#ifdef STATISTICS</span>
	<span class="n">u32</span> <span class="n">tx_frames</span><span class="p">;</span>		<span class="cm">/* Transmitted frames counters */</span>
	<span class="n">u32</span> <span class="n">rx_frames</span><span class="p">;</span>		<span class="cm">/* Received frames counters (only frames</span>
<span class="cm">				   passed to application) */</span>
	<span class="n">u32</span> <span class="n">rx_discarded</span><span class="p">;</span>	<span class="cm">/* Discarded frames counters (frames that</span>
<span class="cm">				   were discarded by the driver due to</span>
<span class="cm">				   errors) */</span>
<span class="cp">#endif				</span><span class="cm">/* STATISTICS */</span><span class="cp"></span>
<span class="p">};</span>

<span class="cm">/* ucc_slow_init</span>
<span class="cm"> * Initializes Slow UCC according to provided parameters.</span>
<span class="cm"> *</span>
<span class="cm"> * us_info  - (In) pointer to the slow UCC info structure.</span>
<span class="cm"> * uccs_ret - (Out) pointer to the slow UCC structure.</span>
<span class="cm"> */</span>
<span class="kt">int</span> <span class="n">ucc_slow_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">ucc_slow_info</span> <span class="o">*</span> <span class="n">us_info</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="o">**</span> <span class="n">uccs_ret</span><span class="p">);</span>

<span class="cm">/* ucc_slow_free</span>
<span class="cm"> * Frees all resources for slow UCC.</span>
<span class="cm"> *</span>
<span class="cm"> * uccs - (In) pointer to the slow UCC structure.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">ucc_slow_free</span><span class="p">(</span><span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="o">*</span> <span class="n">uccs</span><span class="p">);</span>

<span class="cm">/* ucc_slow_enable</span>
<span class="cm"> * Enables a fast UCC port.</span>
<span class="cm"> * This routine enables Tx and/or Rx through the General UCC Mode Register.</span>
<span class="cm"> *</span>
<span class="cm"> * uccs - (In) pointer to the slow UCC structure.</span>
<span class="cm"> * mode - (In) TX, RX, or both.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">ucc_slow_enable</span><span class="p">(</span><span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="o">*</span> <span class="n">uccs</span><span class="p">,</span> <span class="k">enum</span> <span class="n">comm_dir</span> <span class="n">mode</span><span class="p">);</span>

<span class="cm">/* ucc_slow_disable</span>
<span class="cm"> * Disables a fast UCC port.</span>
<span class="cm"> * This routine disables Tx and/or Rx through the General UCC Mode Register.</span>
<span class="cm"> *</span>
<span class="cm"> * uccs - (In) pointer to the slow UCC structure.</span>
<span class="cm"> * mode - (In) TX, RX, or both.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">ucc_slow_disable</span><span class="p">(</span><span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="o">*</span> <span class="n">uccs</span><span class="p">,</span> <span class="k">enum</span> <span class="n">comm_dir</span> <span class="n">mode</span><span class="p">);</span>

<span class="cm">/* ucc_slow_poll_transmitter_now</span>
<span class="cm"> * Immediately forces a poll of the transmitter for data to be sent.</span>
<span class="cm"> * Typically, the hardware performs a periodic poll for data that the</span>
<span class="cm"> * transmit routine has set up to be transmitted. In cases where</span>
<span class="cm"> * this polling cycle is not soon enough, this optional routine can</span>
<span class="cm"> * be invoked to force a poll right away, instead. Proper use for</span>
<span class="cm"> * each transmission for which this functionality is desired is to</span>
<span class="cm"> * call the transmit routine and then this routine right after.</span>
<span class="cm"> *</span>
<span class="cm"> * uccs - (In) pointer to the slow UCC structure.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">ucc_slow_poll_transmitter_now</span><span class="p">(</span><span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="o">*</span> <span class="n">uccs</span><span class="p">);</span>

<span class="cm">/* ucc_slow_graceful_stop_tx</span>
<span class="cm"> * Smoothly stops transmission on a specified slow UCC.</span>
<span class="cm"> *</span>
<span class="cm"> * uccs - (In) pointer to the slow UCC structure.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">ucc_slow_graceful_stop_tx</span><span class="p">(</span><span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="o">*</span> <span class="n">uccs</span><span class="p">);</span>

<span class="cm">/* ucc_slow_stop_tx</span>
<span class="cm"> * Stops transmission on a specified slow UCC.</span>
<span class="cm"> *</span>
<span class="cm"> * uccs - (In) pointer to the slow UCC structure.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">ucc_slow_stop_tx</span><span class="p">(</span><span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="o">*</span> <span class="n">uccs</span><span class="p">);</span>

<span class="cm">/* ucc_slow_restart_tx</span>
<span class="cm"> * Restarts transmitting on a specified slow UCC.</span>
<span class="cm"> *</span>
<span class="cm"> * uccs - (In) pointer to the slow UCC structure.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">ucc_slow_restart_tx</span><span class="p">(</span><span class="k">struct</span> <span class="n">ucc_slow_private</span> <span class="o">*</span><span class="n">uccs</span><span class="p">);</span>

<span class="n">u32</span> <span class="n">ucc_slow_get_qe_cr_subblock</span><span class="p">(</span><span class="kt">int</span> <span class="n">uccs_num</span><span class="p">);</span>

<span class="cp">#endif				</span><span class="cm">/* __UCC_SLOW_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
