<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › powerpc › include › asm › mpc52xx_psc.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>mpc52xx_psc.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * include/asm-ppc/mpc52xx_psc.h</span>
<span class="cm"> *</span>
<span class="cm"> * Definitions of consts/structs to drive the Freescale MPC52xx OnChip</span>
<span class="cm"> * PSCs. Theses are shared between multiple drivers since a PSC can be</span>
<span class="cm"> * UART, AC97, IR, I2S, ... So this header is in asm-ppc.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> * Maintainer : Sylvain Munaut &lt;tnt@246tNt.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Based/Extracted from some header of the 2.4 originally written by</span>
<span class="cm"> * Dale Farnsworth &lt;dfarnsworth@mvista.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2004 Sylvain Munaut &lt;tnt@246tNt.com&gt;</span>
<span class="cm"> * Copyright (C) 2003 MontaVista, Software, Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * This file is licensed under the terms of the GNU General Public License</span>
<span class="cm"> * version 2. This program is licensed &quot;as is&quot; without any warranty of any</span>
<span class="cm"> * kind, whether express or implied.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ASM_MPC52xx_PSC_H__</span>
<span class="cp">#define __ASM_MPC52xx_PSC_H__</span>

<span class="cp">#include &lt;asm/types.h&gt;</span>

<span class="cm">/* Max number of PSCs */</span>
<span class="cp">#ifdef CONFIG_PPC_MPC512x</span>
<span class="cp">#define MPC52xx_PSC_MAXNUM     12</span>
<span class="cp">#else</span>
<span class="cp">#define MPC52xx_PSC_MAXNUM	6</span>
<span class="cp">#endif</span>

<span class="cm">/* Programmable Serial Controller (PSC) status register bits */</span>
<span class="cp">#define MPC52xx_PSC_SR_UNEX_RX	0x0001</span>
<span class="cp">#define MPC52xx_PSC_SR_DATA_VAL	0x0002</span>
<span class="cp">#define MPC52xx_PSC_SR_DATA_OVR	0x0004</span>
<span class="cp">#define MPC52xx_PSC_SR_CMDSEND	0x0008</span>
<span class="cp">#define MPC52xx_PSC_SR_CDE	0x0080</span>
<span class="cp">#define MPC52xx_PSC_SR_RXRDY	0x0100</span>
<span class="cp">#define MPC52xx_PSC_SR_RXFULL	0x0200</span>
<span class="cp">#define MPC52xx_PSC_SR_TXRDY	0x0400</span>
<span class="cp">#define MPC52xx_PSC_SR_TXEMP	0x0800</span>
<span class="cp">#define MPC52xx_PSC_SR_OE	0x1000</span>
<span class="cp">#define MPC52xx_PSC_SR_PE	0x2000</span>
<span class="cp">#define MPC52xx_PSC_SR_FE	0x4000</span>
<span class="cp">#define MPC52xx_PSC_SR_RB	0x8000</span>

<span class="cm">/* PSC Command values */</span>
<span class="cp">#define MPC52xx_PSC_RX_ENABLE		0x0001</span>
<span class="cp">#define MPC52xx_PSC_RX_DISABLE		0x0002</span>
<span class="cp">#define MPC52xx_PSC_TX_ENABLE		0x0004</span>
<span class="cp">#define MPC52xx_PSC_TX_DISABLE		0x0008</span>
<span class="cp">#define MPC52xx_PSC_SEL_MODE_REG_1	0x0010</span>
<span class="cp">#define MPC52xx_PSC_RST_RX		0x0020</span>
<span class="cp">#define MPC52xx_PSC_RST_TX		0x0030</span>
<span class="cp">#define MPC52xx_PSC_RST_ERR_STAT	0x0040</span>
<span class="cp">#define MPC52xx_PSC_RST_BRK_CHG_INT	0x0050</span>
<span class="cp">#define MPC52xx_PSC_START_BRK		0x0060</span>
<span class="cp">#define MPC52xx_PSC_STOP_BRK		0x0070</span>

<span class="cm">/* PSC TxRx FIFO status bits */</span>
<span class="cp">#define MPC52xx_PSC_RXTX_FIFO_ERR	0x0040</span>
<span class="cp">#define MPC52xx_PSC_RXTX_FIFO_UF	0x0020</span>
<span class="cp">#define MPC52xx_PSC_RXTX_FIFO_OF	0x0010</span>
<span class="cp">#define MPC52xx_PSC_RXTX_FIFO_FR	0x0008</span>
<span class="cp">#define MPC52xx_PSC_RXTX_FIFO_FULL	0x0004</span>
<span class="cp">#define MPC52xx_PSC_RXTX_FIFO_ALARM	0x0002</span>
<span class="cp">#define MPC52xx_PSC_RXTX_FIFO_EMPTY	0x0001</span>

<span class="cm">/* PSC interrupt status/mask bits */</span>
<span class="cp">#define MPC52xx_PSC_IMR_UNEX_RX_SLOT 0x0001</span>
<span class="cp">#define MPC52xx_PSC_IMR_DATA_VALID	0x0002</span>
<span class="cp">#define MPC52xx_PSC_IMR_DATA_OVR	0x0004</span>
<span class="cp">#define MPC52xx_PSC_IMR_CMD_SEND	0x0008</span>
<span class="cp">#define MPC52xx_PSC_IMR_ERROR		0x0040</span>
<span class="cp">#define MPC52xx_PSC_IMR_DEOF		0x0080</span>
<span class="cp">#define MPC52xx_PSC_IMR_TXRDY		0x0100</span>
<span class="cp">#define MPC52xx_PSC_IMR_RXRDY		0x0200</span>
<span class="cp">#define MPC52xx_PSC_IMR_DB		0x0400</span>
<span class="cp">#define MPC52xx_PSC_IMR_TXEMP		0x0800</span>
<span class="cp">#define MPC52xx_PSC_IMR_ORERR		0x1000</span>
<span class="cp">#define MPC52xx_PSC_IMR_IPC		0x8000</span>

<span class="cm">/* PSC input port change bits */</span>
<span class="cp">#define MPC52xx_PSC_CTS			0x01</span>
<span class="cp">#define MPC52xx_PSC_DCD			0x02</span>
<span class="cp">#define MPC52xx_PSC_D_CTS		0x10</span>
<span class="cp">#define MPC52xx_PSC_D_DCD		0x20</span>

<span class="cm">/* PSC acr bits */</span>
<span class="cp">#define MPC52xx_PSC_IEC_CTS		0x01</span>
<span class="cp">#define MPC52xx_PSC_IEC_DCD		0x02</span>

<span class="cm">/* PSC output port bits */</span>
<span class="cp">#define MPC52xx_PSC_OP_RTS		0x01</span>
<span class="cp">#define MPC52xx_PSC_OP_RES		0x02</span>

<span class="cm">/* PSC mode fields */</span>
<span class="cp">#define MPC52xx_PSC_MODE_5_BITS			0x00</span>
<span class="cp">#define MPC52xx_PSC_MODE_6_BITS			0x01</span>
<span class="cp">#define MPC52xx_PSC_MODE_7_BITS			0x02</span>
<span class="cp">#define MPC52xx_PSC_MODE_8_BITS			0x03</span>
<span class="cp">#define MPC52xx_PSC_MODE_BITS_MASK		0x03</span>
<span class="cp">#define MPC52xx_PSC_MODE_PAREVEN		0x00</span>
<span class="cp">#define MPC52xx_PSC_MODE_PARODD			0x04</span>
<span class="cp">#define MPC52xx_PSC_MODE_PARFORCE		0x08</span>
<span class="cp">#define MPC52xx_PSC_MODE_PARNONE		0x10</span>
<span class="cp">#define MPC52xx_PSC_MODE_ERR			0x20</span>
<span class="cp">#define MPC52xx_PSC_MODE_FFULL			0x40</span>
<span class="cp">#define MPC52xx_PSC_MODE_RXRTS			0x80</span>

<span class="cp">#define MPC52xx_PSC_MODE_ONE_STOP_5_BITS	0x00</span>
<span class="cp">#define MPC52xx_PSC_MODE_ONE_STOP		0x07</span>
<span class="cp">#define MPC52xx_PSC_MODE_TWO_STOP		0x0f</span>
<span class="cp">#define MPC52xx_PSC_MODE_TXCTS			0x10</span>

<span class="cp">#define MPC52xx_PSC_RFNUM_MASK	0x01ff</span>

<span class="cp">#define MPC52xx_PSC_SICR_DTS1			(1 &lt;&lt; 29)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SHDR			(1 &lt;&lt; 28)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_MASK		(0xf &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_UART		(0x0 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_UART_DCD		(0x8 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_CODEC_8		(0x1 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_CODEC_16		(0x2 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_AC97		(0x3 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_SIR		(0x8 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_SIR_DCD		(0xc &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_MIR		(0x5 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_FIR		(0x6 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_CODEC_24		(0x7 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SIM_CODEC_32		(0xf &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_ACRB			(0x8 &lt;&lt; 24)</span>
<span class="cp">#define MPC52xx_PSC_SICR_AWR			(1 &lt;&lt; 30)</span>
<span class="cp">#define MPC52xx_PSC_SICR_GENCLK			(1 &lt;&lt; 23)</span>
<span class="cp">#define MPC52xx_PSC_SICR_I2S			(1 &lt;&lt; 22)</span>
<span class="cp">#define MPC52xx_PSC_SICR_CLKPOL			(1 &lt;&lt; 21)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SYNCPOL		(1 &lt;&lt; 20)</span>
<span class="cp">#define MPC52xx_PSC_SICR_CELLSLAVE		(1 &lt;&lt; 19)</span>
<span class="cp">#define MPC52xx_PSC_SICR_CELL2XCLK		(1 &lt;&lt; 18)</span>
<span class="cp">#define MPC52xx_PSC_SICR_ESAI			(1 &lt;&lt; 17)</span>
<span class="cp">#define MPC52xx_PSC_SICR_ENAC97			(1 &lt;&lt; 16)</span>
<span class="cp">#define MPC52xx_PSC_SICR_SPI			(1 &lt;&lt; 15)</span>
<span class="cp">#define MPC52xx_PSC_SICR_MSTR			(1 &lt;&lt; 14)</span>
<span class="cp">#define MPC52xx_PSC_SICR_CPOL			(1 &lt;&lt; 13)</span>
<span class="cp">#define MPC52xx_PSC_SICR_CPHA			(1 &lt;&lt; 12)</span>
<span class="cp">#define MPC52xx_PSC_SICR_USEEOF			(1 &lt;&lt; 11)</span>
<span class="cp">#define MPC52xx_PSC_SICR_DISABLEEOF		(1 &lt;&lt; 10)</span>

<span class="cm">/* Structure of the hardware registers */</span>
<span class="k">struct</span> <span class="n">mpc52xx_psc</span> <span class="p">{</span>
	<span class="n">u8</span>		<span class="n">mode</span><span class="p">;</span>		<span class="cm">/* PSC + 0x00 */</span>
	<span class="n">u8</span>		<span class="n">reserved0</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="k">union</span> <span class="p">{</span>				<span class="cm">/* PSC + 0x04 */</span>
		<span class="n">u16</span>	<span class="n">status</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">clock_select</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">sr_csr</span><span class="p">;</span>
<span class="cp">#define mpc52xx_psc_status	sr_csr.status</span>
<span class="cp">#define mpc52xx_psc_clock_select sr_csr.clock_select</span>
	<span class="n">u16</span>		<span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">command</span><span class="p">;</span>	<span class="cm">/* PSC + 0x08 */</span>
	<span class="n">u8</span>		<span class="n">reserved2</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="k">union</span> <span class="p">{</span>				<span class="cm">/* PSC + 0x0c */</span>
		<span class="n">u8</span>	<span class="n">buffer_8</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">buffer_16</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">buffer_32</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">buffer</span><span class="p">;</span>
<span class="cp">#define mpc52xx_psc_buffer_8	buffer.buffer_8</span>
<span class="cp">#define mpc52xx_psc_buffer_16	buffer.buffer_16</span>
<span class="cp">#define mpc52xx_psc_buffer_32	buffer.buffer_32</span>
	<span class="k">union</span> <span class="p">{</span>				<span class="cm">/* PSC + 0x10 */</span>
		<span class="n">u8</span>	<span class="n">ipcr</span><span class="p">;</span>
		<span class="n">u8</span>	<span class="n">acr</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">ipcr_acr</span><span class="p">;</span>
<span class="cp">#define mpc52xx_psc_ipcr	ipcr_acr.ipcr</span>
<span class="cp">#define mpc52xx_psc_acr		ipcr_acr.acr</span>
	<span class="n">u8</span>		<span class="n">reserved3</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="k">union</span> <span class="p">{</span>				<span class="cm">/* PSC + 0x14 */</span>
		<span class="n">u16</span>	<span class="n">isr</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">imr</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">isr_imr</span><span class="p">;</span>
<span class="cp">#define mpc52xx_psc_isr		isr_imr.isr</span>
<span class="cp">#define mpc52xx_psc_imr		isr_imr.imr</span>
	<span class="n">u16</span>		<span class="n">reserved4</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">ctur</span><span class="p">;</span>		<span class="cm">/* PSC + 0x18 */</span>
	<span class="n">u8</span>		<span class="n">reserved5</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">ctlr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x1c */</span>
	<span class="n">u8</span>		<span class="n">reserved6</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="cm">/* BitClkDiv field of CCR is byte swapped in</span>
<span class="cm">	 * the hardware for mpc5200/b compatibility */</span>
	<span class="n">u32</span>		<span class="n">ccr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x20 */</span>
	<span class="n">u32</span>		<span class="n">ac97_slots</span><span class="p">;</span>	<span class="cm">/* PSC + 0x24 */</span>
	<span class="n">u32</span>		<span class="n">ac97_cmd</span><span class="p">;</span>	<span class="cm">/* PSC + 0x28 */</span>
	<span class="n">u32</span>		<span class="n">ac97_data</span><span class="p">;</span>	<span class="cm">/* PSC + 0x2c */</span>
	<span class="n">u8</span>		<span class="n">ivr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x30 */</span>
	<span class="n">u8</span>		<span class="n">reserved8</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">ip</span><span class="p">;</span>		<span class="cm">/* PSC + 0x34 */</span>
	<span class="n">u8</span>		<span class="n">reserved9</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">op1</span><span class="p">;</span>		<span class="cm">/* PSC + 0x38 */</span>
	<span class="n">u8</span>		<span class="n">reserved10</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">op0</span><span class="p">;</span>		<span class="cm">/* PSC + 0x3c */</span>
	<span class="n">u8</span>		<span class="n">reserved11</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u32</span>		<span class="n">sicr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x40 */</span>
	<span class="n">u8</span>		<span class="n">ircr1</span><span class="p">;</span>		<span class="cm">/* PSC + 0x44 */</span>
	<span class="n">u8</span>		<span class="n">reserved13</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">ircr2</span><span class="p">;</span>		<span class="cm">/* PSC + 0x44 */</span>
	<span class="n">u8</span>		<span class="n">reserved14</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">irsdr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x4c */</span>
	<span class="n">u8</span>		<span class="n">reserved15</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">irmdr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x50 */</span>
	<span class="n">u8</span>		<span class="n">reserved16</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">irfdr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x54 */</span>
	<span class="n">u8</span>		<span class="n">reserved17</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">mpc52xx_psc_fifo</span> <span class="p">{</span>
	<span class="n">u16</span>		<span class="n">rfnum</span><span class="p">;</span>		<span class="cm">/* PSC + 0x58 */</span>
	<span class="n">u16</span>		<span class="n">reserved18</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">tfnum</span><span class="p">;</span>		<span class="cm">/* PSC + 0x5c */</span>
	<span class="n">u16</span>		<span class="n">reserved19</span><span class="p">;</span>
	<span class="n">u32</span>		<span class="n">rfdata</span><span class="p">;</span>		<span class="cm">/* PSC + 0x60 */</span>
	<span class="n">u16</span>		<span class="n">rfstat</span><span class="p">;</span>		<span class="cm">/* PSC + 0x64 */</span>
	<span class="n">u16</span>		<span class="n">reserved20</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">rfcntl</span><span class="p">;</span>		<span class="cm">/* PSC + 0x68 */</span>
	<span class="n">u8</span>		<span class="n">reserved21</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
	<span class="n">u16</span>		<span class="n">rfalarm</span><span class="p">;</span>	<span class="cm">/* PSC + 0x6e */</span>
	<span class="n">u16</span>		<span class="n">reserved22</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">rfrptr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x72 */</span>
	<span class="n">u16</span>		<span class="n">reserved23</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">rfwptr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x76 */</span>
	<span class="n">u16</span>		<span class="n">reserved24</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">rflrfptr</span><span class="p">;</span>	<span class="cm">/* PSC + 0x7a */</span>
	<span class="n">u16</span>		<span class="n">reserved25</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">rflwfptr</span><span class="p">;</span>	<span class="cm">/* PSC + 0x7e */</span>
	<span class="n">u32</span>		<span class="n">tfdata</span><span class="p">;</span>		<span class="cm">/* PSC + 0x80 */</span>
	<span class="n">u16</span>		<span class="n">tfstat</span><span class="p">;</span>		<span class="cm">/* PSC + 0x84 */</span>
	<span class="n">u16</span>		<span class="n">reserved26</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">tfcntl</span><span class="p">;</span>		<span class="cm">/* PSC + 0x88 */</span>
	<span class="n">u8</span>		<span class="n">reserved27</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
	<span class="n">u16</span>		<span class="n">tfalarm</span><span class="p">;</span>	<span class="cm">/* PSC + 0x8e */</span>
	<span class="n">u16</span>		<span class="n">reserved28</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">tfrptr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x92 */</span>
	<span class="n">u16</span>		<span class="n">reserved29</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">tfwptr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x96 */</span>
	<span class="n">u16</span>		<span class="n">reserved30</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">tflrfptr</span><span class="p">;</span>	<span class="cm">/* PSC + 0x9a */</span>
	<span class="n">u16</span>		<span class="n">reserved31</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">tflwfptr</span><span class="p">;</span>	<span class="cm">/* PSC + 0x9e */</span>
<span class="p">};</span>

<span class="cp">#define MPC512x_PSC_FIFO_EOF		0x100</span>
<span class="cp">#define MPC512x_PSC_FIFO_RESET_SLICE	0x80</span>
<span class="cp">#define MPC512x_PSC_FIFO_ENABLE_SLICE	0x01</span>
<span class="cp">#define MPC512x_PSC_FIFO_ENABLE_DMA	0x04</span>

<span class="cp">#define MPC512x_PSC_FIFO_EMPTY		0x1</span>
<span class="cp">#define MPC512x_PSC_FIFO_FULL		0x2</span>
<span class="cp">#define MPC512x_PSC_FIFO_ALARM		0x4</span>
<span class="cp">#define MPC512x_PSC_FIFO_URERR		0x8</span>
<span class="cp">#define MPC512x_PSC_FIFO_ORERR		0x01</span>
<span class="cp">#define MPC512x_PSC_FIFO_MEMERROR	0x02</span>

<span class="k">struct</span> <span class="n">mpc512x_psc_fifo</span> <span class="p">{</span>
	<span class="n">u32</span>		<span class="n">reserved1</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
	<span class="n">u32</span>		<span class="n">txcmd</span><span class="p">;</span>		<span class="cm">/* PSC + 0x80 */</span>
	<span class="n">u32</span>		<span class="n">txalarm</span><span class="p">;</span>	<span class="cm">/* PSC + 0x84 */</span>
	<span class="n">u32</span>		<span class="n">txsr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x88 */</span>
	<span class="n">u32</span>		<span class="n">txisr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x8c */</span>
	<span class="n">u32</span>		<span class="n">tximr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x90 */</span>
	<span class="n">u32</span>		<span class="n">txcnt</span><span class="p">;</span>		<span class="cm">/* PSC + 0x94 */</span>
	<span class="n">u32</span>		<span class="n">txptr</span><span class="p">;</span>		<span class="cm">/* PSC + 0x98 */</span>
	<span class="n">u32</span>		<span class="n">txsz</span><span class="p">;</span>		<span class="cm">/* PSC + 0x9c */</span>
	<span class="n">u32</span>		<span class="n">reserved2</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="n">u8</span>	<span class="n">txdata_8</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">txdata_16</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">txdata_32</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">txdata</span><span class="p">;</span> 			<span class="cm">/* PSC + 0xbc */</span>
<span class="cp">#define txdata_8 txdata.txdata_8</span>
<span class="cp">#define txdata_16 txdata.txdata_16</span>
<span class="cp">#define txdata_32 txdata.txdata_32</span>
	<span class="n">u32</span>		<span class="n">rxcmd</span><span class="p">;</span>		<span class="cm">/* PSC + 0xc0 */</span>
	<span class="n">u32</span>		<span class="n">rxalarm</span><span class="p">;</span>	<span class="cm">/* PSC + 0xc4 */</span>
	<span class="n">u32</span>		<span class="n">rxsr</span><span class="p">;</span>		<span class="cm">/* PSC + 0xc8 */</span>
	<span class="n">u32</span>		<span class="n">rxisr</span><span class="p">;</span>		<span class="cm">/* PSC + 0xcc */</span>
	<span class="n">u32</span>		<span class="n">rximr</span><span class="p">;</span>		<span class="cm">/* PSC + 0xd0 */</span>
	<span class="n">u32</span>		<span class="n">rxcnt</span><span class="p">;</span>		<span class="cm">/* PSC + 0xd4 */</span>
	<span class="n">u32</span>		<span class="n">rxptr</span><span class="p">;</span>		<span class="cm">/* PSC + 0xd8 */</span>
	<span class="n">u32</span>		<span class="n">rxsz</span><span class="p">;</span>		<span class="cm">/* PSC + 0xdc */</span>
	<span class="n">u32</span>		<span class="n">reserved3</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="n">u8</span>	<span class="n">rxdata_8</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">rxdata_16</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">rxdata_32</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">rxdata</span><span class="p">;</span> 			<span class="cm">/* PSC + 0xfc */</span>
<span class="cp">#define rxdata_8 rxdata.rxdata_8</span>
<span class="cp">#define rxdata_16 rxdata.rxdata_16</span>
<span class="cp">#define rxdata_32 rxdata.rxdata_32</span>
<span class="p">};</span>

<span class="cp">#endif  </span><span class="cm">/* __ASM_MPC52xx_PSC_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
