f | pci.c | s | 5.5K | 195 | Bjorn Helgaas | bhelgaas@google.com | 1332265319 |  | powerpc/PCI: allow reallocation on PA Semi  We believe there's no reason to prevent reallocation on PA Semi, so revert to the default of "allow reallocation if necessary."  Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> CC: linuxppc-dev@lists.ozlabs.org Tested-by: Olof Johansson <olof@lixom.net> Acked-by: Olof Johansson <olof@lixom.net> Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
f | iommu.c | s | 7.0K | 211 | Nishanth Aravamudan | nacc@us.ibm.com | 1291006100 |  | powerpc/pasemi: Clean up pasemi iommu table initializations  No need for empty helpers with iommu off, the ppc_md hooks are optional.  The direct_dma_ops are the default pci_dma_ops, so no need to set in the them iommu off case.  No need to set the device tree device_node pci node iommu pointer, its only used for dlpar remove.  Signed-off-by: Milton Miller <miltonm@bga.com> Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com> Acked-by: Olof Johansson <olof@lixom.net> Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
f | Makefile | g | 165B |  | Olof Johansson | olof@lixom.net | 1203588515 |  | [POWERPC] pasemi: Register i2c devices at boot  Setup i2c_board_info based on device tree contents.  This has to be a device_initcall since we need PCI to be probed by the time we run it, but before the actual driver is initialized.  Signed-off-by: Olof Johansson <olof@lixom.net> Signed-off-by: Paul Mackerras <paulus@samba.org>
f | time.c | s | 928B | 25 | Dave Jones | davej@redhat.com | 1159947534 |  | Remove all inclusions of <linux/config.h> kbuild explicitly includes this at build time.  Signed-off-by: Dave Jones <davej@redhat.com>
f | dma_lib.c | s | 15K | 543 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103844 |  | powerpc: various straight conversions from module.h --> export.h  All these files were including module.h just for the basic EXPORT_SYMBOL infrastructure.  We can shift them off to the export.h header which is a way smaller footprint and thus realize some compile time gains.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | cpufreq.c | s | 7.4K | 259 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103838 |  | powerpc: Fix up modules that should be including module.h  So that we can clean up the header files and not be relying on implicit includes from device.h ---> module.h  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | misc.c | s | 2.2K | 80 | Jean Delvare | khali@linux-fr.org | 1211136580 |  | i2c: Switch pasemi to the new device/driver matching scheme  The old device/driver matching scheme is going away so stop using it.  Signed-off-by: Jean Delvare <khali@linux-fr.org> Acked-by: Olof Johansson <olof@lixom.net>
f | powersave.S | g | 1.8K |  | Olof Johansson | olof@lixom.net | 1196535820 |  | [POWERPC] pasemi: Don't enter powersaving states from elevated astates  When the PWRficient cpus are entered into powersavings states, the astate is automatically dropped down to 0. While we still restore it when we come out of idle, it can still cause some weird effects with respect to performance (especially since it takes a while to ramp up to higher astates).  So, to avoid this, don't enter power savings when the cpufreq driver (or user) has set higher astates than 0.  The restore is still required, since there's a chance the astate has been raised from the other cpu while the idling one was asleep.  Signed-off-by: Olof Johansson <olof@lixom.net>
f | setup.c | s | 10K | 369 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for PowerPC  Disintegrate asm/system.h for PowerPC.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> cc: linuxppc-dev@lists.ozlabs.org
f | gpio_mdio.c | s | 6.8K | 280 | Grant Likely | grant.likely@secretlab.ca | 1298882199 |  | dt/powerpc: Eliminate users of of_platform_{,un}register_driver  Get rid of old users of of_platform_driver in arch/powerpc.  Most of_platform_driver users can be converted to use the platform_bus directly.  Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
f | Kconfig | g | 918B |  | Benjamin Herrenschmidt | benh@kernel.crashing.org | 1236751895 |  | powerpc/kconfig: Kill PPC_MULTIPLATFORM  CONFIG_PPC_MULTIPLATFORM is a remain of the pre-powerpc days and isn't really meaningful anymore. It was basically equivalent to PPC64 |||| 6xx.  This removes it along with the following changes:   - 32-bit platforms that relied on PPC32 && PPC_MULTIPLATFORM now rely    on 6xx which is what they want anyway.   - A new symbol, PPC_BOOK3S, is defined that represent compliance with    the "Server" variant of the architecture. This is set when either 6xx    or PPC64 is set and open the door for future BOOK3E 64-bit.   - 64-bit platforms that relied on PPC64 && PPC_MULTIPLATFORM now use    PPC64 && PPC_BOOK3S   - A separate and selectable CONFIG_PPC_OF_BOOT_TRAMPOLINE option is now    used to control the use of prom_init.c  Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
f | pasemi.h | s | 856B | 27 | Paul Mackerras | paulus@samba.org | 1201739151 |  | Merge branch 'linux-2.6'
f | idle.c | s | 2.4K | 85 | Stoyan Gaydarov | sgayda2@uiuc.edu | 1250728163 |  | powerpc: ARRAY_SIZE changes in pasemi and powermac code  These changes were a direct result of using a semantic patch More information can be found at http://www.emn.fr/x-info/coccinelle/  Signed-off-by: Stoyan Gaydarov <sgayda2@uiuc.edu> Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
