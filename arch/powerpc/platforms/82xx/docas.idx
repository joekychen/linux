f | pq2.c | s | 1.9K | 63 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for PowerPC  Disintegrate asm/system.h for PowerPC.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> cc: linuxppc-dev@lists.ozlabs.org
f | Makefile | g | 274B |  | Holger Brunck | holger.brunck@keymile.com | 1300201597 |  | powerpc/82xx: rename and update mgcoge board support  The mgcoge board from keymile is now base for some other similar boards. Therefore the board specific name mgcoge was renamed to a generic name km82xx. Additionally some enhancements were made: 	- rework partition table in dts file 	- add cpm2_pio_c gpio controller in dts file 	- update defconfig 	- add pin description for SCC1 	- add pin description and configuration for USB  Signed-off-by: Holger Brunck <holger.brunck@keymile.com> Acked-by: Heiko Schocher <hs@denx.de> CC: Benjamin Herrenschmidt <benh@kernel.crashing.org> CC: Heiko Schocher <hs@denx.de> Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
f | pq2ads.h | s | 1.5K | 39 | Kumar Gala | galak@kernel.crashing.org | 1242712039 |  | powerpc/cpm: Remove some cruft code and defines  Kill of some old defines and macros that we no longer use like CPM_MAP_ADDR and CPM_IRQ_OFFSET.  Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
f | pq2.h | s | 258B | 16 | Scott Wood | scottwood@freescale.com | 1191513764 |  | [POWERPC] mpc82xx: Update mpc8272ads, and factor out PCI and reset.  1. PCI and reset are factored out into pq2.c.  I renamed them from m82xx to pq2 because they won't work on the Integrated Host Processor line of 82xx chips (i.e. 8240, 8245, and such).  2. The PCI PIC, which is nominally board-specific, is used on multiple boards, and thus is used into pq2ads-pci-pic.c.  3. The new CPM binding is used.  4. General cleanup.  Signed-off-by: Scott Wood <scottwood@freescale.com> Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
f | pq2ads-pci-pic.c | s | 4.0K | 150 | Grant Likely | grant.likely@secretlab.ca | 1329397884 |  | irq_domain/powerpc: constify irq_domain_ops  Make all the irq_domain_ops structures in powerpc 'static const'  Signed-off-by: Grant Likely <grant.likely@secretlab.ca> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: Milton Miller <miltonm@bga.com> Tested-by: Olof Johansson <olof@lixom.net>
f | ep8248e.c | s | 8.5K | 282 | Grant Likely | grant.likely@secretlab.ca | 1298882199 |  | dt/powerpc: Eliminate users of of_platform_{,un}register_driver  Get rid of old users of of_platform_driver in arch/powerpc.  Most of_platform_driver users can be converted to use the platform_bus directly.  Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
f | mpc8272_ads.c | s | 5.9K | 182 | Anton Vorontsov | avorontsov@ru.mvista.com | 1251211446 |  | powerpc/82xx: Add CPM USB Gadget support for MPC8272ADS boards  - Add usb node; - Configure pins and clocks; - Enable USB function in BCSR.  The support was successfully tested using serial and ethernet gadget drivers.  Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com> Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
f | pq2fads.c | s | 5.1K | 162 | Julia Lawall | julia@diku.dk | 1202296019 |  | [POWERPC] arch/powerpc/platforms/82xx: Add missing of_node_put  Of_get_parent and of_find_compatible_node do a of_node_get, and thus a corresponding of_code_put is needed in both the error case and the normal return case.  The problem was found using the following semantic match. (http://www.emn.fr/x-info/coccinelle/)  // <smpl> @@ type T,T1,T2; identifier E; statement S; expression x1,x2,x3; int ret; @@    T E;   ... * E = \(of_get_parent\||of_find_compatible_node\)(...);   if (E == NULL) S   ... when != of_node_put(...,(T1)E,...)       when != if (E != NULL) { ... of_node_put(...,(T1)E,...); ...}       when != x1 = (T1)E       when != E = x3;       when any   if (...) {     ... when != of_node_put(...,(T2)E,...)         when != if (E != NULL) { ... of_node_put(...,(T2)E,...); ...}         when != x2 = (T2)E ( *   return; || *   return ret; )   } // </smpl>  Signed-off-by: Julia Lawall <julia@diku.dk> Cc: Stephen Rothwell <sfr@canb.auug.org.au> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Paul Mackerras <paulus@samba.org> Cc: Kumar Gala <galak@gate.crashing.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Paul Mackerras <paulus@samba.org>
f | km82xx.c | s | 6.0K | 178 | Holger Brunck | holger.brunck@keymile.com | 1318367921 |  | powerpc/82xx: updates for mgcoge  Add:  - Setup dts node for USB  - pin description and setup for SMC1 (serial interface)  Update and cleanup mgcoge_defconfig: - enable: TIPC, UBIFS, USB_GADGET driver, SQUASHFS, HIGHRES timers           POSIX_MQUEUE, EMBEDDED - disable: EXT3, PPC_PMAC  Signed-off-by: Holger Brunck <holger.brunck@keymile.com> Acked-by: Heiko Schocher <hs@denx.de> cc: Kumar Gala <galak@kernel.crashing.org> Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
f | Kconfig | g | 1.4K |  | Benjamin Herrenschmidt | benh@kernel.crashing.org | 1236751895 |  | powerpc/kconfig: Kill PPC_MULTIPLATFORM  CONFIG_PPC_MULTIPLATFORM is a remain of the pre-powerpc days and isn't really meaningful anymore. It was basically equivalent to PPC64 |||| 6xx.  This removes it along with the following changes:   - 32-bit platforms that relied on PPC32 && PPC_MULTIPLATFORM now rely    on 6xx which is what they want anyway.   - A new symbol, PPC_BOOK3S, is defined that represent compliance with    the "Server" variant of the architecture. This is set when either 6xx    or PPC64 is set and open the door for future BOOK3E 64-bit.   - 64-bit platforms that relied on PPC64 && PPC_MULTIPLATFORM now use    PPC64 && PPC_BOOK3S   - A separate and selectable CONFIG_PPC_OF_BOOT_TRAMPOLINE option is now    used to control the use of prom_init.c  Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
f | m82xx_pci.h | s | 473B | 13 | Kumar Gala | galak@kernel.crashing.org | 1187840375 |  | [POWERPC] Remove old includes from arch/ppc  Remove includes of files that existed in arch/ppc that we dont need in arch/powerpc anymore.  The following includes were removed:   <asm/amigappc.h>  <asm/bootinfo.h>  <asm/ppcboot.h>  <asm/ppc_sys.h>  <asm/residual.h>  <asm/m8260_pci.h>  This also caused platforms/embedded6xx/mpc7448_hpc2.h to no longer be needed and thus removed.  Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
