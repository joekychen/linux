<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › powerpc › boot › redboot.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>redboot.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _PPC_REDBOOT_H</span>
<span class="cp">#define _PPC_REDBOOT_H</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>=========================================================================
include/asm-ppc/redboot.h
  Copyright (c) 2002, 2003 Gary Thomas (<a href="&#x6D;&#97;&#x69;&#x6C;&#x74;&#x6F;:&#103;&#x61;&#114;&#121;&#x40;&#x6D;&#x6C;&#98;&#x61;s&#x73;&#x6F;&#x63;&#x2E;&#x63;&#111;&#x6D;">&#103;&#x61;&#114;&#121;&#x40;&#x6D;&#x6C;&#98;&#x61;s&#x73;&#x6F;&#x63;&#x2E;&#x63;&#111;&#x6D;</a>
  Copyright (c) 1997 Dan Malek (dmalek@jlc.net)</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>Board specific details, as provided by RedBoot</p></td><td class="code"><div class="highlight"><pre><span class="cm">/* A Board Information structure that is given to a program when</span>
<span class="cm"> * RedBoot starts it up.  Note: not all fields make sense for all</span>
<span class="cm"> * architectures and it&#39;s up to the platform specific code to fill</span>
<span class="cm"> * in the details.</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">bd_info</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_tag</span><span class="p">;</span>        <span class="cm">/* Should be 0x42444944 &quot;BDID&quot; */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_size</span><span class="p">;</span>       <span class="cm">/* Size of this structure */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_revision</span><span class="p">;</span>   <span class="cm">/* revision of this structure */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_bdate</span><span class="p">;</span>      <span class="cm">/* bootstrap date, i.e. 0x19971106 */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_memstart</span><span class="p">;</span>   <span class="cm">/* Memory start address */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_memsize</span><span class="p">;</span>    <span class="cm">/* Memory (end) size in bytes */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_intfreq</span><span class="p">;</span>    <span class="cm">/* Internal Freq, in Hz */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_busfreq</span><span class="p">;</span>    <span class="cm">/* Bus Freq, in Hz */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_cpmfreq</span><span class="p">;</span>    <span class="cm">/* CPM Freq, in Hz */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_brgfreq</span><span class="p">;</span>    <span class="cm">/* BRG Freq, in Hz */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_vco</span><span class="p">;</span>        <span class="cm">/* VCO Out from PLL */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_pci_freq</span><span class="p">;</span>   <span class="cm">/* PCI Freq, in Hz */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_baudrate</span><span class="p">;</span>   <span class="cm">/* Default console baud rate */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_immr</span><span class="p">;</span>       <span class="cm">/* IMMR when called from boot rom */</span>
    <span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">bi_enetaddr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_flashbase</span><span class="p">;</span>  <span class="cm">/* Physical address of FLASH memory */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_flashsize</span><span class="p">;</span>  <span class="cm">/* Length of FLASH memory */</span>
    <span class="kt">int</span>            <span class="n">bi_flashwidth</span><span class="p">;</span> <span class="cm">/* Width (8,16,32,64) */</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">bi_cmdline</span><span class="p">;</span>    <span class="cm">/* Pointer to command line */</span>
    <span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">bi_esa</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">6</span><span class="p">];</span>  <span class="cm">/* Ethernet station addresses */</span>
    <span class="kt">unsigned</span> <span class="kt">int</span>   <span class="n">bi_ramdisk_begin</span><span class="p">,</span> <span class="n">bi_ramdisk_end</span><span class="p">;</span>
    <span class="k">struct</span> <span class="p">{</span>                      <span class="cm">/* Information about [main] video screen */</span>
        <span class="kt">short</span> <span class="n">x_res</span><span class="p">;</span>              <span class="cm">/*   Horizontal resolution in pixels */</span>
        <span class="kt">short</span> <span class="n">y_res</span><span class="p">;</span>              <span class="cm">/*   Vertical resolution in pixels */</span>
        <span class="kt">short</span> <span class="n">bpp</span><span class="p">;</span>                <span class="cm">/*   Bits/pixel */</span>
        <span class="kt">short</span> <span class="n">mode</span><span class="p">;</span>               <span class="cm">/*   Type of pixels (packed, indexed) */</span>
        <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">fb</span><span class="p">;</span>         <span class="cm">/*   Pointer to frame buffer (pixel) memory */</span>
    <span class="p">}</span> <span class="n">bi_video</span><span class="p">;</span>
    <span class="kt">void</span>         <span class="p">(</span><span class="o">*</span><span class="n">bi_cputc</span><span class="p">)(</span><span class="kt">char</span><span class="p">);</span>   <span class="cm">/* Write a character to the RedBoot console */</span>
    <span class="kt">char</span>         <span class="p">(</span><span class="o">*</span><span class="n">bi_cgetc</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>   <span class="cm">/* Read a character from the RedBoot console */</span>
    <span class="kt">int</span>          <span class="p">(</span><span class="o">*</span><span class="n">bi_ctstc</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>   <span class="cm">/* Test for input on the RedBoot console */</span>
<span class="p">}</span> <span class="n">bd_t</span><span class="p">;</span>

<span class="cp">#define BI_REV 0x0102    </span><span class="cm">/* Version 1.02 */</span><span class="cp"></span>

<span class="cp">#define bi_pci_busfreq bi_pci_freq</span>
<span class="cp">#define bi_immr_base   bi_immr</span>
<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
