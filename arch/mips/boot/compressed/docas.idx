f | Makefile | g | 3.2K |  | Linus Torvalds | torvalds@linux-foundation.org | 1287432636 |  | Merge branch 'upstream' of git://git.linux-mips.org/pub/scm/upstream-linus  * 'upstream' of git://git.linux-mips.org/pub/scm/upstream-linus:   MIPS: Enable ISA_DMA_API config to fix build failure   MIPS: 32-bit: Fix build failure in asm/fcntl.h   MIPS: Remove all generated vmlinuz* files on "make clean"   MIPS: do_sigaltstack() expects userland pointers   MIPS: Fix error values in case of bad_stack   MIPS: Sanitize restart logics   MIPS: secure_computing, syscall audit: syscall number should in r2, not r0.   MIPS: Don't block signals if we'd failed to setup a sigframe
f | ld.script | g | 777B |  | Wu Zhangjin | wuzhangjin@gmail.com | 1281011192 |  | MIPS: Clean up arch/mips/boot/compressed/ld.script  - Remove unused symbols: _fdata, _text; only _edata and _end are needed by   head.S - Remove unused sections: .sbss, .stab, .gptab.sdata, .gptab.sbss - Change the alignment to 16 bytes to ensure it is greater than any   fundamental type of a MIPS compiler. - Clean up comments  Signed-off-by: Wu Zhangjin <wuzhangjin@gmail.com> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/1381/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | uart-16550.c | s | 856B | 33 | Wu Zhangjin | wuzhangjin@gmail.com | 1261015016 |  | MIPS: Add support for GZIP / BZIP2 / LZMA compressed kernel images  This patch helps to generate smaller kernel images for linux-MIPS,  Here is the effect when using lzma:  $ ls -sh vmlinux 7.1M vmlinux $ ls -sh vmlinuz 1.5M vmlinuz  Have tested the 32bit kernel on Qemu/Malta and 64bit kernel on FuLoong Mini PC. both of them work well. and also, tested by Alexander Clouter on an AR7 based Linksys WAG54Gv2, and by Manuel Lauss on an Alchemy board.  This -v2 version incorporate the feedback from Ralf, and add the following changes:  1. add .ecoff, .bin, .erec format support 2. only enable it and the debug source code for the machines we tested 3. a dozen of fixups and cleanups  and if you want to enable it for your board, please try to select SYS_SUPPORTS_ZBOOT for it, and if the board have an 16550 compatible uart, you can select SYS_SUPPORTS_ZBOOT_UART16550 directly. and then sending the relative patches to Ralf.  Tested-by: Manuel Lauss <manuel.lauss@googlemail.com> Tested-by: Alexander Clouter <alex@digriz.org.uk> Signed-off-by: Wu Zhangjin <wuzhangjin@gmail.com> Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | head.S | g | 1.1K |  | Wu Zhangjin | wuzhangjin@gmail.com | 1261015016 |  | MIPS: Add support for GZIP / BZIP2 / LZMA compressed kernel images  This patch helps to generate smaller kernel images for linux-MIPS,  Here is the effect when using lzma:  $ ls -sh vmlinux 7.1M vmlinux $ ls -sh vmlinuz 1.5M vmlinuz  Have tested the 32bit kernel on Qemu/Malta and 64bit kernel on FuLoong Mini PC. both of them work well. and also, tested by Alexander Clouter on an AR7 based Linksys WAG54Gv2, and by Manuel Lauss on an Alchemy board.  This -v2 version incorporate the feedback from Ralf, and add the following changes:  1. add .ecoff, .bin, .erec format support 2. only enable it and the debug source code for the machines we tested 3. a dozen of fixups and cleanups  and if you want to enable it for your board, please try to select SYS_SUPPORTS_ZBOOT for it, and if the board have an 16550 compatible uart, you can select SYS_SUPPORTS_ZBOOT_UART16550 directly. and then sending the relative patches to Ralf.  Tested-by: Manuel Lauss <manuel.lauss@googlemail.com> Tested-by: Alexander Clouter <alex@digriz.org.uk> Signed-off-by: Wu Zhangjin <wuzhangjin@gmail.com> Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | calc_vmlinuz_load_addr.c | s | 1.3K | 46 | Ralf Baechle | ralf@linux-mips.org | 1305047725 |  | MIPS: Fix calc_vmlinuz_load_addr build warnings.    HOSTCC  arch/mips/boot/compressed/calc_vmlinuz_load_addr arch/mips/boot/compressed/calc_vmlinuz_load_addr.c: In function 'main': arch/mips/boot/compressed/calc_vmlinuz_load_addr.c:35:2: warning: format '%llx' expects type 'long long unsigned int *', but argument 3 has type 'uint64_t *' arch/mips/boot/compressed/calc_vmlinuz_load_addr.c:54:2: warning: format '%llx' expects type 'long long unsigned int', but argument 2 has type 'uint64_t'  Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dbg.c | s | 672B | 33 | Wu Zhangjin | wuzhangjin@gmail.com | 1267271597 |  | MIPS: Simplify the weak annotation with __weak  Found by  $ find arch/mips/ -name "*.c" || xargs -i grep -H weak {} || grep -v __weak  [Ralf: Made this bulletproof by including <linux/compiler.h>]  Signed-off-by: Wu Zhangjin <wuzhangjin@gmail.com> Cc: linux-mips@linux-mips.org Patchwork: http://patchwork.linux-mips.org/patch/874/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | decompress.c | s | 2.5K | 89 | Wu Zhangjin | wuzhangjin@gmail.com | 1281011192 |  | MIPS: Clean up arch/mips/boot/compressed/decompress.c  - Remove several outdated comments - Clearify the definition of zimage_start and zimage_size and the their   usage  Signed-off-by: Wu Zhangjin <wuzhangjin@gmail.com> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/1382/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dummy.c | s | 30B | 4 | Wu Zhangjin | wuzhangjin@gmail.com | 1261015016 |  | MIPS: Add support for GZIP / BZIP2 / LZMA compressed kernel images  This patch helps to generate smaller kernel images for linux-MIPS,  Here is the effect when using lzma:  $ ls -sh vmlinux 7.1M vmlinux $ ls -sh vmlinuz 1.5M vmlinuz  Have tested the 32bit kernel on Qemu/Malta and 64bit kernel on FuLoong Mini PC. both of them work well. and also, tested by Alexander Clouter on an AR7 based Linksys WAG54Gv2, and by Manuel Lauss on an Alchemy board.  This -v2 version incorporate the feedback from Ralf, and add the following changes:  1. add .ecoff, .bin, .erec format support 2. only enable it and the debug source code for the machines we tested 3. a dozen of fixups and cleanups  and if you want to enable it for your board, please try to select SYS_SUPPORTS_ZBOOT for it, and if the board have an 16550 compatible uart, you can select SYS_SUPPORTS_ZBOOT_UART16550 directly. and then sending the relative patches to Ralf.  Tested-by: Manuel Lauss <manuel.lauss@googlemail.com> Tested-by: Alexander Clouter <alex@digriz.org.uk> Signed-off-by: Wu Zhangjin <wuzhangjin@gmail.com> Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | uart-alchemy.c | s | 198B | 9 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295326 |  | MIPS: Alchemy: Basic support for the DB1300 board.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2867/ Patchwork: https://patchwork.linux-mips.org/patch/2919/ Patchwork: https://patchwork.linux-mips.org/patch/2928/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
