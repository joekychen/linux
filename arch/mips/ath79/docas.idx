f | Makefile | g | 1.0K |  | Gabor Juhos | juhosg@openwrt.org | 1337096951 |  | MIPS: ath79: add initial support for the Atheros DB120 board  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3517/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | pci.h | s | 987B | 30 | Gabor Juhos | juhosg@openwrt.org | 1337096947 |  | MIPS: ath79: update copyright headers of PCI related files  Add copyright records according to the recent changes in the PCI code. Also fix up the descriptions.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Signed-off-by: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3503/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | common.c | s | 2.7K | 92 | Gabor Juhos | juhosg@openwrt.org | 1337096949 |  | MIPS: ath79: add AR934X specific glue to ath79_device_reset_{clear,set}  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3511/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-leds-gpio.h | s | 601B | 17 | Gabor Juhos | juhosg@openwrt.org | 1295375426 |  | MIPS: ath79: add common GPIO LEDs device  Almost all boards have one or more LEDs connected to GPIO lines. This patch adds common code to register a platform_device for them.  The patch also adds support for the LEDs on the PB44 board.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Signed-off-by: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Cc: Luis R. Rodriguez <lrodriguez@atheros.com> Cc: Cliff Holden <Cliff.Holden@Atheros.com> Cc: Kathy Giori <Kathy.Giori@Atheros.com> Patchwork: https://patchwork.linux-mips.org/patch/1953/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | pci.c | s | 3.0K | 111 | Gabor Juhos | juhosg@openwrt.org | 1337096951 |  | MIPS: ath79: add PCI registration code for AR934X  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3516/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | gpio.c | s | 5.9K | 192 | Gabor Juhos | juhosg@openwrt.org | 1337096948 |  | MIPS: ath79: add GPIO support code for AR934X  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3508/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-gpio-buttons.c | s | 1.3K | 45 | Thomas Meyer | thomas@m3y3r.de | 1337096940 |  | MIPS: ath79: Use kmemdup rather than duplicating its implementation  The semantic patch that makes this change is available in scripts/coccinelle/api/memdup.cocci.  Signed-off-by: Thomas Meyer <thomas@m3y3r.de> Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3483/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | mach-db120.c | s | 3.4K | 116 | Gabor Juhos | juhosg@openwrt.org | 1337096951 |  | MIPS: ath79: add initial support for the Atheros DB120 board  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3517/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | machtypes.h | s | 827B | 22 | Gabor Juhos | juhosg@openwrt.org | 1337096951 |  | MIPS: ath79: add initial support for the Atheros DB120 board  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3517/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | clock.c | s | 8.5K | 253 | Gabor Juhos | juhosg@openwrt.org | 1337096948 |  | MIPS: ath79: add clock initialization code for AR934X  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3507/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-leds-gpio.c | s | 1.1K | 43 | Thomas Meyer | thomas@m3y3r.de | 1337096940 |  | MIPS: ath79: Use kmemdup rather than duplicating its implementation  The semantic patch that makes this change is available in scripts/coccinelle/api/memdup.cocci.  Signed-off-by: Thomas Meyer <thomas@m3y3r.de> Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3483/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-gpio-buttons.h | s | 686B | 19 | Gabor Juhos | juhosg@openwrt.org | 1295375427 |  | MIPS: ath79: add common GPIO buttons device  Almost all boards have one or more push buttons connected to GPIO lines. This patch adds common code to register a platform_device for them.  The patch also adds support for the buttons on the PB44 board.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Signed-off-by: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Cc: Luis R. Rodriguez <lrodriguez@atheros.com> Cc: Cliff Holden <Cliff.Holden@Atheros.com> Cc: Kathy Giori <Kathy.Giori@Atheros.com> Patchwork: https://patchwork.linux-mips.org/patch/1954/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | mach-ubnt-xm.c | s | 2.8K | 105 | Gabor Juhos | juhosg@openwrt.org | 1337096946 |  | MIPS: ath79: remove ar724x_pci_add_data function  The variables set by this function are not used anymore. Remove the function and the relevant variables as well.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3501/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-wmac.c | s | 3.3K | 109 | Gabor Juhos | juhosg@openwrt.org | 1337096950 |  | MIPS: ath79: add WMAC registration code for AR934X  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3513/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-common.c | s | 2.7K | 100 | Gabor Juhos | juhosg@openwrt.org | 1337096950 |  | MIPS: ath79: register UART device for AR934X SoCs  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3512/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-usb.h | s | 493B | 14 | Gabor Juhos | juhosg@openwrt.org | 1323295364 |  | MIPS: ath79: add common USB Host Controller device  Add common platform_device and helper code to make the registration of the built-in USB controllers easier on the board which are using them. Also register the USB controller on the AP81 and PB44 boards.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Signed-off-by: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2442/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | irq.c | s | 7.4K | 237 | Gabor Juhos | juhosg@openwrt.org | 1337096949 |  | MIPS: ath79: add IRQ handling code for AR934X  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3510/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | mach-pb44.c | s | 3.0K | 106 | Gabor Juhos | juhosg@openwrt.org | 1337096946 |  | MIPS: ath79: register PCI controller on the PB44 board  The PB44 reference board has two miniPCI slots. Register the PCI controller to make those usable.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3502/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | prom.c | s | 1.2K | 46 | Gabor Juhos | juhosg@openwrt.org | 1295375424 |  | MIPS: Add initial support for the Atheros AR71XX/AR724X/AR931X SoCs  This patch adds initial support for various Atheros SoCs based on the MIPS 24Kc core. The following models are supported at the moment:    - AR7130   - AR7141   - AR7161   - AR9130   - AR9132   - AR7240   - AR7241   - AR7242  The current patch contains minimal support only, but the resulting kernel can boot into user-space with using of an initramfs image on various boards which are using these SoCs. Support for more built-in devices and individual boards will be implemented in further patches.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Signed-off-by: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Cc: Luis R. Rodriguez <lrodriguez@atheros.com> Cc: Cliff Holden <Cliff.Holden@Atheros.com> Cc: Kathy Giori <Kathy.Giori@Atheros.com> Patchwork: https://patchwork.linux-mips.org/patch/1947/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-spi.c | s | 1.1K | 34 | Gabor Juhos | juhosg@openwrt.org | 1295375427 |  | MIPS: ath79: add common SPI controller device  Several boards are using the built-in SPI controller of the AR71XX/AR724X/AR913X SoCs. This patch adds common platform_device and helper code to register it. Additionally, the patch registers the SPI bus on the PB44 board.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: linux-mips@linux-mips.org Cc: Imre Kaloz <kaloz@openwrt.org> Cc: Luis R. Rodriguez <lrodriguez@atheros.com> Cc: Cliff Holden <Cliff.Holden@Atheros.com> Cc: Kathy Giori <Kathy.Giori@Atheros.com> Patchwork: https://patchwork.linux-mips.org/patch/1956/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | Kconfig | g | 2.2K |  | Gabor Juhos | juhosg@openwrt.org | 1337096951 |  | MIPS: ath79: add initial support for the Atheros DB120 board  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3517/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | setup.c | s | 5.0K | 195 | Gabor Juhos | juhosg@openwrt.org | 1337096947 |  | MIPS: ath79: add SoC detection code for AR934X  Also add 'soc_is_ar934[124x]' helper functions and a Kconfig symbol for the AR934X SoCs.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3506/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-common.h | s | 521B | 15 | Gabor Juhos | juhosg@openwrt.org | 1295375426 |  | MIPS: ath79: add common watchdog device  All supported SoCs have a built-in hardware watchdog driver. This patch registers a platform_device for that to make it usable.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Signed-off-by: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Cc: Luis R. Rodriguez <lrodriguez@atheros.com> Cc: Cliff Holden <Cliff.Holden@Atheros.com> Cc: Kathy Giori <Kathy.Giori@Atheros.com> Patchwork: https://patchwork.linux-mips.org/patch/1955/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-spi.h | s | 650B | 18 | Gabor Juhos | juhosg@openwrt.org | 1295375427 |  | MIPS: ath79: add common SPI controller device  Several boards are using the built-in SPI controller of the AR71XX/AR724X/AR913X SoCs. This patch adds common platform_device and helper code to register it. Additionally, the patch registers the SPI bus on the PB44 board.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: linux-mips@linux-mips.org Cc: Imre Kaloz <kaloz@openwrt.org> Cc: Luis R. Rodriguez <lrodriguez@atheros.com> Cc: Cliff Holden <Cliff.Holden@Atheros.com> Cc: Kathy Giori <Kathy.Giori@Atheros.com> Patchwork: https://patchwork.linux-mips.org/patch/1956/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | early_printk.c | s | 2.3K | 80 | Gabor Juhos | juhosg@openwrt.org | 1337096947 |  | MIPS: ath79: add early_printk support for AR934X  The patch allows to see kernel messages on AR934X SoCs in early boot stage.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Acked-by: Luis R. Rodriguez <mcgrof@qca.qualcomm.com> Cc: linux-mips@linux-mips.org Cc: mcgrof@infradead.org Patchwork: https://patchwork.linux-mips.org/patch/3504/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | mach-ap81.c | s | 2.3K | 88 | Gabor Juhos | juhosg@openwrt.org | 1323295368 |  | MIPS: ath79: Rename dev-ar913x-wmac.h to dev-wmac.h  The 'ar913x' part was removed from the common variable and function names, so remove that from the relevant header file name as well.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3033/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-wmac.h | s | 503B | 14 | Gabor Juhos | juhosg@openwrt.org | 1323295368 |  | MIPS: ath79: Rename dev-ar913x-wmac.h to dev-wmac.h  The 'ar913x' part was removed from the common variable and function names, so remove that from the relevant header file name as well.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3033/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | Platform | g | 187B |  | Gabor Juhos | juhosg@openwrt.org | 1295375424 |  | MIPS: Add initial support for the Atheros AR71XX/AR724X/AR931X SoCs  This patch adds initial support for various Atheros SoCs based on the MIPS 24Kc core. The following models are supported at the moment:    - AR7130   - AR7141   - AR7161   - AR9130   - AR9132   - AR7240   - AR7241   - AR7242  The current patch contains minimal support only, but the resulting kernel can boot into user-space with using of an initramfs image on various boards which are using these SoCs. Support for more built-in devices and individual boards will be implemented in further patches.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Signed-off-by: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Cc: Luis R. Rodriguez <lrodriguez@atheros.com> Cc: Cliff Holden <Cliff.Holden@Atheros.com> Cc: Kathy Giori <Kathy.Giori@Atheros.com> Patchwork: https://patchwork.linux-mips.org/patch/1947/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | mach-ap121.c | s | 2.1K | 79 | Gabor Juhos | juhosg@openwrt.org | 1323295368 |  | MIPS: ath79: Rename dev-ar913x-wmac.h to dev-wmac.h  The 'ar913x' part was removed from the common variable and function names, so remove that from the relevant header file name as well.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Cc: Imre Kaloz <kaloz@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3033/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dev-usb.c | s | 5.6K | 174 | Hauke Mehrtens | hauke@hauke-m.de | 1331840743 |  | USB: use generic platform driver on ath79  The ath79 usb driver doesn't do anything special and is now converted to the generic ehci and ohci driver. This was tested on a TP-Link TL-WR1043ND (AR9132)  Acked-by: Gabor Juhos <juhosg@openwrt.org> CC: Imre Kaloz <kaloz@openwrt.org> CC: linux-mips@linux-mips.org CC: Ralf Baechle <ralf@linux-mips.org> Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | common.h | s | 896B | 25 | Gabor Juhos | juhosg@openwrt.org | 1295375425 |  | MIPS: ath79: add GPIOLIB support  This patch implements generic GPIO routines for the built-in GPIO controllers of the Atheros AR71XX/AR724X/AR913X SoCs.  Signed-off-by: Gabor Juhos <juhosg@openwrt.org> Signed-off-by: Imre Kaloz <kaloz@openwrt.org> Cc: David Brownell <dbrownell@users.sourceforge.net> Cc: linux-mips@linux-mips.org Cc: Luis R. Rodriguez <lrodriguez@atheros.com> Cc: Cliff Holden <Cliff.Holden@Atheros.com> Cc: Kathy Giori <Kathy.Giori@Atheros.com> Patchwork: https://patchwork.linux-mips.org/patch/1948/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
