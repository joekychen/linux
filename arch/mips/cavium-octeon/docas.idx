f | dma-octeon.c | s | 9.8K | 307 | Andrzej Pietrasiewicz | andrzej.p@samsung.com | 1332945392 |  | MIPS: adapt for dma_map_ops changes  Adapt core MIPS architecture code for dma_map_ops changes: replace alloc/free_coherent with generic alloc/free methods.  Signed-off-by: Andrzej Pietrasiewicz <andrzej.p@samsung.com> Acked-by: Kyungmin Park <kyungmin.park@samsung.com> [added missing changes to arch/mips/cavium-octeon/dma-octeon.c,  fixed attrs argument in dma-mapping.h] Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | octeon-irq.c | s | 29K | 897 | Thomas Gleixner | tglx@linutronix.de | 1301402887 |  | MIPS: Octeon: Simplify irq_cpu_on/offline irq chip functions  Make use of the IRQCHIP_ONOFFLINE_ENABLED flag and remove the wrappers. Use irqd_irq_disabled() instead of desc->status, which will go away.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Tested-by: David Daney <ddaney@caviumnetworks.com>
f | Makefile | g | 510B |  | Ralf Baechle | ralf@linux-mips.org | 1281011154 |  | MIPS: Octeon: Migrate to new platform makefile style.  Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | octeon_boot.h | s | 2.4K | 62 | David Daney | ddaney@caviumnetworks.com | 1281011172 |  | MIPS: Octeon: HOTPLUG_CPU fixes.  * Rename camel-case InitTLBStart_addr to octeon_bootloader_entry_addr.  * Convert calls to cvmx_read64_uint32(), to simple pointer   dereferences.  * Set proper ebase.  * Don't confuse coreid and cpu numbers.  * Try to maintain consistent bootloader coremask.  * Update the signature and boot_init_vector of supported bootloaders.  Signed-off-by: David Daney <ddaney@caviumnetworks.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/1491/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | setup.c | s | 20K | 689 | Paul Gortmaker | paul.gortmaker@windriver.com | 1337096930 |  | MIPS: Fix several implicit uses of export.h/module.h  These will show up as a build failure once we clean up a misuse of module.h in the mips termios header.  Uses export.h: (EXPORT_SYMBOL)    arch/mips/cavium-octeon/setup.c    arch/mips/pmc-sierra/yosemite/setup.c    arch/mips/rb532/devices.c    arch/mips/sni/setup.c  Uses module.h: (symbol_get/put)    arch/mips/alchemy/devboards/db1200.c  Uses module.h: (print_modules)    arch/mips/kernel/traps.c  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3448/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
d | executive |  | 23 items |  | David Daney | david.daney@cavium.com | 1323295409 |  | MIPS: Octeon: Rearrange CVMX files in preperation for device tree  Signed-off-by: David Daney <david.daney@cavium.com> Cc: linux-mips@linux-mips.org Cc: netdev@vger.kernel.org Cc: devel@driverdev.osuosl.org Acked-by: Greg Kroah-Hartman <gregkh@suse.de> Patchwork: https://patchwork.linux-mips.org/patch/2941/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | octeon-platform.c | s | 9.5K | 368 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | octeon-memcpy.S | g | 12K |  | David Daney | ddaney@caviumnetworks.com | 1231667841 |  | MIPS: Add Cavium OCTEON processor support files to arch/mips/cavium-octeon.  These are the rest of the new files needed to add OCTEON processor support to the Linux kernel.  Other than Makefile and Kconfig which should be obvious, we have:  csrc-octeon.c   -- Clock source driver for OCTEON. dma-octeon.c    -- Helper functions for mapping DMA memory. flash_setup.c   -- Register on-board flash with the MTD subsystem. octeon-irq.c    -- OCTEON interrupt controller managment. octeon-memcpy.S -- Optimized memcpy() implementation. serial.c        -- Register 8250 platform driver and early console. setup.c         -- Early architecture initialization. smp.c           -- OCTEON SMP support. octeon_switch.S -- Scheduler context switch for OCTEON. c-octeon.c      -- OCTEON cache controller support. cex-oct.S       -- OCTEON cache exception handler.  asm/mach-cavium-octeon/*.h -- Architecture include files.  Signed-off-by: Tomaso Paoletti <tpaoletti@caviumnetworks.com> Signed-off-by: David Daney <ddaney@caviumnetworks.com> Signed-off-by: Ralf Baechle <ralf@linux-mips.org>   create mode 100644 arch/mips/cavium-octeon/Kconfig  create mode 100644 arch/mips/cavium-octeon/Makefile  create mode 100644 arch/mips/cavium-octeon/csrc-octeon.c  create mode 100644 arch/mips/cavium-octeon/dma-octeon.c  create mode 100644 arch/mips/cavium-octeon/flash_setup.c  create mode 100644 arch/mips/cavium-octeon/octeon-irq.c  create mode 100644 arch/mips/cavium-octeon/octeon-memcpy.S  create mode 100644 arch/mips/cavium-octeon/serial.c  create mode 100644 arch/mips/cavium-octeon/setup.c  create mode 100644 arch/mips/cavium-octeon/smp.c  create mode 100644 arch/mips/include/asm/mach-cavium-octeon/cpu-feature-overrides.h  create mode 100644 arch/mips/include/asm/mach-cavium-octeon/dma-coherence.h  create mode 100644 arch/mips/include/asm/mach-cavium-octeon/irq.h  create mode 100644 arch/mips/include/asm/mach-cavium-octeon/kernel-entry-init.h  create mode 100644 arch/mips/include/asm/mach-cavium-octeon/war.h  create mode 100644 arch/mips/include/asm/octeon/octeon.h  create mode 100644 arch/mips/kernel/octeon_switch.S  create mode 100644 arch/mips/mm/c-octeon.c  create mode 100644 arch/mips/mm/cex-oct.S
f | smp.c | s | 10K | 343 | Ralf Baechle | ralf@linux-mips.org | 1337287949 |  | MIPS: Cavium: Remove smp_reserve_lock.  There is nothing that is protected by this lock and it's getting in the way of RT.  Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | serial.c | s | 3.6K | 122 | David Daney | ddaney@caviumnetworks.com | 1288375721 |  | MIPS: Octeon: Use I/O clock rate for calculations.  The I2C and UARTS are clocked by the I/O clock, use its rate for these devices.  Signed-off-by: David Daney <ddaney@caviumnetworks.com> Patchwork: http://patchwork.linux-mips.org/patch/1670/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | cpu.c | s | 1.2K | 42 | David Daney | ddaney@caviumnetworks.com | 1286213640 |  | MIPS: Octeon: Place cnmips_cu2_setup in __init memory.  It is an early_initcall, so it should be in __init memory.  Signed-off-by: David Daney <ddaney@caviumnetworks.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/1593/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | csrc-octeon.c | s | 3.8K | 140 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103857 |  | mips: add export.h to files using EXPORT_SYMBOL/THIS_MODULE  Or else we get lots of variations on this:  arch/mips/pci/pci.c:330: warning: type defaults to 'int' in declaration of 'EXPORT_SYMBOL'  scattered throughout the build.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | flash_setup.c | s | 1.9K | 67 | Artem Bityutskiy | artem.bityutskiy@linux.intel.com | 1332806000 |  | mtd: do not use plain 0 as NULL  The first 3 arguments of 'mtd_device_parse_register()' are pointers, but many callers pass '0' instead of 'NULL'. Fix this globally. Thanks to coccinelle for making it easy to do with the following semantic patch:   @@  expression mtd, types, parser_data, parts, nr_parts;  @@  (  -mtd_device_parse_register(mtd, 0, parser_data, parts, nr_parts)  +mtd_device_parse_register(mtd, NULL, parser_data, parts, nr_parts)  ||  -mtd_device_parse_register(mtd, types, 0, parts, nr_parts)  +mtd_device_parse_register(mtd, types, NULL, parts, nr_parts)  ||  -mtd_device_parse_register(mtd, types, parser_data, 0, nr_parts)  +mtd_device_parse_register(mtd, types, parser_data, NULL, nr_parts)  )  Signed-off-by: Artem Bityutskiy <artem.bityutskiy@linux.intel.com> Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | Kconfig | g | 2.9K |  | David Daney | david.daney@cavium.com | 1323295408 |  | MIPS: Octeon: Move some Ethernet support files out of staging.  Signed-off-by: David Daney <david.daney@cavium.com> Cc: linux-mips@linux-mips.org Cc: netdev@vger.kernel.org Cc: devel@driverdev.osuosl.org Acked-by: Greg Kroah-Hartman <gregkh@suse.de> Patchwork: https://patchwork.linux-mips.org/patch/2942/ Patchwork: https://patchwork.linux-mips.org/patch/3012/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | Platform | g | 333B |  | Ralf Baechle | ralf@linux-mips.org | 1281011154 |  | MIPS: Octeon: Migrate to new platform makefile style.  Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
