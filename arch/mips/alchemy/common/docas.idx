f | time.c | s | 5.4K | 166 | Manuel Lauss | manuel.lauss@googlemail.com | 1329759198 |  | MIPS: Alchemy: Increase minimum timeout for 32kHz timer.  Since a clocksource change post 3.2-rc1, tasks on my DB1500 board hang after random amounts of time (from a few minutes to a few hours), regardless of load.  Debugging showed that the compare-match register value is a few seconds lower than the current counter value.  The minimum value of 8 was initialy determined by a trial-and-error approach.  Currently it is sufficient for all Alchemys (without PCI apparently), independent of CPU clock;  only the DB1500 and DB1550 boards experience these timer-related tasks hangs now.  This patch increases the minimum timeout by 1 (to 9 counter ticks) which seems sufficient since the systems are still working perfectly fine after over 24 hours.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3214/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | Makefile | g | 376B |  | Manuel Lauss | manuel.lauss@googlemail.com | 1323340936 |  | MIPS: Alchemy: merge Au1000 and Au1300-style IRQ controller code.  With a generic plat_irq_dispatch (for Alchemy at least) code for both interrupt controller types can coexist in a single kernel image and be autodetected at runtime.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2935/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | clocks.c | s | 3.4K | 93 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | sleeper.S | g | 5.1K |  | Manuel Lauss | manuel.lauss@googlemail.com | 1323295325 |  | MIPS: Alchemy: Au1300 SoC support  Add basic support for the Au1300 variant(s): - New GPIO/Interrupt controller - DBDMA ids - USB setup - MMC support - enable various PSC drivers - detection code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2866/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | platform.c | s | 10K | 340 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295325 |  | MIPS: Alchemy: Au1300 SoC support  Add basic support for the Au1300 variant(s): - New GPIO/Interrupt controller - DBDMA ids - USB setup - MMC support - enable various PSC drivers - detection code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2866/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dma.c | s | 7.9K | 231 | Manuel Lauss | manuel.lauss@googlemail.com | 1319495664 |  | MIPS: Alchemy: clean DMA code of CONFIG_SOC_AU1??? defines  This patch gets rid of all CONFIG_SOC_AU1XXX defines in DMA/DBDMA-related code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: Linux-MIPS <linux-mips@linux-mips.org> Patchwork: https://patchwork.linux-mips.org/patch/2704/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | gpiolib.c | s | 5.3K | 154 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295325 |  | MIPS: Alchemy: Au1300 SoC support  Add basic support for the Au1300 variant(s): - New GPIO/Interrupt controller - DBDMA ids - USB setup - MMC support - enable various PSC drivers - detection code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2866/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | vss.c | s | 2.2K | 68 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295325 |  | MIPS: Alchemy: Au1300 SoC support  Add basic support for the Au1300 variant(s): - New GPIO/Interrupt controller - DBDMA ids - USB setup - MMC support - enable various PSC drivers - detection code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2866/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | irq.c | s | 32K | 880 | Manuel Lauss | manuel.lauss@googlemail.com | 1323340936 |  | MIPS: Alchemy: merge Au1000 and Au1300-style IRQ controller code.  With a generic plat_irq_dispatch (for Alchemy at least) code for both interrupt controller types can coexist in a single kernel image and be autodetected at runtime.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2935/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | power.c | s | 4.8K | 122 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295325 |  | MIPS: Alchemy: Au1300 SoC support  Add basic support for the Au1300 variant(s): - New GPIO/Interrupt controller - DBDMA ids - USB setup - MMC support - enable various PSC drivers - detection code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2866/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | setup.c | s | 3.1K | 77 | Manuel Lauss | manuel.lauss@googlemail.com | 1319495664 |  | MIPS: Alchemy: Redo PCI as platform driver  - Rewrite Alchemy PCI support as a platform driver. - Fixup boards which have PCI.  Run-tested on DB1500 and DB1550.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: Linux-MIPS <linux-mips@linux-mips.org> Patchwork: https://patchwork.linux-mips.org/patch/2706/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>   delete mode 100644 arch/mips/alchemy/common/pci.c  delete mode 100644 arch/mips/pci/fixup-au1000.c  delete mode 100644 arch/mips/pci/ops-au1000.c  create mode 100644 arch/mips/pci/pci-alchemy.c
f | prom.c | s | 3.4K | 109 | Manuel Lauss | manuel.lauss@googlemail.com | 1286213639 |  | MIPS: Alchemy: Resolve prom section mismatches  The function prom_init_cmdline() references the variable __initdata arcs_cmdline.  The function prom_get_ethernet_addr() references the variable __initdata arcs_cmdline.  Annotate prom_init_cmdline() as __init, unexport and annotate prom_get_ethernet_addr() since it's no longer called from within driver code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: Linux-MIPS <linux-mips@linux-mips.org> Patchwork: https://patchwork.linux-mips.org/patch/1547/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | dbdma.c | s | 31K | 927 | Ralf Baechle | ralf@linux-mips.org | 1326292930 |  | Merge branch 'next/alchemy' into mips-for-linux-next
