f | Makefile | g | 405B |  | John Crispin | blogic@openwrt.org | 1337607115 |  | MIPS: lantiq: implement support for FALCON soc  Adds support for the FALCON SoC. This SoC is from the FTTH/GPON SoC family.  Signed-off-by: Thomas Langer <thomas.langer@lantiq.com> Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3814/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
d | xway |  | 7 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1338341239 |  | Merge branch 'upstream' of git://git.linux-mips.org/pub/scm/ralf/upstream-linus  Pull MIPS updates from Ralf Baechle:  "The whole series has been sitting in -next for quite a while with no   complaints.  The last change to the series was before the weekend the   removal of an SPI patch which Grant - even though previously acked by   himself - appeared to raise objections.  So I removed it until the   situation is clarified.  Other than that all the patches have the acks   from their respective maintainers, all MIPS and x86 defconfigs are   building fine and I'm not aware of any problems introduced by this   series.    Among the key features for this patch series is a sizable patchset for   Lantiq which among other things introduces support for Lantiq's   flagship product, the FALCON SOC.  It also means that the opensource   developers behind this patchset have overtaken Lantiq's competing   inhouse development team that was working behind closed doors.    Less noteworthy the ath79 patchset which adds support for a few more   chip variants, cleanups and fixes.  Finally the usual dose of tweaking   of generic code."  Fix up trivial conflicts in arch/mips/lantiq/xway/gpio_{ebu,stp}.c where printk spelling fixes clashed with file move and eventual removal of the printk.  * 'upstream' of git://git.linux-mips.org/pub/scm/ralf/upstream-linus: (81 commits)   MIPS: lantiq: remove orphaned code   MIPS: Remove all -Wall and almost all -Werror usage from arch/mips.   MIPS: lantiq: implement support for FALCON soc   MTD: MIPS: lantiq: verify that the NOR interface is available on falcon soc   MTD: MIPS: lantiq: implement OF support   watchdog: MIPS: lantiq: implement OF support and minor fixes   SERIAL: MIPS: lantiq: implement OF support   GPIO: MIPS: lantiq: convert gpio-stp-xway to OF   GPIO: MIPS: lantiq: convert gpio-mm-lantiq to OF and of_mm_gpio   GPIO: MIPS: lantiq: move gpio-stp and gpio-ebu to the subsystem folder   MIPS: pci: convert lantiq driver to OF   MIPS: lantiq: convert dma to platform driver   MIPS: lantiq: implement support for clkdev api   MIPS: lantiq: drop ltq_gpio_request() and gpio_to_irq()   OF: MIPS: lantiq: implement irq_domain support   OF: MIPS: lantiq: implement OF support   MIPS: lantiq: drop mips_machine support   OF: PCI: const usage needed by MIPS   MIPS: Cavium: Remove smp_reserve_lock.   MIPS: Move cache setup to setup_arch().   ...
d | falcon |  | 4 items |  | John Crispin | blogic@openwrt.org | 1337607115 |  | MIPS: lantiq: implement support for FALCON soc  Adds support for the FALCON SoC. This SoC is from the FTTH/GPON SoC family.  Signed-off-by: Thomas Langer <thomas.langer@lantiq.com> Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3814/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
d | dts |  | 3 items |  | John Crispin | blogic@openwrt.org | 1337607109 |  | OF: MIPS: lantiq: implement OF support  Activate USE_OF, add a sample DTS file and convert the core soc code to OF.  Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Cc: devicetree-discuss@lists.ozlabs.org Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3803/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | irq.c | s | 10K | 346 | John Crispin | blogic@openwrt.org | 1337607110 |  | OF: MIPS: lantiq: implement irq_domain support  Add support for irq_domain on lantiq socs. The conversion is straight forward as the ICU found inside the socs allows the usage of irq_domain_add_linear.  Harware IRQ 0->7 are the generic MIPS IRQs. 8->199 are the Lantiq IRQ Modules. Our irq_chip callbacks need to substract 8 (MIPS_CPU_IRQ_CASCADE) from d->hwirq to find out the correct offset into the Interrupt Modules register range.  Signed-off-by: John Crispin <blogic@openwrt.org> Cc: devicetree-discuss@lists.ozlabs.org Cc: Grant Likely <grant.likely@secretlab.ca> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3802/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | prom.h | s | 752B | 25 | John Crispin | blogic@openwrt.org | 1337607109 |  | OF: MIPS: lantiq: implement OF support  Activate USE_OF, add a sample DTS file and convert the core soc code to OF.  Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Cc: devicetree-discuss@lists.ozlabs.org Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3803/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | prom.c | s | 2.4K | 83 | John Crispin | blogic@openwrt.org | 1338058377 |  | MIPS: lantiq: remove orphaned code  Now that all drivers are converted to OF we are able to remove some remaining pieces of orphaned code.  Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3841/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | clk.h | s | 2.0K | 68 | John Crispin | blogic@openwrt.org | 1337607111 |  | MIPS: lantiq: implement support for clkdev api  This patch unifies all clock generation and gating code into one file. All drivers will now be able to request their clocks via their device. This patch also adds support for the clockout feature, which allows clock generation on external pins.  Support for COMMON_CLK will be provided in the next series.  Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3804/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | Kconfig | g | 445B |  | John Crispin | blogic@openwrt.org | 1337607115 |  | MIPS: lantiq: implement support for FALCON soc  Adds support for the FALCON SoC. This SoC is from the FTTH/GPON SoC family.  Signed-off-by: Thomas Langer <thomas.langer@lantiq.com> Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3814/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | clk.c | s | 2.9K | 134 | John Crispin | blogic@openwrt.org | 1337607111 |  | MIPS: lantiq: implement support for clkdev api  This patch unifies all clock generation and gating code into one file. All drivers will now be able to request their clocks via their device. This patch also adds support for the clockout feature, which allows clock generation on external pins.  Support for COMMON_CLK will be provided in the next series.  Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3804/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | Platform | g | 341B |  | John Crispin | blogic@openwrt.org | 1337607115 |  | MIPS: lantiq: implement support for FALCON soc  Adds support for the FALCON SoC. This SoC is from the FTTH/GPON SoC family.  Signed-off-by: Thomas Langer <thomas.langer@lantiq.com> Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3814/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | early_printk.c | s | 813B | 28 | Thomas Langer | thomas.langer@lantiq.com | 1337096962 |  | MIPS: lantiq: fix early printk  The code was using a 32bit write operations in the early_printk code. This resulted in 3 zero bytes also being written to the serial port. This patch changes the memory access to 8bit.  Signed-off-by: Thomas Langer <thomas.langer@lantiq.com> Signed-off-by: John Crispin <blogic@openwrt.org> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3721/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
