<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › dec › kn01.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>kn01.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Hardware info about DECstation DS2100/3100 systems (otherwise known as</span>
<span class="cm"> * pmin/pmax or KN01).</span>
<span class="cm"> *</span>
<span class="cm"> * This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm"> * License.  See the file &quot;COPYING&quot; in the main directory of this archive</span>
<span class="cm"> * for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 1995,1996 by Paul M. Antoine, some code and definitions</span>
<span class="cm"> * are by courtesy of Chris Fraser.</span>
<span class="cm"> * Copyright (C) 2002, 2003, 2005  Maciej W. Rozycki</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __ASM_MIPS_DEC_KN01_H</span>
<span class="cp">#define __ASM_MIPS_DEC_KN01_H</span>

<span class="cp">#define KN01_SLOT_BASE	0x10000000</span>
<span class="cp">#define KN01_SLOT_SIZE	0x01000000</span>

<span class="cm">/*</span>
<span class="cm"> * Address ranges for devices.</span>
<span class="cm"> */</span>
<span class="cp">#define KN01_PMASK	(0*KN01_SLOT_SIZE)	</span><span class="cm">/* color plane mask */</span><span class="cp"></span>
<span class="cp">#define KN01_PCC	(1*KN01_SLOT_SIZE)	</span><span class="cm">/* PCC (DC503) cursor */</span><span class="cp"></span>
<span class="cp">#define KN01_VDAC	(2*KN01_SLOT_SIZE)	</span><span class="cm">/* color map */</span><span class="cp"></span>
<span class="cp">#define KN01_RES_3	(3*KN01_SLOT_SIZE)	</span><span class="cm">/* unused */</span><span class="cp"></span>
<span class="cp">#define KN01_RES_4	(4*KN01_SLOT_SIZE)	</span><span class="cm">/* unused */</span><span class="cp"></span>
<span class="cp">#define KN01_RES_5	(5*KN01_SLOT_SIZE)	</span><span class="cm">/* unused */</span><span class="cp"></span>
<span class="cp">#define KN01_RES_6	(6*KN01_SLOT_SIZE)	</span><span class="cm">/* unused */</span><span class="cp"></span>
<span class="cp">#define KN01_ERRADDR	(7*KN01_SLOT_SIZE)	</span><span class="cm">/* write error address */</span><span class="cp"></span>
<span class="cp">#define KN01_LANCE	(8*KN01_SLOT_SIZE)	</span><span class="cm">/* LANCE (Am7990) Ethernet */</span><span class="cp"></span>
<span class="cp">#define KN01_LANCE_MEM	(9*KN01_SLOT_SIZE)	</span><span class="cm">/* LANCE buffer memory */</span><span class="cp"></span>
<span class="cp">#define KN01_SII	(10*KN01_SLOT_SIZE)	</span><span class="cm">/* SII (DC7061) SCSI */</span><span class="cp"></span>
<span class="cp">#define KN01_SII_MEM	(11*KN01_SLOT_SIZE)	</span><span class="cm">/* SII buffer memory */</span><span class="cp"></span>
<span class="cp">#define KN01_DZ11	(12*KN01_SLOT_SIZE)	</span><span class="cm">/* DZ11 (DC7085) serial */</span><span class="cp"></span>
<span class="cp">#define KN01_RTC	(13*KN01_SLOT_SIZE)	</span><span class="cm">/* DS1287 RTC (bytes #0) */</span><span class="cp"></span>
<span class="cp">#define KN01_ESAR	(13*KN01_SLOT_SIZE)	</span><span class="cm">/* MAC address (bytes #1) */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR	(14*KN01_SLOT_SIZE)	</span><span class="cm">/* system ctrl &amp; status reg */</span><span class="cp"></span>
<span class="cp">#define KN01_SYS_ROM	(15*KN01_SLOT_SIZE)	</span><span class="cm">/* system board ROM */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * Frame buffer memory address.</span>
<span class="cm"> */</span>
<span class="cp">#define KN01_VFB_MEM	0x0fc00000</span>

<span class="cm">/*</span>
<span class="cm"> * CPU interrupt bits.</span>
<span class="cm"> */</span>
<span class="cp">#define KN01_CPU_INR_BUS	6	</span><span class="cm">/* memory, I/O bus read/write errors */</span><span class="cp"></span>
<span class="cp">#define KN01_CPU_INR_VIDEO	6	</span><span class="cm">/* PCC area detect #2 */</span><span class="cp"></span>
<span class="cp">#define KN01_CPU_INR_RTC	5	</span><span class="cm">/* DS1287 RTC */</span><span class="cp"></span>
<span class="cp">#define KN01_CPU_INR_DZ11	4	</span><span class="cm">/* DZ11 (DC7085) serial */</span><span class="cp"></span>
<span class="cp">#define KN01_CPU_INR_LANCE	3	</span><span class="cm">/* LANCE (Am7990) Ethernet */</span><span class="cp"></span>
<span class="cp">#define KN01_CPU_INR_SII	2	</span><span class="cm">/* SII (DC7061) SCSI */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * System Control &amp; Status Register bits.</span>
<span class="cm"> */</span>
<span class="cp">#define KN01_CSR_MNFMOD		(1&lt;&lt;15)	</span><span class="cm">/* MNFMOD manufacturing jumper */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_STATUS		(1&lt;&lt;14)	</span><span class="cm">/* self-test result status output */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_PARDIS		(1&lt;&lt;13)	</span><span class="cm">/* parity error disable */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_CRSRTST	(1&lt;&lt;12)	</span><span class="cm">/* PCC test output */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_MONO		(1&lt;&lt;11)	</span><span class="cm">/* mono/color fb SIMM installed */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_MEMERR		(1&lt;&lt;10)	</span><span class="cm">/* write timeout error status &amp; ack*/</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_VINT		(1&lt;&lt;9)	</span><span class="cm">/* PCC area detect #2 status &amp; ack */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_TXDIS		(1&lt;&lt;8)	</span><span class="cm">/* DZ11 transmit disable */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_VBGTRG		(1&lt;&lt;2)	</span><span class="cm">/* blue DAC voltage over green (r/o) */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_VRGTRG		(1&lt;&lt;1)	</span><span class="cm">/* red DAC voltage over green (r/o) */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_VRGTRB		(1&lt;&lt;0)	</span><span class="cm">/* red DAC voltage over blue (r/o) */</span><span class="cp"></span>
<span class="cp">#define KN01_CSR_LEDS		(0xff&lt;&lt;0) </span><span class="cm">/* ~diagnostic LEDs (w/o) */</span><span class="cp"></span>


<span class="cp">#ifndef __ASSEMBLY__</span>

<span class="cp">#include &lt;linux/interrupt.h&gt;</span>
<span class="cp">#include &lt;linux/spinlock.h&gt;</span>
<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="k">struct</span> <span class="n">pt_regs</span><span class="p">;</span>

<span class="k">extern</span> <span class="n">u16</span> <span class="n">cached_kn01_csr</span><span class="p">;</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">dec_kn01_be_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">dec_kn01_be_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span> <span class="o">*</span><span class="n">regs</span><span class="p">,</span> <span class="kt">int</span> <span class="n">is_fixup</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">irqreturn_t</span> <span class="n">dec_kn01_be_interrupt</span><span class="p">(</span><span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dev_id</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* __ASM_MIPS_DEC_KN01_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
