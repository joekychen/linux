<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › dec › kn05.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>kn05.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *	include/asm-mips/dec/kn05.h</span>
<span class="cm"> *</span>
<span class="cm"> *	DECstation/DECsystem 5000/260 (4max+ or KN05), 5000/150 (4min</span>
<span class="cm"> *	or KN04-BA), Personal DECstation/DECsystem 5000/50 (4maxine or</span>
<span class="cm"> *	KN04-CA) and DECsystem 5900/260 (KN05) R4k CPU card MB ASIC</span>
<span class="cm"> *	definitions.</span>
<span class="cm"> *</span>
<span class="cm"> *	Copyright (C) 2002, 2003, 2005, 2008  Maciej W. Rozycki</span>
<span class="cm"> *</span>
<span class="cm"> *	This program is free software; you can redistribute it and/or</span>
<span class="cm"> *	modify it under the terms of the GNU General Public License</span>
<span class="cm"> *	as published by the Free Software Foundation; either version</span>
<span class="cm"> *	2 of the License, or (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> *	WARNING!  All this information is pure guesswork based on the</span>
<span class="cm"> *	ROM.  It is provided here in hope it will give someone some</span>
<span class="cm"> *	food for thought.  No documentation for the KN05 nor the KN04</span>
<span class="cm"> *	module has been located so far.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __ASM_MIPS_DEC_KN05_H</span>
<span class="cp">#define __ASM_MIPS_DEC_KN05_H</span>

<span class="cp">#include &lt;asm/dec/ioasic_addrs.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * The oncard MB (Memory Buffer) ASIC provides an additional address</span>
<span class="cm"> * decoder.  Certain address ranges within the &quot;high&quot; 16 slots are</span>
<span class="cm"> * passed to the I/O ASIC&#39;s decoder like with the KN03 or KN02-BA/CA.</span>
<span class="cm"> * Others are handled locally.  &quot;Low&quot; slots are always passed.</span>
<span class="cm"> */</span>
<span class="cp">#define KN4K_SLOT_BASE	0x1fc00000</span>

<span class="cp">#define KN4K_MB_ROM	(0*IOASIC_SLOT_SIZE)	</span><span class="cm">/* KN05/KN04 card ROM */</span><span class="cp"></span>
<span class="cp">#define KN4K_IOCTL	(1*IOASIC_SLOT_SIZE)	</span><span class="cm">/* I/O ASIC */</span><span class="cp"></span>
<span class="cp">#define KN4K_ESAR	(2*IOASIC_SLOT_SIZE)	</span><span class="cm">/* LANCE MAC address chip */</span><span class="cp"></span>
<span class="cp">#define KN4K_LANCE	(3*IOASIC_SLOT_SIZE)	</span><span class="cm">/* LANCE Ethernet */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_INT	(4*IOASIC_SLOT_SIZE)	</span><span class="cm">/* MB interrupt register */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_EA	(5*IOASIC_SLOT_SIZE)	</span><span class="cm">/* MB error address? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_EC	(6*IOASIC_SLOT_SIZE)	</span><span class="cm">/* MB error ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR	(7*IOASIC_SLOT_SIZE)	</span><span class="cm">/* MB control &amp; status */</span><span class="cp"></span>
<span class="cp">#define KN4K_RES_08	(8*IOASIC_SLOT_SIZE)	</span><span class="cm">/* unused? */</span><span class="cp"></span>
<span class="cp">#define KN4K_RES_09	(9*IOASIC_SLOT_SIZE)	</span><span class="cm">/* unused? */</span><span class="cp"></span>
<span class="cp">#define KN4K_RES_10	(10*IOASIC_SLOT_SIZE)	</span><span class="cm">/* unused? */</span><span class="cp"></span>
<span class="cp">#define KN4K_RES_11	(11*IOASIC_SLOT_SIZE)	</span><span class="cm">/* unused? */</span><span class="cp"></span>
<span class="cp">#define KN4K_SCSI	(12*IOASIC_SLOT_SIZE)	</span><span class="cm">/* ASC SCSI */</span><span class="cp"></span>
<span class="cp">#define KN4K_RES_13	(13*IOASIC_SLOT_SIZE)	</span><span class="cm">/* unused? */</span><span class="cp"></span>
<span class="cp">#define KN4K_RES_14	(14*IOASIC_SLOT_SIZE)	</span><span class="cm">/* unused? */</span><span class="cp"></span>
<span class="cp">#define KN4K_RES_15	(15*IOASIC_SLOT_SIZE)	</span><span class="cm">/* unused? */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Bits for the MB interrupt register.</span>
<span class="cm"> * The register appears read-only.</span>
<span class="cm"> */</span>
<span class="cp">#define KN4K_MB_INT_TC		(1&lt;&lt;0)		</span><span class="cm">/* TURBOchannel? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_INT_RTC		(1&lt;&lt;1)		</span><span class="cm">/* RTC? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_INT_MT		(1&lt;&lt;3)		</span><span class="cm">/* I/O ASIC cascade */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Bits for the MB control &amp; status register.</span>
<span class="cm"> * Set to 0x00bf8001 for KN05 and to 0x003f8000 for KN04 by the firmware.</span>
<span class="cm"> */</span>
<span class="cp">#define KN4K_MB_CSR_PF		(1&lt;&lt;0)		</span><span class="cm">/* PreFetching enable? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_F		(1&lt;&lt;1)		</span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_ECC		(0xff&lt;&lt;2)	</span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_OD		(1&lt;&lt;10)		</span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_CP		(1&lt;&lt;11)		</span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_UNC		(1&lt;&lt;12)		</span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_IM		(1&lt;&lt;13)		</span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_NC		(1&lt;&lt;14)		</span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_EE		(1&lt;&lt;15)		</span><span class="cm">/* (bus) Exception Enable? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_MSK		(0x1f&lt;&lt;16)	</span><span class="cm">/* CPU Int[4:0] mask */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_FW		(1&lt;&lt;21)		</span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define KN4K_MB_CSR_W		(1&lt;&lt;31)		</span><span class="cm">/* ??? */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* __ASM_MIPS_DEC_KN05_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
