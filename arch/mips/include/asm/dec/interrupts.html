<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › dec › interrupts.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>interrupts.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Miscellaneous definitions used to initialise the interrupt vector table</span>
<span class="cm"> * with the machine-specific interrupt routines.</span>
<span class="cm"> *</span>
<span class="cm"> * This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm"> * License.  See the file &quot;COPYING&quot; in the main directory of this archive</span>
<span class="cm"> * for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 1997 by Paul M. Antoine.</span>
<span class="cm"> * reworked 1998 by Harald Koerfgen.</span>
<span class="cm"> * Copyright (C) 2001, 2002, 2003  Maciej W. Rozycki</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ASM_DEC_INTERRUPTS_H</span>
<span class="cp">#define __ASM_DEC_INTERRUPTS_H</span>

<span class="cp">#include &lt;irq.h&gt;</span>
<span class="cp">#include &lt;asm/mipsregs.h&gt;</span>


<span class="cm">/*</span>
<span class="cm"> * The list of possible system devices which provide an</span>
<span class="cm"> * interrupt.  Not all devices exist on a given system.</span>
<span class="cm"> */</span>
<span class="cp">#define DEC_IRQ_CASCADE		0	</span><span class="cm">/* cascade from CSR or I/O ASIC */</span><span class="cp"></span>

<span class="cm">/* Ordinary interrupts */</span>
<span class="cp">#define DEC_IRQ_AB_RECV		1	</span><span class="cm">/* ACCESS.bus receive */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_AB_XMIT		2	</span><span class="cm">/* ACCESS.bus transmit */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_DZ11		3	</span><span class="cm">/* DZ11 (DC7085) serial */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_ASC		4	</span><span class="cm">/* ASC (NCR53C94) SCSI */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_FLOPPY		5	</span><span class="cm">/* 82077 FDC */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_FPU		6	</span><span class="cm">/* R3k FPU */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_HALT		7	</span><span class="cm">/* HALT button or from ACCESS.Bus */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_ISDN		8	</span><span class="cm">/* Am79C30A ISDN */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_LANCE		9	</span><span class="cm">/* LANCE (Am7990) Ethernet */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_BUS		10	</span><span class="cm">/* memory, I/O bus read/write errors */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_PSU		11	</span><span class="cm">/* power supply unit warning */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_RTC		12	</span><span class="cm">/* DS1287 RTC */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC0		13	</span><span class="cm">/* SCC (Z85C30) serial #0 */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC1		14	</span><span class="cm">/* SCC (Z85C30) serial #1 */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SII		15	</span><span class="cm">/* SII (DC7061) SCSI */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_TC0		16	</span><span class="cm">/* TURBOchannel slot #0 */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_TC1		17	</span><span class="cm">/* TURBOchannel slot #1 */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_TC2		18	</span><span class="cm">/* TURBOchannel slot #2 */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_TIMER		19	</span><span class="cm">/* ARC periodic timer */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_VIDEO		20	</span><span class="cm">/* framebuffer */</span><span class="cp"></span>

<span class="cm">/* I/O ASIC DMA interrupts */</span>
<span class="cp">#define DEC_IRQ_ASC_MERR	21	</span><span class="cm">/* ASC memory read error */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_ASC_ERR		22	</span><span class="cm">/* ASC page overrun */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_ASC_DMA		23	</span><span class="cm">/* ASC buffer pointer loaded */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_FLOPPY_ERR	24	</span><span class="cm">/* FDC error */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_ISDN_ERR	25	</span><span class="cm">/* ISDN memory read/overrun error */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_ISDN_RXDMA	26	</span><span class="cm">/* ISDN recv buffer pointer loaded */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_ISDN_TXDMA	27	</span><span class="cm">/* ISDN xmit buffer pointer loaded */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_LANCE_MERR	28	</span><span class="cm">/* LANCE memory read error */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC0A_RXERR	29	</span><span class="cm">/* SCC0A (printer) receive overrun */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC0A_RXDMA	30	</span><span class="cm">/* SCC0A receive half page */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC0A_TXERR	31	</span><span class="cm">/* SCC0A xmit memory read/overrun */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC0A_TXDMA	32	</span><span class="cm">/* SCC0A transmit page end */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_AB_RXERR	33	</span><span class="cm">/* ACCESS.bus receive overrun */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_AB_RXDMA	34	</span><span class="cm">/* ACCESS.bus receive half page */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_AB_TXERR	35	</span><span class="cm">/* ACCESS.bus xmit memory read/ovrn */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_AB_TXDMA	36	</span><span class="cm">/* ACCESS.bus transmit page end */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC1A_RXERR	37	</span><span class="cm">/* SCC1A (modem) receive overrun */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC1A_RXDMA	38	</span><span class="cm">/* SCC1A receive half page */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC1A_TXERR	39	</span><span class="cm">/* SCC1A xmit memory read/overrun */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_SCC1A_TXDMA	40	</span><span class="cm">/* SCC1A transmit page end */</span><span class="cp"></span>

<span class="cm">/* TC5 &amp; TC6 are virtual slots for KN02&#39;s onboard devices */</span>
<span class="cp">#define DEC_IRQ_TC5		DEC_IRQ_ASC	</span><span class="cm">/* virtual PMAZ-AA */</span><span class="cp"></span>
<span class="cp">#define DEC_IRQ_TC6		DEC_IRQ_LANCE	</span><span class="cm">/* virtual PMAD-AA */</span><span class="cp"></span>

<span class="cp">#define DEC_NR_INTS		41</span>


<span class="cm">/* Largest of cpu mask_nr tables. */</span>
<span class="cp">#define DEC_MAX_CPU_INTS	6</span>
<span class="cm">/* Largest of asic mask_nr tables. */</span>
<span class="cp">#define DEC_MAX_ASIC_INTS	9</span>


<span class="cm">/*</span>
<span class="cm"> * CPU interrupt bits common to all systems.</span>
<span class="cm"> */</span>
<span class="cp">#define DEC_CPU_INR_FPU		7	</span><span class="cm">/* R3k FPU */</span><span class="cp"></span>
<span class="cp">#define DEC_CPU_INR_SW1		1	</span><span class="cm">/* software #1 */</span><span class="cp"></span>
<span class="cp">#define DEC_CPU_INR_SW0		0	</span><span class="cm">/* software #0 */</span><span class="cp"></span>

<span class="cp">#define DEC_CPU_IRQ_BASE	MIPS_CPU_IRQ_BASE	</span><span class="cm">/* first IRQ assigned to CPU */</span><span class="cp"></span>

<span class="cp">#define DEC_CPU_IRQ_NR(n)	((n) + DEC_CPU_IRQ_BASE)</span>
<span class="cp">#define DEC_CPU_IRQ_MASK(n)	(1 &lt;&lt; ((n) + CAUSEB_IP))</span>
<span class="cp">#define DEC_CPU_IRQ_ALL		(0xff &lt;&lt; CAUSEB_IP)</span>


<span class="cp">#ifndef __ASSEMBLY__</span>

<span class="cm">/*</span>
<span class="cm"> * Interrupt table structures to hide differences between systems.</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="k">union</span> <span class="p">{</span> <span class="kt">int</span> <span class="n">i</span><span class="p">;</span> <span class="kt">void</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span> <span class="p">}</span> <span class="n">int_ptr</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">dec_interrupt</span><span class="p">[</span><span class="n">DEC_NR_INTS</span><span class="p">];</span>
<span class="k">extern</span> <span class="n">int_ptr</span> <span class="n">cpu_mask_nr_tbl</span><span class="p">[</span><span class="n">DEC_MAX_CPU_INTS</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
<span class="k">extern</span> <span class="n">int_ptr</span> <span class="n">asic_mask_nr_tbl</span><span class="p">[</span><span class="n">DEC_MAX_ASIC_INTS</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">cpu_fpu_mask</span><span class="p">;</span>


<span class="cm">/*</span>
<span class="cm"> * Common interrupt routine prototypes for all DECStations</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">kn02_io_int</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">kn02xa_io_int</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">kn03_io_int</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">asic_dma_int</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">asic_all_int</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">kn02_all_int</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">cpu_all_int</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">dec_intr_unimplemented</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">asic_intr_unimplemented</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* __ASSEMBLY__ */</span><span class="cp"></span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
