<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › msc01_ic.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>msc01_ic.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * PCI Register definitions for the MIPS System Controller.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2004 MIPS Technologies, Inc.  All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm"> * License.  See the file &quot;COPYING&quot; in the main directory of this archive</span>
<span class="cm"> * for more details.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ASM_MIPS_BOARDS_MSC01_IC_H</span>
<span class="cp">#define __ASM_MIPS_BOARDS_MSC01_IC_H</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> * Register offset addresses</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cp">#define MSC01_IC_RST_OFS     0x00008    </span><span class="cm">/* Software reset              */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ENAL_OFS    0x00100    </span><span class="cm">/* Int_in enable mask 31:0     */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ENAH_OFS    0x00108    </span><span class="cm">/* Int_in enable mask 63:32    */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_DISL_OFS    0x00120    </span><span class="cm">/* Int_in disable mask 31:0    */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_DISH_OFS    0x00128    </span><span class="cm">/* Int_in disable mask 63:32   */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ISBL_OFS    0x00140    </span><span class="cm">/* Raw int_in 31:0             */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ISBH_OFS    0x00148    </span><span class="cm">/* Raw int_in 63:32            */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ISAL_OFS    0x00160    </span><span class="cm">/* Masked int_in 31:0          */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ISAH_OFS    0x00168    </span><span class="cm">/* Masked int_in 63:32         */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_LVL_OFS     0x00180    </span><span class="cm">/* Disable priority int_out    */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_RAMW_OFS    0x00180    </span><span class="cm">/* Shadow set RAM (EI)	       */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_OSB_OFS     0x00188    </span><span class="cm">/* Raw int_out                 */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_OSA_OFS     0x00190    </span><span class="cm">/* Masked int_out              */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_GENA_OFS    0x00198    </span><span class="cm">/* Global HW int enable        */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_BASE_OFS    0x001a0    </span><span class="cm">/* Base address of IC_VEC      */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_VEC_OFS     0x001b0    </span><span class="cm">/* Active int&#39;s vector address */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_EOI_OFS     0x001c0    </span><span class="cm">/* Enable lower level ints     */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_CFG_OFS     0x001c8    </span><span class="cm">/* Configuration register      */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_TRLD_OFS    0x001d0    </span><span class="cm">/* Interval timer reload val   */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_TVAL_OFS    0x001e0    </span><span class="cm">/* Interval timer current val  */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_TCFG_OFS    0x001f0    </span><span class="cm">/* Interval timer config       */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_SUP_OFS     0x00200    </span><span class="cm">/* Set up int_in line 0        */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ENA_OFS     0x00800    </span><span class="cm">/* Int_in enable mask 63:0     */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_DIS_OFS     0x00820    </span><span class="cm">/* Int_in disable mask 63:0    */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ISB_OFS     0x00840    </span><span class="cm">/* Raw int_in 63:0             */</span><span class="cp"></span>
<span class="cp">#define MSC01_IC_ISA_OFS     0x00860    </span><span class="cm">/* Masked int_in 63:0          */</span><span class="cp"></span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> * Register field encodings</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cp">#define MSC01_IC_RST_RST_SHF      0</span>
<span class="cp">#define MSC01_IC_RST_RST_MSK      0x00000001</span>
<span class="cp">#define MSC01_IC_RST_RST_BIT      MSC01_IC_RST_RST_MSK</span>
<span class="cp">#define MSC01_IC_LVL_LVL_SHF      0</span>
<span class="cp">#define MSC01_IC_LVL_LVL_MSK      0x000000ff</span>
<span class="cp">#define MSC01_IC_LVL_SPUR_SHF     16</span>
<span class="cp">#define MSC01_IC_LVL_SPUR_MSK     0x00010000</span>
<span class="cp">#define MSC01_IC_LVL_SPUR_BIT     MSC01_IC_LVL_SPUR_MSK</span>
<span class="cp">#define MSC01_IC_RAMW_RIPL_SHF	  0</span>
<span class="cp">#define MSC01_IC_RAMW_RIPL_MSK	  0x0000003f</span>
<span class="cp">#define MSC01_IC_RAMW_DATA_SHF	  6</span>
<span class="cp">#define MSC01_IC_RAMW_DATA_MSK	  0x00000fc0</span>
<span class="cp">#define MSC01_IC_RAMW_ADDR_SHF	  25</span>
<span class="cp">#define MSC01_IC_RAMW_ADDR_MSK	  0x7e000000</span>
<span class="cp">#define MSC01_IC_RAMW_READ_SHF	  31</span>
<span class="cp">#define MSC01_IC_RAMW_READ_MSK	  0x80000000</span>
<span class="cp">#define MSC01_IC_RAMW_READ_BIT	  MSC01_IC_RAMW_READ_MSK</span>
<span class="cp">#define MSC01_IC_OSB_OSB_SHF      0</span>
<span class="cp">#define MSC01_IC_OSB_OSB_MSK      0x000000ff</span>
<span class="cp">#define MSC01_IC_OSA_OSA_SHF      0</span>
<span class="cp">#define MSC01_IC_OSA_OSA_MSK      0x000000ff</span>
<span class="cp">#define MSC01_IC_GENA_GENA_SHF    0</span>
<span class="cp">#define MSC01_IC_GENA_GENA_MSK    0x00000001</span>
<span class="cp">#define MSC01_IC_GENA_GENA_BIT    MSC01_IC_GENA_GENA_MSK</span>
<span class="cp">#define MSC01_IC_CFG_DIS_SHF      0</span>
<span class="cp">#define MSC01_IC_CFG_DIS_MSK      0x00000001</span>
<span class="cp">#define MSC01_IC_CFG_DIS_BIT      MSC01_IC_CFG_DIS_MSK</span>
<span class="cp">#define MSC01_IC_CFG_SHFT_SHF     8</span>
<span class="cp">#define MSC01_IC_CFG_SHFT_MSK     0x00000f00</span>
<span class="cp">#define MSC01_IC_TCFG_ENA_SHF     0</span>
<span class="cp">#define MSC01_IC_TCFG_ENA_MSK     0x00000001</span>
<span class="cp">#define MSC01_IC_TCFG_ENA_BIT     MSC01_IC_TCFG_ENA_MSK</span>
<span class="cp">#define MSC01_IC_TCFG_INT_SHF     8</span>
<span class="cp">#define MSC01_IC_TCFG_INT_MSK     0x00000100</span>
<span class="cp">#define MSC01_IC_TCFG_INT_BIT     MSC01_IC_TCFG_INT_MSK</span>
<span class="cp">#define MSC01_IC_TCFG_EDGE_SHF    16</span>
<span class="cp">#define MSC01_IC_TCFG_EDGE_MSK    0x00010000</span>
<span class="cp">#define MSC01_IC_TCFG_EDGE_BIT    MSC01_IC_TCFG_EDGE_MSK</span>
<span class="cp">#define MSC01_IC_SUP_PRI_SHF      0</span>
<span class="cp">#define MSC01_IC_SUP_PRI_MSK      0x00000007</span>
<span class="cp">#define MSC01_IC_SUP_EDGE_SHF     8</span>
<span class="cp">#define MSC01_IC_SUP_EDGE_MSK     0x00000100</span>
<span class="cp">#define MSC01_IC_SUP_EDGE_BIT     MSC01_IC_SUP_EDGE_MSK</span>
<span class="cp">#define MSC01_IC_SUP_STEP         8</span>

<span class="cm">/*</span>
<span class="cm"> * MIPS System controller interrupt register base.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> * Absolute register addresses</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cp">#define MSC01_IC_RST     (MSC01_IC_REG_BASE + MSC01_IC_RST_OFS)</span>
<span class="cp">#define MSC01_IC_ENAL    (MSC01_IC_REG_BASE + MSC01_IC_ENAL_OFS)</span>
<span class="cp">#define MSC01_IC_ENAH    (MSC01_IC_REG_BASE + MSC01_IC_ENAH_OFS)</span>
<span class="cp">#define MSC01_IC_DISL    (MSC01_IC_REG_BASE + MSC01_IC_DISL_OFS)</span>
<span class="cp">#define MSC01_IC_DISH    (MSC01_IC_REG_BASE + MSC01_IC_DISH_OFS)</span>
<span class="cp">#define MSC01_IC_ISBL    (MSC01_IC_REG_BASE + MSC01_IC_ISBL_OFS)</span>
<span class="cp">#define MSC01_IC_ISBH    (MSC01_IC_REG_BASE + MSC01_IC_ISBH_OFS)</span>
<span class="cp">#define MSC01_IC_ISAL    (MSC01_IC_REG_BASE + MSC01_IC_ISAL_OFS)</span>
<span class="cp">#define MSC01_IC_ISAH    (MSC01_IC_REG_BASE + MSC01_IC_ISAH_OFS)</span>
<span class="cp">#define MSC01_IC_LVL     (MSC01_IC_REG_BASE + MSC01_IC_LVL_OFS)</span>
<span class="cp">#define MSC01_IC_RAMW    (MSC01_IC_REG_BASE + MSC01_IC_RAMW_OFS)</span>
<span class="cp">#define MSC01_IC_OSB     (MSC01_IC_REG_BASE + MSC01_IC_OSB_OFS)</span>
<span class="cp">#define MSC01_IC_OSA     (MSC01_IC_REG_BASE + MSC01_IC_OSA_OFS)</span>
<span class="cp">#define MSC01_IC_GENA    (MSC01_IC_REG_BASE + MSC01_IC_GENA_OFS)</span>
<span class="cp">#define MSC01_IC_BASE    (MSC01_IC_REG_BASE + MSC01_IC_BASE_OFS)</span>
<span class="cp">#define MSC01_IC_VEC     (MSC01_IC_REG_BASE + MSC01_IC_VEC_OFS)</span>
<span class="cp">#define MSC01_IC_EOI     (MSC01_IC_REG_BASE + MSC01_IC_EOI_OFS)</span>
<span class="cp">#define MSC01_IC_CFG     (MSC01_IC_REG_BASE + MSC01_IC_CFG_OFS)</span>
<span class="cp">#define MSC01_IC_TRLD    (MSC01_IC_REG_BASE + MSC01_IC_TRLD_OFS)</span>
<span class="cp">#define MSC01_IC_TVAL    (MSC01_IC_REG_BASE + MSC01_IC_TVAL_OFS)</span>
<span class="cp">#define MSC01_IC_TCFG    (MSC01_IC_REG_BASE + MSC01_IC_TCFG_OFS)</span>
<span class="cp">#define MSC01_IC_SUP     (MSC01_IC_REG_BASE + MSC01_IC_SUP_OFS)</span>
<span class="cp">#define MSC01_IC_ENA     (MSC01_IC_REG_BASE + MSC01_IC_ENA_OFS)</span>
<span class="cp">#define MSC01_IC_DIS     (MSC01_IC_REG_BASE + MSC01_IC_DIS_OFS)</span>
<span class="cp">#define MSC01_IC_ISB     (MSC01_IC_REG_BASE + MSC01_IC_ISB_OFS)</span>
<span class="cp">#define MSC01_IC_ISA     (MSC01_IC_REG_BASE + MSC01_IC_ISA_OFS)</span>

<span class="cm">/*</span>
<span class="cm"> * Soc-it interrupts are configurable.</span>
<span class="cm"> * Every board describes its IRQ mapping with this table.</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">msc_irqmap</span> <span class="p">{</span>
	<span class="kt">int</span>	<span class="n">im_irq</span><span class="p">;</span>
	<span class="kt">int</span>	<span class="n">im_type</span><span class="p">;</span>
	<span class="kt">int</span>	<span class="n">im_lvl</span><span class="p">;</span>
<span class="p">}</span> <span class="n">msc_irqmap_t</span><span class="p">;</span>

<span class="cm">/* im_type */</span>
<span class="cp">#define MSC01_IRQ_LEVEL		0</span>
<span class="cp">#define MSC01_IRQ_EDGE		1</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">init_msc_irqs</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">icubase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">base</span><span class="p">,</span> <span class="n">msc_irqmap_t</span> <span class="o">*</span><span class="n">imp</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nirq</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">ll_msc_irq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* __ASM_MIPS_BOARDS_MSC01_IC_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
