<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › titan_dep.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>titan_dep.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright 2003 PMC-Sierra</span>
<span class="cm"> * Author: Manish Lachwani (lachwani@pmc-sierra.com)</span>
<span class="cm"> *</span>
<span class="cm"> * Board specific definititions for the PMC-Sierra Yosemite</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute  it and/or modify it</span>
<span class="cm"> * under  the terms of  the GNU General  Public License as published by the</span>
<span class="cm"> * Free Software Foundation;  either version 2 of the  License, or (at your</span>
<span class="cm"> * option) any later version.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __TITAN_DEP_H__</span>
<span class="cp">#define __TITAN_DEP_H__</span>

<span class="cp">#include &lt;asm/addrspace.h&gt;              </span><span class="cm">/* for KSEG1ADDR() */</span><span class="cp"></span>
<span class="cp">#include &lt;asm/byteorder.h&gt;              </span><span class="cm">/* for cpu_to_le32() */</span><span class="cp"></span>

<span class="cp">#define TITAN_READ(ofs)							\</span>
<span class="cp">	(*(volatile u32 *)(ocd_base+(ofs)))</span>
<span class="cp">#define TITAN_READ_16(ofs)						\</span>
<span class="cp">	(*(volatile u16 *)(ocd_base+(ofs)))</span>
<span class="cp">#define TITAN_READ_8(ofs)						\</span>
<span class="cp">	(*(volatile u8 *)(ocd_base+(ofs)))</span>

<span class="cp">#define TITAN_WRITE(ofs, data)						\</span>
<span class="cp">	do { *(volatile u32 *)(ocd_base+(ofs)) = (data); } while (0)</span>
<span class="cp">#define TITAN_WRITE_16(ofs, data)					\</span>
<span class="cp">	do { *(volatile u16 *)(ocd_base+(ofs)) = (data); } while (0)</span>
<span class="cp">#define TITAN_WRITE_8(ofs, data)					\</span>
<span class="cp">	do { *(volatile u8 *)(ocd_base+(ofs)) = (data); } while (0)</span>

<span class="cm">/*</span>
<span class="cm"> * PCI specific defines</span>
<span class="cm"> */</span>
<span class="cp">#define	TITAN_PCI_0_CONFIG_ADDRESS	0x780</span>
<span class="cp">#define	TITAN_PCI_0_CONFIG_DATA		0x784</span>

<span class="cm">/*</span>
<span class="cm"> * HT specific defines</span>
<span class="cm"> */</span>
<span class="cp">#define RM9000x2_HTLINK_REG		0xbb000644</span>
<span class="cp">#define RM9000x2_BASE_ADDR		0xbb000000</span>

<span class="cp">#define OCD_BASE			0xfb000000UL</span>
<span class="cp">#define OCD_SIZE			0x3000UL</span>

<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ocd_base</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * OCD Registers</span>
<span class="cm"> */</span>
<span class="cp">#define RM9000x2_OCD_LKB5		0x0128		</span><span class="cm">/* Ethernet */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_LKM5		0x012c</span>

<span class="cp">#define RM9000x2_OCD_LKB7		0x0138		</span><span class="cm">/* HT Region 0 */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_LKM7		0x013c</span>
<span class="cp">#define RM9000x2_OCD_LKB8		0x0140		</span><span class="cm">/* HT Region 1 */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_LKM8		0x0144</span>

<span class="cp">#define RM9000x2_OCD_LKB9		0x0148		</span><span class="cm">/* Local Bus */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_LKM9		0x014c</span>
<span class="cp">#define RM9000x2_OCD_LKB10		0x0150</span>
<span class="cp">#define RM9000x2_OCD_LKM10		0x0154</span>
<span class="cp">#define RM9000x2_OCD_LKB11		0x0158</span>
<span class="cp">#define RM9000x2_OCD_LKM11		0x015c</span>
<span class="cp">#define RM9000x2_OCD_LKB12		0x0160</span>
<span class="cp">#define RM9000x2_OCD_LKM12		0x0164</span>

<span class="cp">#define RM9000x2_OCD_LKB13		0x0168		</span><span class="cm">/* Scratch RAM */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_LKM13		0x016c</span>

<span class="cp">#define RM9000x2_OCD_LPD0		0x0200		</span><span class="cm">/* Local Bus */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_LPD1		0x0210</span>
<span class="cp">#define RM9000x2_OCD_LPD2		0x0220</span>
<span class="cp">#define RM9000x2_OCD_LPD3		0x0230</span>

<span class="cp">#define RM9000x2_OCD_HTDVID		0x0600	</span><span class="cm">/* HT Device Header */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_HTSC		0x0604</span>
<span class="cp">#define RM9000x2_OCD_HTCCR		0x0608</span>
<span class="cp">#define RM9000x2_OCD_HTBHL		0x060c</span>
<span class="cp">#define RM9000x2_OCD_HTBAR0		0x0610</span>
<span class="cp">#define RM9000x2_OCD_HTBAR1		0x0614</span>
<span class="cp">#define RM9000x2_OCD_HTBAR2		0x0618</span>
<span class="cp">#define RM9000x2_OCD_HTBAR3		0x061c</span>
<span class="cp">#define RM9000x2_OCD_HTBAR4		0x0620</span>
<span class="cp">#define RM9000x2_OCD_HTBAR5		0x0624</span>
<span class="cp">#define RM9000x2_OCD_HTCBCPT		0x0628</span>
<span class="cp">#define RM9000x2_OCD_HTSDVID		0x062c</span>
<span class="cp">#define RM9000x2_OCD_HTXRA		0x0630</span>
<span class="cp">#define RM9000x2_OCD_HTCAP1		0x0634</span>
<span class="cp">#define RM9000x2_OCD_HTIL		0x063c</span>

<span class="cp">#define RM9000x2_OCD_HTLCC		0x0640	</span><span class="cm">/* HT Capability Block */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_HTLINK		0x0644</span>
<span class="cp">#define RM9000x2_OCD_HTFQREV		0x0648</span>

<span class="cp">#define RM9000x2_OCD_HTERCTL		0x0668	</span><span class="cm">/* HT Controller */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_HTRXDB		0x066c</span>
<span class="cp">#define RM9000x2_OCD_HTIMPED		0x0670</span>
<span class="cp">#define RM9000x2_OCD_HTSWIMP		0x0674</span>
<span class="cp">#define RM9000x2_OCD_HTCAL		0x0678</span>

<span class="cp">#define RM9000x2_OCD_HTBAA30		0x0680</span>
<span class="cp">#define RM9000x2_OCD_HTBAA54		0x0684</span>
<span class="cp">#define RM9000x2_OCD_HTMASK0		0x0688</span>
<span class="cp">#define RM9000x2_OCD_HTMASK1		0x068c</span>
<span class="cp">#define RM9000x2_OCD_HTMASK2		0x0690</span>
<span class="cp">#define RM9000x2_OCD_HTMASK3		0x0694</span>
<span class="cp">#define RM9000x2_OCD_HTMASK4		0x0698</span>
<span class="cp">#define RM9000x2_OCD_HTMASK5		0x069c</span>

<span class="cp">#define RM9000x2_OCD_HTIFCTL		0x06a0</span>
<span class="cp">#define RM9000x2_OCD_HTPLL		0x06a4</span>

<span class="cp">#define RM9000x2_OCD_HTSRI		0x06b0</span>
<span class="cp">#define RM9000x2_OCD_HTRXNUM		0x06b4</span>
<span class="cp">#define RM9000x2_OCD_HTTXNUM		0x06b8</span>

<span class="cp">#define RM9000x2_OCD_HTTXCNT		0x06c8</span>

<span class="cp">#define RM9000x2_OCD_HTERROR		0x06d8</span>
<span class="cp">#define RM9000x2_OCD_HTRCRCE		0x06dc</span>
<span class="cp">#define RM9000x2_OCD_HTEOI		0x06e0</span>

<span class="cp">#define RM9000x2_OCD_CRCR		0x06f0</span>

<span class="cp">#define RM9000x2_OCD_HTCFGA		0x06f8</span>
<span class="cp">#define RM9000x2_OCD_HTCFGD		0x06fc</span>

<span class="cp">#define RM9000x2_OCD_INTMSG		0x0a00</span>

<span class="cp">#define RM9000x2_OCD_INTPIN0		0x0a40</span>
<span class="cp">#define RM9000x2_OCD_INTPIN1		0x0a44</span>
<span class="cp">#define RM9000x2_OCD_INTPIN2		0x0a48</span>
<span class="cp">#define RM9000x2_OCD_INTPIN3		0x0a4c</span>
<span class="cp">#define RM9000x2_OCD_INTPIN4		0x0a50</span>
<span class="cp">#define RM9000x2_OCD_INTPIN5		0x0a54</span>
<span class="cp">#define RM9000x2_OCD_INTPIN6		0x0a58</span>
<span class="cp">#define RM9000x2_OCD_INTPIN7		0x0a5c</span>
<span class="cp">#define RM9000x2_OCD_SEM		0x0a60</span>
<span class="cp">#define RM9000x2_OCD_SEMSET		0x0a64</span>
<span class="cp">#define RM9000x2_OCD_SEMCLR		0x0a68</span>

<span class="cp">#define RM9000x2_OCD_TKT		0x0a70</span>
<span class="cp">#define RM9000x2_OCD_TKTINC		0x0a74</span>

<span class="cp">#define RM9000x2_OCD_NMICONFIG		0x0ac0		</span><span class="cm">/* Interrupts */</span><span class="cp"></span>
<span class="cp">#define RM9000x2_OCD_INTP0PRI		0x1a80</span>
<span class="cp">#define RM9000x2_OCD_INTP1PRI		0x1a80</span>
<span class="cp">#define RM9000x2_OCD_INTP0STATUS0	0x1b00</span>
<span class="cp">#define RM9000x2_OCD_INTP0MASK0		0x1b04</span>
<span class="cp">#define RM9000x2_OCD_INTP0SET0		0x1b08</span>
<span class="cp">#define RM9000x2_OCD_INTP0CLEAR0	0x1b0c</span>
<span class="cp">#define RM9000x2_OCD_INTP0STATUS1	0x1b10</span>
<span class="cp">#define RM9000x2_OCD_INTP0MASK1		0x1b14</span>
<span class="cp">#define RM9000x2_OCD_INTP0SET1		0x1b18</span>
<span class="cp">#define RM9000x2_OCD_INTP0CLEAR1	0x1b1c</span>
<span class="cp">#define RM9000x2_OCD_INTP0STATUS2	0x1b20</span>
<span class="cp">#define RM9000x2_OCD_INTP0MASK2		0x1b24</span>
<span class="cp">#define RM9000x2_OCD_INTP0SET2		0x1b28</span>
<span class="cp">#define RM9000x2_OCD_INTP0CLEAR2	0x1b2c</span>
<span class="cp">#define RM9000x2_OCD_INTP0STATUS3	0x1b30</span>
<span class="cp">#define RM9000x2_OCD_INTP0MASK3		0x1b34</span>
<span class="cp">#define RM9000x2_OCD_INTP0SET3		0x1b38</span>
<span class="cp">#define RM9000x2_OCD_INTP0CLEAR3	0x1b3c</span>
<span class="cp">#define RM9000x2_OCD_INTP0STATUS4	0x1b40</span>
<span class="cp">#define RM9000x2_OCD_INTP0MASK4		0x1b44</span>
<span class="cp">#define RM9000x2_OCD_INTP0SET4		0x1b48</span>
<span class="cp">#define RM9000x2_OCD_INTP0CLEAR4	0x1b4c</span>
<span class="cp">#define RM9000x2_OCD_INTP0STATUS5	0x1b50</span>
<span class="cp">#define RM9000x2_OCD_INTP0MASK5		0x1b54</span>
<span class="cp">#define RM9000x2_OCD_INTP0SET5		0x1b58</span>
<span class="cp">#define RM9000x2_OCD_INTP0CLEAR5	0x1b5c</span>
<span class="cp">#define RM9000x2_OCD_INTP0STATUS6	0x1b60</span>
<span class="cp">#define RM9000x2_OCD_INTP0MASK6		0x1b64</span>
<span class="cp">#define RM9000x2_OCD_INTP0SET6		0x1b68</span>
<span class="cp">#define RM9000x2_OCD_INTP0CLEAR6	0x1b6c</span>
<span class="cp">#define RM9000x2_OCD_INTP0STATUS7	0x1b70</span>
<span class="cp">#define RM9000x2_OCD_INTP0MASK7		0x1b74</span>
<span class="cp">#define RM9000x2_OCD_INTP0SET7		0x1b78</span>
<span class="cp">#define RM9000x2_OCD_INTP0CLEAR7	0x1b7c</span>
<span class="cp">#define RM9000x2_OCD_INTP1STATUS0	0x2b00</span>
<span class="cp">#define RM9000x2_OCD_INTP1MASK0		0x2b04</span>
<span class="cp">#define RM9000x2_OCD_INTP1SET0		0x2b08</span>
<span class="cp">#define RM9000x2_OCD_INTP1CLEAR0	0x2b0c</span>
<span class="cp">#define RM9000x2_OCD_INTP1STATUS1	0x2b10</span>
<span class="cp">#define RM9000x2_OCD_INTP1MASK1		0x2b14</span>
<span class="cp">#define RM9000x2_OCD_INTP1SET1		0x2b18</span>
<span class="cp">#define RM9000x2_OCD_INTP1CLEAR1	0x2b1c</span>
<span class="cp">#define RM9000x2_OCD_INTP1STATUS2	0x2b20</span>
<span class="cp">#define RM9000x2_OCD_INTP1MASK2		0x2b24</span>
<span class="cp">#define RM9000x2_OCD_INTP1SET2		0x2b28</span>
<span class="cp">#define RM9000x2_OCD_INTP1CLEAR2	0x2b2c</span>
<span class="cp">#define RM9000x2_OCD_INTP1STATUS3	0x2b30</span>
<span class="cp">#define RM9000x2_OCD_INTP1MASK3		0x2b34</span>
<span class="cp">#define RM9000x2_OCD_INTP1SET3		0x2b38</span>
<span class="cp">#define RM9000x2_OCD_INTP1CLEAR3	0x2b3c</span>
<span class="cp">#define RM9000x2_OCD_INTP1STATUS4	0x2b40</span>
<span class="cp">#define RM9000x2_OCD_INTP1MASK4		0x2b44</span>
<span class="cp">#define RM9000x2_OCD_INTP1SET4		0x2b48</span>
<span class="cp">#define RM9000x2_OCD_INTP1CLEAR4	0x2b4c</span>
<span class="cp">#define RM9000x2_OCD_INTP1STATUS5	0x2b50</span>
<span class="cp">#define RM9000x2_OCD_INTP1MASK5		0x2b54</span>
<span class="cp">#define RM9000x2_OCD_INTP1SET5		0x2b58</span>
<span class="cp">#define RM9000x2_OCD_INTP1CLEAR5	0x2b5c</span>
<span class="cp">#define RM9000x2_OCD_INTP1STATUS6	0x2b60</span>
<span class="cp">#define RM9000x2_OCD_INTP1MASK6		0x2b64</span>
<span class="cp">#define RM9000x2_OCD_INTP1SET6		0x2b68</span>
<span class="cp">#define RM9000x2_OCD_INTP1CLEAR6	0x2b6c</span>
<span class="cp">#define RM9000x2_OCD_INTP1STATUS7	0x2b70</span>
<span class="cp">#define RM9000x2_OCD_INTP1MASK7		0x2b74</span>
<span class="cp">#define RM9000x2_OCD_INTP1SET7		0x2b78</span>
<span class="cp">#define RM9000x2_OCD_INTP1CLEAR7	0x2b7c</span>

<span class="cp">#define OCD_READ(reg)		(*(volatile unsigned int *)(ocd_base + (reg)))</span>
<span class="cp">#define OCD_WRITE(reg, val)					\</span>
<span class="cp">	do { *(volatile unsigned int *)(ocd_base + (reg)) = (val); } while (0)</span>

<span class="cm">/*</span>
<span class="cm"> * Hypertransport specific macros</span>
<span class="cm"> */</span>
<span class="cp">#define RM9K_WRITE(ofs, data)   *(volatile u_int32_t *)(RM9000x2_BASE_ADDR+ofs) = data</span>
<span class="cp">#define RM9K_WRITE_8(ofs, data) *(volatile u8 *)(RM9000x2_BASE_ADDR+ofs) = data</span>
<span class="cp">#define RM9K_WRITE_16(ofs, data) *(volatile u16 *)(RM9000x2_BASE_ADDR+ofs) = data</span>

<span class="cp">#define RM9K_READ(ofs, val)     *(val) = *(volatile u_int32_t *)(RM9000x2_BASE_ADDR+ofs)</span>
<span class="cp">#define RM9K_READ_8(ofs, val)   *(val) = *(volatile u8 *)(RM9000x2_BASE_ADDR+ofs)</span>
<span class="cp">#define RM9K_READ_16(ofs, val)  *(val) = *(volatile u16 *)(RM9000x2_BASE_ADDR+ofs)</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
