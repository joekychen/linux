<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › mips-boards › bonito64.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>bonito64.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Bonito Register Map</span>
<span class="cm"> *</span>
<span class="cm"> * This file is the original bonito.h from Algorithmics with minor changes</span>
<span class="cm"> * to fit into linux.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 1999 Algorithmics Ltd</span>
<span class="cm"> *</span>
<span class="cm"> * Carsten Langgaard, carstenl@mips.com</span>
<span class="cm"> * Copyright (C) 2001 MIPS Technologies, Inc.  All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Algorithmics gives permission for anyone to use and modify this file</span>
<span class="cm"> * without any obligation or license condition except that you retain</span>
<span class="cm"> * this copyright message in any source redistribution in whole or part.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/* Revision 1.48 autogenerated on 08/17/99 15:20:01 */</span>
<span class="cm">/* This bonito64 version editted from bonito.h Revision 1.48 on 11/09/00 */</span>

<span class="cp">#ifndef _ASM_MIPS_BOARDS_BONITO64_H</span>
<span class="cp">#define _ASM_MIPS_BOARDS_BONITO64_H</span>

<span class="cp">#ifdef __ASSEMBLY__</span>

<span class="cm">/* offsets from base register */</span>
<span class="cp">#define BONITO(x)	(x)</span>

<span class="cp">#else</span>

<span class="cm">/*</span>
<span class="cm"> * Algorithmics Bonito64 system controller register base.</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">_pcictrl_bonito</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">_pcictrl_bonito_pcicfg</span><span class="p">;</span>

<span class="cp">#define BONITO(x)		*(volatile u32 *)(_pcictrl_bonito + (x))</span>

<span class="cp">#endif </span><span class="cm">/* __ASSEMBLY__ */</span><span class="cp"></span>


<span class="cp">#define BONITO_BOOT_BASE		0x1fc00000</span>
<span class="cp">#define BONITO_BOOT_SIZE		0x00100000</span>
<span class="cp">#define BONITO_BOOT_TOP 		(BONITO_BOOT_BASE+BONITO_BOOT_SIZE-1)</span>
<span class="cp">#define BONITO_FLASH_BASE		0x1c000000</span>
<span class="cp">#define BONITO_FLASH_SIZE		0x03000000</span>
<span class="cp">#define BONITO_FLASH_TOP		(BONITO_FLASH_BASE+BONITO_FLASH_SIZE-1)</span>
<span class="cp">#define BONITO_SOCKET_BASE		0x1f800000</span>
<span class="cp">#define BONITO_SOCKET_SIZE		0x00400000</span>
<span class="cp">#define BONITO_SOCKET_TOP		(BONITO_SOCKET_BASE+BONITO_SOCKET_SIZE-1)</span>
<span class="cp">#define BONITO_REG_BASE 		0x1fe00000</span>
<span class="cp">#define BONITO_REG_SIZE 		0x00040000</span>
<span class="cp">#define BONITO_REG_TOP			(BONITO_REG_BASE+BONITO_REG_SIZE-1)</span>
<span class="cp">#define BONITO_DEV_BASE 		0x1ff00000</span>
<span class="cp">#define BONITO_DEV_SIZE 		0x00100000</span>
<span class="cp">#define BONITO_DEV_TOP			(BONITO_DEV_BASE+BONITO_DEV_SIZE-1)</span>
<span class="cp">#define BONITO_PCILO_BASE		0x10000000</span>
<span class="cp">#define BONITO_PCILO_SIZE		0x0c000000</span>
<span class="cp">#define BONITO_PCILO_TOP		(BONITO_PCILO_BASE+BONITO_PCILO_SIZE-1)</span>
<span class="cp">#define BONITO_PCILO0_BASE		0x10000000</span>
<span class="cp">#define BONITO_PCILO1_BASE		0x14000000</span>
<span class="cp">#define BONITO_PCILO2_BASE		0x18000000</span>
<span class="cp">#define BONITO_PCIHI_BASE		0x20000000</span>
<span class="cp">#define BONITO_PCIHI_SIZE		0x20000000</span>
<span class="cp">#define BONITO_PCIHI_TOP		(BONITO_PCIHI_BASE+BONITO_PCIHI_SIZE-1)</span>
<span class="cp">#define BONITO_PCIIO_BASE		0x1fd00000</span>
<span class="cp">#define BONITO_PCIIO_SIZE		0x00100000</span>
<span class="cp">#define BONITO_PCIIO_TOP		(BONITO_PCIIO_BASE+BONITO_PCIIO_SIZE-1)</span>
<span class="cp">#define BONITO_PCICFG_BASE		0x1fe80000</span>
<span class="cp">#define BONITO_PCICFG_SIZE		0x00080000</span>
<span class="cp">#define BONITO_PCICFG_TOP		(BONITO_PCICFG_BASE+BONITO_PCICFG_SIZE-1)</span>


<span class="cm">/* Bonito Register Bases */</span>

<span class="cp">#define BONITO_PCICONFIGBASE		0x00</span>
<span class="cp">#define BONITO_REGBASE			0x100</span>


<span class="cm">/* PCI Configuration  Registers */</span>

<span class="cp">#define BONITO_PCI_REG(x)               BONITO(BONITO_PCICONFIGBASE + (x))</span>
<span class="cp">#define BONITO_PCIDID			BONITO_PCI_REG(0x00)</span>
<span class="cp">#define BONITO_PCICMD			BONITO_PCI_REG(0x04)</span>
<span class="cp">#define BONITO_PCICLASS 		BONITO_PCI_REG(0x08)</span>
<span class="cp">#define BONITO_PCILTIMER		BONITO_PCI_REG(0x0c)</span>
<span class="cp">#define BONITO_PCIBASE0 		BONITO_PCI_REG(0x10)</span>
<span class="cp">#define BONITO_PCIBASE1 		BONITO_PCI_REG(0x14)</span>
<span class="cp">#define BONITO_PCIBASE2 		BONITO_PCI_REG(0x18)</span>
<span class="cp">#define BONITO_PCIEXPRBASE		BONITO_PCI_REG(0x30)</span>
<span class="cp">#define BONITO_PCIINT			BONITO_PCI_REG(0x3c)</span>

<span class="cp">#define BONITO_PCICMD_PERR_CLR		0x80000000</span>
<span class="cp">#define BONITO_PCICMD_SERR_CLR		0x40000000</span>
<span class="cp">#define BONITO_PCICMD_MABORT_CLR	0x20000000</span>
<span class="cp">#define BONITO_PCICMD_MTABORT_CLR	0x10000000</span>
<span class="cp">#define BONITO_PCICMD_TABORT_CLR	0x08000000</span>
<span class="cp">#define BONITO_PCICMD_MPERR_CLR 	0x01000000</span>
<span class="cp">#define BONITO_PCICMD_PERRRESPEN	0x00000040</span>
<span class="cp">#define BONITO_PCICMD_ASTEPEN		0x00000080</span>
<span class="cp">#define BONITO_PCICMD_SERREN		0x00000100</span>
<span class="cp">#define BONITO_PCILTIMER_BUSLATENCY	0x0000ff00</span>
<span class="cp">#define BONITO_PCILTIMER_BUSLATENCY_SHIFT	8</span>




<span class="cm">/* 1. Bonito h/w Configuration */</span>
<span class="cm">/* Power on register */</span>

<span class="cp">#define BONITO_BONPONCFG		BONITO(BONITO_REGBASE + 0x00)</span>

<span class="cp">#define BONITO_BONPONCFG_SYSCONTROLLERRD	0x00040000</span>
<span class="cp">#define BONITO_BONPONCFG_ROMCS1SAMP	0x00020000</span>
<span class="cp">#define BONITO_BONPONCFG_ROMCS0SAMP	0x00010000</span>
<span class="cp">#define BONITO_BONPONCFG_CPUBIGEND	0x00004000</span>
<span class="cm">/* Added by RPF 11-9-00 */</span>
<span class="cp">#define BONITO_BONPONCFG_BURSTORDER	0x00001000</span>
<span class="cm">/* --- */</span>
<span class="cp">#define BONITO_BONPONCFG_CPUPARITY	0x00002000</span>
<span class="cp">#define BONITO_BONPONCFG_CPUTYPE	0x00000007</span>
<span class="cp">#define BONITO_BONPONCFG_CPUTYPE_SHIFT	0</span>
<span class="cp">#define BONITO_BONPONCFG_PCIRESET_OUT	0x00000008</span>
<span class="cp">#define BONITO_BONPONCFG_IS_ARBITER	0x00000010</span>
<span class="cp">#define BONITO_BONPONCFG_ROMBOOT	0x000000c0</span>
<span class="cp">#define BONITO_BONPONCFG_ROMBOOT_SHIFT	6</span>

<span class="cp">#define BONITO_BONPONCFG_ROMBOOT_FLASH	(0x0&lt;&lt;BONITO_BONPONCFG_ROMBOOT_SHIFT)</span>
<span class="cp">#define BONITO_BONPONCFG_ROMBOOT_SOCKET (0x1&lt;&lt;BONITO_BONPONCFG_ROMBOOT_SHIFT)</span>
<span class="cp">#define BONITO_BONPONCFG_ROMBOOT_SDRAM	(0x2&lt;&lt;BONITO_BONPONCFG_ROMBOOT_SHIFT)</span>
<span class="cp">#define BONITO_BONPONCFG_ROMBOOT_CPURESET	(0x3&lt;&lt;BONITO_BONPONCFG_ROMBOOT_SHIFT)</span>

<span class="cp">#define BONITO_BONPONCFG_ROMCS0WIDTH	0x00000100</span>
<span class="cp">#define BONITO_BONPONCFG_ROMCS1WIDTH	0x00000200</span>
<span class="cp">#define BONITO_BONPONCFG_ROMCS0FAST	0x00000400</span>
<span class="cp">#define BONITO_BONPONCFG_ROMCS1FAST	0x00000800</span>
<span class="cp">#define BONITO_BONPONCFG_CONFIG_DIS	0x00000020</span>


<span class="cm">/* Other Bonito configuration */</span>

<span class="cp">#define BONITO_BONGENCFG_OFFSET         0x4</span>
<span class="cp">#define BONITO_BONGENCFG		BONITO(BONITO_REGBASE + BONITO_BONGENCFG_OFFSET)</span>

<span class="cp">#define BONITO_BONGENCFG_DEBUGMODE	0x00000001</span>
<span class="cp">#define BONITO_BONGENCFG_SNOOPEN	0x00000002</span>
<span class="cp">#define BONITO_BONGENCFG_CPUSELFRESET	0x00000004</span>

<span class="cp">#define BONITO_BONGENCFG_FORCE_IRQA	0x00000008</span>
<span class="cp">#define BONITO_BONGENCFG_IRQA_ISOUT	0x00000010</span>
<span class="cp">#define BONITO_BONGENCFG_IRQA_FROM_INT1 0x00000020</span>
<span class="cp">#define BONITO_BONGENCFG_BYTESWAP	0x00000040</span>

<span class="cp">#define BONITO_BONGENCFG_UNCACHED	0x00000080</span>
<span class="cp">#define BONITO_BONGENCFG_PREFETCHEN	0x00000100</span>
<span class="cp">#define BONITO_BONGENCFG_WBEHINDEN	0x00000200</span>
<span class="cp">#define BONITO_BONGENCFG_CACHEALG	0x00000c00</span>
<span class="cp">#define BONITO_BONGENCFG_CACHEALG_SHIFT 10</span>
<span class="cp">#define BONITO_BONGENCFG_PCIQUEUE	0x00001000</span>
<span class="cp">#define BONITO_BONGENCFG_CACHESTOP	0x00002000</span>
<span class="cp">#define BONITO_BONGENCFG_MSTRBYTESWAP	0x00004000</span>
<span class="cp">#define BONITO_BONGENCFG_BUSERREN	0x00008000</span>
<span class="cp">#define BONITO_BONGENCFG_NORETRYTIMEOUT 0x00010000</span>
<span class="cp">#define BONITO_BONGENCFG_SHORTCOPYTIMEOUT	0x00020000</span>

<span class="cm">/* 2. IO &amp; IDE configuration */</span>

<span class="cp">#define BONITO_IODEVCFG 		BONITO(BONITO_REGBASE + 0x08)</span>

<span class="cm">/* 3. IO &amp; IDE configuration */</span>

<span class="cp">#define BONITO_SDCFG			BONITO(BONITO_REGBASE + 0x0c)</span>

<span class="cm">/* 4. PCI address map control */</span>

<span class="cp">#define BONITO_PCIMAP			BONITO(BONITO_REGBASE + 0x10)</span>
<span class="cp">#define BONITO_PCIMEMBASECFG		BONITO(BONITO_REGBASE + 0x14)</span>
<span class="cp">#define BONITO_PCIMAP_CFG		BONITO(BONITO_REGBASE + 0x18)</span>

<span class="cm">/* 5. ICU &amp; GPIO regs */</span>

<span class="cm">/* GPIO Regs - r/w */</span>

<span class="cp">#define BONITO_GPIODATA_OFFSET          0x1c</span>
<span class="cp">#define BONITO_GPIODATA 		BONITO(BONITO_REGBASE + BONITO_GPIODATA_OFFSET)</span>
<span class="cp">#define BONITO_GPIOIE			BONITO(BONITO_REGBASE + 0x20)</span>

<span class="cm">/* ICU Configuration Regs - r/w */</span>

<span class="cp">#define BONITO_INTEDGE			BONITO(BONITO_REGBASE + 0x24)</span>
<span class="cp">#define BONITO_INTSTEER 		BONITO(BONITO_REGBASE + 0x28)</span>
<span class="cp">#define BONITO_INTPOL			BONITO(BONITO_REGBASE + 0x2c)</span>

<span class="cm">/* ICU Enable Regs - IntEn &amp; IntISR are r/o. */</span>

<span class="cp">#define BONITO_INTENSET 		BONITO(BONITO_REGBASE + 0x30)</span>
<span class="cp">#define BONITO_INTENCLR 		BONITO(BONITO_REGBASE + 0x34)</span>
<span class="cp">#define BONITO_INTEN			BONITO(BONITO_REGBASE + 0x38)</span>
<span class="cp">#define BONITO_INTISR			BONITO(BONITO_REGBASE + 0x3c)</span>

<span class="cm">/* PCI mail boxes */</span>

<span class="cp">#define BONITO_PCIMAIL0_OFFSET          0x40</span>
<span class="cp">#define BONITO_PCIMAIL1_OFFSET          0x44</span>
<span class="cp">#define BONITO_PCIMAIL2_OFFSET          0x48</span>
<span class="cp">#define BONITO_PCIMAIL3_OFFSET          0x4c</span>
<span class="cp">#define BONITO_PCIMAIL0 		BONITO(BONITO_REGBASE + 0x40)</span>
<span class="cp">#define BONITO_PCIMAIL1 		BONITO(BONITO_REGBASE + 0x44)</span>
<span class="cp">#define BONITO_PCIMAIL2 		BONITO(BONITO_REGBASE + 0x48)</span>
<span class="cp">#define BONITO_PCIMAIL3 		BONITO(BONITO_REGBASE + 0x4c)</span>


<span class="cm">/* 6. PCI cache */</span>

<span class="cp">#define BONITO_PCICACHECTRL		BONITO(BONITO_REGBASE + 0x50)</span>
<span class="cp">#define BONITO_PCICACHETAG		BONITO(BONITO_REGBASE + 0x54)</span>

<span class="cp">#define BONITO_PCIBADADDR		BONITO(BONITO_REGBASE + 0x58)</span>
<span class="cp">#define BONITO_PCIMSTAT 		BONITO(BONITO_REGBASE + 0x5c)</span>


<span class="cm">/*</span>
<span class="cm">#define BONITO_PCIRDPOST		BONITO(BONITO_REGBASE + 0x60)</span>
<span class="cm">#define BONITO_PCIDATA			BONITO(BONITO_REGBASE + 0x64)</span>
<span class="cm">*/</span>

<span class="cm">/* 7. IDE DMA &amp; Copier */</span>

<span class="cp">#define BONITO_CONFIGBASE		0x000</span>
<span class="cp">#define BONITO_BONITOBASE		0x100</span>
<span class="cp">#define BONITO_LDMABASE 		0x200</span>
<span class="cp">#define BONITO_COPBASE			0x300</span>
<span class="cp">#define BONITO_REG_BLOCKMASK		0x300</span>

<span class="cp">#define BONITO_LDMACTRL 		BONITO(BONITO_LDMABASE + 0x0)</span>
<span class="cp">#define BONITO_LDMASTAT 		BONITO(BONITO_LDMABASE + 0x0)</span>
<span class="cp">#define BONITO_LDMAADDR 		BONITO(BONITO_LDMABASE + 0x4)</span>
<span class="cp">#define BONITO_LDMAGO			BONITO(BONITO_LDMABASE + 0x8)</span>
<span class="cp">#define BONITO_LDMADATA 		BONITO(BONITO_LDMABASE + 0xc)</span>

<span class="cp">#define BONITO_COPCTRL			BONITO(BONITO_COPBASE + 0x0)</span>
<span class="cp">#define BONITO_COPSTAT			BONITO(BONITO_COPBASE + 0x0)</span>
<span class="cp">#define BONITO_COPPADDR 		BONITO(BONITO_COPBASE + 0x4)</span>
<span class="cp">#define BONITO_COPDADDR 		BONITO(BONITO_COPBASE + 0x8)</span>
<span class="cp">#define BONITO_COPGO			BONITO(BONITO_COPBASE + 0xc)</span>


<span class="cm">/* ###### Bit Definitions for individual Registers #### */</span>

<span class="cm">/* Gen DMA. */</span>

<span class="cp">#define BONITO_IDECOPDADDR_DMA_DADDR	0x0ffffffc</span>
<span class="cp">#define BONITO_IDECOPDADDR_DMA_DADDR_SHIFT	2</span>
<span class="cp">#define BONITO_IDECOPPADDR_DMA_PADDR	0xfffffffc</span>
<span class="cp">#define BONITO_IDECOPPADDR_DMA_PADDR_SHIFT	2</span>
<span class="cp">#define BONITO_IDECOPGO_DMA_SIZE	0x0000fffe</span>
<span class="cp">#define BONITO_IDECOPGO_DMA_SIZE_SHIFT	0</span>
<span class="cp">#define BONITO_IDECOPGO_DMA_WRITE	0x00010000</span>
<span class="cp">#define BONITO_IDECOPGO_DMAWCOUNT	0x000f0000</span>
<span class="cp">#define BONITO_IDECOPGO_DMAWCOUNT_SHIFT	16</span>

<span class="cp">#define BONITO_IDECOPCTRL_DMA_STARTBIT	0x80000000</span>
<span class="cp">#define BONITO_IDECOPCTRL_DMA_RSTBIT	0x40000000</span>

<span class="cm">/* DRAM - sdCfg */</span>

<span class="cp">#define BONITO_SDCFG_AROWBITS		0x00000003</span>
<span class="cp">#define BONITO_SDCFG_AROWBITS_SHIFT	0</span>
<span class="cp">#define BONITO_SDCFG_ACOLBITS		0x0000000c</span>
<span class="cp">#define BONITO_SDCFG_ACOLBITS_SHIFT	2</span>
<span class="cp">#define BONITO_SDCFG_ABANKBIT		0x00000010</span>
<span class="cp">#define BONITO_SDCFG_ASIDES		0x00000020</span>
<span class="cp">#define BONITO_SDCFG_AABSENT		0x00000040</span>
<span class="cp">#define BONITO_SDCFG_AWIDTH64		0x00000080</span>

<span class="cp">#define BONITO_SDCFG_BROWBITS		0x00000300</span>
<span class="cp">#define BONITO_SDCFG_BROWBITS_SHIFT	8</span>
<span class="cp">#define BONITO_SDCFG_BCOLBITS		0x00000c00</span>
<span class="cp">#define BONITO_SDCFG_BCOLBITS_SHIFT	10</span>
<span class="cp">#define BONITO_SDCFG_BBANKBIT		0x00001000</span>
<span class="cp">#define BONITO_SDCFG_BSIDES		0x00002000</span>
<span class="cp">#define BONITO_SDCFG_BABSENT		0x00004000</span>
<span class="cp">#define BONITO_SDCFG_BWIDTH64		0x00008000</span>

<span class="cp">#define BONITO_SDCFG_EXTRDDATA		0x00010000</span>
<span class="cp">#define BONITO_SDCFG_EXTRASCAS		0x00020000</span>
<span class="cp">#define BONITO_SDCFG_EXTPRECH		0x00040000</span>
<span class="cp">#define BONITO_SDCFG_EXTRASWIDTH	0x00180000</span>
<span class="cp">#define BONITO_SDCFG_EXTRASWIDTH_SHIFT	19</span>
<span class="cm">/* Changed by RPF 11-9-00 */</span>
<span class="cp">#define BONITO_SDCFG_DRAMMODESET	0x00200000</span>
<span class="cm">/* --- */</span>
<span class="cp">#define BONITO_SDCFG_DRAMEXTREGS	0x00400000</span>
<span class="cp">#define BONITO_SDCFG_DRAMPARITY 	0x00800000</span>
<span class="cm">/* Added by RPF 11-9-00 */</span>
<span class="cp">#define BONITO_SDCFG_DRAMBURSTLEN 	0x03000000</span>
<span class="cp">#define BONITO_SDCFG_DRAMBURSTLEN_SHIFT	24</span>
<span class="cp">#define BONITO_SDCFG_DRAMMODESET_DONE 	0x80000000</span>
<span class="cm">/* --- */</span>

<span class="cm">/* PCI Cache - pciCacheCtrl */</span>

<span class="cp">#define BONITO_PCICACHECTRL_CACHECMD	0x00000007</span>
<span class="cp">#define BONITO_PCICACHECTRL_CACHECMD_SHIFT	0</span>
<span class="cp">#define BONITO_PCICACHECTRL_CACHECMDLINE	0x00000018</span>
<span class="cp">#define BONITO_PCICACHECTRL_CACHECMDLINE_SHIFT	3</span>
<span class="cp">#define BONITO_PCICACHECTRL_CMDEXEC	0x00000020</span>

<span class="cp">#define BONITO_PCICACHECTRL_IOBCCOH_PRES	0x00000100</span>
<span class="cp">#define BONITO_PCICACHECTRL_IOBCCOH_EN	0x00000200</span>
<span class="cp">#define BONITO_PCICACHECTRL_CPUCOH_PRES	0x00000400</span>
<span class="cp">#define BONITO_PCICACHECTRL_CPUCOH_EN	0x00000800</span>

<span class="cp">#define BONITO_IODEVCFG_BUFFBIT_CS0	0x00000001</span>
<span class="cp">#define BONITO_IODEVCFG_SPEEDBIT_CS0	0x00000002</span>
<span class="cp">#define BONITO_IODEVCFG_MOREABITS_CS0	0x00000004</span>

<span class="cp">#define BONITO_IODEVCFG_BUFFBIT_CS1	0x00000008</span>
<span class="cp">#define BONITO_IODEVCFG_SPEEDBIT_CS1	0x00000010</span>
<span class="cp">#define BONITO_IODEVCFG_MOREABITS_CS1	0x00000020</span>

<span class="cp">#define BONITO_IODEVCFG_BUFFBIT_CS2	0x00000040</span>
<span class="cp">#define BONITO_IODEVCFG_SPEEDBIT_CS2	0x00000080</span>
<span class="cp">#define BONITO_IODEVCFG_MOREABITS_CS2	0x00000100</span>

<span class="cp">#define BONITO_IODEVCFG_BUFFBIT_CS3	0x00000200</span>
<span class="cp">#define BONITO_IODEVCFG_SPEEDBIT_CS3	0x00000400</span>
<span class="cp">#define BONITO_IODEVCFG_MOREABITS_CS3	0x00000800</span>

<span class="cp">#define BONITO_IODEVCFG_BUFFBIT_IDE	0x00001000</span>
<span class="cp">#define BONITO_IODEVCFG_SPEEDBIT_IDE	0x00002000</span>
<span class="cp">#define BONITO_IODEVCFG_WORDSWAPBIT_IDE 0x00004000</span>
<span class="cp">#define BONITO_IODEVCFG_MODEBIT_IDE	0x00008000</span>
<span class="cp">#define BONITO_IODEVCFG_DMAON_IDE	0x001f0000</span>
<span class="cp">#define BONITO_IODEVCFG_DMAON_IDE_SHIFT 16</span>
<span class="cp">#define BONITO_IODEVCFG_DMAOFF_IDE	0x01e00000</span>
<span class="cp">#define BONITO_IODEVCFG_DMAOFF_IDE_SHIFT	21</span>
<span class="cp">#define BONITO_IODEVCFG_EPROMSPLIT	0x02000000</span>
<span class="cm">/* Added by RPF 11-9-00 */</span>
<span class="cp">#define BONITO_IODEVCFG_CPUCLOCKPERIOD	0xfc000000</span>
<span class="cp">#define BONITO_IODEVCFG_CPUCLOCKPERIOD_SHIFT 26</span>
<span class="cm">/* --- */</span>

<span class="cm">/* gpio */</span>
<span class="cp">#define BONITO_GPIO_GPIOW		0x000003ff</span>
<span class="cp">#define BONITO_GPIO_GPIOW_SHIFT 	0</span>
<span class="cp">#define BONITO_GPIO_GPIOR		0x01ff0000</span>
<span class="cp">#define BONITO_GPIO_GPIOR_SHIFT 	16</span>
<span class="cp">#define BONITO_GPIO_GPINR		0xfe000000</span>
<span class="cp">#define BONITO_GPIO_GPINR_SHIFT 	25</span>
<span class="cp">#define BONITO_GPIO_IOW(N)		(1&lt;&lt;(BONITO_GPIO_GPIOW_SHIFT+(N)))</span>
<span class="cp">#define BONITO_GPIO_IOR(N)		(1&lt;&lt;(BONITO_GPIO_GPIOR_SHIFT+(N)))</span>
<span class="cp">#define BONITO_GPIO_INR(N)		(1&lt;&lt;(BONITO_GPIO_GPINR_SHIFT+(N)))</span>

<span class="cm">/* ICU */</span>
<span class="cp">#define BONITO_ICU_MBOXES		0x0000000f</span>
<span class="cp">#define BONITO_ICU_MBOXES_SHIFT 	0</span>
<span class="cp">#define BONITO_ICU_DMARDY		0x00000010</span>
<span class="cp">#define BONITO_ICU_DMAEMPTY		0x00000020</span>
<span class="cp">#define BONITO_ICU_COPYRDY		0x00000040</span>
<span class="cp">#define BONITO_ICU_COPYEMPTY		0x00000080</span>
<span class="cp">#define BONITO_ICU_COPYERR		0x00000100</span>
<span class="cp">#define BONITO_ICU_PCIIRQ		0x00000200</span>
<span class="cp">#define BONITO_ICU_MASTERERR		0x00000400</span>
<span class="cp">#define BONITO_ICU_SYSTEMERR		0x00000800</span>
<span class="cp">#define BONITO_ICU_DRAMPERR		0x00001000</span>
<span class="cp">#define BONITO_ICU_RETRYERR		0x00002000</span>
<span class="cp">#define BONITO_ICU_GPIOS		0x01ff0000</span>
<span class="cp">#define BONITO_ICU_GPIOS_SHIFT		16</span>
<span class="cp">#define BONITO_ICU_GPINS		0x7e000000</span>
<span class="cp">#define BONITO_ICU_GPINS_SHIFT		25</span>
<span class="cp">#define BONITO_ICU_MBOX(N)		(1&lt;&lt;(BONITO_ICU_MBOXES_SHIFT+(N)))</span>
<span class="cp">#define BONITO_ICU_GPIO(N)		(1&lt;&lt;(BONITO_ICU_GPIOS_SHIFT+(N)))</span>
<span class="cp">#define BONITO_ICU_GPIN(N)		(1&lt;&lt;(BONITO_ICU_GPINS_SHIFT+(N)))</span>

<span class="cm">/* pcimap */</span>

<span class="cp">#define BONITO_PCIMAP_PCIMAP_LO0	0x0000003f</span>
<span class="cp">#define BONITO_PCIMAP_PCIMAP_LO0_SHIFT	0</span>
<span class="cp">#define BONITO_PCIMAP_PCIMAP_LO1	0x00000fc0</span>
<span class="cp">#define BONITO_PCIMAP_PCIMAP_LO1_SHIFT	6</span>
<span class="cp">#define BONITO_PCIMAP_PCIMAP_LO2	0x0003f000</span>
<span class="cp">#define BONITO_PCIMAP_PCIMAP_LO2_SHIFT	12</span>
<span class="cp">#define BONITO_PCIMAP_PCIMAP_2		0x00040000</span>
<span class="cp">#define BONITO_PCIMAP_WIN(WIN, ADDR)	((((ADDR)&gt;&gt;26) &amp; BONITO_PCIMAP_PCIMAP_LO0) &lt;&lt; ((WIN)*6))</span>

<span class="cp">#define BONITO_PCIMAP_WINSIZE           (1&lt;&lt;26)</span>
<span class="cp">#define BONITO_PCIMAP_WINOFFSET(ADDR)	((ADDR) &amp; (BONITO_PCIMAP_WINSIZE - 1))</span>
<span class="cp">#define BONITO_PCIMAP_WINBASE(ADDR)	((ADDR) &lt;&lt; 26)</span>

<span class="cm">/* pcimembaseCfg */</span>

<span class="cp">#define BONITO_PCIMEMBASECFG_MASK               0xf0000000</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE0_MASK	0x0000001f</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE0_MASK_SHIFT	0</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE0_TRANS	0x000003e0</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE0_TRANS_SHIFT	5</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE0_CACHED	0x00000400</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE0_IO	0x00000800</span>

<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE1_MASK	0x0001f000</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE1_MASK_SHIFT	12</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE1_TRANS	0x003e0000</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE1_TRANS_SHIFT	17</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE1_CACHED	0x00400000</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_MEMBASE1_IO	0x00800000</span>

<span class="cp">#define BONITO_PCIMEMBASECFG_ASHIFT	23</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_AMASK              0x007fffff</span>
<span class="cp">#define BONITO_PCIMEMBASECFGSIZE(WIN, SIZE)	(((~((SIZE)-1))&gt;&gt;(BONITO_PCIMEMBASECFG_ASHIFT-BONITO_PCIMEMBASECFG_MEMBASE##WIN##_MASK_SHIFT)) &amp; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_MASK)</span>
<span class="cp">#define BONITO_PCIMEMBASECFGBASE(WIN, BASE)	(((BASE)&gt;&gt;(BONITO_PCIMEMBASECFG_ASHIFT-BONITO_PCIMEMBASECFG_MEMBASE##WIN##_TRANS_SHIFT)) &amp; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_TRANS)</span>

<span class="cp">#define BONITO_PCIMEMBASECFG_SIZE(WIN, CFG)  (((((~(CFG)) &amp; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_MASK)) &lt;&lt; (BONITO_PCIMEMBASECFG_ASHIFT - BONITO_PCIMEMBASECFG_MEMBASE##WIN##_MASK_SHIFT)) | BONITO_PCIMEMBASECFG_AMASK)</span>


<span class="cp">#define BONITO_PCIMEMBASECFG_ADDRMASK(WIN, CFG)  ((((CFG) &amp; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_MASK) &gt;&gt; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_MASK_SHIFT) &lt;&lt; BONITO_PCIMEMBASECFG_ASHIFT)</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_ADDRMASK(WIN, CFG)  ((((CFG) &amp; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_MASK) &gt;&gt; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_MASK_SHIFT) &lt;&lt; BONITO_PCIMEMBASECFG_ASHIFT)</span>
<span class="cp">#define BONITO_PCIMEMBASECFG_ADDRTRANS(WIN, CFG) ((((CFG) &amp; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_TRANS) &gt;&gt; BONITO_PCIMEMBASECFG_MEMBASE##WIN##_TRANS_SHIFT) &lt;&lt; BONITO_PCIMEMBASECFG_ASHIFT)</span>

<span class="cp">#define BONITO_PCITOPHYS(WIN, ADDR, CFG)          ( \</span>
<span class="cp">                                                  (((ADDR) &amp; (~(BONITO_PCIMEMBASECFG_MASK))) &amp; (~(BONITO_PCIMEMBASECFG_ADDRMASK(WIN, CFG)))) | \</span>
<span class="cp">                                                  (BONITO_PCIMEMBASECFG_ADDRTRANS(WIN, CFG)) \</span>
<span class="cp">                                                )</span>

<span class="cm">/* PCICmd */</span>

<span class="cp">#define BONITO_PCICMD_MEMEN		0x00000002</span>
<span class="cp">#define BONITO_PCICMD_MSTREN		0x00000004</span>


<span class="cp">#endif </span><span class="cm">/* _ASM_MIPS_BOARDS_BONITO64_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
