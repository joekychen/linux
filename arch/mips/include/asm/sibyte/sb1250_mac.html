<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › sibyte › sb1250_mac.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>sb1250_mac.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*  *********************************************************************</span>
<span class="cm">    *  SB1250 Board Support Package</span>
<span class="cm">    *</span>
<span class="cm">    *  MAC constants and macros			File: sb1250_mac.h</span>
<span class="cm">    *</span>
<span class="cm">    *  This module contains constants and macros for the SB1250&#39;s</span>
<span class="cm">    *  ethernet controllers.</span>
<span class="cm">    *</span>
<span class="cm">    *  SB1250 specification level:  User&#39;s manual 1/02/02</span>
<span class="cm">    *</span>
<span class="cm">    *********************************************************************</span>
<span class="cm">    *</span>
<span class="cm">    *  Copyright 2000,2001,2002,2003</span>
<span class="cm">    *  Broadcom Corporation. All rights reserved.</span>
<span class="cm">    *</span>
<span class="cm">    *  This program is free software; you can redistribute it and/or</span>
<span class="cm">    *  modify it under the terms of the GNU General Public License as</span>
<span class="cm">    *  published by the Free Software Foundation; either version 2 of</span>
<span class="cm">    *  the License, or (at your option) any later version.</span>
<span class="cm">    *</span>
<span class="cm">    *  This program is distributed in the hope that it will be useful,</span>
<span class="cm">    *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm">    *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm">    *  GNU General Public License for more details.</span>
<span class="cm">    *</span>
<span class="cm">    *  You should have received a copy of the GNU General Public License</span>
<span class="cm">    *  along with this program; if not, write to the Free Software</span>
<span class="cm">    *  Foundation, Inc., 59 Temple Place, Suite 330, Boston,</span>
<span class="cm">    *  MA 02111-1307 USA</span>
<span class="cm">    ********************************************************************* */</span>


<span class="cp">#ifndef _SB1250_MAC_H</span>
<span class="cp">#define _SB1250_MAC_H</span>

<span class="cp">#include &quot;sb1250_defs.h&quot;</span>

<span class="cm">/*  *********************************************************************</span>
<span class="cm">    *  Ethernet MAC Registers</span>
<span class="cm">    ********************************************************************* */</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Configuration Register (Table 9-13)</span>
<span class="cm"> * Register: MAC_CFG_0</span>
<span class="cm"> * Register: MAC_CFG_1</span>
<span class="cm"> * Register: MAC_CFG_2</span>
<span class="cm"> */</span>


<span class="cp">#define M_MAC_RESERVED0             _SB_MAKEMASK1(0)</span>
<span class="cp">#define M_MAC_TX_HOLD_SOP_EN        _SB_MAKEMASK1(1)</span>
<span class="cp">#define M_MAC_RETRY_EN              _SB_MAKEMASK1(2)</span>
<span class="cp">#define M_MAC_RET_DRPREQ_EN         _SB_MAKEMASK1(3)</span>
<span class="cp">#define M_MAC_RET_UFL_EN            _SB_MAKEMASK1(4)</span>
<span class="cp">#define M_MAC_BURST_EN              _SB_MAKEMASK1(5)</span>

<span class="cp">#define S_MAC_TX_PAUSE              _SB_MAKE64(6)</span>
<span class="cp">#define M_MAC_TX_PAUSE_CNT          _SB_MAKEMASK(3, S_MAC_TX_PAUSE)</span>
<span class="cp">#define V_MAC_TX_PAUSE_CNT(x)       _SB_MAKEVALUE(x, S_MAC_TX_PAUSE)</span>

<span class="cp">#define K_MAC_TX_PAUSE_CNT_512      0</span>
<span class="cp">#define K_MAC_TX_PAUSE_CNT_1K       1</span>
<span class="cp">#define K_MAC_TX_PAUSE_CNT_2K       2</span>
<span class="cp">#define K_MAC_TX_PAUSE_CNT_4K       3</span>
<span class="cp">#define K_MAC_TX_PAUSE_CNT_8K       4</span>
<span class="cp">#define K_MAC_TX_PAUSE_CNT_16K      5</span>
<span class="cp">#define K_MAC_TX_PAUSE_CNT_32K      6</span>
<span class="cp">#define K_MAC_TX_PAUSE_CNT_64K      7</span>

<span class="cp">#define V_MAC_TX_PAUSE_CNT_512      V_MAC_TX_PAUSE_CNT(K_MAC_TX_PAUSE_CNT_512)</span>
<span class="cp">#define V_MAC_TX_PAUSE_CNT_1K       V_MAC_TX_PAUSE_CNT(K_MAC_TX_PAUSE_CNT_1K)</span>
<span class="cp">#define V_MAC_TX_PAUSE_CNT_2K       V_MAC_TX_PAUSE_CNT(K_MAC_TX_PAUSE_CNT_2K)</span>
<span class="cp">#define V_MAC_TX_PAUSE_CNT_4K       V_MAC_TX_PAUSE_CNT(K_MAC_TX_PAUSE_CNT_4K)</span>
<span class="cp">#define V_MAC_TX_PAUSE_CNT_8K       V_MAC_TX_PAUSE_CNT(K_MAC_TX_PAUSE_CNT_8K)</span>
<span class="cp">#define V_MAC_TX_PAUSE_CNT_16K      V_MAC_TX_PAUSE_CNT(K_MAC_TX_PAUSE_CNT_16K)</span>
<span class="cp">#define V_MAC_TX_PAUSE_CNT_32K      V_MAC_TX_PAUSE_CNT(K_MAC_TX_PAUSE_CNT_32K)</span>
<span class="cp">#define V_MAC_TX_PAUSE_CNT_64K      V_MAC_TX_PAUSE_CNT(K_MAC_TX_PAUSE_CNT_64K)</span>

<span class="cp">#define M_MAC_RESERVED1             _SB_MAKEMASK(8, 9)</span>

<span class="cp">#define M_MAC_AP_STAT_EN            _SB_MAKEMASK1(17)</span>

<span class="cp">#if SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_TIMESTAMP		    _SB_MAKEMASK1(18)</span>
<span class="cp">#endif</span>
<span class="cp">#define M_MAC_DRP_ERRPKT_EN         _SB_MAKEMASK1(19)</span>
<span class="cp">#define M_MAC_DRP_FCSERRPKT_EN      _SB_MAKEMASK1(20)</span>
<span class="cp">#define M_MAC_DRP_CODEERRPKT_EN     _SB_MAKEMASK1(21)</span>
<span class="cp">#define M_MAC_DRP_DRBLERRPKT_EN     _SB_MAKEMASK1(22)</span>
<span class="cp">#define M_MAC_DRP_RNTPKT_EN         _SB_MAKEMASK1(23)</span>
<span class="cp">#define M_MAC_DRP_OSZPKT_EN         _SB_MAKEMASK1(24)</span>
<span class="cp">#define M_MAC_DRP_LENERRPKT_EN      _SB_MAKEMASK1(25)</span>

<span class="cp">#define M_MAC_RESERVED3             _SB_MAKEMASK(6, 26)</span>

<span class="cp">#define M_MAC_BYPASS_SEL            _SB_MAKEMASK1(32)</span>
<span class="cp">#define M_MAC_HDX_EN                _SB_MAKEMASK1(33)</span>

<span class="cp">#define S_MAC_SPEED_SEL             _SB_MAKE64(34)</span>
<span class="cp">#define M_MAC_SPEED_SEL             _SB_MAKEMASK(2, S_MAC_SPEED_SEL)</span>
<span class="cp">#define V_MAC_SPEED_SEL(x)	    _SB_MAKEVALUE(x, S_MAC_SPEED_SEL)</span>
<span class="cp">#define G_MAC_SPEED_SEL(x)	    _SB_GETVALUE(x, S_MAC_SPEED_SEL, M_MAC_SPEED_SEL)</span>

<span class="cp">#define K_MAC_SPEED_SEL_10MBPS      0</span>
<span class="cp">#define K_MAC_SPEED_SEL_100MBPS     1</span>
<span class="cp">#define K_MAC_SPEED_SEL_1000MBPS    2</span>
<span class="cp">#define K_MAC_SPEED_SEL_RESERVED    3</span>

<span class="cp">#define V_MAC_SPEED_SEL_10MBPS      V_MAC_SPEED_SEL(K_MAC_SPEED_SEL_10MBPS)</span>
<span class="cp">#define V_MAC_SPEED_SEL_100MBPS     V_MAC_SPEED_SEL(K_MAC_SPEED_SEL_100MBPS)</span>
<span class="cp">#define V_MAC_SPEED_SEL_1000MBPS    V_MAC_SPEED_SEL(K_MAC_SPEED_SEL_1000MBPS)</span>
<span class="cp">#define V_MAC_SPEED_SEL_RESERVED    V_MAC_SPEED_SEL(K_MAC_SPEED_SEL_RESERVED)</span>

<span class="cp">#define M_MAC_TX_CLK_EDGE_SEL       _SB_MAKEMASK1(36)</span>
<span class="cp">#define M_MAC_LOOPBACK_SEL          _SB_MAKEMASK1(37)</span>
<span class="cp">#define M_MAC_FAST_SYNC             _SB_MAKEMASK1(38)</span>
<span class="cp">#define M_MAC_SS_EN                 _SB_MAKEMASK1(39)</span>

<span class="cp">#define S_MAC_BYPASS_CFG	    _SB_MAKE64(40)</span>
<span class="cp">#define M_MAC_BYPASS_CFG            _SB_MAKEMASK(2, S_MAC_BYPASS_CFG)</span>
<span class="cp">#define V_MAC_BYPASS_CFG(x)         _SB_MAKEVALUE(x, S_MAC_BYPASS_CFG)</span>
<span class="cp">#define G_MAC_BYPASS_CFG(x)         _SB_GETVALUE(x, S_MAC_BYPASS_CFG, M_MAC_BYPASS_CFG)</span>

<span class="cp">#define K_MAC_BYPASS_GMII	    0</span>
<span class="cp">#define K_MAC_BYPASS_ENCODED        1</span>
<span class="cp">#define K_MAC_BYPASS_SOP            2</span>
<span class="cp">#define K_MAC_BYPASS_EOP            3</span>

<span class="cp">#define M_MAC_BYPASS_16             _SB_MAKEMASK1(42)</span>
<span class="cp">#define M_MAC_BYPASS_FCS_CHK	    _SB_MAKEMASK1(43)</span>

<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS2) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_RX_CH_SEL_MSB	    _SB_MAKEMASK1(44)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS2 || 112x PASS1 || 1480*/</span><span class="cp"></span>

<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS3) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_SPLIT_CH_SEL	    _SB_MAKEMASK1(45)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS3 || 112x PASS1 || 1480 */</span><span class="cp"></span>

<span class="cp">#define S_MAC_BYPASS_IFG            _SB_MAKE64(46)</span>
<span class="cp">#define M_MAC_BYPASS_IFG            _SB_MAKEMASK(8, S_MAC_BYPASS_IFG)</span>
<span class="cp">#define V_MAC_BYPASS_IFG(x)	    _SB_MAKEVALUE(x, S_MAC_BYPASS_IFG)</span>
<span class="cp">#define G_MAC_BYPASS_IFG(x)	    _SB_GETVALUE(x, S_MAC_BYPASS_IFG, M_MAC_BYPASS_IFG)</span>

<span class="cp">#define K_MAC_FC_CMD_DISABLED       0</span>
<span class="cp">#define K_MAC_FC_CMD_ENABLED        1</span>
<span class="cp">#define K_MAC_FC_CMD_ENAB_FALSECARR 2</span>

<span class="cp">#define V_MAC_FC_CMD_DISABLED       V_MAC_FC_CMD(K_MAC_FC_CMD_DISABLED)</span>
<span class="cp">#define V_MAC_FC_CMD_ENABLED        V_MAC_FC_CMD(K_MAC_FC_CMD_ENABLED)</span>
<span class="cp">#define V_MAC_FC_CMD_ENAB_FALSECARR V_MAC_FC_CMD(K_MAC_FC_CMD_ENAB_FALSECARR)</span>

<span class="cp">#define M_MAC_FC_SEL                _SB_MAKEMASK1(54)</span>

<span class="cp">#define S_MAC_FC_CMD                _SB_MAKE64(55)</span>
<span class="cp">#define M_MAC_FC_CMD                _SB_MAKEMASK(2, S_MAC_FC_CMD)</span>
<span class="cp">#define V_MAC_FC_CMD(x)	            _SB_MAKEVALUE(x, S_MAC_FC_CMD)</span>
<span class="cp">#define G_MAC_FC_CMD(x)	            _SB_GETVALUE(x, S_MAC_FC_CMD, M_MAC_FC_CMD)</span>

<span class="cp">#define S_MAC_RX_CH_SEL             _SB_MAKE64(57)</span>
<span class="cp">#define M_MAC_RX_CH_SEL             _SB_MAKEMASK(7, S_MAC_RX_CH_SEL)</span>
<span class="cp">#define V_MAC_RX_CH_SEL(x)          _SB_MAKEVALUE(x, S_MAC_RX_CH_SEL)</span>
<span class="cp">#define G_MAC_RX_CH_SEL(x)          _SB_GETVALUE(x, S_MAC_RX_CH_SEL, M_MAC_RX_CH_SEL)</span>


<span class="cm">/*</span>
<span class="cm"> * MAC Enable Registers</span>
<span class="cm"> * Register: MAC_ENABLE_0</span>
<span class="cm"> * Register: MAC_ENABLE_1</span>
<span class="cm"> * Register: MAC_ENABLE_2</span>
<span class="cm"> */</span>

<span class="cp">#define M_MAC_RXDMA_EN0	            _SB_MAKEMASK1(0)</span>
<span class="cp">#define M_MAC_RXDMA_EN1	            _SB_MAKEMASK1(1)</span>
<span class="cp">#define M_MAC_TXDMA_EN0	            _SB_MAKEMASK1(4)</span>
<span class="cp">#define M_MAC_TXDMA_EN1	            _SB_MAKEMASK1(5)</span>

<span class="cp">#define M_MAC_PORT_RESET            _SB_MAKEMASK1(8)</span>

<span class="cp">#if (SIBYTE_HDR_FEATURE_CHIP(1250) || SIBYTE_HDR_FEATURE_CHIP(112x))</span>
<span class="cp">#define M_MAC_RX_ENABLE             _SB_MAKEMASK1(10)</span>
<span class="cp">#define M_MAC_TX_ENABLE             _SB_MAKEMASK1(11)</span>
<span class="cp">#define M_MAC_BYP_RX_ENABLE         _SB_MAKEMASK1(12)</span>
<span class="cp">#define M_MAC_BYP_TX_ENABLE         _SB_MAKEMASK1(13)</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * MAC reset information register (1280/1255)</span>
<span class="cm"> */</span>
<span class="cp">#if SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_RX_CH0_PAUSE_ON	_SB_MAKEMASK1(8)</span>
<span class="cp">#define M_MAC_RX_CH1_PAUSE_ON	_SB_MAKEMASK1(16)</span>
<span class="cp">#define M_MAC_TX_CH0_PAUSE_ON	_SB_MAKEMASK1(24)</span>
<span class="cp">#define M_MAC_TX_CH1_PAUSE_ON	_SB_MAKEMASK1(32)</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * MAC DMA Control Register</span>
<span class="cm"> * Register: MAC_TXD_CTL_0</span>
<span class="cm"> * Register: MAC_TXD_CTL_1</span>
<span class="cm"> * Register: MAC_TXD_CTL_2</span>
<span class="cm"> */</span>

<span class="cp">#define S_MAC_TXD_WEIGHT0	    _SB_MAKE64(0)</span>
<span class="cp">#define M_MAC_TXD_WEIGHT0	    _SB_MAKEMASK(4, S_MAC_TXD_WEIGHT0)</span>
<span class="cp">#define V_MAC_TXD_WEIGHT0(x)        _SB_MAKEVALUE(x, S_MAC_TXD_WEIGHT0)</span>
<span class="cp">#define G_MAC_TXD_WEIGHT0(x)        _SB_GETVALUE(x, S_MAC_TXD_WEIGHT0, M_MAC_TXD_WEIGHT0)</span>

<span class="cp">#define S_MAC_TXD_WEIGHT1	    _SB_MAKE64(4)</span>
<span class="cp">#define M_MAC_TXD_WEIGHT1	    _SB_MAKEMASK(4, S_MAC_TXD_WEIGHT1)</span>
<span class="cp">#define V_MAC_TXD_WEIGHT1(x)        _SB_MAKEVALUE(x, S_MAC_TXD_WEIGHT1)</span>
<span class="cp">#define G_MAC_TXD_WEIGHT1(x)        _SB_GETVALUE(x, S_MAC_TXD_WEIGHT1, M_MAC_TXD_WEIGHT1)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Fifo Threshold registers (Table 9-14)</span>
<span class="cm"> * Register: MAC_THRSH_CFG_0</span>
<span class="cm"> * Register: MAC_THRSH_CFG_1</span>
<span class="cm"> * Register: MAC_THRSH_CFG_2</span>
<span class="cm"> */</span>

<span class="cp">#define S_MAC_TX_WR_THRSH           _SB_MAKE64(0)</span>
<span class="cp">#if SIBYTE_HDR_FEATURE_UP_TO(1250, PASS1)</span>
<span class="cm">/* XXX: Can&#39;t enable, as it has the same name as a pass2+ define below.  */</span>
<span class="cm">/* #define M_MAC_TX_WR_THRSH           _SB_MAKEMASK(6, S_MAC_TX_WR_THRSH) */</span>
<span class="cp">#endif </span><span class="cm">/* up to 1250 PASS1 */</span><span class="cp"></span>
<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS2) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_TX_WR_THRSH           _SB_MAKEMASK(7, S_MAC_TX_WR_THRSH)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS2 || 112x PASS1 || 1480 */</span><span class="cp"></span>
<span class="cp">#define V_MAC_TX_WR_THRSH(x)        _SB_MAKEVALUE(x, S_MAC_TX_WR_THRSH)</span>
<span class="cp">#define G_MAC_TX_WR_THRSH(x)        _SB_GETVALUE(x, S_MAC_TX_WR_THRSH, M_MAC_TX_WR_THRSH)</span>

<span class="cp">#define S_MAC_TX_RD_THRSH           _SB_MAKE64(8)</span>
<span class="cp">#if SIBYTE_HDR_FEATURE_UP_TO(1250, PASS1)</span>
<span class="cm">/* XXX: Can&#39;t enable, as it has the same name as a pass2+ define below.  */</span>
<span class="cm">/* #define M_MAC_TX_RD_THRSH           _SB_MAKEMASK(6, S_MAC_TX_RD_THRSH) */</span>
<span class="cp">#endif </span><span class="cm">/* up to 1250 PASS1 */</span><span class="cp"></span>
<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS2) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_TX_RD_THRSH           _SB_MAKEMASK(7, S_MAC_TX_RD_THRSH)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS2 || 112x PASS1 || 1480 */</span><span class="cp"></span>
<span class="cp">#define V_MAC_TX_RD_THRSH(x)        _SB_MAKEVALUE(x, S_MAC_TX_RD_THRSH)</span>
<span class="cp">#define G_MAC_TX_RD_THRSH(x)        _SB_GETVALUE(x, S_MAC_TX_RD_THRSH, M_MAC_TX_RD_THRSH)</span>

<span class="cp">#define S_MAC_TX_RL_THRSH           _SB_MAKE64(16)</span>
<span class="cp">#define M_MAC_TX_RL_THRSH           _SB_MAKEMASK(4, S_MAC_TX_RL_THRSH)</span>
<span class="cp">#define V_MAC_TX_RL_THRSH(x)        _SB_MAKEVALUE(x, S_MAC_TX_RL_THRSH)</span>
<span class="cp">#define G_MAC_TX_RL_THRSH(x)        _SB_GETVALUE(x, S_MAC_TX_RL_THRSH, M_MAC_TX_RL_THRSH)</span>

<span class="cp">#define S_MAC_RX_PL_THRSH           _SB_MAKE64(24)</span>
<span class="cp">#define M_MAC_RX_PL_THRSH           _SB_MAKEMASK(6, S_MAC_RX_PL_THRSH)</span>
<span class="cp">#define V_MAC_RX_PL_THRSH(x)        _SB_MAKEVALUE(x, S_MAC_RX_PL_THRSH)</span>
<span class="cp">#define G_MAC_RX_PL_THRSH(x)        _SB_GETVALUE(x, S_MAC_RX_PL_THRSH, M_MAC_RX_PL_THRSH)</span>

<span class="cp">#define S_MAC_RX_RD_THRSH           _SB_MAKE64(32)</span>
<span class="cp">#define M_MAC_RX_RD_THRSH           _SB_MAKEMASK(6, S_MAC_RX_RD_THRSH)</span>
<span class="cp">#define V_MAC_RX_RD_THRSH(x)        _SB_MAKEVALUE(x, S_MAC_RX_RD_THRSH)</span>
<span class="cp">#define G_MAC_RX_RD_THRSH(x)        _SB_GETVALUE(x, S_MAC_RX_RD_THRSH, M_MAC_RX_RD_THRSH)</span>

<span class="cp">#define S_MAC_RX_RL_THRSH           _SB_MAKE64(40)</span>
<span class="cp">#define M_MAC_RX_RL_THRSH           _SB_MAKEMASK(6, S_MAC_RX_RL_THRSH)</span>
<span class="cp">#define V_MAC_RX_RL_THRSH(x)        _SB_MAKEVALUE(x, S_MAC_RX_RL_THRSH)</span>
<span class="cp">#define G_MAC_RX_RL_THRSH(x)        _SB_GETVALUE(x, S_MAC_RX_RL_THRSH, M_MAC_RX_RL_THRSH)</span>

<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS2) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define S_MAC_ENC_FC_THRSH           _SB_MAKE64(56)</span>
<span class="cp">#define M_MAC_ENC_FC_THRSH           _SB_MAKEMASK(6, S_MAC_ENC_FC_THRSH)</span>
<span class="cp">#define V_MAC_ENC_FC_THRSH(x)        _SB_MAKEVALUE(x, S_MAC_ENC_FC_THRSH)</span>
<span class="cp">#define G_MAC_ENC_FC_THRSH(x)        _SB_GETVALUE(x, S_MAC_ENC_FC_THRSH, M_MAC_ENC_FC_THRSH)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS2 || 112x PASS1 || 1480 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * MAC Frame Configuration Registers (Table 9-15)</span>
<span class="cm"> * Register: MAC_FRAME_CFG_0</span>
<span class="cm"> * Register: MAC_FRAME_CFG_1</span>
<span class="cm"> * Register: MAC_FRAME_CFG_2</span>
<span class="cm"> */</span>

<span class="cm">/* XXXCGD: ??? Unused in pass2? */</span>
<span class="cp">#define S_MAC_IFG_RX                _SB_MAKE64(0)</span>
<span class="cp">#define M_MAC_IFG_RX                _SB_MAKEMASK(6, S_MAC_IFG_RX)</span>
<span class="cp">#define V_MAC_IFG_RX(x)             _SB_MAKEVALUE(x, S_MAC_IFG_RX)</span>
<span class="cp">#define G_MAC_IFG_RX(x)             _SB_GETVALUE(x, S_MAC_IFG_RX, M_MAC_IFG_RX)</span>

<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS3) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define S_MAC_PRE_LEN               _SB_MAKE64(0)</span>
<span class="cp">#define M_MAC_PRE_LEN               _SB_MAKEMASK(6, S_MAC_PRE_LEN)</span>
<span class="cp">#define V_MAC_PRE_LEN(x)            _SB_MAKEVALUE(x, S_MAC_PRE_LEN)</span>
<span class="cp">#define G_MAC_PRE_LEN(x)            _SB_GETVALUE(x, S_MAC_PRE_LEN, M_MAC_PRE_LEN)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS3 || 112x PASS1 || 1480 */</span><span class="cp"></span>

<span class="cp">#define S_MAC_IFG_TX                _SB_MAKE64(6)</span>
<span class="cp">#define M_MAC_IFG_TX                _SB_MAKEMASK(6, S_MAC_IFG_TX)</span>
<span class="cp">#define V_MAC_IFG_TX(x)             _SB_MAKEVALUE(x, S_MAC_IFG_TX)</span>
<span class="cp">#define G_MAC_IFG_TX(x)             _SB_GETVALUE(x, S_MAC_IFG_TX, M_MAC_IFG_TX)</span>

<span class="cp">#define S_MAC_IFG_THRSH             _SB_MAKE64(12)</span>
<span class="cp">#define M_MAC_IFG_THRSH             _SB_MAKEMASK(6, S_MAC_IFG_THRSH)</span>
<span class="cp">#define V_MAC_IFG_THRSH(x)          _SB_MAKEVALUE(x, S_MAC_IFG_THRSH)</span>
<span class="cp">#define G_MAC_IFG_THRSH(x)          _SB_GETVALUE(x, S_MAC_IFG_THRSH, M_MAC_IFG_THRSH)</span>

<span class="cp">#define S_MAC_BACKOFF_SEL           _SB_MAKE64(18)</span>
<span class="cp">#define M_MAC_BACKOFF_SEL           _SB_MAKEMASK(4, S_MAC_BACKOFF_SEL)</span>
<span class="cp">#define V_MAC_BACKOFF_SEL(x)        _SB_MAKEVALUE(x, S_MAC_BACKOFF_SEL)</span>
<span class="cp">#define G_MAC_BACKOFF_SEL(x)        _SB_GETVALUE(x, S_MAC_BACKOFF_SEL, M_MAC_BACKOFF_SEL)</span>

<span class="cp">#define S_MAC_LFSR_SEED             _SB_MAKE64(22)</span>
<span class="cp">#define M_MAC_LFSR_SEED             _SB_MAKEMASK(8, S_MAC_LFSR_SEED)</span>
<span class="cp">#define V_MAC_LFSR_SEED(x)          _SB_MAKEVALUE(x, S_MAC_LFSR_SEED)</span>
<span class="cp">#define G_MAC_LFSR_SEED(x)          _SB_GETVALUE(x, S_MAC_LFSR_SEED, M_MAC_LFSR_SEED)</span>

<span class="cp">#define S_MAC_SLOT_SIZE             _SB_MAKE64(30)</span>
<span class="cp">#define M_MAC_SLOT_SIZE             _SB_MAKEMASK(10, S_MAC_SLOT_SIZE)</span>
<span class="cp">#define V_MAC_SLOT_SIZE(x)          _SB_MAKEVALUE(x, S_MAC_SLOT_SIZE)</span>
<span class="cp">#define G_MAC_SLOT_SIZE(x)          _SB_GETVALUE(x, S_MAC_SLOT_SIZE, M_MAC_SLOT_SIZE)</span>

<span class="cp">#define S_MAC_MIN_FRAMESZ           _SB_MAKE64(40)</span>
<span class="cp">#define M_MAC_MIN_FRAMESZ           _SB_MAKEMASK(8, S_MAC_MIN_FRAMESZ)</span>
<span class="cp">#define V_MAC_MIN_FRAMESZ(x)        _SB_MAKEVALUE(x, S_MAC_MIN_FRAMESZ)</span>
<span class="cp">#define G_MAC_MIN_FRAMESZ(x)        _SB_GETVALUE(x, S_MAC_MIN_FRAMESZ, M_MAC_MIN_FRAMESZ)</span>

<span class="cp">#define S_MAC_MAX_FRAMESZ           _SB_MAKE64(48)</span>
<span class="cp">#define M_MAC_MAX_FRAMESZ           _SB_MAKEMASK(16, S_MAC_MAX_FRAMESZ)</span>
<span class="cp">#define V_MAC_MAX_FRAMESZ(x)        _SB_MAKEVALUE(x, S_MAC_MAX_FRAMESZ)</span>
<span class="cp">#define G_MAC_MAX_FRAMESZ(x)        _SB_GETVALUE(x, S_MAC_MAX_FRAMESZ, M_MAC_MAX_FRAMESZ)</span>

<span class="cm">/*</span>
<span class="cm"> * These constants are used to configure the fields within the Frame</span>
<span class="cm"> * Configuration Register.</span>
<span class="cm"> */</span>

<span class="cp">#define K_MAC_IFG_RX_10             _SB_MAKE64(0)	</span><span class="cm">/* See table 176, not used */</span><span class="cp"></span>
<span class="cp">#define K_MAC_IFG_RX_100            _SB_MAKE64(0)</span>
<span class="cp">#define K_MAC_IFG_RX_1000           _SB_MAKE64(0)</span>

<span class="cp">#define K_MAC_IFG_TX_10             _SB_MAKE64(20)</span>
<span class="cp">#define K_MAC_IFG_TX_100            _SB_MAKE64(20)</span>
<span class="cp">#define K_MAC_IFG_TX_1000           _SB_MAKE64(8)</span>

<span class="cp">#define K_MAC_IFG_THRSH_10          _SB_MAKE64(4)</span>
<span class="cp">#define K_MAC_IFG_THRSH_100         _SB_MAKE64(4)</span>
<span class="cp">#define K_MAC_IFG_THRSH_1000        _SB_MAKE64(0)</span>

<span class="cp">#define K_MAC_SLOT_SIZE_10          _SB_MAKE64(0)</span>
<span class="cp">#define K_MAC_SLOT_SIZE_100         _SB_MAKE64(0)</span>
<span class="cp">#define K_MAC_SLOT_SIZE_1000        _SB_MAKE64(0)</span>

<span class="cp">#define V_MAC_IFG_RX_10        V_MAC_IFG_RX(K_MAC_IFG_RX_10)</span>
<span class="cp">#define V_MAC_IFG_RX_100       V_MAC_IFG_RX(K_MAC_IFG_RX_100)</span>
<span class="cp">#define V_MAC_IFG_RX_1000      V_MAC_IFG_RX(K_MAC_IFG_RX_1000)</span>

<span class="cp">#define V_MAC_IFG_TX_10        V_MAC_IFG_TX(K_MAC_IFG_TX_10)</span>
<span class="cp">#define V_MAC_IFG_TX_100       V_MAC_IFG_TX(K_MAC_IFG_TX_100)</span>
<span class="cp">#define V_MAC_IFG_TX_1000      V_MAC_IFG_TX(K_MAC_IFG_TX_1000)</span>

<span class="cp">#define V_MAC_IFG_THRSH_10     V_MAC_IFG_THRSH(K_MAC_IFG_THRSH_10)</span>
<span class="cp">#define V_MAC_IFG_THRSH_100    V_MAC_IFG_THRSH(K_MAC_IFG_THRSH_100)</span>
<span class="cp">#define V_MAC_IFG_THRSH_1000   V_MAC_IFG_THRSH(K_MAC_IFG_THRSH_1000)</span>

<span class="cp">#define V_MAC_SLOT_SIZE_10     V_MAC_SLOT_SIZE(K_MAC_SLOT_SIZE_10)</span>
<span class="cp">#define V_MAC_SLOT_SIZE_100    V_MAC_SLOT_SIZE(K_MAC_SLOT_SIZE_100)</span>
<span class="cp">#define V_MAC_SLOT_SIZE_1000   V_MAC_SLOT_SIZE(K_MAC_SLOT_SIZE_1000)</span>

<span class="cp">#define K_MAC_MIN_FRAMESZ_FIFO      _SB_MAKE64(9)</span>
<span class="cp">#define K_MAC_MIN_FRAMESZ_DEFAULT   _SB_MAKE64(64)</span>
<span class="cp">#define K_MAC_MAX_FRAMESZ_DEFAULT   _SB_MAKE64(1518)</span>
<span class="cp">#define K_MAC_MAX_FRAMESZ_JUMBO     _SB_MAKE64(9216)</span>

<span class="cp">#define V_MAC_MIN_FRAMESZ_FIFO      V_MAC_MIN_FRAMESZ(K_MAC_MIN_FRAMESZ_FIFO)</span>
<span class="cp">#define V_MAC_MIN_FRAMESZ_DEFAULT   V_MAC_MIN_FRAMESZ(K_MAC_MIN_FRAMESZ_DEFAULT)</span>
<span class="cp">#define V_MAC_MAX_FRAMESZ_DEFAULT   V_MAC_MAX_FRAMESZ(K_MAC_MAX_FRAMESZ_DEFAULT)</span>
<span class="cp">#define V_MAC_MAX_FRAMESZ_JUMBO     V_MAC_MAX_FRAMESZ(K_MAC_MAX_FRAMESZ_JUMBO)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC VLAN Tag Registers (Table 9-16)</span>
<span class="cm"> * Register: MAC_VLANTAG_0</span>
<span class="cm"> * Register: MAC_VLANTAG_1</span>
<span class="cm"> * Register: MAC_VLANTAG_2</span>
<span class="cm"> */</span>

<span class="cp">#define S_MAC_VLAN_TAG           _SB_MAKE64(0)</span>
<span class="cp">#define M_MAC_VLAN_TAG           _SB_MAKEMASK(32, S_MAC_VLAN_TAG)</span>
<span class="cp">#define V_MAC_VLAN_TAG(x)        _SB_MAKEVALUE(x, S_MAC_VLAN_TAG)</span>
<span class="cp">#define G_MAC_VLAN_TAG(x)        _SB_GETVALUE(x, S_MAC_VLAN_TAG, M_MAC_VLAN_TAG)</span>

<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS3) || SIBYTE_HDR_FEATURE(112x, PASS1)</span>
<span class="cp">#define S_MAC_TX_PKT_OFFSET      _SB_MAKE64(32)</span>
<span class="cp">#define M_MAC_TX_PKT_OFFSET      _SB_MAKEMASK(8, S_MAC_TX_PKT_OFFSET)</span>
<span class="cp">#define V_MAC_TX_PKT_OFFSET(x)   _SB_MAKEVALUE(x, S_MAC_TX_PKT_OFFSET)</span>
<span class="cp">#define G_MAC_TX_PKT_OFFSET(x)   _SB_GETVALUE(x, S_MAC_TX_PKT_OFFSET, M_MAC_TX_PKT_OFFSET)</span>

<span class="cp">#define S_MAC_TX_CRC_OFFSET      _SB_MAKE64(40)</span>
<span class="cp">#define M_MAC_TX_CRC_OFFSET      _SB_MAKEMASK(8, S_MAC_TX_CRC_OFFSET)</span>
<span class="cp">#define V_MAC_TX_CRC_OFFSET(x)   _SB_MAKEVALUE(x, S_MAC_TX_CRC_OFFSET)</span>
<span class="cp">#define G_MAC_TX_CRC_OFFSET(x)   _SB_GETVALUE(x, S_MAC_TX_CRC_OFFSET, M_MAC_TX_CRC_OFFSET)</span>

<span class="cp">#define M_MAC_CH_BASE_FC_EN      _SB_MAKEMASK1(48)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS3 || 112x PASS1 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * MAC Status Registers (Table 9-17)</span>
<span class="cm"> * Also used for the MAC Interrupt Mask Register (Table 9-18)</span>
<span class="cm"> * Register: MAC_STATUS_0</span>
<span class="cm"> * Register: MAC_STATUS_1</span>
<span class="cm"> * Register: MAC_STATUS_2</span>
<span class="cm"> * Register: MAC_INT_MASK_0</span>
<span class="cm"> * Register: MAC_INT_MASK_1</span>
<span class="cm"> * Register: MAC_INT_MASK_2</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Use these constants to shift the appropriate channel</span>
<span class="cm"> * into the CH0 position so the same tests can be used</span>
<span class="cm"> * on each channel.</span>
<span class="cm"> */</span>

<span class="cp">#define S_MAC_RX_CH0                _SB_MAKE64(0)</span>
<span class="cp">#define S_MAC_RX_CH1                _SB_MAKE64(8)</span>
<span class="cp">#define S_MAC_TX_CH0                _SB_MAKE64(16)</span>
<span class="cp">#define S_MAC_TX_CH1                _SB_MAKE64(24)</span>

<span class="cp">#define S_MAC_TXCHANNELS	    _SB_MAKE64(16)	</span><span class="cm">/* this is 1st TX chan */</span><span class="cp"></span>
<span class="cp">#define S_MAC_CHANWIDTH             _SB_MAKE64(8)	</span><span class="cm">/* bits between channels */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *  These are the same as RX channel 0.  The idea here</span>
<span class="cm"> *  is that you&#39;ll use one of the &quot;S_&quot; things above</span>
<span class="cm"> *  and pass just the six bits to a DMA-channel-specific ISR</span>
<span class="cm"> */</span>
<span class="cp">#define M_MAC_INT_CHANNEL           _SB_MAKEMASK(8, 0)</span>
<span class="cp">#define M_MAC_INT_EOP_COUNT         _SB_MAKEMASK1(0)</span>
<span class="cp">#define M_MAC_INT_EOP_TIMER         _SB_MAKEMASK1(1)</span>
<span class="cp">#define M_MAC_INT_EOP_SEEN          _SB_MAKEMASK1(2)</span>
<span class="cp">#define M_MAC_INT_HWM               _SB_MAKEMASK1(3)</span>
<span class="cp">#define M_MAC_INT_LWM               _SB_MAKEMASK1(4)</span>
<span class="cp">#define M_MAC_INT_DSCR              _SB_MAKEMASK1(5)</span>
<span class="cp">#define M_MAC_INT_ERR               _SB_MAKEMASK1(6)</span>
<span class="cp">#define M_MAC_INT_DZERO             _SB_MAKEMASK1(7)	</span><span class="cm">/* only for TX channels */</span><span class="cp"></span>
<span class="cp">#define M_MAC_INT_DROP              _SB_MAKEMASK1(7)	</span><span class="cm">/* only for RX channels */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * In the following definitions we use ch (0/1) and txrx (TX=1, RX=0, see</span>
<span class="cm"> * also DMA_TX/DMA_RX in sb_regs.h).</span>
<span class="cm"> */</span>
<span class="cp">#define S_MAC_STATUS_CH_OFFSET(ch, txrx) _SB_MAKE64(((ch) + 2 * (txrx)) * S_MAC_CHANWIDTH)</span>

<span class="cp">#define M_MAC_STATUS_CHANNEL(ch, txrx)   _SB_MAKEVALUE(_SB_MAKEMASK(8, 0), S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_EOP_COUNT(ch, txrx) _SB_MAKEVALUE(M_MAC_INT_EOP_COUNT, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_EOP_TIMER(ch, txrx) _SB_MAKEVALUE(M_MAC_INT_EOP_TIMER, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_EOP_SEEN(ch, txrx)  _SB_MAKEVALUE(M_MAC_INT_EOP_SEEN, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_HWM(ch, txrx)       _SB_MAKEVALUE(M_MAC_INT_HWM, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_LWM(ch, txrx)       _SB_MAKEVALUE(M_MAC_INT_LWM, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_DSCR(ch, txrx)      _SB_MAKEVALUE(M_MAC_INT_DSCR, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_ERR(ch, txrx)       _SB_MAKEVALUE(M_MAC_INT_ERR, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_DZERO(ch, txrx)     _SB_MAKEVALUE(M_MAC_INT_DZERO, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_DROP(ch, txrx)      _SB_MAKEVALUE(M_MAC_INT_DROP, S_MAC_STATUS_CH_OFFSET(ch, txrx))</span>
<span class="cp">#define M_MAC_STATUS_OTHER_ERR           _SB_MAKEVALUE(_SB_MAKEMASK(7, 0), 40)</span>


<span class="cp">#define M_MAC_RX_UNDRFL             _SB_MAKEMASK1(40)</span>
<span class="cp">#define M_MAC_RX_OVRFL              _SB_MAKEMASK1(41)</span>
<span class="cp">#define M_MAC_TX_UNDRFL             _SB_MAKEMASK1(42)</span>
<span class="cp">#define M_MAC_TX_OVRFL              _SB_MAKEMASK1(43)</span>
<span class="cp">#define M_MAC_LTCOL_ERR             _SB_MAKEMASK1(44)</span>
<span class="cp">#define M_MAC_EXCOL_ERR             _SB_MAKEMASK1(45)</span>
<span class="cp">#define M_MAC_CNTR_OVRFL_ERR        _SB_MAKEMASK1(46)</span>
<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS2) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_SPLIT_EN		    _SB_MAKEMASK1(47) 	</span><span class="cm">/* interrupt mask only */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS2 || 112x PASS1 || 1480 */</span><span class="cp"></span>

<span class="cp">#define S_MAC_COUNTER_ADDR          _SB_MAKE64(47)</span>
<span class="cp">#define M_MAC_COUNTER_ADDR          _SB_MAKEMASK(5, S_MAC_COUNTER_ADDR)</span>
<span class="cp">#define V_MAC_COUNTER_ADDR(x)       _SB_MAKEVALUE(x, S_MAC_COUNTER_ADDR)</span>
<span class="cp">#define G_MAC_COUNTER_ADDR(x)       _SB_GETVALUE(x, S_MAC_COUNTER_ADDR, M_MAC_COUNTER_ADDR)</span>

<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS3) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_TX_PAUSE_ON	    _SB_MAKEMASK1(52)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS3 || 112x PASS1 || 1480 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * MAC Fifo Pointer Registers (Table 9-19)    [Debug register]</span>
<span class="cm"> * Register: MAC_FIFO_PTRS_0</span>
<span class="cm"> * Register: MAC_FIFO_PTRS_1</span>
<span class="cm"> * Register: MAC_FIFO_PTRS_2</span>
<span class="cm"> */</span>

<span class="cp">#define S_MAC_TX_WRPTR              _SB_MAKE64(0)</span>
<span class="cp">#define M_MAC_TX_WRPTR              _SB_MAKEMASK(6, S_MAC_TX_WRPTR)</span>
<span class="cp">#define V_MAC_TX_WRPTR(x)           _SB_MAKEVALUE(x, S_MAC_TX_WRPTR)</span>
<span class="cp">#define G_MAC_TX_WRPTR(x)           _SB_GETVALUE(x, S_MAC_TX_WRPTR, M_MAC_TX_WRPTR)</span>

<span class="cp">#define S_MAC_TX_RDPTR              _SB_MAKE64(8)</span>
<span class="cp">#define M_MAC_TX_RDPTR              _SB_MAKEMASK(6, S_MAC_TX_RDPTR)</span>
<span class="cp">#define V_MAC_TX_RDPTR(x)           _SB_MAKEVALUE(x, S_MAC_TX_RDPTR)</span>
<span class="cp">#define G_MAC_TX_RDPTR(x)           _SB_GETVALUE(x, S_MAC_TX_RDPTR, M_MAC_TX_RDPTR)</span>

<span class="cp">#define S_MAC_RX_WRPTR              _SB_MAKE64(16)</span>
<span class="cp">#define M_MAC_RX_WRPTR              _SB_MAKEMASK(6, S_MAC_RX_WRPTR)</span>
<span class="cp">#define V_MAC_RX_WRPTR(x)           _SB_MAKEVALUE(x, S_MAC_RX_WRPTR)</span>
<span class="cp">#define G_MAC_RX_WRPTR(x)           _SB_GETVALUE(x, S_MAC_RX_WRPTR, M_MAC_TX_WRPTR)</span>

<span class="cp">#define S_MAC_RX_RDPTR              _SB_MAKE64(24)</span>
<span class="cp">#define M_MAC_RX_RDPTR              _SB_MAKEMASK(6, S_MAC_RX_RDPTR)</span>
<span class="cp">#define V_MAC_RX_RDPTR(x)           _SB_MAKEVALUE(x, S_MAC_RX_RDPTR)</span>
<span class="cp">#define G_MAC_RX_RDPTR(x)           _SB_GETVALUE(x, S_MAC_RX_RDPTR, M_MAC_TX_RDPTR)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Fifo End Of Packet Count Registers (Table 9-20)  [Debug register]</span>
<span class="cm"> * Register: MAC_EOPCNT_0</span>
<span class="cm"> * Register: MAC_EOPCNT_1</span>
<span class="cm"> * Register: MAC_EOPCNT_2</span>
<span class="cm"> */</span>

<span class="cp">#define S_MAC_TX_EOP_COUNTER        _SB_MAKE64(0)</span>
<span class="cp">#define M_MAC_TX_EOP_COUNTER        _SB_MAKEMASK(6, S_MAC_TX_EOP_COUNTER)</span>
<span class="cp">#define V_MAC_TX_EOP_COUNTER(x)     _SB_MAKEVALUE(x, S_MAC_TX_EOP_COUNTER)</span>
<span class="cp">#define G_MAC_TX_EOP_COUNTER(x)     _SB_GETVALUE(x, S_MAC_TX_EOP_COUNTER, M_MAC_TX_EOP_COUNTER)</span>

<span class="cp">#define S_MAC_RX_EOP_COUNTER        _SB_MAKE64(8)</span>
<span class="cp">#define M_MAC_RX_EOP_COUNTER        _SB_MAKEMASK(6, S_MAC_RX_EOP_COUNTER)</span>
<span class="cp">#define V_MAC_RX_EOP_COUNTER(x)     _SB_MAKEVALUE(x, S_MAC_RX_EOP_COUNTER)</span>
<span class="cp">#define G_MAC_RX_EOP_COUNTER(x)     _SB_GETVALUE(x, S_MAC_RX_EOP_COUNTER, M_MAC_RX_EOP_COUNTER)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Receive Address Filter Exact Match Registers (Table 9-21)</span>
<span class="cm"> * Registers: MAC_ADDR0_0 through MAC_ADDR7_0</span>
<span class="cm"> * Registers: MAC_ADDR0_1 through MAC_ADDR7_1</span>
<span class="cm"> * Registers: MAC_ADDR0_2 through MAC_ADDR7_2</span>
<span class="cm"> */</span>

<span class="cm">/* No bitfields */</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Receive Address Filter Mask Registers</span>
<span class="cm"> * Registers: MAC_ADDRMASK0_0 and MAC_ADDRMASK0_1</span>
<span class="cm"> * Registers: MAC_ADDRMASK1_0 and MAC_ADDRMASK1_1</span>
<span class="cm"> * Registers: MAC_ADDRMASK2_0 and MAC_ADDRMASK2_1</span>
<span class="cm"> */</span>

<span class="cm">/* No bitfields */</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Receive Address Filter Hash Match Registers (Table 9-22)</span>
<span class="cm"> * Registers: MAC_HASH0_0 through MAC_HASH7_0</span>
<span class="cm"> * Registers: MAC_HASH0_1 through MAC_HASH7_1</span>
<span class="cm"> * Registers: MAC_HASH0_2 through MAC_HASH7_2</span>
<span class="cm"> */</span>

<span class="cm">/* No bitfields */</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Transmit Source Address Registers (Table 9-23)</span>
<span class="cm"> * Register: MAC_ETHERNET_ADDR_0</span>
<span class="cm"> * Register: MAC_ETHERNET_ADDR_1</span>
<span class="cm"> * Register: MAC_ETHERNET_ADDR_2</span>
<span class="cm"> */</span>

<span class="cm">/* No bitfields */</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Packet Type Configuration Register</span>
<span class="cm"> * Register: MAC_TYPE_CFG_0</span>
<span class="cm"> * Register: MAC_TYPE_CFG_1</span>
<span class="cm"> * Register: MAC_TYPE_CFG_2</span>
<span class="cm"> */</span>

<span class="cp">#define S_TYPECFG_TYPESIZE      _SB_MAKE64(16)</span>

<span class="cp">#define S_TYPECFG_TYPE0		_SB_MAKE64(0)</span>
<span class="cp">#define M_TYPECFG_TYPE0         _SB_MAKEMASK(16, S_TYPECFG_TYPE0)</span>
<span class="cp">#define V_TYPECFG_TYPE0(x)      _SB_MAKEVALUE(x, S_TYPECFG_TYPE0)</span>
<span class="cp">#define G_TYPECFG_TYPE0(x)      _SB_GETVALUE(x, S_TYPECFG_TYPE0, M_TYPECFG_TYPE0)</span>

<span class="cp">#define S_TYPECFG_TYPE1		_SB_MAKE64(0)</span>
<span class="cp">#define M_TYPECFG_TYPE1         _SB_MAKEMASK(16, S_TYPECFG_TYPE1)</span>
<span class="cp">#define V_TYPECFG_TYPE1(x)      _SB_MAKEVALUE(x, S_TYPECFG_TYPE1)</span>
<span class="cp">#define G_TYPECFG_TYPE1(x)      _SB_GETVALUE(x, S_TYPECFG_TYPE1, M_TYPECFG_TYPE1)</span>

<span class="cp">#define S_TYPECFG_TYPE2		_SB_MAKE64(0)</span>
<span class="cp">#define M_TYPECFG_TYPE2         _SB_MAKEMASK(16, S_TYPECFG_TYPE2)</span>
<span class="cp">#define V_TYPECFG_TYPE2(x)      _SB_MAKEVALUE(x, S_TYPECFG_TYPE2)</span>
<span class="cp">#define G_TYPECFG_TYPE2(x)      _SB_GETVALUE(x, S_TYPECFG_TYPE2, M_TYPECFG_TYPE2)</span>

<span class="cp">#define S_TYPECFG_TYPE3		_SB_MAKE64(0)</span>
<span class="cp">#define M_TYPECFG_TYPE3         _SB_MAKEMASK(16, S_TYPECFG_TYPE3)</span>
<span class="cp">#define V_TYPECFG_TYPE3(x)      _SB_MAKEVALUE(x, S_TYPECFG_TYPE3)</span>
<span class="cp">#define G_TYPECFG_TYPE3(x)      _SB_GETVALUE(x, S_TYPECFG_TYPE3, M_TYPECFG_TYPE3)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Receive Address Filter Control Registers (Table 9-24)</span>
<span class="cm"> * Register: MAC_ADFILTER_CFG_0</span>
<span class="cm"> * Register: MAC_ADFILTER_CFG_1</span>
<span class="cm"> * Register: MAC_ADFILTER_CFG_2</span>
<span class="cm"> */</span>

<span class="cp">#define M_MAC_ALLPKT_EN	        _SB_MAKEMASK1(0)</span>
<span class="cp">#define M_MAC_UCAST_EN          _SB_MAKEMASK1(1)</span>
<span class="cp">#define M_MAC_UCAST_INV         _SB_MAKEMASK1(2)</span>
<span class="cp">#define M_MAC_MCAST_EN          _SB_MAKEMASK1(3)</span>
<span class="cp">#define M_MAC_MCAST_INV         _SB_MAKEMASK1(4)</span>
<span class="cp">#define M_MAC_BCAST_EN          _SB_MAKEMASK1(5)</span>
<span class="cp">#define M_MAC_DIRECT_INV        _SB_MAKEMASK1(6)</span>
<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS2) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define M_MAC_ALLMCAST_EN	_SB_MAKEMASK1(7)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS2 || 112x PASS1 || 1480 */</span><span class="cp"></span>

<span class="cp">#define S_MAC_IPHDR_OFFSET      _SB_MAKE64(8)</span>
<span class="cp">#define M_MAC_IPHDR_OFFSET      _SB_MAKEMASK(8, S_MAC_IPHDR_OFFSET)</span>
<span class="cp">#define V_MAC_IPHDR_OFFSET(x)	_SB_MAKEVALUE(x, S_MAC_IPHDR_OFFSET)</span>
<span class="cp">#define G_MAC_IPHDR_OFFSET(x)	_SB_GETVALUE(x, S_MAC_IPHDR_OFFSET, M_MAC_IPHDR_OFFSET)</span>

<span class="cp">#if SIBYTE_HDR_FEATURE(1250, PASS3) || SIBYTE_HDR_FEATURE(112x, PASS1) || SIBYTE_HDR_FEATURE_CHIP(1480)</span>
<span class="cp">#define S_MAC_RX_CRC_OFFSET     _SB_MAKE64(16)</span>
<span class="cp">#define M_MAC_RX_CRC_OFFSET     _SB_MAKEMASK(8, S_MAC_RX_CRC_OFFSET)</span>
<span class="cp">#define V_MAC_RX_CRC_OFFSET(x)	_SB_MAKEVALUE(x, S_MAC_RX_CRC_OFFSET)</span>
<span class="cp">#define G_MAC_RX_CRC_OFFSET(x)	_SB_GETVALUE(x, S_MAC_RX_CRC_OFFSET, M_MAC_RX_CRC_OFFSET)</span>

<span class="cp">#define S_MAC_RX_PKT_OFFSET     _SB_MAKE64(24)</span>
<span class="cp">#define M_MAC_RX_PKT_OFFSET     _SB_MAKEMASK(8, S_MAC_RX_PKT_OFFSET)</span>
<span class="cp">#define V_MAC_RX_PKT_OFFSET(x)	_SB_MAKEVALUE(x, S_MAC_RX_PKT_OFFSET)</span>
<span class="cp">#define G_MAC_RX_PKT_OFFSET(x)	_SB_GETVALUE(x, S_MAC_RX_PKT_OFFSET, M_MAC_RX_PKT_OFFSET)</span>

<span class="cp">#define M_MAC_FWDPAUSE_EN	_SB_MAKEMASK1(32)</span>
<span class="cp">#define M_MAC_VLAN_DET_EN	_SB_MAKEMASK1(33)</span>

<span class="cp">#define S_MAC_RX_CH_MSN_SEL     _SB_MAKE64(34)</span>
<span class="cp">#define M_MAC_RX_CH_MSN_SEL     _SB_MAKEMASK(8, S_MAC_RX_CH_MSN_SEL)</span>
<span class="cp">#define V_MAC_RX_CH_MSN_SEL(x)	_SB_MAKEVALUE(x, S_MAC_RX_CH_MSN_SEL)</span>
<span class="cp">#define G_MAC_RX_CH_MSN_SEL(x)	_SB_GETVALUE(x, S_MAC_RX_CH_MSN_SEL, M_MAC_RX_CH_MSN_SEL)</span>
<span class="cp">#endif </span><span class="cm">/* 1250 PASS3 || 112x PASS1 || 1480 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * MAC Receive Channel Select Registers (Table 9-25)</span>
<span class="cm"> */</span>

<span class="cm">/* no bitfields */</span>

<span class="cm">/*</span>
<span class="cm"> * MAC MII Management Interface Registers (Table 9-26)</span>
<span class="cm"> * Register: MAC_MDIO_0</span>
<span class="cm"> * Register: MAC_MDIO_1</span>
<span class="cm"> * Register: MAC_MDIO_2</span>
<span class="cm"> */</span>

<span class="cp">#define S_MAC_MDC		0</span>
<span class="cp">#define S_MAC_MDIO_DIR		1</span>
<span class="cp">#define S_MAC_MDIO_OUT		2</span>
<span class="cp">#define S_MAC_GENC		3</span>
<span class="cp">#define S_MAC_MDIO_IN		4</span>

<span class="cp">#define M_MAC_MDC		_SB_MAKEMASK1(S_MAC_MDC)</span>
<span class="cp">#define M_MAC_MDIO_DIR		_SB_MAKEMASK1(S_MAC_MDIO_DIR)</span>
<span class="cp">#define M_MAC_MDIO_DIR_INPUT	_SB_MAKEMASK1(S_MAC_MDIO_DIR)</span>
<span class="cp">#define M_MAC_MDIO_OUT		_SB_MAKEMASK1(S_MAC_MDIO_OUT)</span>
<span class="cp">#define M_MAC_GENC		_SB_MAKEMASK1(S_MAC_GENC)</span>
<span class="cp">#define M_MAC_MDIO_IN		_SB_MAKEMASK1(S_MAC_MDIO_IN)</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
