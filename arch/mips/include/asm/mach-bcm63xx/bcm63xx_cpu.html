<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › mach-bcm63xx › bcm63xx_cpu.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>bcm63xx_cpu.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef BCM63XX_CPU_H_</span>
<span class="cp">#define BCM63XX_CPU_H_</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;linux/init.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * Macro to fetch bcm63xx cpu id and revision, should be optimized at</span>
<span class="cm"> * compile time if only one CPU support is enabled (idea stolen from</span>
<span class="cm"> * arm mach-types)</span>
<span class="cm"> */</span>
<span class="cp">#define BCM6338_CPU_ID		0x6338</span>
<span class="cp">#define BCM6345_CPU_ID		0x6345</span>
<span class="cp">#define BCM6348_CPU_ID		0x6348</span>
<span class="cp">#define BCM6358_CPU_ID		0x6358</span>
<span class="cp">#define BCM6368_CPU_ID		0x6368</span>

<span class="kt">void</span> <span class="n">__init</span> <span class="n">bcm63xx_cpu_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="n">u16</span> <span class="n">__bcm63xx_get_cpu_id</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="n">u16</span> <span class="n">bcm63xx_get_cpu_rev</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">bcm63xx_get_cpu_freq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6338</span>
<span class="cp"># ifdef bcm63xx_get_cpu_id</span>
<span class="cp">#  undef bcm63xx_get_cpu_id</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	__bcm63xx_get_cpu_id()</span>
<span class="cp">#  define BCMCPU_RUNTIME_DETECT</span>
<span class="cp"># else</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	BCM6338_CPU_ID</span>
<span class="cp"># endif</span>
<span class="cp"># define BCMCPU_IS_6338()	(bcm63xx_get_cpu_id() == BCM6338_CPU_ID)</span>
<span class="cp">#else</span>
<span class="cp"># define BCMCPU_IS_6338()	(0)</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6345</span>
<span class="cp"># ifdef bcm63xx_get_cpu_id</span>
<span class="cp">#  undef bcm63xx_get_cpu_id</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	__bcm63xx_get_cpu_id()</span>
<span class="cp">#  define BCMCPU_RUNTIME_DETECT</span>
<span class="cp"># else</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	BCM6345_CPU_ID</span>
<span class="cp"># endif</span>
<span class="cp"># define BCMCPU_IS_6345()	(bcm63xx_get_cpu_id() == BCM6345_CPU_ID)</span>
<span class="cp">#else</span>
<span class="cp"># define BCMCPU_IS_6345()	(0)</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6348</span>
<span class="cp"># ifdef bcm63xx_get_cpu_id</span>
<span class="cp">#  undef bcm63xx_get_cpu_id</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	__bcm63xx_get_cpu_id()</span>
<span class="cp">#  define BCMCPU_RUNTIME_DETECT</span>
<span class="cp"># else</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	BCM6348_CPU_ID</span>
<span class="cp"># endif</span>
<span class="cp"># define BCMCPU_IS_6348()	(bcm63xx_get_cpu_id() == BCM6348_CPU_ID)</span>
<span class="cp">#else</span>
<span class="cp"># define BCMCPU_IS_6348()	(0)</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6358</span>
<span class="cp"># ifdef bcm63xx_get_cpu_id</span>
<span class="cp">#  undef bcm63xx_get_cpu_id</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	__bcm63xx_get_cpu_id()</span>
<span class="cp">#  define BCMCPU_RUNTIME_DETECT</span>
<span class="cp"># else</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	BCM6358_CPU_ID</span>
<span class="cp"># endif</span>
<span class="cp"># define BCMCPU_IS_6358()	(bcm63xx_get_cpu_id() == BCM6358_CPU_ID)</span>
<span class="cp">#else</span>
<span class="cp"># define BCMCPU_IS_6358()	(0)</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6368</span>
<span class="cp"># ifdef bcm63xx_get_cpu_id</span>
<span class="cp">#  undef bcm63xx_get_cpu_id</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	__bcm63xx_get_cpu_id()</span>
<span class="cp">#  define BCMCPU_RUNTIME_DETECT</span>
<span class="cp"># else</span>
<span class="cp">#  define bcm63xx_get_cpu_id()	BCM6368_CPU_ID</span>
<span class="cp"># endif</span>
<span class="cp"># define BCMCPU_IS_6368()	(bcm63xx_get_cpu_id() == BCM6368_CPU_ID)</span>
<span class="cp">#else</span>
<span class="cp"># define BCMCPU_IS_6368()	(0)</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef bcm63xx_get_cpu_id</span>
<span class="cp">#error &quot;No CPU support configured&quot;</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * While registers sets are (mostly) the same across 63xx CPU, base</span>
<span class="cm"> * address of these sets do change.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">bcm63xx_regs_set</span> <span class="p">{</span>
	<span class="n">RSET_DSL_LMEM</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RSET_PERF</span><span class="p">,</span>
	<span class="n">RSET_TIMER</span><span class="p">,</span>
	<span class="n">RSET_WDT</span><span class="p">,</span>
	<span class="n">RSET_UART0</span><span class="p">,</span>
	<span class="n">RSET_UART1</span><span class="p">,</span>
	<span class="n">RSET_GPIO</span><span class="p">,</span>
	<span class="n">RSET_SPI</span><span class="p">,</span>
	<span class="n">RSET_SPI2</span><span class="p">,</span>
	<span class="n">RSET_UDC0</span><span class="p">,</span>
	<span class="n">RSET_OHCI0</span><span class="p">,</span>
	<span class="n">RSET_OHCI_PRIV</span><span class="p">,</span>
	<span class="n">RSET_USBH_PRIV</span><span class="p">,</span>
	<span class="n">RSET_MPI</span><span class="p">,</span>
	<span class="n">RSET_PCMCIA</span><span class="p">,</span>
	<span class="n">RSET_DSL</span><span class="p">,</span>
	<span class="n">RSET_ENET0</span><span class="p">,</span>
	<span class="n">RSET_ENET1</span><span class="p">,</span>
	<span class="n">RSET_ENETDMA</span><span class="p">,</span>
	<span class="n">RSET_ENETDMAC</span><span class="p">,</span>
	<span class="n">RSET_ENETDMAS</span><span class="p">,</span>
	<span class="n">RSET_ENETSW</span><span class="p">,</span>
	<span class="n">RSET_EHCI0</span><span class="p">,</span>
	<span class="n">RSET_SDRAM</span><span class="p">,</span>
	<span class="n">RSET_MEMC</span><span class="p">,</span>
	<span class="n">RSET_DDR</span><span class="p">,</span>
	<span class="n">RSET_M2M</span><span class="p">,</span>
	<span class="n">RSET_ATM</span><span class="p">,</span>
	<span class="n">RSET_XTM</span><span class="p">,</span>
	<span class="n">RSET_XTMDMA</span><span class="p">,</span>
	<span class="n">RSET_XTMDMAC</span><span class="p">,</span>
	<span class="n">RSET_XTMDMAS</span><span class="p">,</span>
	<span class="n">RSET_PCM</span><span class="p">,</span>
	<span class="n">RSET_PCMDMA</span><span class="p">,</span>
	<span class="n">RSET_PCMDMAC</span><span class="p">,</span>
	<span class="n">RSET_PCMDMAS</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define RSET_DSL_LMEM_SIZE		(64 * 1024 * 4)</span>
<span class="cp">#define RSET_DSL_SIZE			4096</span>
<span class="cp">#define RSET_WDT_SIZE			12</span>
<span class="cp">#define RSET_ENET_SIZE			2048</span>
<span class="cp">#define RSET_ENETDMA_SIZE		2048</span>
<span class="cp">#define RSET_ENETSW_SIZE		65536</span>
<span class="cp">#define RSET_UART_SIZE			24</span>
<span class="cp">#define RSET_UDC_SIZE			256</span>
<span class="cp">#define RSET_OHCI_SIZE			256</span>
<span class="cp">#define RSET_EHCI_SIZE			256</span>
<span class="cp">#define RSET_PCMCIA_SIZE		12</span>
<span class="cp">#define RSET_M2M_SIZE			256</span>
<span class="cp">#define RSET_ATM_SIZE			4096</span>
<span class="cp">#define RSET_XTM_SIZE			10240</span>
<span class="cp">#define RSET_XTMDMA_SIZE		256</span>
<span class="cp">#define RSET_XTMDMAC_SIZE(chans)	(16 * (chans))</span>
<span class="cp">#define RSET_XTMDMAS_SIZE(chans)	(16 * (chans))</span>

<span class="cm">/*</span>
<span class="cm"> * 6338 register sets base address</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6338_DSL_LMEM_BASE		(0xfff00000)</span>
<span class="cp">#define BCM_6338_PERF_BASE		(0xfffe0000)</span>
<span class="cp">#define BCM_6338_BB_BASE		(0xfffe0100)</span>
<span class="cp">#define BCM_6338_TIMER_BASE		(0xfffe0200)</span>
<span class="cp">#define BCM_6338_WDT_BASE		(0xfffe021c)</span>
<span class="cp">#define BCM_6338_UART0_BASE		(0xfffe0300)</span>
<span class="cp">#define BCM_6338_UART1_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_GPIO_BASE		(0xfffe0400)</span>
<span class="cp">#define BCM_6338_SPI_BASE		(0xfffe0c00)</span>
<span class="cp">#define BCM_6338_SPI2_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_UDC0_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_USBDMA_BASE		(0xfffe2400)</span>
<span class="cp">#define BCM_6338_OHCI0_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_OHCI_PRIV_BASE		(0xfffe3000)</span>
<span class="cp">#define BCM_6338_USBH_PRIV_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_MPI_BASE		(0xfffe3160)</span>
<span class="cp">#define BCM_6338_PCMCIA_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_SDRAM_REGS_BASE	(0xfffe3100)</span>
<span class="cp">#define BCM_6338_DSL_BASE		(0xfffe1000)</span>
<span class="cp">#define BCM_6338_UBUS_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_ENET0_BASE		(0xfffe2800)</span>
<span class="cp">#define BCM_6338_ENET1_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_ENETDMA_BASE		(0xfffe2400)</span>
<span class="cp">#define BCM_6338_ENETDMAC_BASE		(0xfffe2500)</span>
<span class="cp">#define BCM_6338_ENETDMAS_BASE		(0xfffe2600)</span>
<span class="cp">#define BCM_6338_ENETSW_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_EHCI0_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_SDRAM_BASE		(0xfffe3100)</span>
<span class="cp">#define BCM_6338_MEMC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_DDR_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_M2M_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_ATM_BASE		(0xfffe2000)</span>
<span class="cp">#define BCM_6338_XTM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_XTMDMA_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_XTMDMAC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_XTMDMAS_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_PCM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_PCMDMA_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_PCMDMAC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6338_PCMDMAS_BASE		(0xdeadbeef)</span>

<span class="cm">/*</span>
<span class="cm"> * 6345 register sets base address</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6345_DSL_LMEM_BASE		(0xfff00000)</span>
<span class="cp">#define BCM_6345_PERF_BASE		(0xfffe0000)</span>
<span class="cp">#define BCM_6345_BB_BASE		(0xfffe0100)</span>
<span class="cp">#define BCM_6345_TIMER_BASE		(0xfffe0200)</span>
<span class="cp">#define BCM_6345_WDT_BASE		(0xfffe021c)</span>
<span class="cp">#define BCM_6345_UART0_BASE		(0xfffe0300)</span>
<span class="cp">#define BCM_6345_UART1_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_GPIO_BASE		(0xfffe0400)</span>
<span class="cp">#define BCM_6345_SPI_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_SPI2_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_UDC0_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_USBDMA_BASE		(0xfffe2800)</span>
<span class="cp">#define BCM_6345_ENET0_BASE		(0xfffe1800)</span>
<span class="cp">#define BCM_6345_ENETDMA_BASE		(0xfffe2800)</span>
<span class="cp">#define BCM_6345_ENETDMAC_BASE		(0xfffe2900)</span>
<span class="cp">#define BCM_6345_ENETDMAS_BASE		(0xfffe2a00)</span>
<span class="cp">#define BCM_6345_ENETSW_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_PCMCIA_BASE		(0xfffe2028)</span>
<span class="cp">#define BCM_6345_MPI_BASE		(0xfffe2000)</span>
<span class="cp">#define BCM_6345_OHCI0_BASE		(0xfffe2100)</span>
<span class="cp">#define BCM_6345_OHCI_PRIV_BASE		(0xfffe2200)</span>
<span class="cp">#define BCM_6345_USBH_PRIV_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_SDRAM_REGS_BASE	(0xfffe2300)</span>
<span class="cp">#define BCM_6345_DSL_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_UBUS_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_ENET1_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_EHCI0_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_SDRAM_BASE		(0xfffe2300)</span>
<span class="cp">#define BCM_6345_MEMC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_DDR_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_M2M_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_ATM_BASE		(0xfffe4000)</span>
<span class="cp">#define BCM_6345_XTM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_XTMDMA_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_XTMDMAC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_XTMDMAS_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_PCM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_PCMDMA_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_PCMDMAC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6345_PCMDMAS_BASE		(0xdeadbeef)</span>

<span class="cm">/*</span>
<span class="cm"> * 6348 register sets base address</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6348_DSL_LMEM_BASE		(0xfff00000)</span>
<span class="cp">#define BCM_6348_PERF_BASE		(0xfffe0000)</span>
<span class="cp">#define BCM_6348_TIMER_BASE		(0xfffe0200)</span>
<span class="cp">#define BCM_6348_WDT_BASE		(0xfffe021c)</span>
<span class="cp">#define BCM_6348_UART0_BASE		(0xfffe0300)</span>
<span class="cp">#define BCM_6348_UART1_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_GPIO_BASE		(0xfffe0400)</span>
<span class="cp">#define BCM_6348_SPI_BASE		(0xfffe0c00)</span>
<span class="cp">#define BCM_6348_SPI2_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_UDC0_BASE		(0xfffe1000)</span>
<span class="cp">#define BCM_6348_OHCI0_BASE		(0xfffe1b00)</span>
<span class="cp">#define BCM_6348_OHCI_PRIV_BASE		(0xfffe1c00)</span>
<span class="cp">#define BCM_6348_USBH_PRIV_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_MPI_BASE		(0xfffe2000)</span>
<span class="cp">#define BCM_6348_PCMCIA_BASE		(0xfffe2054)</span>
<span class="cp">#define BCM_6348_SDRAM_REGS_BASE	(0xfffe2300)</span>
<span class="cp">#define BCM_6348_M2M_BASE		(0xfffe2800)</span>
<span class="cp">#define BCM_6348_DSL_BASE		(0xfffe3000)</span>
<span class="cp">#define BCM_6348_ENET0_BASE		(0xfffe6000)</span>
<span class="cp">#define BCM_6348_ENET1_BASE		(0xfffe6800)</span>
<span class="cp">#define BCM_6348_ENETDMA_BASE		(0xfffe7000)</span>
<span class="cp">#define BCM_6348_ENETDMAC_BASE		(0xfffe7100)</span>
<span class="cp">#define BCM_6348_ENETDMAS_BASE		(0xfffe7200)</span>
<span class="cp">#define BCM_6348_ENETSW_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_EHCI0_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_SDRAM_BASE		(0xfffe2300)</span>
<span class="cp">#define BCM_6348_MEMC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_DDR_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_ATM_BASE		(0xfffe4000)</span>
<span class="cp">#define BCM_6348_XTM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_XTMDMA_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_XTMDMAC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_XTMDMAS_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_PCM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_PCMDMA_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_PCMDMAC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6348_PCMDMAS_BASE		(0xdeadbeef)</span>

<span class="cm">/*</span>
<span class="cm"> * 6358 register sets base address</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6358_DSL_LMEM_BASE		(0xfff00000)</span>
<span class="cp">#define BCM_6358_PERF_BASE		(0xfffe0000)</span>
<span class="cp">#define BCM_6358_TIMER_BASE		(0xfffe0040)</span>
<span class="cp">#define BCM_6358_WDT_BASE		(0xfffe005c)</span>
<span class="cp">#define BCM_6358_UART0_BASE		(0xfffe0100)</span>
<span class="cp">#define BCM_6358_UART1_BASE		(0xfffe0120)</span>
<span class="cp">#define BCM_6358_GPIO_BASE		(0xfffe0080)</span>
<span class="cp">#define BCM_6358_SPI_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_SPI2_BASE		(0xfffe0800)</span>
<span class="cp">#define BCM_6358_UDC0_BASE		(0xfffe0800)</span>
<span class="cp">#define BCM_6358_OHCI0_BASE		(0xfffe1400)</span>
<span class="cp">#define BCM_6358_OHCI_PRIV_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_USBH_PRIV_BASE		(0xfffe1500)</span>
<span class="cp">#define BCM_6358_MPI_BASE		(0xfffe1000)</span>
<span class="cp">#define BCM_6358_PCMCIA_BASE		(0xfffe1054)</span>
<span class="cp">#define BCM_6358_SDRAM_REGS_BASE	(0xfffe2300)</span>
<span class="cp">#define BCM_6358_M2M_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_DSL_BASE		(0xfffe3000)</span>
<span class="cp">#define BCM_6358_ENET0_BASE		(0xfffe4000)</span>
<span class="cp">#define BCM_6358_ENET1_BASE		(0xfffe4800)</span>
<span class="cp">#define BCM_6358_ENETDMA_BASE		(0xfffe5000)</span>
<span class="cp">#define BCM_6358_ENETDMAC_BASE		(0xfffe5100)</span>
<span class="cp">#define BCM_6358_ENETDMAS_BASE		(0xfffe5200)</span>
<span class="cp">#define BCM_6358_ENETSW_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_EHCI0_BASE		(0xfffe1300)</span>
<span class="cp">#define BCM_6358_SDRAM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_MEMC_BASE		(0xfffe1200)</span>
<span class="cp">#define BCM_6358_DDR_BASE		(0xfffe12a0)</span>
<span class="cp">#define BCM_6358_ATM_BASE		(0xfffe2000)</span>
<span class="cp">#define BCM_6358_XTM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_XTMDMA_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_XTMDMAC_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_XTMDMAS_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6358_PCM_BASE		(0xfffe1600)</span>
<span class="cp">#define BCM_6358_PCMDMA_BASE		(0xfffe1800)</span>
<span class="cp">#define BCM_6358_PCMDMAC_BASE		(0xfffe1900)</span>
<span class="cp">#define BCM_6358_PCMDMAS_BASE		(0xfffe1a00)</span>


<span class="cm">/*</span>
<span class="cm"> * 6368 register sets base address</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6368_DSL_LMEM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_PERF_BASE		(0xb0000000)</span>
<span class="cp">#define BCM_6368_TIMER_BASE		(0xb0000040)</span>
<span class="cp">#define BCM_6368_WDT_BASE		(0xb000005c)</span>
<span class="cp">#define BCM_6368_UART0_BASE		(0xb0000100)</span>
<span class="cp">#define BCM_6368_UART1_BASE		(0xb0000120)</span>
<span class="cp">#define BCM_6368_GPIO_BASE		(0xb0000080)</span>
<span class="cp">#define BCM_6368_SPI_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_SPI2_BASE		(0xb0000800)</span>
<span class="cp">#define BCM_6368_UDC0_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_OHCI0_BASE		(0xb0001600)</span>
<span class="cp">#define BCM_6368_OHCI_PRIV_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_USBH_PRIV_BASE		(0xb0001700)</span>
<span class="cp">#define BCM_6368_MPI_BASE		(0xb0001000)</span>
<span class="cp">#define BCM_6368_PCMCIA_BASE		(0xb0001054)</span>
<span class="cp">#define BCM_6368_SDRAM_REGS_BASE	(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_M2M_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_DSL_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_ENET0_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_ENET1_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_ENETDMA_BASE		(0xb0006800)</span>
<span class="cp">#define BCM_6368_ENETDMAC_BASE		(0xb0006a00)</span>
<span class="cp">#define BCM_6368_ENETDMAS_BASE		(0xb0006c00)</span>
<span class="cp">#define BCM_6368_ENETSW_BASE		(0xb0f00000)</span>
<span class="cp">#define BCM_6368_EHCI0_BASE		(0xb0001500)</span>
<span class="cp">#define BCM_6368_SDRAM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_MEMC_BASE		(0xb0001200)</span>
<span class="cp">#define BCM_6368_DDR_BASE		(0xb0001280)</span>
<span class="cp">#define BCM_6368_ATM_BASE		(0xdeadbeef)</span>
<span class="cp">#define BCM_6368_XTM_BASE		(0xb0001800)</span>
<span class="cp">#define BCM_6368_XTMDMA_BASE		(0xb0005000)</span>
<span class="cp">#define BCM_6368_XTMDMAC_BASE		(0xb0005200)</span>
<span class="cp">#define BCM_6368_XTMDMAS_BASE		(0xb0005400)</span>
<span class="cp">#define BCM_6368_PCM_BASE		(0xb0004000)</span>
<span class="cp">#define BCM_6368_PCMDMA_BASE		(0xb0005800)</span>
<span class="cp">#define BCM_6368_PCMDMAC_BASE		(0xb0005a00)</span>
<span class="cp">#define BCM_6368_PCMDMAS_BASE		(0xb0005c00)</span>


<span class="k">extern</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">bcm63xx_regs_base</span><span class="p">;</span>

<span class="cp">#define __GEN_RSET_BASE(__cpu, __rset)					\</span>
<span class="cp">	case RSET_## __rset :						\</span>
<span class="cp">		return BCM_## __cpu ##_## __rset ##_BASE;</span>

<span class="cp">#define __GEN_RSET(__cpu)						\</span>
<span class="cp">	switch (set) {							\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, DSL_LMEM)				\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, PERF)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, TIMER)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, WDT)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, UART0)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, UART1)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, GPIO)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, SPI)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, SPI2)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, UDC0)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, OHCI0)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, OHCI_PRIV)				\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, USBH_PRIV)				\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, MPI)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, PCMCIA)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, DSL)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, ENET0)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, ENET1)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, ENETDMA)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, ENETDMAC)				\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, ENETDMAS)				\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, ENETSW)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, EHCI0)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, SDRAM)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, MEMC)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, DDR)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, M2M)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, ATM)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, XTM)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, XTMDMA)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, XTMDMAC)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, XTMDMAS)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, PCM)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, PCMDMA)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, PCMDMAC)					\</span>
<span class="cp">	__GEN_RSET_BASE(__cpu, PCMDMAS)					\</span>
<span class="cp">	}</span>

<span class="cp">#define __GEN_CPU_REGS_TABLE(__cpu)					\</span>
<span class="cp">	[RSET_DSL_LMEM]		= BCM_## __cpu ##_DSL_LMEM_BASE,	\</span>
<span class="cp">	[RSET_PERF]		= BCM_## __cpu ##_PERF_BASE,		\</span>
<span class="cp">	[RSET_TIMER]		= BCM_## __cpu ##_TIMER_BASE,		\</span>
<span class="cp">	[RSET_WDT]		= BCM_## __cpu ##_WDT_BASE,		\</span>
<span class="cp">	[RSET_UART0]		= BCM_## __cpu ##_UART0_BASE,		\</span>
<span class="cp">	[RSET_UART1]		= BCM_## __cpu ##_UART1_BASE,		\</span>
<span class="cp">	[RSET_GPIO]		= BCM_## __cpu ##_GPIO_BASE,		\</span>
<span class="cp">	[RSET_SPI]		= BCM_## __cpu ##_SPI_BASE,		\</span>
<span class="cp">	[RSET_SPI2]		= BCM_## __cpu ##_SPI2_BASE,		\</span>
<span class="cp">	[RSET_UDC0]		= BCM_## __cpu ##_UDC0_BASE,		\</span>
<span class="cp">	[RSET_OHCI0]		= BCM_## __cpu ##_OHCI0_BASE,		\</span>
<span class="cp">	[RSET_OHCI_PRIV]	= BCM_## __cpu ##_OHCI_PRIV_BASE,	\</span>
<span class="cp">	[RSET_USBH_PRIV]	= BCM_## __cpu ##_USBH_PRIV_BASE,	\</span>
<span class="cp">	[RSET_MPI]		= BCM_## __cpu ##_MPI_BASE,		\</span>
<span class="cp">	[RSET_PCMCIA]		= BCM_## __cpu ##_PCMCIA_BASE,		\</span>
<span class="cp">	[RSET_DSL]		= BCM_## __cpu ##_DSL_BASE,		\</span>
<span class="cp">	[RSET_ENET0]		= BCM_## __cpu ##_ENET0_BASE,		\</span>
<span class="cp">	[RSET_ENET1]		= BCM_## __cpu ##_ENET1_BASE,		\</span>
<span class="cp">	[RSET_ENETDMA]		= BCM_## __cpu ##_ENETDMA_BASE,		\</span>
<span class="cp">	[RSET_ENETDMAC]		= BCM_## __cpu ##_ENETDMAC_BASE,	\</span>
<span class="cp">	[RSET_ENETDMAS]		= BCM_## __cpu ##_ENETDMAS_BASE,	\</span>
<span class="cp">	[RSET_ENETSW]		= BCM_## __cpu ##_ENETSW_BASE,		\</span>
<span class="cp">	[RSET_EHCI0]		= BCM_## __cpu ##_EHCI0_BASE,		\</span>
<span class="cp">	[RSET_SDRAM]		= BCM_## __cpu ##_SDRAM_BASE,		\</span>
<span class="cp">	[RSET_MEMC]		= BCM_## __cpu ##_MEMC_BASE,		\</span>
<span class="cp">	[RSET_DDR]		= BCM_## __cpu ##_DDR_BASE,		\</span>
<span class="cp">	[RSET_M2M]		= BCM_## __cpu ##_M2M_BASE,		\</span>
<span class="cp">	[RSET_ATM]		= BCM_## __cpu ##_ATM_BASE,		\</span>
<span class="cp">	[RSET_XTM]		= BCM_## __cpu ##_XTM_BASE,		\</span>
<span class="cp">	[RSET_XTMDMA]		= BCM_## __cpu ##_XTMDMA_BASE,		\</span>
<span class="cp">	[RSET_XTMDMAC]		= BCM_## __cpu ##_XTMDMAC_BASE,		\</span>
<span class="cp">	[RSET_XTMDMAS]		= BCM_## __cpu ##_XTMDMAS_BASE,		\</span>
<span class="cp">	[RSET_PCM]		= BCM_## __cpu ##_PCM_BASE,		\</span>
<span class="cp">	[RSET_PCMDMA]		= BCM_## __cpu ##_PCMDMA_BASE,		\</span>
<span class="cp">	[RSET_PCMDMAC]		= BCM_## __cpu ##_PCMDMAC_BASE,		\</span>
<span class="cp">	[RSET_PCMDMAS]		= BCM_## __cpu ##_PCMDMAS_BASE,		\</span>


<span class="k">static</span> <span class="kr">inline</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="nf">bcm63xx_regset_address</span><span class="p">(</span><span class="k">enum</span> <span class="n">bcm63xx_regs_set</span> <span class="n">set</span><span class="p">)</span>
<span class="p">{</span>
<span class="cp">#ifdef BCMCPU_RUNTIME_DETECT</span>
	<span class="k">return</span> <span class="n">bcm63xx_regs_base</span><span class="p">[</span><span class="n">set</span><span class="p">];</span>
<span class="cp">#else</span>
<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6338</span>
	<span class="n">__GEN_RSET</span><span class="p">(</span><span class="mi">6338</span><span class="p">)</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6345</span>
	<span class="n">__GEN_RSET</span><span class="p">(</span><span class="mi">6345</span><span class="p">)</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6348</span>
	<span class="n">__GEN_RSET</span><span class="p">(</span><span class="mi">6348</span><span class="p">)</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6358</span>
	<span class="n">__GEN_RSET</span><span class="p">(</span><span class="mi">6358</span><span class="p">)</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef CONFIG_BCM63XX_CPU_6368</span>
	<span class="n">__GEN_RSET</span><span class="p">(</span><span class="mi">6368</span><span class="p">)</span>
<span class="cp">#endif</span>
<span class="cp">#endif</span>
	<span class="cm">/* unreached */</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * IRQ number changes across CPU too</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">bcm63xx_irq</span> <span class="p">{</span>
	<span class="n">IRQ_TIMER</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">IRQ_UART0</span><span class="p">,</span>
	<span class="n">IRQ_UART1</span><span class="p">,</span>
	<span class="n">IRQ_DSL</span><span class="p">,</span>
	<span class="n">IRQ_ENET0</span><span class="p">,</span>
	<span class="n">IRQ_ENET1</span><span class="p">,</span>
	<span class="n">IRQ_ENET_PHY</span><span class="p">,</span>
	<span class="n">IRQ_OHCI0</span><span class="p">,</span>
	<span class="n">IRQ_EHCI0</span><span class="p">,</span>
	<span class="n">IRQ_ENET0_RXDMA</span><span class="p">,</span>
	<span class="n">IRQ_ENET0_TXDMA</span><span class="p">,</span>
	<span class="n">IRQ_ENET1_RXDMA</span><span class="p">,</span>
	<span class="n">IRQ_ENET1_TXDMA</span><span class="p">,</span>
	<span class="n">IRQ_PCI</span><span class="p">,</span>
	<span class="n">IRQ_PCMCIA</span><span class="p">,</span>
	<span class="n">IRQ_ATM</span><span class="p">,</span>
	<span class="n">IRQ_ENETSW_RXDMA0</span><span class="p">,</span>
	<span class="n">IRQ_ENETSW_RXDMA1</span><span class="p">,</span>
	<span class="n">IRQ_ENETSW_RXDMA2</span><span class="p">,</span>
	<span class="n">IRQ_ENETSW_RXDMA3</span><span class="p">,</span>
	<span class="n">IRQ_ENETSW_TXDMA0</span><span class="p">,</span>
	<span class="n">IRQ_ENETSW_TXDMA1</span><span class="p">,</span>
	<span class="n">IRQ_ENETSW_TXDMA2</span><span class="p">,</span>
	<span class="n">IRQ_ENETSW_TXDMA3</span><span class="p">,</span>
	<span class="n">IRQ_XTM</span><span class="p">,</span>
	<span class="n">IRQ_XTM_DMA0</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * 6338 irqs</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6338_TIMER_IRQ		(IRQ_INTERNAL_BASE + 0)</span>
<span class="cp">#define BCM_6338_UART0_IRQ		(IRQ_INTERNAL_BASE + 2)</span>
<span class="cp">#define BCM_6338_UART1_IRQ		0</span>
<span class="cp">#define BCM_6338_DSL_IRQ		(IRQ_INTERNAL_BASE + 5)</span>
<span class="cp">#define BCM_6338_ENET0_IRQ		(IRQ_INTERNAL_BASE + 8)</span>
<span class="cp">#define BCM_6338_ENET1_IRQ		0</span>
<span class="cp">#define BCM_6338_ENET_PHY_IRQ		(IRQ_INTERNAL_BASE + 9)</span>
<span class="cp">#define BCM_6338_OHCI0_IRQ		0</span>
<span class="cp">#define BCM_6338_EHCI0_IRQ		0</span>
<span class="cp">#define BCM_6338_ENET0_RXDMA_IRQ	(IRQ_INTERNAL_BASE + 15)</span>
<span class="cp">#define BCM_6338_ENET0_TXDMA_IRQ	(IRQ_INTERNAL_BASE + 16)</span>
<span class="cp">#define BCM_6338_ENET1_RXDMA_IRQ	0</span>
<span class="cp">#define BCM_6338_ENET1_TXDMA_IRQ	0</span>
<span class="cp">#define BCM_6338_PCI_IRQ		0</span>
<span class="cp">#define BCM_6338_PCMCIA_IRQ		0</span>
<span class="cp">#define BCM_6338_ATM_IRQ		0</span>
<span class="cp">#define BCM_6338_ENETSW_RXDMA0_IRQ	0</span>
<span class="cp">#define BCM_6338_ENETSW_RXDMA1_IRQ	0</span>
<span class="cp">#define BCM_6338_ENETSW_RXDMA2_IRQ	0</span>
<span class="cp">#define BCM_6338_ENETSW_RXDMA3_IRQ	0</span>
<span class="cp">#define BCM_6338_ENETSW_TXDMA0_IRQ	0</span>
<span class="cp">#define BCM_6338_ENETSW_TXDMA1_IRQ	0</span>
<span class="cp">#define BCM_6338_ENETSW_TXDMA2_IRQ	0</span>
<span class="cp">#define BCM_6338_ENETSW_TXDMA3_IRQ	0</span>
<span class="cp">#define BCM_6338_XTM_IRQ		0</span>
<span class="cp">#define BCM_6338_XTM_DMA0_IRQ		0</span>

<span class="cm">/*</span>
<span class="cm"> * 6345 irqs</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6345_TIMER_IRQ		(IRQ_INTERNAL_BASE + 0)</span>
<span class="cp">#define BCM_6345_UART0_IRQ		(IRQ_INTERNAL_BASE + 2)</span>
<span class="cp">#define BCM_6345_UART1_IRQ		0</span>
<span class="cp">#define BCM_6345_DSL_IRQ		(IRQ_INTERNAL_BASE + 3)</span>
<span class="cp">#define BCM_6345_ENET0_IRQ		(IRQ_INTERNAL_BASE + 8)</span>
<span class="cp">#define BCM_6345_ENET1_IRQ		0</span>
<span class="cp">#define BCM_6345_ENET_PHY_IRQ		(IRQ_INTERNAL_BASE + 12)</span>
<span class="cp">#define BCM_6345_OHCI0_IRQ		0</span>
<span class="cp">#define BCM_6345_EHCI0_IRQ		0</span>
<span class="cp">#define BCM_6345_ENET0_RXDMA_IRQ	(IRQ_INTERNAL_BASE + 13 + 1)</span>
<span class="cp">#define BCM_6345_ENET0_TXDMA_IRQ	(IRQ_INTERNAL_BASE + 13 + 2)</span>
<span class="cp">#define BCM_6345_ENET1_RXDMA_IRQ	0</span>
<span class="cp">#define BCM_6345_ENET1_TXDMA_IRQ	0</span>
<span class="cp">#define BCM_6345_PCI_IRQ		0</span>
<span class="cp">#define BCM_6345_PCMCIA_IRQ		0</span>
<span class="cp">#define BCM_6345_ATM_IRQ		0</span>
<span class="cp">#define BCM_6345_ENETSW_RXDMA0_IRQ	0</span>
<span class="cp">#define BCM_6345_ENETSW_RXDMA1_IRQ	0</span>
<span class="cp">#define BCM_6345_ENETSW_RXDMA2_IRQ	0</span>
<span class="cp">#define BCM_6345_ENETSW_RXDMA3_IRQ	0</span>
<span class="cp">#define BCM_6345_ENETSW_TXDMA0_IRQ	0</span>
<span class="cp">#define BCM_6345_ENETSW_TXDMA1_IRQ	0</span>
<span class="cp">#define BCM_6345_ENETSW_TXDMA2_IRQ	0</span>
<span class="cp">#define BCM_6345_ENETSW_TXDMA3_IRQ	0</span>
<span class="cp">#define BCM_6345_XTM_IRQ		0</span>
<span class="cp">#define BCM_6345_XTM_DMA0_IRQ		0</span>

<span class="cm">/*</span>
<span class="cm"> * 6348 irqs</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6348_TIMER_IRQ		(IRQ_INTERNAL_BASE + 0)</span>
<span class="cp">#define BCM_6348_UART0_IRQ		(IRQ_INTERNAL_BASE + 2)</span>
<span class="cp">#define BCM_6348_UART1_IRQ		0</span>
<span class="cp">#define BCM_6348_DSL_IRQ		(IRQ_INTERNAL_BASE + 4)</span>
<span class="cp">#define BCM_6348_ENET0_IRQ		(IRQ_INTERNAL_BASE + 8)</span>
<span class="cp">#define BCM_6348_ENET1_IRQ		(IRQ_INTERNAL_BASE + 7)</span>
<span class="cp">#define BCM_6348_ENET_PHY_IRQ		(IRQ_INTERNAL_BASE + 9)</span>
<span class="cp">#define BCM_6348_OHCI0_IRQ		(IRQ_INTERNAL_BASE + 12)</span>
<span class="cp">#define BCM_6348_EHCI0_IRQ		0</span>
<span class="cp">#define BCM_6348_ENET0_RXDMA_IRQ	(IRQ_INTERNAL_BASE + 20)</span>
<span class="cp">#define BCM_6348_ENET0_TXDMA_IRQ	(IRQ_INTERNAL_BASE + 21)</span>
<span class="cp">#define BCM_6348_ENET1_RXDMA_IRQ	(IRQ_INTERNAL_BASE + 22)</span>
<span class="cp">#define BCM_6348_ENET1_TXDMA_IRQ	(IRQ_INTERNAL_BASE + 23)</span>
<span class="cp">#define BCM_6348_PCI_IRQ		(IRQ_INTERNAL_BASE + 24)</span>
<span class="cp">#define BCM_6348_PCMCIA_IRQ		(IRQ_INTERNAL_BASE + 24)</span>
<span class="cp">#define BCM_6348_ATM_IRQ		(IRQ_INTERNAL_BASE + 5)</span>
<span class="cp">#define BCM_6348_ENETSW_RXDMA0_IRQ	0</span>
<span class="cp">#define BCM_6348_ENETSW_RXDMA1_IRQ	0</span>
<span class="cp">#define BCM_6348_ENETSW_RXDMA2_IRQ	0</span>
<span class="cp">#define BCM_6348_ENETSW_RXDMA3_IRQ	0</span>
<span class="cp">#define BCM_6348_ENETSW_TXDMA0_IRQ	0</span>
<span class="cp">#define BCM_6348_ENETSW_TXDMA1_IRQ	0</span>
<span class="cp">#define BCM_6348_ENETSW_TXDMA2_IRQ	0</span>
<span class="cp">#define BCM_6348_ENETSW_TXDMA3_IRQ	0</span>
<span class="cp">#define BCM_6348_XTM_IRQ		0</span>
<span class="cp">#define BCM_6348_XTM_DMA0_IRQ		0</span>

<span class="cm">/*</span>
<span class="cm"> * 6358 irqs</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6358_TIMER_IRQ		(IRQ_INTERNAL_BASE + 0)</span>
<span class="cp">#define BCM_6358_UART0_IRQ		(IRQ_INTERNAL_BASE + 2)</span>
<span class="cp">#define BCM_6358_UART1_IRQ		(IRQ_INTERNAL_BASE + 3)</span>
<span class="cp">#define BCM_6358_DSL_IRQ		(IRQ_INTERNAL_BASE + 29)</span>
<span class="cp">#define BCM_6358_ENET0_IRQ		(IRQ_INTERNAL_BASE + 8)</span>
<span class="cp">#define BCM_6358_ENET1_IRQ		(IRQ_INTERNAL_BASE + 6)</span>
<span class="cp">#define BCM_6358_ENET_PHY_IRQ		(IRQ_INTERNAL_BASE + 9)</span>
<span class="cp">#define BCM_6358_OHCI0_IRQ		(IRQ_INTERNAL_BASE + 5)</span>
<span class="cp">#define BCM_6358_EHCI0_IRQ		(IRQ_INTERNAL_BASE + 10)</span>
<span class="cp">#define BCM_6358_ENET0_RXDMA_IRQ	(IRQ_INTERNAL_BASE + 15)</span>
<span class="cp">#define BCM_6358_ENET0_TXDMA_IRQ	(IRQ_INTERNAL_BASE + 16)</span>
<span class="cp">#define BCM_6358_ENET1_RXDMA_IRQ	(IRQ_INTERNAL_BASE + 17)</span>
<span class="cp">#define BCM_6358_ENET1_TXDMA_IRQ	(IRQ_INTERNAL_BASE + 18)</span>
<span class="cp">#define BCM_6358_PCI_IRQ		(IRQ_INTERNAL_BASE + 31)</span>
<span class="cp">#define BCM_6358_PCMCIA_IRQ		(IRQ_INTERNAL_BASE + 24)</span>
<span class="cp">#define BCM_6358_ATM_IRQ		(IRQ_INTERNAL_BASE + 19)</span>
<span class="cp">#define BCM_6358_ENETSW_RXDMA0_IRQ	0</span>
<span class="cp">#define BCM_6358_ENETSW_RXDMA1_IRQ	0</span>
<span class="cp">#define BCM_6358_ENETSW_RXDMA2_IRQ	0</span>
<span class="cp">#define BCM_6358_ENETSW_RXDMA3_IRQ	0</span>
<span class="cp">#define BCM_6358_ENETSW_TXDMA0_IRQ	0</span>
<span class="cp">#define BCM_6358_ENETSW_TXDMA1_IRQ	0</span>
<span class="cp">#define BCM_6358_ENETSW_TXDMA2_IRQ	0</span>
<span class="cp">#define BCM_6358_ENETSW_TXDMA3_IRQ	0</span>
<span class="cp">#define BCM_6358_XTM_IRQ		0</span>
<span class="cp">#define BCM_6358_XTM_DMA0_IRQ		0</span>

<span class="cp">#define BCM_6358_PCM_DMA0_IRQ		(IRQ_INTERNAL_BASE + 23)</span>
<span class="cp">#define BCM_6358_PCM_DMA1_IRQ		(IRQ_INTERNAL_BASE + 24)</span>
<span class="cp">#define BCM_6358_EXT_IRQ0		(IRQ_INTERNAL_BASE + 25)</span>
<span class="cp">#define BCM_6358_EXT_IRQ1		(IRQ_INTERNAL_BASE + 26)</span>
<span class="cp">#define BCM_6358_EXT_IRQ2		(IRQ_INTERNAL_BASE + 27)</span>
<span class="cp">#define BCM_6358_EXT_IRQ3		(IRQ_INTERNAL_BASE + 28)</span>

<span class="cm">/*</span>
<span class="cm"> * 6368 irqs</span>
<span class="cm"> */</span>
<span class="cp">#define BCM_6368_HIGH_IRQ_BASE		(IRQ_INTERNAL_BASE + 32)</span>

<span class="cp">#define BCM_6368_TIMER_IRQ		(IRQ_INTERNAL_BASE + 0)</span>
<span class="cp">#define BCM_6368_UART0_IRQ		(IRQ_INTERNAL_BASE + 2)</span>
<span class="cp">#define BCM_6368_UART1_IRQ		(IRQ_INTERNAL_BASE + 3)</span>
<span class="cp">#define BCM_6368_DSL_IRQ		(IRQ_INTERNAL_BASE + 4)</span>
<span class="cp">#define BCM_6368_ENET0_IRQ		0</span>
<span class="cp">#define BCM_6368_ENET1_IRQ		0</span>
<span class="cp">#define BCM_6368_ENET_PHY_IRQ		(IRQ_INTERNAL_BASE + 15)</span>
<span class="cp">#define BCM_6368_OHCI0_IRQ		(IRQ_INTERNAL_BASE + 5)</span>
<span class="cp">#define BCM_6368_EHCI0_IRQ		(IRQ_INTERNAL_BASE + 7)</span>
<span class="cp">#define BCM_6368_PCMCIA_IRQ		0</span>
<span class="cp">#define BCM_6368_ENET0_RXDMA_IRQ	0</span>
<span class="cp">#define BCM_6368_ENET0_TXDMA_IRQ	0</span>
<span class="cp">#define BCM_6368_ENET1_RXDMA_IRQ	0</span>
<span class="cp">#define BCM_6368_ENET1_TXDMA_IRQ	0</span>
<span class="cp">#define BCM_6368_PCI_IRQ		(IRQ_INTERNAL_BASE + 13)</span>
<span class="cp">#define BCM_6368_ATM_IRQ		0</span>
<span class="cp">#define BCM_6368_ENETSW_RXDMA0_IRQ	(BCM_6368_HIGH_IRQ_BASE + 0)</span>
<span class="cp">#define BCM_6368_ENETSW_RXDMA1_IRQ	(BCM_6368_HIGH_IRQ_BASE + 1)</span>
<span class="cp">#define BCM_6368_ENETSW_RXDMA2_IRQ	(BCM_6368_HIGH_IRQ_BASE + 2)</span>
<span class="cp">#define BCM_6368_ENETSW_RXDMA3_IRQ	(BCM_6368_HIGH_IRQ_BASE + 3)</span>
<span class="cp">#define BCM_6368_ENETSW_TXDMA0_IRQ	(BCM_6368_HIGH_IRQ_BASE + 4)</span>
<span class="cp">#define BCM_6368_ENETSW_TXDMA1_IRQ	(BCM_6368_HIGH_IRQ_BASE + 5)</span>
<span class="cp">#define BCM_6368_ENETSW_TXDMA2_IRQ	(BCM_6368_HIGH_IRQ_BASE + 6)</span>
<span class="cp">#define BCM_6368_ENETSW_TXDMA3_IRQ	(BCM_6368_HIGH_IRQ_BASE + 7)</span>
<span class="cp">#define BCM_6368_XTM_IRQ		(IRQ_INTERNAL_BASE + 11)</span>
<span class="cp">#define BCM_6368_XTM_DMA0_IRQ		(BCM_6368_HIGH_IRQ_BASE + 8)</span>

<span class="cp">#define BCM_6368_PCM_DMA0_IRQ		(BCM_6368_HIGH_IRQ_BASE + 30)</span>
<span class="cp">#define BCM_6368_PCM_DMA1_IRQ		(BCM_6368_HIGH_IRQ_BASE + 31)</span>
<span class="cp">#define BCM_6368_EXT_IRQ0		(IRQ_INTERNAL_BASE + 20)</span>
<span class="cp">#define BCM_6368_EXT_IRQ1		(IRQ_INTERNAL_BASE + 21)</span>
<span class="cp">#define BCM_6368_EXT_IRQ2		(IRQ_INTERNAL_BASE + 22)</span>
<span class="cp">#define BCM_6368_EXT_IRQ3		(IRQ_INTERNAL_BASE + 23)</span>
<span class="cp">#define BCM_6368_EXT_IRQ4		(IRQ_INTERNAL_BASE + 24)</span>
<span class="cp">#define BCM_6368_EXT_IRQ5		(IRQ_INTERNAL_BASE + 25)</span>

<span class="k">extern</span> <span class="k">const</span> <span class="kt">int</span> <span class="o">*</span><span class="n">bcm63xx_irqs</span><span class="p">;</span>

<span class="cp">#define __GEN_CPU_IRQ_TABLE(__cpu)					\</span>
<span class="cp">	[IRQ_TIMER]		= BCM_## __cpu ##_TIMER_IRQ,		\</span>
<span class="cp">	[IRQ_UART0]		= BCM_## __cpu ##_UART0_IRQ,		\</span>
<span class="cp">	[IRQ_UART1]		= BCM_## __cpu ##_UART1_IRQ,		\</span>
<span class="cp">	[IRQ_DSL]		= BCM_## __cpu ##_DSL_IRQ,		\</span>
<span class="cp">	[IRQ_ENET0]		= BCM_## __cpu ##_ENET0_IRQ,		\</span>
<span class="cp">	[IRQ_ENET1]		= BCM_## __cpu ##_ENET1_IRQ,		\</span>
<span class="cp">	[IRQ_ENET_PHY]		= BCM_## __cpu ##_ENET_PHY_IRQ,		\</span>
<span class="cp">	[IRQ_OHCI0]		= BCM_## __cpu ##_OHCI0_IRQ,		\</span>
<span class="cp">	[IRQ_EHCI0]		= BCM_## __cpu ##_EHCI0_IRQ,		\</span>
<span class="cp">	[IRQ_ENET0_RXDMA]	= BCM_## __cpu ##_ENET0_RXDMA_IRQ,	\</span>
<span class="cp">	[IRQ_ENET0_TXDMA]	= BCM_## __cpu ##_ENET0_TXDMA_IRQ,	\</span>
<span class="cp">	[IRQ_ENET1_RXDMA]	= BCM_## __cpu ##_ENET1_RXDMA_IRQ,	\</span>
<span class="cp">	[IRQ_ENET1_TXDMA]	= BCM_## __cpu ##_ENET1_TXDMA_IRQ,	\</span>
<span class="cp">	[IRQ_PCI]		= BCM_## __cpu ##_PCI_IRQ,		\</span>
<span class="cp">	[IRQ_PCMCIA]		= BCM_## __cpu ##_PCMCIA_IRQ,		\</span>
<span class="cp">	[IRQ_ATM]		= BCM_## __cpu ##_ATM_IRQ,		\</span>
<span class="cp">	[IRQ_ENETSW_RXDMA0]	= BCM_## __cpu ##_ENETSW_RXDMA0_IRQ,	\</span>
<span class="cp">	[IRQ_ENETSW_RXDMA1]	= BCM_## __cpu ##_ENETSW_RXDMA1_IRQ,	\</span>
<span class="cp">	[IRQ_ENETSW_RXDMA2]	= BCM_## __cpu ##_ENETSW_RXDMA2_IRQ,	\</span>
<span class="cp">	[IRQ_ENETSW_RXDMA3]	= BCM_## __cpu ##_ENETSW_RXDMA3_IRQ,	\</span>
<span class="cp">	[IRQ_ENETSW_TXDMA0]	= BCM_## __cpu ##_ENETSW_TXDMA0_IRQ,	\</span>
<span class="cp">	[IRQ_ENETSW_TXDMA1]	= BCM_## __cpu ##_ENETSW_TXDMA1_IRQ,	\</span>
<span class="cp">	[IRQ_ENETSW_TXDMA2]	= BCM_## __cpu ##_ENETSW_TXDMA2_IRQ,	\</span>
<span class="cp">	[IRQ_ENETSW_TXDMA3]	= BCM_## __cpu ##_ENETSW_TXDMA3_IRQ,	\</span>
<span class="cp">	[IRQ_XTM]		= BCM_## __cpu ##_XTM_IRQ,		\</span>
<span class="cp">	[IRQ_XTM_DMA0]		= BCM_## __cpu ##_XTM_DMA0_IRQ,		\</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">bcm63xx_get_irq_number</span><span class="p">(</span><span class="k">enum</span> <span class="n">bcm63xx_irq</span> <span class="n">irq</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">bcm63xx_irqs</span><span class="p">[</span><span class="n">irq</span><span class="p">];</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * return installed memory size</span>
<span class="cm"> */</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">bcm63xx_get_memory_size</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">bcm63xx_machine_halt</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">bcm63xx_machine_reboot</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* !BCM63XX_CPU_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
