<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › include › asm › mach-pnx8550 › nand.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>nand.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef __PNX8550_NAND_H</span>
<span class="cp">#define __PNX8550_NAND_H</span>

<span class="cp">#define PNX8550_NAND_BASE_ADDR   0x10000000</span>
<span class="cp">#define PNX8550_PCIXIO_BASE	 0xBBE40000</span>

<span class="cp">#define PNX8550_DMA_EXT_ADDR     *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x800)</span>
<span class="cp">#define PNX8550_DMA_INT_ADDR     *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x804)</span>
<span class="cp">#define PNX8550_DMA_TRANS_SIZE   *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x808)</span>
<span class="cp">#define PNX8550_DMA_CTRL         *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x80c)</span>
<span class="cp">#define PNX8550_XIO_SEL0         *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x814)</span>
<span class="cp">#define PNX8550_GPXIO_ADDR       *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x820)</span>
<span class="cp">#define PNX8550_GPXIO_WR         *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x824)</span>
<span class="cp">#define PNX8550_GPXIO_RD         *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x828)</span>
<span class="cp">#define PNX8550_GPXIO_CTRL       *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x82C)</span>
<span class="cp">#define PNX8550_XIO_FLASH_CTRL   *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0x830)</span>
<span class="cp">#define PNX8550_GPXIO_INT_STATUS *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0xfb0)</span>
<span class="cp">#define PNX8550_GPXIO_INT_ENABLE *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0xfb4)</span>
<span class="cp">#define PNX8550_GPXIO_INT_CLEAR  *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0xfb8)</span>
<span class="cp">#define PNX8550_DMA_INT_STATUS   *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0xfd0)</span>
<span class="cp">#define PNX8550_DMA_INT_ENABLE   *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0xfd4)</span>
<span class="cp">#define PNX8550_DMA_INT_CLEAR    *(volatile unsigned long *)(PNX8550_PCIXIO_BASE + 0xfd8)</span>

<span class="cp">#define PNX8550_XIO_SEL0_EN_16BIT    0x00800000</span>
<span class="cp">#define PNX8550_XIO_SEL0_USE_ACK     0x00400000</span>
<span class="cp">#define PNX8550_XIO_SEL0_REN_HIGH    0x00100000</span>
<span class="cp">#define PNX8550_XIO_SEL0_REN_LOW     0x00040000</span>
<span class="cp">#define PNX8550_XIO_SEL0_WEN_HIGH    0x00010000</span>
<span class="cp">#define PNX8550_XIO_SEL0_WEN_LOW     0x00004000</span>
<span class="cp">#define PNX8550_XIO_SEL0_WAIT        0x00000200</span>
<span class="cp">#define PNX8550_XIO_SEL0_OFFSET      0x00000020</span>
<span class="cp">#define PNX8550_XIO_SEL0_TYPE_68360  0x00000000</span>
<span class="cp">#define PNX8550_XIO_SEL0_TYPE_NOR    0x00000008</span>
<span class="cp">#define PNX8550_XIO_SEL0_TYPE_NAND   0x00000010</span>
<span class="cp">#define PNX8550_XIO_SEL0_TYPE_IDE    0x00000018</span>
<span class="cp">#define PNX8550_XIO_SEL0_SIZE_8MB    0x00000000</span>
<span class="cp">#define PNX8550_XIO_SEL0_SIZE_16MB   0x00000002</span>
<span class="cp">#define PNX8550_XIO_SEL0_SIZE_32MB   0x00000004</span>
<span class="cp">#define PNX8550_XIO_SEL0_SIZE_64MB   0x00000006</span>
<span class="cp">#define PNX8550_XIO_SEL0_ENAB        0x00000001</span>

<span class="cp">#define PNX8550_SEL0_DEFAULT ((PNX8550_XIO_SEL0_EN_16BIT)  | \</span>
<span class="cp">                              (PNX8550_XIO_SEL0_REN_HIGH*0)| \</span>
<span class="cp">	                      (PNX8550_XIO_SEL0_REN_LOW*2) | \</span>
<span class="cp">	                      (PNX8550_XIO_SEL0_WEN_HIGH*0)| \</span>
<span class="cp">                              (PNX8550_XIO_SEL0_WEN_LOW*2) | \</span>
<span class="cp">	                      (PNX8550_XIO_SEL0_WAIT*4)    | \</span>
<span class="cp">			      (PNX8550_XIO_SEL0_OFFSET*0)  | \</span>
<span class="cp">			      (PNX8550_XIO_SEL0_TYPE_NAND) | \</span>
<span class="cp">			      (PNX8550_XIO_SEL0_SIZE_32MB) | \</span>
<span class="cp">			      (PNX8550_XIO_SEL0_ENAB))</span>

<span class="cp">#define PNX8550_GPXIO_PENDING        0x00000200</span>
<span class="cp">#define PNX8550_GPXIO_DONE           0x00000100</span>
<span class="cp">#define PNX8550_GPXIO_CLR_DONE       0x00000080</span>
<span class="cp">#define PNX8550_GPXIO_INIT           0x00000040</span>
<span class="cp">#define PNX8550_GPXIO_READ_CMD       0x00000010</span>
<span class="cp">#define PNX8550_GPXIO_BEN            0x0000000F</span>

<span class="cp">#define PNX8550_XIO_FLASH_64MB       0x00200000</span>
<span class="cp">#define PNX8550_XIO_FLASH_INC_DATA   0x00100000</span>
<span class="cp">#define PNX8550_XIO_FLASH_CMD_PH     0x000C0000</span>
<span class="cp">#define PNX8550_XIO_FLASH_CMD_PH2    0x00080000</span>
<span class="cp">#define PNX8550_XIO_FLASH_CMD_PH1    0x00040000</span>
<span class="cp">#define PNX8550_XIO_FLASH_CMD_PH0    0x00000000</span>
<span class="cp">#define PNX8550_XIO_FLASH_ADR_PH     0x00030000</span>
<span class="cp">#define PNX8550_XIO_FLASH_ADR_PH3    0x00030000</span>
<span class="cp">#define PNX8550_XIO_FLASH_ADR_PH2    0x00020000</span>
<span class="cp">#define PNX8550_XIO_FLASH_ADR_PH1    0x00010000</span>
<span class="cp">#define PNX8550_XIO_FLASH_ADR_PH0    0x00000000</span>
<span class="cp">#define PNX8550_XIO_FLASH_CMD_B(x)   ((x&lt;&lt;8) &amp; 0x0000FF00)</span>
<span class="cp">#define PNX8550_XIO_FLASH_CMD_A(x)   (x &amp; 0x000000FF)</span>

<span class="cp">#define PNX8550_XIO_INT_ACK          0x00004000</span>
<span class="cp">#define PNX8550_XIO_INT_COMPL        0x00002000</span>
<span class="cp">#define PNX8550_XIO_INT_NONSUP       0x00000200</span>
<span class="cp">#define PNX8550_XIO_INT_ABORT        0x00000004</span>

<span class="cp">#define PNX8550_DMA_CTRL_SINGLE_DATA 0x00000400</span>
<span class="cp">#define PNX8550_DMA_CTRL_SND2XIO     0x00000200</span>
<span class="cp">#define PNX8550_DMA_CTRL_FIX_ADDR    0x00000100</span>
<span class="cp">#define PNX8550_DMA_CTRL_BURST_8     0x00000000</span>
<span class="cp">#define PNX8550_DMA_CTRL_BURST_16    0x00000020</span>
<span class="cp">#define PNX8550_DMA_CTRL_BURST_32    0x00000040</span>
<span class="cp">#define PNX8550_DMA_CTRL_BURST_64    0x00000060</span>
<span class="cp">#define PNX8550_DMA_CTRL_BURST_128   0x00000080</span>
<span class="cp">#define PNX8550_DMA_CTRL_BURST_256   0x000000A0</span>
<span class="cp">#define PNX8550_DMA_CTRL_BURST_512   0x000000C0</span>
<span class="cp">#define PNX8550_DMA_CTRL_BURST_NORES 0x000000E0</span>
<span class="cp">#define PNX8550_DMA_CTRL_INIT_DMA    0x00000010</span>
<span class="cp">#define PNX8550_DMA_CTRL_CMD_TYPE    0x0000000F</span>

<span class="cm">/* see PCI system arch, page 100 for the full list: */</span>
<span class="cp">#define PNX8550_DMA_CTRL_PCI_CMD_READ    0x00000006</span>
<span class="cp">#define PNX8550_DMA_CTRL_PCI_CMD_WRITE   0x00000007</span>

<span class="cp">#define PNX8550_DMA_INT_STAT_ACK_DONE	(1&lt;&lt;14)</span>
<span class="cp">#define PNX8550_DMA_INT_STAT_DMA_DONE	(1&lt;&lt;12)</span>
<span class="cp">#define PNX8550_DMA_INT_STAT_DMA_ERR	(1&lt;&lt;9)</span>
<span class="cp">#define PNX8550_DMA_INT_STAT_PERR5	(1&lt;&lt;5)</span>
<span class="cp">#define PNX8550_DMA_INT_STAT_PERR4	(1&lt;&lt;4)</span>
<span class="cp">#define PNX8550_DMA_INT_STAT_M_ABORT	(1&lt;&lt;2)</span>
<span class="cp">#define PNX8550_DMA_INT_STAT_T_ABORT	(1&lt;&lt;1)</span>

<span class="cp">#define PNX8550_DMA_INT_EN_ACK_DONE	(1&lt;&lt;14)</span>
<span class="cp">#define PNX8550_DMA_INT_EN_DMA_DONE	(1&lt;&lt;12)</span>
<span class="cp">#define PNX8550_DMA_INT_EN_DMA_ERR	(1&lt;&lt;9)</span>
<span class="cp">#define PNX8550_DMA_INT_EN_PERR5	(1&lt;&lt;5)</span>
<span class="cp">#define PNX8550_DMA_INT_EN_PERR4	(1&lt;&lt;4)</span>
<span class="cp">#define PNX8550_DMA_INT_EN_M_ABORT	(1&lt;&lt;2)</span>
<span class="cp">#define PNX8550_DMA_INT_EN_T_ABORT	(1&lt;&lt;1)</span>

<span class="cp">#define PNX8550_DMA_INT_CLR_ACK_DONE	(1&lt;&lt;14)</span>
<span class="cp">#define PNX8550_DMA_INT_CLR_DMA_DONE	(1&lt;&lt;12)</span>
<span class="cp">#define PNX8550_DMA_INT_CLR_DMA_ERR	(1&lt;&lt;9)</span>
<span class="cp">#define PNX8550_DMA_INT_CLR_PERR5	(1&lt;&lt;5)</span>
<span class="cp">#define PNX8550_DMA_INT_CLR_PERR4	(1&lt;&lt;4)</span>
<span class="cp">#define PNX8550_DMA_INT_CLR_M_ABORT	(1&lt;&lt;2)</span>
<span class="cp">#define PNX8550_DMA_INT_CLR_T_ABORT	(1&lt;&lt;1)</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
