f | au1000_dma.h | s | 10K | 379 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for MIPS  Disintegrate asm/system.h for MIPS.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Ralf Baechle <ralf@linux-mips.org> cc: linux-mips@linux-mips.org
f | au1xxx_ide.h | s | 6.4K | 170 | Manuel Lauss | manuel.lauss@googlemail.com | 1319495664 |  | MIPS, IDE: Alchem, au1xxx-ide: Remove pb1200/db1200 header dep  au1xxx-ide uses defines from the pb1200/db1200 headers: get DBDMA ID through platform resource information, hardcode register spacing.  The only 2 users of this driver (and the only boards it can really work on realiably) use the same register layout.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: linux-ide@vger.kernel.org To: Linux-MIPS <linux-mips@linux-mips.org> Cc: linux-ide@vger.kernel.org Acked-by: David S. Miller <davem@davemloft.net> Patchwork: https://patchwork.linux-mips.org/patch/2716/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | ioremap.h | s | 1.0K | 36 | Manuel Lauss | manuel.lauss@googlemail.com | 1267271623 |  | MIPS: Alchemy: use 36bit addresses for PCMCIA resources.  On Alchemy the PCMCIA area lies at the end of the chips 36bit system bus area.  Currently, addresses at the far end of the 32bit area are assumed to belong to the PCMCIA area and fixed up to the real 36bit address before being passed to ioremap().  A previous commit enabled 64 bit physical size for the resource datatype on Alchemy and this allows to use the correct 36bit addresses when registering the PCMCIA sockets.  This patch removes the 32-to-36bit address fixup and registers the Alchemy demo board pcmcia socket with the correct 36bit physical addresses.  Tested on DB1200, with a CF card (ide-cs driver) and a 3c589 PCMCIA ethernet card.  Signed-off-by: Manuel Lauss <manuel.lauss@gmail.com> To: Linux-MIPS <linux-mips@linux-mips.org> Cc: Manuel Lauss <manuel.lauss@gmail.com> Patchwork: http://patchwork.linux-mips.org/patch/994/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | au1200fb.h | s | 220B | 11 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295327 |  | MIPS: Alchemy: move au1200fb global functions to platform data  au1200fb calls 3 functions which have to be defined in board code. Fix this ugliness with the introduction of platform_data.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: linux-fbdev@vger.kernel.org To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2871/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | au1000.h | s | 48K | 1446 | Manuel Lauss | manuel.lauss@googlemail.com | 1323340935 |  | net/irda: convert au1k_ir to platform driver.  Moderate driver cleanup: convert to platform driver, get rid of board-specific code.  Driver loads and runs on a DB1100 board.  But since I have no other IrDA hardware to exchange data with I can't say whether it really sends and receives.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: Samuel Ortiz <samuel@sortiz.org> Cc: netdev@vger.kernel.org To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2877/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | au1100_mmc.h | s | 5.8K | 186 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295325 |  | MIPS: Alchemy: Au1300 SoC support  Add basic support for the Au1300 variant(s): - New GPIO/Interrupt controller - DBDMA ids - USB setup - MMC support - enable various PSC drivers - detection code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2866/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | au1xxx_eth.h | s | 430B | 15 | Manuel Lauss | manuel.lauss@googlemail.com | 1281011169 |  | MIPS: au1000_eth: Get ethernet address from platform_data  au1000_eth uses firmware calls to get a valid MAC address, and changes it depending on platform device id.  This patch moves this logic out of the driver into the platform device registration part, where boards with supported chips can use whatever firmware interface they need; the default implementation maintains compatibility with existing, YAMON-based firmware.  Tested-by: Wolfgang Grandegger <wg@denx.de> Acked-by: Florian Fainelli <florian@openwrt.org> Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: Linux-MIPS <linux-mips@linux-mips.org> Cc: netdev@vger.kernel.org Patchwork: https://patchwork.linux-mips.org/patch/1481/ Acked-by: David S. Miller <davem@davemloft.net> Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | cpu-feature-overrides.h | s | 1.4K | 48 | Manuel Lauss | manuel.lauss@googlemail.com | 1323340936 |  | MIPS: Alchemy: Update cpu-feature-overrides  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3006/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | gpio-au1000.h | s | 16K | 556 | Manuel Lauss | manuel.lauss@googlemail.com | 1319495663 |  | MIPS: Alchemy: support multiple GPIO styles in one kernel  For GPIOLIB=y decide at runtime which gpiochips to register; in the GPIOLIB=n case, the gpio headers need to be reshuffled a bit to make multiple implementations coexist peacefully.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: Linux-MIPS <linux-mips@linux-mips.org> Patchwork: https://patchwork.linux-mips.org/patch/2679/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | prom.h | s | 264B | 9 | Yoichi Yuasa | yuasa@linux-mips.org | 1267271601 |  | MIPS: Alchemy: Remove prom_getcmdline()  Signed-off-by: Yoichi Yuasa <yuasa@linux-mips.org> Cc: linux-mips <linux-mips@linux-mips.org> Patchwork: http://patchwork.linux-mips.org/patch/927/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | war.h | s | 809B | 23 | Ralf Baechle | ralf@linux-mips.org | 1223738332 |  | MIPS: Move headfiles to new location below arch/mips/include  Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | au1550nd.h | s | 269B | 12 | Manuel Lauss | manuel.lauss@googlemail.com | 1323340930 |  | MTD: nand: make au1550nd.c a platform_driver  Transform the au1550nd.c driver into a platform_driver and hook it up in the PB1550 board (gen_nand works fine on the DB1550, but since I don't have a PB1550 to test this driver stays for now).  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: linux-mtd@lists.infradead.org To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2875/ Patchwork: https://patchwork.linux-mips.org/patch/3160/ Acked-by: Artem Bityutskiy <dedekind1@gmail.com> Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | au1xxx_dbdma.h | s | 13K | 339 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295325 |  | MIPS: Alchemy: Au1300 SoC support  Add basic support for the Au1300 variant(s): - New GPIO/Interrupt controller - DBDMA ids - USB setup - MMC support - enable various PSC drivers - detection code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2866/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | gpio-au1300.h | s | 5.5K | 205 | Manuel Lauss | manuel.lauss@googlemail.com | 1329759198 |  | MIPS: Alchemy: Update Au1300 inlined GPIO macros  Add a few missing macros for the inlined (!CONFIG_GPIOLIB) GPIO case. Fixes a build failure in the mmc core due to missing gpio_request_one() function: mmc/core/cd-gpio.c: In function 'mmc_cd_gpio_request': mmc/core/cd-gpio.c:43:2: error: implicit declaration of function 'gpio_request_one' [-Werror=implicit-function-declaration]  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3268/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | gpio.h | s | 2.5K | 70 | Manuel Lauss | manuel.lauss@googlemail.com | 1323295325 |  | MIPS: Alchemy: Au1300 SoC support  Add basic support for the Au1300 variant(s): - New GPIO/Interrupt controller - DBDMA ids - USB setup - MMC support - enable various PSC drivers - detection code.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> To: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/2866/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | au1550_spi.h | s | 433B | 12 | Ralf Baechle | ralf@linux-mips.org | 1223738332 |  | MIPS: Move headfiles to new location below arch/mips/include  Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | au1xxx_psc.h | s | 14K | 409 | Linus Torvalds | torvalds@linux-foundation.org | 1320352094 |  | Merge branch 'upstream' of git://git.linux-mips.org/pub/scm/ralf/upstream-linus  * 'upstream' of git://git.linux-mips.org/pub/scm/ralf/upstream-linus: (37 commits)   MIPS: O32: Provide definition of registers ta0 .. ta3.   MIPS: perf: Add Octeon support for hardware perf.   MIPS: perf: Add support for 64-bit perf counters.   MIPS: perf: Reorganize contents of perf support files.   MIPS: perf: Cleanup formatting in arch/mips/kernel/perf_event.c   MIPS: Add accessor macros for 64-bit performance counter registers.   MIPS: Add probes for more Octeon II CPUs.   MIPS: Add more CPU identifiers for Octeon II CPUs.   MIPS: XLR, XLS: Add comment for smp setup   MIPS: JZ4740: GPIO: Check correct IRQ in demux handler   MIPS: JZ4740: GPIO: Simplify IRQ demuxer   MIPS: JZ4740: Use generic irq chip   MIPS: Alchemy: remove all CONFIG_SOC_AU1??? defines   MIPS: Alchemy: kill au1xxx.h header   MIPS: Alchemy: clean DMA code of CONFIG_SOC_AU1??? defines   MIPS, IDE: Alchem, au1xxx-ide: Remove pb1200/db1200 header dep   MIPS: Alchemy: Redo PCI as platform driver   MIPS: Alchemy: more base address cleanup   MIPS: Alchemy: rewrite USB platform setup.   MIPS: Alchemy: abstract USB block control register access   ...  Fix up trivial conflicts in: 	arch/mips/alchemy/devboards/db1x00/platform.c 	drivers/ide/Kconfig 	drivers/mmc/host/au1xmmc.c 	drivers/video/Kconfig 	sound/mips/Kconfig
