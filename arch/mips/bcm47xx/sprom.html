<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mips › bcm47xx › sprom.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>sprom.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Copyright (C) 2004 Florian Schirmer &lt;jolt@tuxbox.org&gt;</span>
<span class="cm"> *  Copyright (C) 2006 Felix Fietkau &lt;nbd@openwrt.org&gt;</span>
<span class="cm"> *  Copyright (C) 2006 Michael Buesch &lt;m@bues.ch&gt;</span>
<span class="cm"> *  Copyright (C) 2010 Waldemar Brodkorb &lt;wbx@openadk.org&gt;</span>
<span class="cm"> *  Copyright (C) 2010-2012 Hauke Mehrtens &lt;hauke@hauke-m.de&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is free software; you can redistribute  it and/or modify it</span>
<span class="cm"> *  under  the terms of  the GNU General  Public License as published by the</span>
<span class="cm"> *  Free Software Foundation;  either version 2 of the  License, or (at your</span>
<span class="cm"> *  option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> *  THIS  SOFTWARE  IS PROVIDED   ``AS  IS&#39;&#39; AND   ANY  EXPRESS OR IMPLIED</span>
<span class="cm"> *  WARRANTIES,   INCLUDING, BUT NOT  LIMITED  TO, THE IMPLIED WARRANTIES OF</span>
<span class="cm"> *  MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN</span>
<span class="cm"> *  NO  EVENT  SHALL   THE AUTHOR  BE    LIABLE FOR ANY   DIRECT, INDIRECT,</span>
<span class="cm"> *  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT</span>
<span class="cm"> *  NOT LIMITED   TO, PROCUREMENT OF  SUBSTITUTE GOODS  OR SERVICES; LOSS OF</span>
<span class="cm"> *  USE, DATA,  OR PROFITS; OR  BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON</span>
<span class="cm"> *  ANY THEORY OF LIABILITY, WHETHER IN  CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="cm"> *  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span>
<span class="cm"> *  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="cm"> *</span>
<span class="cm"> *  You should have received a copy of the  GNU General Public License along</span>
<span class="cm"> *  with this program; if not, write  to the Free Software Foundation, Inc.,</span>
<span class="cm"> *  675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;bcm47xx.h&gt;</span>
<span class="cp">#include &lt;nvram.h&gt;</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">create_key</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">postfix</span><span class="p">,</span>
		       <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">prefix</span> <span class="o">&amp;&amp;</span> <span class="n">postfix</span><span class="p">)</span>
		<span class="n">snprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">len</span><span class="p">,</span> <span class="s">&quot;%s%s%s&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">postfix</span><span class="p">);</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
		<span class="n">snprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">len</span><span class="p">,</span> <span class="s">&quot;%s%s&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">postfix</span><span class="p">)</span>
		<span class="n">snprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">len</span><span class="p">,</span> <span class="s">&quot;%s%s&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">postfix</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">snprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">len</span><span class="p">,</span> <span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#define NVRAM_READ_VAL(type)						\</span>
<span class="cp">static void nvram_read_ ## type (const char *prefix,			\</span>
<span class="cp">				 const char *postfix, const char *name,	\</span>
<span class="cp">				 type *val, type allset)		\</span>
<span class="cp">{									\</span>
<span class="cp">	char buf[100];							\</span>
<span class="cp">	char key[40];							\</span>
<span class="cp">	int err;							\</span>
<span class="cp">	type var;							\</span>
<span class="cp">									\</span>
<span class="cp">	create_key(prefix, postfix, name, key, sizeof(key));		\</span>
<span class="cp">									\</span>
<span class="cp">	err = nvram_getenv(key, buf, sizeof(buf));			\</span>
<span class="cp">	if (err &lt; 0)							\</span>
<span class="cp">		return;							\</span>
<span class="cp">	err = kstrto ## type (buf, 0, &amp;var);				\</span>
<span class="cp">	if (err) {							\</span>
<span class="cp">		pr_warn(&quot;can not parse nvram name %s with value %s&quot;	\</span>
<span class="cp">			&quot; got %i&quot;, key, buf, err);			\</span>
<span class="cp">		return;							\</span>
<span class="cp">	}								\</span>
<span class="cp">	if (allset &amp;&amp; var == allset)					\</span>
<span class="cp">		return;							\</span>
<span class="cp">	*val = var;							\</span>
<span class="cp">}</span>

<span class="n">NVRAM_READ_VAL</span><span class="p">(</span><span class="n">u8</span><span class="p">)</span>
<span class="n">NVRAM_READ_VAL</span><span class="p">(</span><span class="n">s8</span><span class="p">)</span>
<span class="n">NVRAM_READ_VAL</span><span class="p">(</span><span class="n">u16</span><span class="p">)</span>
<span class="n">NVRAM_READ_VAL</span><span class="p">(</span><span class="n">u32</span><span class="p">)</span>

<span class="cp">#undef NVRAM_READ_VAL</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">nvram_read_u32_2</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span>
			     <span class="n">u16</span> <span class="o">*</span><span class="n">val_lo</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">val_hi</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">key</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">err</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">val</span><span class="p">;</span>

	<span class="n">create_key</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">key</span><span class="p">));</span>

	<span class="n">err</span> <span class="o">=</span> <span class="n">nvram_getenv</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="n">err</span> <span class="o">=</span> <span class="n">kstrtou32</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">val</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_warn</span><span class="p">(</span><span class="s">&quot;can not parse nvram name %s with value %s got %i&quot;</span><span class="p">,</span>
			<span class="n">key</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="n">err</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="o">*</span><span class="n">val_lo</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span> <span class="o">&amp;</span> <span class="mh">0x0000FFFFU</span><span class="p">);</span>
	<span class="o">*</span><span class="n">val_hi</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span> <span class="o">&amp;</span> <span class="mh">0xFFFF0000U</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">nvram_read_leddc</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span>
			     <span class="n">u8</span> <span class="o">*</span><span class="n">leddc_on_time</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">leddc_off_time</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">key</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">err</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">val</span><span class="p">;</span>

	<span class="n">create_key</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">key</span><span class="p">));</span>

	<span class="n">err</span> <span class="o">=</span> <span class="n">nvram_getenv</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="n">err</span> <span class="o">=</span> <span class="n">kstrtou32</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">val</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_warn</span><span class="p">(</span><span class="s">&quot;can not parse nvram name %s with value %s got %i&quot;</span><span class="p">,</span>
			<span class="n">key</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="n">err</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">val</span> <span class="o">==</span> <span class="mh">0xffff</span> <span class="o">||</span> <span class="n">val</span> <span class="o">==</span> <span class="mh">0xffffffff</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span>

	<span class="o">*</span><span class="n">leddc_on_time</span> <span class="o">=</span> <span class="n">val</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">;</span>
	<span class="o">*</span><span class="n">leddc_off_time</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">nvram_read_macaddr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span>
			       <span class="n">u8</span> <span class="p">(</span><span class="o">*</span><span class="n">val</span><span class="p">)[</span><span class="mi">6</span><span class="p">])</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">key</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">err</span><span class="p">;</span>

	<span class="n">create_key</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">key</span><span class="p">));</span>

	<span class="n">err</span> <span class="o">=</span> <span class="n">nvram_getenv</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="n">nvram_parse_macaddr</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="o">*</span><span class="n">val</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">nvram_read_alpha2</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span>
			     <span class="kt">char</span> <span class="p">(</span><span class="o">*</span><span class="n">val</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">key</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">err</span><span class="p">;</span>

	<span class="n">create_key</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">key</span><span class="p">));</span>

	<span class="n">err</span> <span class="o">=</span> <span class="n">nvram_getenv</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;0&#39;</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_warn</span><span class="p">(</span><span class="s">&quot;alpha2 is too long %s&quot;</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">memcpy</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">val</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r1234589</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span>
					<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardrev&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">board_rev</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">board_rev</span><span class="p">)</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardrev&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">board_rev</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardnum&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">board_num</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ledbh0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">gpio0</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ledbh1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">gpio1</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ledbh2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">gpio2</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ledbh3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">gpio3</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;aa2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ant_available_bg</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;aa5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ant_available_a</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_s8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ag0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">antenna_gain</span><span class="p">.</span><span class="n">a0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_s8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ag1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">antenna_gain</span><span class="p">.</span><span class="n">a1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_alpha2</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;ccode&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">alpha2</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r12389</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span>
				      <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa0b0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa0b0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa0b1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa0b1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa0b2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa0b2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa0itssit&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">itssi_bg</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa0maxpwr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">maxpwr_bg</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1b0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1b0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1b1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1b1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1b2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1b2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1itssit&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">itssi_a</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1maxpwr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">maxpwr_a</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r1</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardflags&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_lo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cc&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">country_code</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r2389</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span>
				     <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;opo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">opo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1lob0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1lob0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1lob1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1lob1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1lob2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1lob2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1hib0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1hib0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1hib1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1hib1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1hib2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1hib2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1lomaxpwr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">maxpwr_al</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pa1himaxpwr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">maxpwr_ah</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r2</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u32_2</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;boardflags&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_lo</span><span class="p">,</span>
			 <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_hi</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardtype&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">board_type</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r389</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;bxa2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">bxa2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rssisav2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssisav2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rssismc2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssismc2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rssismf2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssismf2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;bxa5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">bxa5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rssisav5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssisav5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rssismc5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssismc5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rssismf5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssismf5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tri2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tri2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tri5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tri5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tri5gl&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tri5gl</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tri5gh&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tri5gh</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_s8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxpo2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxpo2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_s8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxpo5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxpo5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r3</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u32_2</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;boardflags&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_lo</span><span class="p">,</span>
			 <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_hi</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardtype&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">board_type</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;regrev&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">regrev</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_leddc</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;leddc&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">leddc_on_time</span><span class="p">,</span>
			 <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">leddc_off_time</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r4589</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span>
				     <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u32_2</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;boardflags&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_lo</span><span class="p">,</span>
			 <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_hi</span><span class="p">);</span>
	<span class="n">nvram_read_u32_2</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;boardflags2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags2_lo</span><span class="p">,</span>
			 <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags2_hi</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardtype&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">board_type</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;regrev&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">regrev</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_s8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ag2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">antenna_gain</span><span class="p">.</span><span class="n">a2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_s8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ag3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">antenna_gain</span><span class="p">.</span><span class="n">a3</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txchain&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txchain</span><span class="p">,</span> <span class="mh">0xf</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxchain&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxchain</span><span class="p">,</span> <span class="mh">0xf</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;antswitch&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">antswitch</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">);</span>
	<span class="n">nvram_read_leddc</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;leddc&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">leddc_on_time</span><span class="p">,</span>
			 <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">leddc_off_time</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r458</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cck2gpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">cck2gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ofdm2gpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm2gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ofdm5gpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm5gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ofdm5glpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm5glpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ofdm5ghpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm5ghpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cddpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">cddpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;stbcpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">stbcpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;bw40po&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">bw40po</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;bwduppo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">bwduppo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs2gpo0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs2gpo</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs2gpo1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs2gpo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs2gpo2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs2gpo</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs2gpo3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs2gpo</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs2gpo4&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs2gpo</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs2gpo5&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs2gpo</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs2gpo6&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs2gpo</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs2gpo7&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs2gpo</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5gpo0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5gpo</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5gpo1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5gpo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5gpo2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5gpo</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5gpo3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5gpo</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5gpo4&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5gpo</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5gpo5&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5gpo</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5gpo6&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5gpo</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5gpo7&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5gpo</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5glpo0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5glpo</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5glpo1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5glpo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5glpo2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5glpo</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5glpo3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5glpo</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5glpo4&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5glpo</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5glpo5&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5glpo</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5glpo6&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5glpo</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5glpo7&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5glpo</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5ghpo0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5ghpo</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5ghpo1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5ghpo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5ghpo2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5ghpo</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5ghpo3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5ghpo</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5ghpo4&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5ghpo</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5ghpo5&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5ghpo</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5ghpo6&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5ghpo</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs5ghpo7&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs5ghpo</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r45</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid2ga0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid2g</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid2ga1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid2g</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid2ga2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid2g</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid2ga3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid2g</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5ga0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5g</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5ga1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5g</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5ga2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5g</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5ga3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5g</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5gla0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5gl</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5gla1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5gl</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5gla2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5gl</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5gla3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5gl</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5gha0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5gh</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5gha1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5gh</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5gha2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5gh</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;txpid5gha3&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">txpid5gh</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r89</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tssipos2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz2</span><span class="p">.</span><span class="n">tssipos</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;extpagain2g&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz2</span><span class="p">.</span><span class="n">extpa_gain</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pdetrange2g&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz2</span><span class="p">.</span><span class="n">pdet_range</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;triso2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz2</span><span class="p">.</span><span class="n">tr_iso</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;antswctl2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz2</span><span class="p">.</span><span class="n">antswlut</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tssipos5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz5</span><span class="p">.</span><span class="n">tssipos</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;extpagain5g&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz5</span><span class="p">.</span><span class="n">extpa_gain</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pdetrange5g&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz5</span><span class="p">.</span><span class="n">pdet_range</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;triso5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz5</span><span class="p">.</span><span class="n">tr_iso</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;antswctl5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">fem</span><span class="p">.</span><span class="n">ghz5</span><span class="p">.</span><span class="n">antswlut</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tempthresh&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tempthresh</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tempoffset&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tempoffset</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rawtempsense&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rawtempsense</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;measpower&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">measpower</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tempsense_slope&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tempsense_slope</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tempcorrx&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tempcorrx</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;tempsense_option&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tempsense_option</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;freqoffset_corr&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">freqoffset_corr</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;iqcal_swp_dis&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">iqcal_swp_dis</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;hw_iqcal_en&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">hw_iqcal_en</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;elna2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">elna2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;elna5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">elna5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;phycal_tempdelta&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">phycal_tempdelta</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;temps_period&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">temps_period</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;temps_hysteresis&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">temps_hysteresis</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;measpower1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">measpower1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;measpower2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">measpower2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr2ga0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr2ga</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr2ga1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr2ga</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr2ga2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr2ga</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gla0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gla</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gla1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gla</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gla2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gla</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gma0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gma</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gma1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gma</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gma2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gma</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gha0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gha</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gha1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gha</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gha2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gha</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gua0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gua</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gua1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gua</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rxgainerr5gua2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxgainerr5gua</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl2ga0&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl2ga</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl2ga1&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl2ga</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl2ga2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl2ga</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gla0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gla</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gla1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gla</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gla2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gla</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gma0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gma</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gma1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gma</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gma2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gma</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gha0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gha</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gha1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gha</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gha2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gha</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gua0&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gua</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gua1&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gua</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;noiselvl5gua2&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">noiselvl5gua</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pcieingress_war&quot;</span><span class="p">,</span>
		      <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pcieingress_war</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_r9</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cckbw202gpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">cckbw202gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cckbw20ul2gpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">cckbw20ul2gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdmbw202gpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdmbw202gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdmbw20ul2gpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdmbw20ul2gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdmbw205glpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdmbw205glpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdmbw20ul5glpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdmbw20ul5glpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdmbw205gmpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdmbw205gmpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdmbw20ul5gmpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdmbw20ul5gmpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdmbw205ghpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdmbw205ghpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdmbw20ul5ghpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdmbw20ul5ghpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw202gpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw202gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw20ul2gpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw20ul2gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw402gpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw402gpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw205glpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw205glpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw20ul5glpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw20ul5glpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw405glpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw405glpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw205gmpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw205gmpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw20ul5gmpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw20ul5gmpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw405gmpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw405gmpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw205ghpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw205ghpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw20ul5ghpo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw20ul5ghpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u32</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcsbw405ghpo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcsbw405ghpo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mcs32po&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">mcs32po</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;legofdm40duppo&quot;</span><span class="p">,</span>
		       <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">legofdm40duppo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;sar2g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">sar2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;sar5g&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">sar5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_path_r4589</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span>
					  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">postfix</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">core_pwr_info</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">ssb_sprom_core_pwr_info</span> <span class="o">*</span><span class="n">pwr_info</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">core_pwr_info</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
		<span class="n">snprintf</span><span class="p">(</span><span class="n">postfix</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">postfix</span><span class="p">),</span> <span class="s">&quot;%i&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;maxp2ga&quot;</span><span class="p">,</span>
			      <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">maxpwr_2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;itt2ga&quot;</span><span class="p">,</span>
			      <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">itssi_2g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;itt5ga&quot;</span><span class="p">,</span>
			      <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">itssi_5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa2gw0a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_2g</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa2gw1a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_2g</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa2gw2a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_2g</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;maxp5ga&quot;</span><span class="p">,</span>
			      <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">maxpwr_5g</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;maxp5gha&quot;</span><span class="p">,</span>
			      <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">maxpwr_5gh</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;maxp5gla&quot;</span><span class="p">,</span>
			      <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">maxpwr_5gl</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5gw0a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5g</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5gw1a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5g</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5gw2a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5g</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5glw0a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5gl</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5glw1a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5gl</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5glw2a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5gl</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5ghw0a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5gh</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5ghw1a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5gh</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5ghw2a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5gh</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_path_r45</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span>
					<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">postfix</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">core_pwr_info</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">ssb_sprom_core_pwr_info</span> <span class="o">*</span><span class="n">pwr_info</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">core_pwr_info</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
		<span class="n">snprintf</span><span class="p">(</span><span class="n">postfix</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">postfix</span><span class="p">),</span> <span class="s">&quot;%i&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa2gw3a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_2g</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5gw3a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5g</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5glw3a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5gl</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">postfix</span><span class="p">,</span> <span class="s">&quot;pa5ghw3a&quot;</span><span class="p">,</span>
			       <span class="o">&amp;</span><span class="n">pwr_info</span><span class="o">-&gt;</span><span class="n">pa_5gh</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">bcm47xx_fill_sprom_ethernet</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_macaddr</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;et0macaddr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">et0mac</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;et0mdcport&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">et0mdcport</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;et0phyaddr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">et0phyaddr</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

	<span class="n">nvram_read_macaddr</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;et1macaddr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">et1mac</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;et1mdcport&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">et1mdcport</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;et1phyaddr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">et1phyaddr</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

	<span class="n">nvram_read_macaddr</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;macaddr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">il0mac</span><span class="p">);</span>
	<span class="n">nvram_read_macaddr</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s">&quot;il0macaddr&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">il0mac</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">bcm47xx_fill_sprom</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">bcm47xx_fill_sprom_ethernet</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>

	<span class="n">nvram_read_u8</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;sromrev&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">revision</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

	<span class="k">switch</span> <span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">revision</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">case</span> <span class="mi">1</span>:
		<span class="n">bcm47xx_fill_sprom_r1234589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r12389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r1</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="mi">2</span>:
		<span class="n">bcm47xx_fill_sprom_r1234589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r12389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r2389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r2</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="mi">3</span>:
		<span class="n">bcm47xx_fill_sprom_r1234589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r12389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r2389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r3</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="mi">4</span>:
	<span class="k">case</span> <span class="mi">5</span>:
		<span class="n">bcm47xx_fill_sprom_r1234589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r4589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r458</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r45</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_path_r4589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_path_r45</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="mi">8</span>:
		<span class="n">bcm47xx_fill_sprom_r1234589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r12389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r2389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r4589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r458</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r89</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_path_r4589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="mi">9</span>:
		<span class="n">bcm47xx_fill_sprom_r1234589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r12389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r2389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r4589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r89</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r9</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_path_r4589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="nl">default:</span>
		<span class="n">pr_warn</span><span class="p">(</span><span class="s">&quot;Unsupported SPROM revision %d detected. Will extract&quot;</span>
			<span class="s">&quot; v1</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">revision</span><span class="p">);</span>
		<span class="n">sprom</span><span class="o">-&gt;</span><span class="n">revision</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="n">bcm47xx_fill_sprom_r1234589</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r12389</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
		<span class="n">bcm47xx_fill_sprom_r1</span><span class="p">(</span><span class="n">sprom</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="cp">#ifdef CONFIG_BCM47XX_SSB</span>
<span class="kt">void</span> <span class="n">bcm47xx_fill_ssb_boardinfo</span><span class="p">(</span><span class="k">struct</span> <span class="n">ssb_boardinfo</span> <span class="o">*</span><span class="n">boardinfo</span><span class="p">,</span>
				<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardvendor&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">boardinfo</span><span class="o">-&gt;</span><span class="n">vendor</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">boardinfo</span><span class="o">-&gt;</span><span class="n">vendor</span><span class="p">)</span>
		<span class="n">boardinfo</span><span class="o">-&gt;</span><span class="n">vendor</span> <span class="o">=</span> <span class="n">SSB_BOARDVENDOR_BCM</span><span class="p">;</span>

	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardtype&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">boardinfo</span><span class="o">-&gt;</span><span class="n">type</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_BCM47XX_BCMA</span>
<span class="kt">void</span> <span class="n">bcm47xx_fill_bcma_boardinfo</span><span class="p">(</span><span class="k">struct</span> <span class="n">bcma_boardinfo</span> <span class="o">*</span><span class="n">boardinfo</span><span class="p">,</span>
				 <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardvendor&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">boardinfo</span><span class="o">-&gt;</span><span class="n">vendor</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">boardinfo</span><span class="o">-&gt;</span><span class="n">vendor</span><span class="p">)</span>
		<span class="n">boardinfo</span><span class="o">-&gt;</span><span class="n">vendor</span> <span class="o">=</span> <span class="n">SSB_BOARDVENDOR_BCM</span><span class="p">;</span>

	<span class="n">nvram_read_u16</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;boardtype&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">boardinfo</span><span class="o">-&gt;</span><span class="n">type</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
