f | init.c | s | 13K | 428 | Michal Simek | monstr@monstr.eu | 1332491298 |  | microblaze: Improve TLB calculation for small systems  Systems with small amount of memory need to be handled differently. Linux can't allocate the whole 32MB with two TLBs because then there is no MMU protection.  Signed-off-by: Michal Simek <monstr@monstr.eu>
f | consistent.c | s | 6.4K | 223 | Michal Simek | monstr@monstr.eu | 1299654598 |  | microblaze: Fix sparse warning - consistent_alloc function  Warning in dma.c was caused by incorrect type in consistent_alloc function.  Warning log: CHECK   arch/microblaze/kernel/dma.c arch/microblaze/kernel/dma.c:53:26: warning: incorrect type in argument 1 (different base types) arch/microblaze/kernel/dma.c:53:26:    expected int [signed] gfp arch/microblaze/kernel/dma.c:53:26:    got restricted unsigned int [usertype] flag  Signed-off-by: Michal Simek <monstr@monstr.eu>
f | Makefile | g | 134B |  | Michal Simek | monstr@monstr.eu | 1332491293 |  | microblaze: Highmem support  The first highmem implementation.  Signed-off-by: Michal Simek <monstr@monstr.eu>
f | highmem.c | s | 2.2K | 75 | Michal Simek | monstr@monstr.eu | 1332491293 |  | microblaze: Highmem support  The first highmem implementation.  Signed-off-by: Michal Simek <monstr@monstr.eu>
f | fault.c | s | 7.9K | 261 | Kautuk Consul | consul.kautuk@gmail.com | 1337920474 |  | microblaze: Port OOM changes to do_page_fault  Commit d065bd810b6deb67d4897a14bfe21f8eb526ba99 (mm: retry page fault when blocking on disk transfer) and commit 37b23e0525d393d48a7d59f870b3bc061a30ccdb (x86,mm: make pagefault killable)  The above commits introduced changes into the x86 pagefault handler for making the page fault handler retryable as well as killable.  These changes reduce the mmap_sem hold time, which is crucial during OOM killer invocation.  Port these changes to microblaze.  Signed-off-by: Kautuk Consul <consul.kautuk@gmail.com>
f | pgtable.c | s | 6.2K | 229 | Michal Simek | monstr@monstr.eu | 1332491294 |  | microblaze: Fix mapin_ram function  Fix how many pages are allocated in mapin_ram. It is lowmem_size not setup CONFIG_LOWMEM_SIZE because it is the same for all systems. Which means that wrong pages are allocated if memory size is smaller than CONFIG_LOWMEM_SIZE. It has dramatic impact on bootup time. On sp605 MMU full hw design is 7s.  Signed-off-by: Michal Simek <monstr@monstr.eu>
f | mmu_context.c | s | 2.0K | 64 | Michal Simek | monstr@monstr.eu | 1243349115 |  | microblaze_mmu_v2: Context handling - mmu_context.c/h  Signed-off-by: Michal Simek <monstr@monstr.eu>
