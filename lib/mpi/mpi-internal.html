<!DOCTYPE html>
<html><head><title>joekychen/linux » lib › mpi › mpi-internal.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>mpi-internal.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* mpi-internal.h  -  Internal to the Multi Precision Integers</span>
<span class="cm"> *	Copyright (C) 1994, 1996 Free Software Foundation, Inc.</span>
<span class="cm"> *	Copyright (C) 1998, 2000 Free Software Foundation, Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * This file is part of GnuPG.</span>
<span class="cm"> *</span>
<span class="cm"> * GnuPG is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * GnuPG is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA</span>
<span class="cm"> *</span>
<span class="cm"> * Note: This code is heavily based on the GNU MP Library.</span>
<span class="cm"> *	 Actually it&#39;s the same code with only minor changes in the</span>
<span class="cm"> *	 way the data is stored; this is to support the abstraction</span>
<span class="cm"> *	 of an optional secure memory allocation which may be used</span>
<span class="cm"> *	 to avoid revealing of sensitive data due to paging etc.</span>
<span class="cm"> *	 The GNU MP Library itself is published under the LGPL;</span>
<span class="cm"> *	 however I decided to publish this code under the plain GPL.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef G10_MPI_INTERNAL_H</span>
<span class="cp">#define G10_MPI_INTERNAL_H</span>

<span class="cp">#include &lt;linux/module.h&gt;</span>
<span class="cp">#include &lt;linux/kernel.h&gt;</span>
<span class="cp">#include &lt;linux/slab.h&gt;</span>
<span class="cp">#include &lt;linux/string.h&gt;</span>
<span class="cp">#include &lt;linux/mpi.h&gt;</span>
<span class="cp">#include &lt;linux/errno.h&gt;</span>

<span class="cp">#define log_debug printk</span>
<span class="cp">#define log_bug printk</span>

<span class="cp">#define assert(x) \</span>
<span class="cp">	do { \</span>
<span class="cp">		if (!x) \</span>
<span class="cp">			log_bug(&quot;failed assertion\n&quot;); \</span>
<span class="cp">	} while (0);</span>

<span class="cm">/* If KARATSUBA_THRESHOLD is not already defined, define it to a</span>
<span class="cm"> * value which is good on most machines.  */</span>

<span class="cm">/* tested 4, 16, 32 and 64, where 16 gave the best performance when</span>
<span class="cm"> * checking a 768 and a 1024 bit ElGamal signature.</span>
<span class="cm"> * (wk 22.12.97) */</span>
<span class="cp">#ifndef KARATSUBA_THRESHOLD</span>
<span class="cp">#define KARATSUBA_THRESHOLD 16</span>
<span class="cp">#endif</span>

<span class="cm">/* The code can&#39;t handle KARATSUBA_THRESHOLD smaller than 2.  */</span>
<span class="cp">#if KARATSUBA_THRESHOLD &lt; 2</span>
<span class="cp">#undef KARATSUBA_THRESHOLD</span>
<span class="cp">#define KARATSUBA_THRESHOLD 2</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="n">mpi_limb_t</span> <span class="o">*</span><span class="n">mpi_ptr_t</span><span class="p">;</span>	<span class="cm">/* pointer to a limb */</span>
<span class="k">typedef</span> <span class="kt">int</span> <span class="n">mpi_size_t</span><span class="p">;</span>		<span class="cm">/* (must be a signed type) */</span>

<span class="cp">#define ABS(x) (x &gt;= 0 ? x : -x)</span>
<span class="cp">#define MIN(l, o) ((l) &lt; (o) ? (l) : (o))</span>
<span class="cp">#define MAX(h, i) ((h) &gt; (i) ? (h) : (i))</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">RESIZE_IF_NEEDED</span><span class="p">(</span><span class="n">MPI</span> <span class="n">a</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="o">-&gt;</span><span class="n">alloced</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">mpi_resize</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* Copy N limbs from S to D.  */</span>
<span class="cp">#define MPN_COPY(d, s, n) \</span>
<span class="cp">	do {					\</span>
<span class="cp">		mpi_size_t _i;			\</span>
<span class="cp">		for (_i = 0; _i &lt; (n); _i++)	\</span>
<span class="cp">			(d)[_i] = (s)[_i];	\</span>
<span class="cp">	} while (0)</span>

<span class="cp">#define MPN_COPY_INCR(d, s, n) \</span>
<span class="cp">	do {					\</span>
<span class="cp">		mpi_size_t _i;			\</span>
<span class="cp">		for (_i = 0; _i &lt; (n); _i++)	\</span>
<span class="cp">			(d)[_i] = (d)[_i];	\</span>
<span class="cp">	} while (0)</span>

<span class="cp">#define MPN_COPY_DECR(d, s, n) \</span>
<span class="cp">	do {					\</span>
<span class="cp">		mpi_size_t _i;			\</span>
<span class="cp">		for (_i = (n)-1; _i &gt;= 0; _i--) \</span>
<span class="cp">			(d)[_i] = (s)[_i];	\</span>
<span class="cp">	} while (0)</span>

<span class="cm">/* Zero N limbs at D */</span>
<span class="cp">#define MPN_ZERO(d, n) \</span>
<span class="cp">	do {					\</span>
<span class="cp">		int  _i;			\</span>
<span class="cp">		for (_i = 0; _i &lt; (n); _i++)	\</span>
<span class="cp">			(d)[_i] = 0;		\</span>
<span class="cp">	} while (0)</span>

<span class="cp">#define MPN_NORMALIZE(d, n)  \</span>
<span class="cp">	do {					\</span>
<span class="cp">		while ((n) &gt; 0) {		\</span>
<span class="cp">			if ((d)[(n)-1])		\</span>
<span class="cp">				break;		\</span>
<span class="cp">			(n)--;			\</span>
<span class="cp">		}				\</span>
<span class="cp">	} while (0)</span>

<span class="cp">#define MPN_NORMALIZE_NOT_ZERO(d, n) \</span>
<span class="cp">	do {				\</span>
<span class="cp">		for (;;) {		\</span>
<span class="cp">			if ((d)[(n)-1])	\</span>
<span class="cp">				break;	\</span>
<span class="cp">			(n)--;		\</span>
<span class="cp">		}			\</span>
<span class="cp">	} while (0)</span>

<span class="cp">#define MPN_MUL_N_RECURSE(prodp, up, vp, size, tspace) \</span>
<span class="cp">	do {							\</span>
<span class="cp">		if ((size) &lt; KARATSUBA_THRESHOLD)		\</span>
<span class="cp">			mul_n_basecase(prodp, up, vp, size);	\</span>
<span class="cp">		else						\</span>
<span class="cp">			mul_n(prodp, up, vp, size, tspace);	\</span>
<span class="cp">	} while (0);</span>

<span class="cm">/* Divide the two-limb number in (NH,,NL) by D, with DI being the largest</span>
<span class="cm"> * limb not larger than (2**(2*BITS_PER_MP_LIMB))/D - (2**BITS_PER_MP_LIMB).</span>
<span class="cm"> * If this would yield overflow, DI should be the largest possible number</span>
<span class="cm"> * (i.e., only ones).  For correct operation, the most significant bit of D</span>
<span class="cm"> * has to be set.  Put the quotient in Q and the remainder in R.</span>
<span class="cm"> */</span>
<span class="cp">#define UDIV_QRNND_PREINV(q, r, nh, nl, d, di) \</span>
<span class="cp">	do {								\</span>
<span class="cp">		mpi_limb_t _q, _ql, _r;					\</span>
<span class="cp">		mpi_limb_t _xh, _xl;					\</span>
<span class="cp">		umul_ppmm(_q, _ql, (nh), (di));				\</span>
<span class="cp">		_q += (nh);	</span><span class="cm">/* DI is 2**BITS_PER_MPI_LIMB too small */</span><span class="cp"> \</span>
<span class="cp">		umul_ppmm(_xh, _xl, _q, (d));				\</span>
<span class="cp">		sub_ddmmss(_xh, _r, (nh), (nl), _xh, _xl);		\</span>
<span class="cp">		if (_xh) {						\</span>
<span class="cp">			sub_ddmmss(_xh, _r, _xh, _r, 0, (d));		\</span>
<span class="cp">			_q++;						\</span>
<span class="cp">			if (_xh) {					\</span>
<span class="cp">				sub_ddmmss(_xh, _r, _xh, _r, 0, (d));	\</span>
<span class="cp">				_q++;					\</span>
<span class="cp">			}						\</span>
<span class="cp">		}							\</span>
<span class="cp">		if (_r &gt;= (d)) {					\</span>
<span class="cp">			_r -= (d);					\</span>
<span class="cp">			_q++;						\</span>
<span class="cp">		}							\</span>
<span class="cp">		(r) = _r;						\</span>
<span class="cp">		(q) = _q;						\</span>
<span class="cp">	} while (0)</span>

<span class="cm">/*-- mpiutil.c --*/</span>
<span class="n">mpi_ptr_t</span> <span class="n">mpi_alloc_limb_space</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">nlimbs</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">mpi_free_limb_space</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">a</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">mpi_assign_limb_space</span><span class="p">(</span><span class="n">MPI</span> <span class="n">a</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">ap</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">nlimbs</span><span class="p">);</span>

<span class="cm">/*-- mpi-bit.c --*/</span>
<span class="kt">void</span> <span class="n">mpi_rshift_limbs</span><span class="p">(</span><span class="n">MPI</span> <span class="n">a</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">count</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">mpi_lshift_limbs</span><span class="p">(</span><span class="n">MPI</span> <span class="n">a</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">count</span><span class="p">);</span>

<span class="cm">/*-- mpihelp-add.c --*/</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_add_1</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span>
			 <span class="n">mpi_size_t</span> <span class="n">s1_size</span><span class="p">,</span> <span class="n">mpi_limb_t</span> <span class="n">s2_limb</span><span class="p">);</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_add_n</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span>
			 <span class="n">mpi_ptr_t</span> <span class="n">s2_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">size</span><span class="p">);</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_add</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">s1_size</span><span class="p">,</span>
		       <span class="n">mpi_ptr_t</span> <span class="n">s2_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">s2_size</span><span class="p">);</span>

<span class="cm">/*-- mpihelp-sub.c --*/</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_sub_1</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span>
			 <span class="n">mpi_size_t</span> <span class="n">s1_size</span><span class="p">,</span> <span class="n">mpi_limb_t</span> <span class="n">s2_limb</span><span class="p">);</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_sub_n</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span>
			 <span class="n">mpi_ptr_t</span> <span class="n">s2_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">size</span><span class="p">);</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_sub</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">s1_size</span><span class="p">,</span>
		       <span class="n">mpi_ptr_t</span> <span class="n">s2_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">s2_size</span><span class="p">);</span>

<span class="cm">/*-- mpihelp-cmp.c --*/</span>
<span class="kt">int</span> <span class="n">mpihelp_cmp</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">op1_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">op2_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">size</span><span class="p">);</span>

<span class="cm">/*-- mpihelp-mul.c --*/</span>

<span class="k">struct</span> <span class="n">karatsuba_ctx</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">karatsuba_ctx</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="n">mpi_ptr_t</span> <span class="n">tspace</span><span class="p">;</span>
	<span class="n">mpi_size_t</span> <span class="n">tspace_size</span><span class="p">;</span>
	<span class="n">mpi_ptr_t</span> <span class="n">tp</span><span class="p">;</span>
	<span class="n">mpi_size_t</span> <span class="n">tp_size</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">mpihelp_release_karatsuba_ctx</span><span class="p">(</span><span class="k">struct</span> <span class="n">karatsuba_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>

<span class="n">mpi_limb_t</span> <span class="n">mpihelp_addmul_1</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span>
			    <span class="n">mpi_size_t</span> <span class="n">s1_size</span><span class="p">,</span> <span class="n">mpi_limb_t</span> <span class="n">s2_limb</span><span class="p">);</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_submul_1</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span>
			    <span class="n">mpi_size_t</span> <span class="n">s1_size</span><span class="p">,</span> <span class="n">mpi_limb_t</span> <span class="n">s2_limb</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">mpihelp_mul_n</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">prodp</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">up</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">vp</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">mpihelp_mul</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">prodp</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">up</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">usize</span><span class="p">,</span>
		<span class="n">mpi_ptr_t</span> <span class="n">vp</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">vsize</span><span class="p">,</span> <span class="n">mpi_limb_t</span> <span class="o">*</span><span class="n">_result</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">mpih_sqr_n_basecase</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">prodp</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">up</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">mpih_sqr_n</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">prodp</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">up</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">size</span><span class="p">,</span>
		<span class="n">mpi_ptr_t</span> <span class="n">tspace</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">mpihelp_mul_karatsuba_case</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">prodp</span><span class="p">,</span>
			       <span class="n">mpi_ptr_t</span> <span class="n">up</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">usize</span><span class="p">,</span>
			       <span class="n">mpi_ptr_t</span> <span class="n">vp</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">vsize</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">karatsuba_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>

<span class="cm">/*-- mpihelp-mul_1.c (or xxx/cpu/ *.S) --*/</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_mul_1</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">res_ptr</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">s1_ptr</span><span class="p">,</span>
			 <span class="n">mpi_size_t</span> <span class="n">s1_size</span><span class="p">,</span> <span class="n">mpi_limb_t</span> <span class="n">s2_limb</span><span class="p">);</span>

<span class="cm">/*-- mpihelp-div.c --*/</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_mod_1</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">dividend_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">dividend_size</span><span class="p">,</span>
			 <span class="n">mpi_limb_t</span> <span class="n">divisor_limb</span><span class="p">);</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_divrem</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">qp</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">qextra_limbs</span><span class="p">,</span>
			  <span class="n">mpi_ptr_t</span> <span class="n">np</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">nsize</span><span class="p">,</span>
			  <span class="n">mpi_ptr_t</span> <span class="n">dp</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">dsize</span><span class="p">);</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_divmod_1</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">quot_ptr</span><span class="p">,</span>
			    <span class="n">mpi_ptr_t</span> <span class="n">dividend_ptr</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">dividend_size</span><span class="p">,</span>
			    <span class="n">mpi_limb_t</span> <span class="n">divisor_limb</span><span class="p">);</span>

<span class="cm">/*-- mpihelp-shift.c --*/</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_lshift</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">wp</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">up</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">usize</span><span class="p">,</span>
			  <span class="kt">unsigned</span> <span class="n">cnt</span><span class="p">);</span>
<span class="n">mpi_limb_t</span> <span class="n">mpihelp_rshift</span><span class="p">(</span><span class="n">mpi_ptr_t</span> <span class="n">wp</span><span class="p">,</span> <span class="n">mpi_ptr_t</span> <span class="n">up</span><span class="p">,</span> <span class="n">mpi_size_t</span> <span class="n">usize</span><span class="p">,</span>
			  <span class="kt">unsigned</span> <span class="n">cnt</span><span class="p">);</span>

<span class="cm">/* Define stuff for longlong.h.  */</span>
<span class="cp">#define W_TYPE_SIZE BITS_PER_MPI_LIMB</span>
<span class="k">typedef</span> <span class="n">mpi_limb_t</span> <span class="n">UWtype</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">UHWtype</span><span class="p">;</span>
<span class="cp">#if defined(__GNUC__)</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">UQItype</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">mode</span><span class="p">(</span><span class="n">QI</span><span class="p">)));</span>
<span class="k">typedef</span> <span class="kt">int</span> <span class="n">SItype</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">mode</span><span class="p">(</span><span class="n">SI</span><span class="p">)));</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">USItype</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">mode</span><span class="p">(</span><span class="n">SI</span><span class="p">)));</span>
<span class="k">typedef</span> <span class="kt">int</span> <span class="n">DItype</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">mode</span><span class="p">(</span><span class="n">DI</span><span class="p">)));</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">UDItype</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">mode</span><span class="p">(</span><span class="n">DI</span><span class="p">)));</span>
<span class="cp">#else</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">UQItype</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="n">SItype</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">USItype</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef __GNUC__</span>
<span class="cp">#include &quot;mpi-inline.h&quot;</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/*G10_MPI_INTERNAL_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
