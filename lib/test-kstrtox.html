<!DOCTYPE html>
<html><head><title>joekychen/linux » lib › test-kstrtox.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../index.html"></a><h1>test-kstrtox.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;linux/init.h&gt;</span>
<span class="cp">#include &lt;linux/kernel.h&gt;</span>
<span class="cp">#include &lt;linux/module.h&gt;</span>

<span class="cp">#define for_each_test(i, test)	\</span>
<span class="cp">	for (i = 0; i &lt; sizeof(test) / sizeof(test[0]); i++)</span>

<span class="k">struct</span> <span class="n">test_fail</span> <span class="p">{</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">base</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define DEFINE_TEST_FAIL(test)	\</span>
<span class="cp">	const struct test_fail test[] __initconst</span>

<span class="cp">#define DECLARE_TEST_OK(type, test_type)	\</span>
<span class="cp">	test_type {				\</span>
<span class="cp">		const char *str;		\</span>
<span class="cp">		unsigned int base;		\</span>
<span class="cp">		type expected_res;		\</span>
<span class="cp">	}</span>

<span class="cp">#define DEFINE_TEST_OK(type, test)	\</span>
<span class="cp">	const type test[] __initconst</span>

<span class="cp">#define TEST_FAIL(fn, type, fmt, test)					\</span>
<span class="cp">{									\</span>
<span class="cp">	unsigned int i;							\</span>
<span class="cp">									\</span>
<span class="cp">	for_each_test(i, test) {					\</span>
<span class="cp">		const struct test_fail *t = &amp;test[i];			\</span>
<span class="cp">		type tmp;						\</span>
<span class="cp">		int rv;							\</span>
<span class="cp">									\</span>
<span class="cp">		tmp = 0;						\</span>
<span class="cp">		rv = fn(t-&gt;str, t-&gt;base, &amp;tmp);				\</span>
<span class="cp">		if (rv &gt;= 0) {						\</span>
<span class="cp">			WARN(1, &quot;str &#39;%s&#39;, base %u, expected -E, got %d/&quot; fmt &quot;\n&quot;,	\</span>
<span class="cp">				t-&gt;str, t-&gt;base, rv, tmp);		\</span>
<span class="cp">			continue;					\</span>
<span class="cp">		}							\</span>
<span class="cp">	}								\</span>
<span class="cp">}</span>

<span class="cp">#define TEST_OK(fn, type, fmt, test)					\</span>
<span class="cp">{									\</span>
<span class="cp">	unsigned int i;							\</span>
<span class="cp">									\</span>
<span class="cp">	for_each_test(i, test) {					\</span>
<span class="cp">		const typeof(test[0]) *t = &amp;test[i];			\</span>
<span class="cp">		type res;						\</span>
<span class="cp">		int rv;							\</span>
<span class="cp">									\</span>
<span class="cp">		rv = fn(t-&gt;str, t-&gt;base, &amp;res);				\</span>
<span class="cp">		if (rv != 0) {						\</span>
<span class="cp">			WARN(1, &quot;str &#39;%s&#39;, base %u, expected 0/&quot; fmt &quot;, got %d\n&quot;,	\</span>
<span class="cp">				t-&gt;str, t-&gt;base, t-&gt;expected_res, rv);	\</span>
<span class="cp">			continue;					\</span>
<span class="cp">		}							\</span>
<span class="cp">		if (res != t-&gt;expected_res) {				\</span>
<span class="cp">			WARN(1, &quot;str &#39;%s&#39;, base %u, expected &quot; fmt &quot;, got &quot; fmt &quot;\n&quot;,	\</span>
<span class="cp">				t-&gt;str, t-&gt;base, t-&gt;expected_res, res);	\</span>
<span class="cp">			continue;					\</span>
<span class="cp">		}							\</span>
<span class="cp">	}								\</span>
<span class="cp">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtoull_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_ull</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_ull</span><span class="p">,</span> <span class="n">test_ull_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">256ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">257ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32767ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32768ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32769ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65535ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65536ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65537ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483647ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483648ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483649ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967295ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967296ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967297ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775807ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775808ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775809ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">18446744073709551614ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">18446744073709551615ULL</span><span class="p">},</span>

		<span class="p">{</span><span class="s">&quot;00&quot;</span><span class="p">,</span>		<span class="mi">8</span><span class="p">,</span>	<span class="mo">00ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;01&quot;</span><span class="p">,</span>		<span class="mi">8</span><span class="p">,</span>	<span class="mo">01ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0177&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0177ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0200&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0200ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0201&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0201ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0377&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0377ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0400&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0400ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0401&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0401ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;077777&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">077777ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0100000&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0100000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0100001&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0100001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0177777&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0177777ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0200000&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0200000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0200001&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0200001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;017777777777&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">017777777777ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;020000000000&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">020000000000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;020000000001&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">020000000001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;037777777777&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">037777777777ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;040000000000&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">040000000000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;040000000001&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">040000000001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0777777777777777777777&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">0777777777777777777777ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;01000000000000000000000&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">01000000000000000000000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;01000000000000000000001&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">01000000000000000000001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;01777777777777777777776&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">01777777777777777777776ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;01777777777777777777777&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mo">01777777777777777777777ULL</span><span class="p">},</span>

		<span class="p">{</span><span class="s">&quot;0x0&quot;</span><span class="p">,</span>		<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x0ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x1&quot;</span><span class="p">,</span>		<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x1ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x7f&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x7fULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x80&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x80ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x81&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x81ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0xff&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0xffULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x100&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x100ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x101&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x101ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x7fff&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x7fffULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x8000&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x8000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x8001&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x8001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0xffff&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0xffffULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x10000&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x10000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x10001&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x10001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x7fffffff&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x7fffffffULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x80000000&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x80000000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x80000001&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x80000001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0xffffffff&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0xffffffffULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x100000000&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x100000000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x100000001&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x100000001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x7fffffffffffffff&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x7fffffffffffffffULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x8000000000000000&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x8000000000000000ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x8000000000000001&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0x8000000000000001ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0xfffffffffffffffe&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0xfffffffffffffffeULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0xffffffffffffffff&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mh">0xffffffffffffffffULL</span><span class="p">},</span>

		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">0ULL</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtoull</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">,</span> <span class="s">&quot;%llu&quot;</span><span class="p">,</span> <span class="n">test_ull_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtoull_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_ull_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">0&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">0&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">0&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;+&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;+&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;+&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;+&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0x&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0X&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0X&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0 &quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1+&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1-&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot; 2&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="cm">/* base autodetection */</span>
		<span class="p">{</span><span class="s">&quot;0x0z&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0z&quot;</span><span class="p">,</span>		<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">,</span>		<span class="mi">0</span><span class="p">},</span>
		<span class="cm">/* digit &gt;= base */</span>
		<span class="p">{</span><span class="s">&quot;2&quot;</span><span class="p">,</span>	<span class="mi">2</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;8&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;A&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;g&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;G&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="cm">/* overflow */</span>
		<span class="p">{</span><span class="s">&quot;10000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="p">,</span>	<span class="mi">2</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2000000000000000000000&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;10000000000000000&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="cm">/* negative */</span>
		<span class="p">{</span><span class="s">&quot;-0&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-0&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-0&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-0&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">},</span>
		<span class="cm">/* sign is first character if any */</span>
		<span class="p">{</span><span class="s">&quot;-+1&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-+1&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-+1&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-+1&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">},</span>
		<span class="cm">/* nothing after \n */</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">0&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">0&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">0&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">0&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">+&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">+&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">+&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">+&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">-&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">-&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">-&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s">-&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s"> &quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s"> &quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s"> &quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0</span><span class="se">\n</span><span class="s"> &quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtoull</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">,</span> <span class="s">&quot;%llu&quot;</span><span class="p">,</span> <span class="n">test_ull_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtoll_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="kt">long</span> <span class="kt">long</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_ll</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_ll</span><span class="p">,</span> <span class="n">test_ll_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">256LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">257LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32767LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32768LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32769LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65535LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65536LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65537LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483647LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483648LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483649LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967295LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967296LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967297LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775807LL</span><span class="p">},</span>

		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">1LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-2&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">2LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="n">LLONG_MIN</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtoll</span><span class="p">,</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">,</span> <span class="s">&quot;%lld&quot;</span><span class="p">,</span> <span class="n">test_ll_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtoll_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_ll_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="cm">/* negative zero isn&#39;t an integer in Linux */</span>
		<span class="p">{</span><span class="s">&quot;-0&quot;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-0&quot;</span><span class="p">,</span>	<span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-0&quot;</span><span class="p">,</span>	<span class="mi">16</span><span class="p">},</span>
		<span class="cm">/* sign is first character if any */</span>
		<span class="p">{</span><span class="s">&quot;-+1&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-+1&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-+1&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-+1&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtoll</span><span class="p">,</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">,</span> <span class="s">&quot;%lld&quot;</span><span class="p">,</span> <span class="n">test_ll_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtou64_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="n">u64</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_u64</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_u64</span><span class="p">,</span> <span class="n">test_u64_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;126&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">126</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;254&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">254</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">256</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">257</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32766&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32766</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32767</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32768</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32769</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65534&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65534</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65535</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65536</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65537</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483646&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483646</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483647</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483648ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483649ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967294&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967294ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967295ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967296ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967297ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775806&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775806ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775807ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775808ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775809ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">18446744073709551614ULL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">18446744073709551615ULL</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtou64</span><span class="p">,</span> <span class="n">u64</span><span class="p">,</span> <span class="s">&quot;%llu&quot;</span><span class="p">,</span> <span class="n">test_u64_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtou64_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_u64_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-2&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551617&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtou64</span><span class="p">,</span> <span class="n">u64</span><span class="p">,</span> <span class="s">&quot;%llu&quot;</span><span class="p">,</span> <span class="n">test_u64_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtos64_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="n">s64</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_s64</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_s64</span><span class="p">,</span> <span class="n">test_s64_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;126&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">126</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;254&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">254</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">256</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">257</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32766&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32766</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32767</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32768</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32769</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65534&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65534</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65535</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65536</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65537</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483646&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483646</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483647</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483648LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483649LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967294&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967294LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967295LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967296LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967297LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775806&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775806LL</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">9223372036854775807LL</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtos64</span><span class="p">,</span> <span class="n">s64</span><span class="p">,</span> <span class="s">&quot;%lld&quot;</span><span class="p">,</span> <span class="n">test_s64_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtos64_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_s64_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551617&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtos64</span><span class="p">,</span> <span class="n">s64</span><span class="p">,</span> <span class="s">&quot;%lld&quot;</span><span class="p">,</span> <span class="n">test_s64_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtou32_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="n">u32</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_u32</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_u32</span><span class="p">,</span> <span class="n">test_u32_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;126&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">126</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;254&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">254</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">256</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">257</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32766&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32766</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32767</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32768</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32769</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65534&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65534</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65535</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65536</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65537</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483646&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483646</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483647</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483648U</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483649U</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967294&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967294U</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4294967295U</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtou32</span><span class="p">,</span> <span class="n">u32</span><span class="p">,</span> <span class="s">&quot;%u&quot;</span><span class="p">,</span> <span class="n">test_u32_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtou32_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_u32_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-2&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775806&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551617&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtou32</span><span class="p">,</span> <span class="n">u32</span><span class="p">,</span> <span class="s">&quot;%u&quot;</span><span class="p">,</span> <span class="n">test_u32_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtos32_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="n">s32</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_s32</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_s32</span><span class="p">,</span> <span class="n">test_s32_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;126&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">126</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;254&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">254</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">256</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">257</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32766&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32766</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32767</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32768</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32769</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65534&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65534</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65535</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65536</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65537</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483646&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483646</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">2147483647</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtos32</span><span class="p">,</span> <span class="n">s32</span><span class="p">,</span> <span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="n">test_s32_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtos32_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_s32_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967294&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775806&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551617&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtos32</span><span class="p">,</span> <span class="n">s32</span><span class="p">,</span> <span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="n">test_s32_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtou16_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="n">u16</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_u16</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_u16</span><span class="p">,</span> <span class="n">test_u16_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;126&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">126</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;254&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">254</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">256</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">257</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32766&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32766</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32767</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32768</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32769</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65534&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65534</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">65535</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtou16</span><span class="p">,</span> <span class="n">u16</span><span class="p">,</span> <span class="s">&quot;%hu&quot;</span><span class="p">,</span> <span class="n">test_u16_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtou16_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_u16_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-2&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483646&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967294&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775806&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551617&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtou16</span><span class="p">,</span> <span class="n">u16</span><span class="p">,</span> <span class="s">&quot;%hu&quot;</span><span class="p">,</span> <span class="n">test_u16_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtos16_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="n">s16</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_s16</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_s16</span><span class="p">,</span> <span class="n">test_s16_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-130&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">130</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">129</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;126&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">126</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;254&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">254</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">256</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">257</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32766&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32766</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">32767</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtos16</span><span class="p">,</span> <span class="n">s16</span><span class="p">,</span> <span class="s">&quot;%hd&quot;</span><span class="p">,</span> <span class="n">test_s16_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtos16_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_s16_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65534&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483646&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967294&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775806&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551617&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtos16</span><span class="p">,</span> <span class="n">s16</span><span class="p">,</span> <span class="s">&quot;%hd&quot;</span><span class="p">,</span> <span class="n">test_s16_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtou8_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="n">u8</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_u8</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_u8</span><span class="p">,</span> <span class="n">test_u8_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;126&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">126</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">129</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;254&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">254</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">255</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtou8</span><span class="p">,</span> <span class="n">u8</span><span class="p">,</span> <span class="s">&quot;%hhu&quot;</span><span class="p">,</span> <span class="n">test_u8_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtou8_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_u8_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-2&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32766&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65534&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483646&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967294&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775806&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551617&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtou8</span><span class="p">,</span> <span class="n">u8</span><span class="p">,</span> <span class="s">&quot;%hhu&quot;</span><span class="p">,</span> <span class="n">test_u8_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtos8_ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DECLARE_TEST_OK</span><span class="p">(</span><span class="n">s8</span><span class="p">,</span> <span class="k">struct</span> <span class="n">test_s8</span><span class="p">);</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_OK</span><span class="p">(</span><span class="k">struct</span> <span class="n">test_s8</span><span class="p">,</span> <span class="n">test_s8_ok</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">128</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">127</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="o">-</span><span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;0&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;126&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">126</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;127&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">127</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_OK</span><span class="p">(</span><span class="n">kstrtos8</span><span class="p">,</span> <span class="n">s8</span><span class="p">,</span> <span class="s">&quot;%hhd&quot;</span><span class="p">,</span> <span class="n">test_s8_ok</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">test_kstrtos8_fail</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="n">DEFINE_TEST_FAIL</span><span class="p">(</span><span class="n">test_s8_fail</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="s">&quot;-130&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;-129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;128&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;129&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;254&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;255&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;256&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;257&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32766&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32767&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32768&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;32769&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65534&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65535&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65536&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;65537&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483646&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483647&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483648&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;2147483649&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967294&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967295&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967296&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;4294967297&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775806&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775807&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775808&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;9223372036854775809&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551614&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551615&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551616&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
		<span class="p">{</span><span class="s">&quot;18446744073709551617&quot;</span><span class="p">,</span>	<span class="mi">10</span><span class="p">},</span>
	<span class="p">};</span>
	<span class="n">TEST_FAIL</span><span class="p">(</span><span class="n">kstrtos8</span><span class="p">,</span> <span class="n">s8</span><span class="p">,</span> <span class="s">&quot;%hhd&quot;</span><span class="p">,</span> <span class="n">test_s8_fail</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">test_kstrtox_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">test_kstrtoull_ok</span><span class="p">();</span>
	<span class="n">test_kstrtoull_fail</span><span class="p">();</span>
	<span class="n">test_kstrtoll_ok</span><span class="p">();</span>
	<span class="n">test_kstrtoll_fail</span><span class="p">();</span>

	<span class="n">test_kstrtou64_ok</span><span class="p">();</span>
	<span class="n">test_kstrtou64_fail</span><span class="p">();</span>
	<span class="n">test_kstrtos64_ok</span><span class="p">();</span>
	<span class="n">test_kstrtos64_fail</span><span class="p">();</span>

	<span class="n">test_kstrtou32_ok</span><span class="p">();</span>
	<span class="n">test_kstrtou32_fail</span><span class="p">();</span>
	<span class="n">test_kstrtos32_ok</span><span class="p">();</span>
	<span class="n">test_kstrtos32_fail</span><span class="p">();</span>

	<span class="n">test_kstrtou16_ok</span><span class="p">();</span>
	<span class="n">test_kstrtou16_fail</span><span class="p">();</span>
	<span class="n">test_kstrtos16_ok</span><span class="p">();</span>
	<span class="n">test_kstrtos16_fail</span><span class="p">();</span>

	<span class="n">test_kstrtou8_ok</span><span class="p">();</span>
	<span class="n">test_kstrtou8_fail</span><span class="p">();</span>
	<span class="n">test_kstrtos8_ok</span><span class="p">();</span>
	<span class="n">test_kstrtos8_fail</span><span class="p">();</span>
	<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">module_init</span><span class="p">(</span><span class="n">test_kstrtox_init</span><span class="p">);</span>
<span class="n">MODULE_LICENSE</span><span class="p">(</span><span class="s">&quot;Dual BSD/GPL&quot;</span><span class="p">);</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:1}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../javascript/docco.min.js"></script>
</html>
