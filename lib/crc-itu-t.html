<!DOCTYPE html>
<html><head><title>joekychen/linux » lib › crc-itu-t.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../index.html"></a><h1>crc-itu-t.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *      crc-itu-t.c</span>
<span class="cm"> *</span>
<span class="cm"> * This source code is licensed under the GNU General Public License,</span>
<span class="cm"> * Version 2. See the file COPYING for more details.</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;linux/module.h&gt;</span>
<span class="cp">#include &lt;linux/crc-itu-t.h&gt;</span>

<span class="cm">/** CRC table for the CRC ITU-T V.41 0x0x1021 (x^16 + x^12 + x^15 + 1) */</span>
<span class="k">const</span> <span class="n">u16</span> <span class="n">crc_itu_t_table</span><span class="p">[</span><span class="mi">256</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x0000</span><span class="p">,</span> <span class="mh">0x1021</span><span class="p">,</span> <span class="mh">0x2042</span><span class="p">,</span> <span class="mh">0x3063</span><span class="p">,</span> <span class="mh">0x4084</span><span class="p">,</span> <span class="mh">0x50a5</span><span class="p">,</span> <span class="mh">0x60c6</span><span class="p">,</span> <span class="mh">0x70e7</span><span class="p">,</span>
	<span class="mh">0x8108</span><span class="p">,</span> <span class="mh">0x9129</span><span class="p">,</span> <span class="mh">0xa14a</span><span class="p">,</span> <span class="mh">0xb16b</span><span class="p">,</span> <span class="mh">0xc18c</span><span class="p">,</span> <span class="mh">0xd1ad</span><span class="p">,</span> <span class="mh">0xe1ce</span><span class="p">,</span> <span class="mh">0xf1ef</span><span class="p">,</span>
	<span class="mh">0x1231</span><span class="p">,</span> <span class="mh">0x0210</span><span class="p">,</span> <span class="mh">0x3273</span><span class="p">,</span> <span class="mh">0x2252</span><span class="p">,</span> <span class="mh">0x52b5</span><span class="p">,</span> <span class="mh">0x4294</span><span class="p">,</span> <span class="mh">0x72f7</span><span class="p">,</span> <span class="mh">0x62d6</span><span class="p">,</span>
	<span class="mh">0x9339</span><span class="p">,</span> <span class="mh">0x8318</span><span class="p">,</span> <span class="mh">0xb37b</span><span class="p">,</span> <span class="mh">0xa35a</span><span class="p">,</span> <span class="mh">0xd3bd</span><span class="p">,</span> <span class="mh">0xc39c</span><span class="p">,</span> <span class="mh">0xf3ff</span><span class="p">,</span> <span class="mh">0xe3de</span><span class="p">,</span>
	<span class="mh">0x2462</span><span class="p">,</span> <span class="mh">0x3443</span><span class="p">,</span> <span class="mh">0x0420</span><span class="p">,</span> <span class="mh">0x1401</span><span class="p">,</span> <span class="mh">0x64e6</span><span class="p">,</span> <span class="mh">0x74c7</span><span class="p">,</span> <span class="mh">0x44a4</span><span class="p">,</span> <span class="mh">0x5485</span><span class="p">,</span>
	<span class="mh">0xa56a</span><span class="p">,</span> <span class="mh">0xb54b</span><span class="p">,</span> <span class="mh">0x8528</span><span class="p">,</span> <span class="mh">0x9509</span><span class="p">,</span> <span class="mh">0xe5ee</span><span class="p">,</span> <span class="mh">0xf5cf</span><span class="p">,</span> <span class="mh">0xc5ac</span><span class="p">,</span> <span class="mh">0xd58d</span><span class="p">,</span>
	<span class="mh">0x3653</span><span class="p">,</span> <span class="mh">0x2672</span><span class="p">,</span> <span class="mh">0x1611</span><span class="p">,</span> <span class="mh">0x0630</span><span class="p">,</span> <span class="mh">0x76d7</span><span class="p">,</span> <span class="mh">0x66f6</span><span class="p">,</span> <span class="mh">0x5695</span><span class="p">,</span> <span class="mh">0x46b4</span><span class="p">,</span>
	<span class="mh">0xb75b</span><span class="p">,</span> <span class="mh">0xa77a</span><span class="p">,</span> <span class="mh">0x9719</span><span class="p">,</span> <span class="mh">0x8738</span><span class="p">,</span> <span class="mh">0xf7df</span><span class="p">,</span> <span class="mh">0xe7fe</span><span class="p">,</span> <span class="mh">0xd79d</span><span class="p">,</span> <span class="mh">0xc7bc</span><span class="p">,</span>
	<span class="mh">0x48c4</span><span class="p">,</span> <span class="mh">0x58e5</span><span class="p">,</span> <span class="mh">0x6886</span><span class="p">,</span> <span class="mh">0x78a7</span><span class="p">,</span> <span class="mh">0x0840</span><span class="p">,</span> <span class="mh">0x1861</span><span class="p">,</span> <span class="mh">0x2802</span><span class="p">,</span> <span class="mh">0x3823</span><span class="p">,</span>
	<span class="mh">0xc9cc</span><span class="p">,</span> <span class="mh">0xd9ed</span><span class="p">,</span> <span class="mh">0xe98e</span><span class="p">,</span> <span class="mh">0xf9af</span><span class="p">,</span> <span class="mh">0x8948</span><span class="p">,</span> <span class="mh">0x9969</span><span class="p">,</span> <span class="mh">0xa90a</span><span class="p">,</span> <span class="mh">0xb92b</span><span class="p">,</span>
	<span class="mh">0x5af5</span><span class="p">,</span> <span class="mh">0x4ad4</span><span class="p">,</span> <span class="mh">0x7ab7</span><span class="p">,</span> <span class="mh">0x6a96</span><span class="p">,</span> <span class="mh">0x1a71</span><span class="p">,</span> <span class="mh">0x0a50</span><span class="p">,</span> <span class="mh">0x3a33</span><span class="p">,</span> <span class="mh">0x2a12</span><span class="p">,</span>
	<span class="mh">0xdbfd</span><span class="p">,</span> <span class="mh">0xcbdc</span><span class="p">,</span> <span class="mh">0xfbbf</span><span class="p">,</span> <span class="mh">0xeb9e</span><span class="p">,</span> <span class="mh">0x9b79</span><span class="p">,</span> <span class="mh">0x8b58</span><span class="p">,</span> <span class="mh">0xbb3b</span><span class="p">,</span> <span class="mh">0xab1a</span><span class="p">,</span>
	<span class="mh">0x6ca6</span><span class="p">,</span> <span class="mh">0x7c87</span><span class="p">,</span> <span class="mh">0x4ce4</span><span class="p">,</span> <span class="mh">0x5cc5</span><span class="p">,</span> <span class="mh">0x2c22</span><span class="p">,</span> <span class="mh">0x3c03</span><span class="p">,</span> <span class="mh">0x0c60</span><span class="p">,</span> <span class="mh">0x1c41</span><span class="p">,</span>
	<span class="mh">0xedae</span><span class="p">,</span> <span class="mh">0xfd8f</span><span class="p">,</span> <span class="mh">0xcdec</span><span class="p">,</span> <span class="mh">0xddcd</span><span class="p">,</span> <span class="mh">0xad2a</span><span class="p">,</span> <span class="mh">0xbd0b</span><span class="p">,</span> <span class="mh">0x8d68</span><span class="p">,</span> <span class="mh">0x9d49</span><span class="p">,</span>
	<span class="mh">0x7e97</span><span class="p">,</span> <span class="mh">0x6eb6</span><span class="p">,</span> <span class="mh">0x5ed5</span><span class="p">,</span> <span class="mh">0x4ef4</span><span class="p">,</span> <span class="mh">0x3e13</span><span class="p">,</span> <span class="mh">0x2e32</span><span class="p">,</span> <span class="mh">0x1e51</span><span class="p">,</span> <span class="mh">0x0e70</span><span class="p">,</span>
	<span class="mh">0xff9f</span><span class="p">,</span> <span class="mh">0xefbe</span><span class="p">,</span> <span class="mh">0xdfdd</span><span class="p">,</span> <span class="mh">0xcffc</span><span class="p">,</span> <span class="mh">0xbf1b</span><span class="p">,</span> <span class="mh">0xaf3a</span><span class="p">,</span> <span class="mh">0x9f59</span><span class="p">,</span> <span class="mh">0x8f78</span><span class="p">,</span>
	<span class="mh">0x9188</span><span class="p">,</span> <span class="mh">0x81a9</span><span class="p">,</span> <span class="mh">0xb1ca</span><span class="p">,</span> <span class="mh">0xa1eb</span><span class="p">,</span> <span class="mh">0xd10c</span><span class="p">,</span> <span class="mh">0xc12d</span><span class="p">,</span> <span class="mh">0xf14e</span><span class="p">,</span> <span class="mh">0xe16f</span><span class="p">,</span>
	<span class="mh">0x1080</span><span class="p">,</span> <span class="mh">0x00a1</span><span class="p">,</span> <span class="mh">0x30c2</span><span class="p">,</span> <span class="mh">0x20e3</span><span class="p">,</span> <span class="mh">0x5004</span><span class="p">,</span> <span class="mh">0x4025</span><span class="p">,</span> <span class="mh">0x7046</span><span class="p">,</span> <span class="mh">0x6067</span><span class="p">,</span>
	<span class="mh">0x83b9</span><span class="p">,</span> <span class="mh">0x9398</span><span class="p">,</span> <span class="mh">0xa3fb</span><span class="p">,</span> <span class="mh">0xb3da</span><span class="p">,</span> <span class="mh">0xc33d</span><span class="p">,</span> <span class="mh">0xd31c</span><span class="p">,</span> <span class="mh">0xe37f</span><span class="p">,</span> <span class="mh">0xf35e</span><span class="p">,</span>
	<span class="mh">0x02b1</span><span class="p">,</span> <span class="mh">0x1290</span><span class="p">,</span> <span class="mh">0x22f3</span><span class="p">,</span> <span class="mh">0x32d2</span><span class="p">,</span> <span class="mh">0x4235</span><span class="p">,</span> <span class="mh">0x5214</span><span class="p">,</span> <span class="mh">0x6277</span><span class="p">,</span> <span class="mh">0x7256</span><span class="p">,</span>
	<span class="mh">0xb5ea</span><span class="p">,</span> <span class="mh">0xa5cb</span><span class="p">,</span> <span class="mh">0x95a8</span><span class="p">,</span> <span class="mh">0x8589</span><span class="p">,</span> <span class="mh">0xf56e</span><span class="p">,</span> <span class="mh">0xe54f</span><span class="p">,</span> <span class="mh">0xd52c</span><span class="p">,</span> <span class="mh">0xc50d</span><span class="p">,</span>
	<span class="mh">0x34e2</span><span class="p">,</span> <span class="mh">0x24c3</span><span class="p">,</span> <span class="mh">0x14a0</span><span class="p">,</span> <span class="mh">0x0481</span><span class="p">,</span> <span class="mh">0x7466</span><span class="p">,</span> <span class="mh">0x6447</span><span class="p">,</span> <span class="mh">0x5424</span><span class="p">,</span> <span class="mh">0x4405</span><span class="p">,</span>
	<span class="mh">0xa7db</span><span class="p">,</span> <span class="mh">0xb7fa</span><span class="p">,</span> <span class="mh">0x8799</span><span class="p">,</span> <span class="mh">0x97b8</span><span class="p">,</span> <span class="mh">0xe75f</span><span class="p">,</span> <span class="mh">0xf77e</span><span class="p">,</span> <span class="mh">0xc71d</span><span class="p">,</span> <span class="mh">0xd73c</span><span class="p">,</span>
	<span class="mh">0x26d3</span><span class="p">,</span> <span class="mh">0x36f2</span><span class="p">,</span> <span class="mh">0x0691</span><span class="p">,</span> <span class="mh">0x16b0</span><span class="p">,</span> <span class="mh">0x6657</span><span class="p">,</span> <span class="mh">0x7676</span><span class="p">,</span> <span class="mh">0x4615</span><span class="p">,</span> <span class="mh">0x5634</span><span class="p">,</span>
	<span class="mh">0xd94c</span><span class="p">,</span> <span class="mh">0xc96d</span><span class="p">,</span> <span class="mh">0xf90e</span><span class="p">,</span> <span class="mh">0xe92f</span><span class="p">,</span> <span class="mh">0x99c8</span><span class="p">,</span> <span class="mh">0x89e9</span><span class="p">,</span> <span class="mh">0xb98a</span><span class="p">,</span> <span class="mh">0xa9ab</span><span class="p">,</span>
	<span class="mh">0x5844</span><span class="p">,</span> <span class="mh">0x4865</span><span class="p">,</span> <span class="mh">0x7806</span><span class="p">,</span> <span class="mh">0x6827</span><span class="p">,</span> <span class="mh">0x18c0</span><span class="p">,</span> <span class="mh">0x08e1</span><span class="p">,</span> <span class="mh">0x3882</span><span class="p">,</span> <span class="mh">0x28a3</span><span class="p">,</span>
	<span class="mh">0xcb7d</span><span class="p">,</span> <span class="mh">0xdb5c</span><span class="p">,</span> <span class="mh">0xeb3f</span><span class="p">,</span> <span class="mh">0xfb1e</span><span class="p">,</span> <span class="mh">0x8bf9</span><span class="p">,</span> <span class="mh">0x9bd8</span><span class="p">,</span> <span class="mh">0xabbb</span><span class="p">,</span> <span class="mh">0xbb9a</span><span class="p">,</span>
	<span class="mh">0x4a75</span><span class="p">,</span> <span class="mh">0x5a54</span><span class="p">,</span> <span class="mh">0x6a37</span><span class="p">,</span> <span class="mh">0x7a16</span><span class="p">,</span> <span class="mh">0x0af1</span><span class="p">,</span> <span class="mh">0x1ad0</span><span class="p">,</span> <span class="mh">0x2ab3</span><span class="p">,</span> <span class="mh">0x3a92</span><span class="p">,</span>
	<span class="mh">0xfd2e</span><span class="p">,</span> <span class="mh">0xed0f</span><span class="p">,</span> <span class="mh">0xdd6c</span><span class="p">,</span> <span class="mh">0xcd4d</span><span class="p">,</span> <span class="mh">0xbdaa</span><span class="p">,</span> <span class="mh">0xad8b</span><span class="p">,</span> <span class="mh">0x9de8</span><span class="p">,</span> <span class="mh">0x8dc9</span><span class="p">,</span>
	<span class="mh">0x7c26</span><span class="p">,</span> <span class="mh">0x6c07</span><span class="p">,</span> <span class="mh">0x5c64</span><span class="p">,</span> <span class="mh">0x4c45</span><span class="p">,</span> <span class="mh">0x3ca2</span><span class="p">,</span> <span class="mh">0x2c83</span><span class="p">,</span> <span class="mh">0x1ce0</span><span class="p">,</span> <span class="mh">0x0cc1</span><span class="p">,</span>
	<span class="mh">0xef1f</span><span class="p">,</span> <span class="mh">0xff3e</span><span class="p">,</span> <span class="mh">0xcf5d</span><span class="p">,</span> <span class="mh">0xdf7c</span><span class="p">,</span> <span class="mh">0xaf9b</span><span class="p">,</span> <span class="mh">0xbfba</span><span class="p">,</span> <span class="mh">0x8fd9</span><span class="p">,</span> <span class="mh">0x9ff8</span><span class="p">,</span>
	<span class="mh">0x6e17</span><span class="p">,</span> <span class="mh">0x7e36</span><span class="p">,</span> <span class="mh">0x4e55</span><span class="p">,</span> <span class="mh">0x5e74</span><span class="p">,</span> <span class="mh">0x2e93</span><span class="p">,</span> <span class="mh">0x3eb2</span><span class="p">,</span> <span class="mh">0x0ed1</span><span class="p">,</span> <span class="mh">0x1ef0</span>
<span class="p">};</span>

<span class="n">EXPORT_SYMBOL</span><span class="p">(</span><span class="n">crc_itu_t_table</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * crc_itu_t - Compute the CRC-ITU-T for the data buffer</span>
<span class="cm"> *</span>
<span class="cm"> * @crc:     previous CRC value</span>
<span class="cm"> * @buffer:  data pointer</span>
<span class="cm"> * @len:     number of bytes in the buffer</span>
<span class="cm"> *</span>
<span class="cm"> * Returns the updated CRC value</span>
<span class="cm"> */</span>
<span class="n">u16</span> <span class="nf">crc_itu_t</span><span class="p">(</span><span class="n">u16</span> <span class="n">crc</span><span class="p">,</span> <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">buffer</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">len</span><span class="o">--</span><span class="p">)</span>
		<span class="n">crc</span> <span class="o">=</span> <span class="n">crc_itu_t_byte</span><span class="p">(</span><span class="n">crc</span><span class="p">,</span> <span class="o">*</span><span class="n">buffer</span><span class="o">++</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">crc</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">EXPORT_SYMBOL</span><span class="p">(</span><span class="n">crc_itu_t</span><span class="p">);</span>

<span class="n">MODULE_DESCRIPTION</span><span class="p">(</span><span class="s">&quot;CRC ITU-T V.41 calculations&quot;</span><span class="p">);</span>
<span class="n">MODULE_LICENSE</span><span class="p">(</span><span class="s">&quot;GPL&quot;</span><span class="p">);</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:1}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../javascript/docco.min.js"></script>
</html>
