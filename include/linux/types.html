<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › types.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>types.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _LINUX_TYPES_H</span>
<span class="cp">#define _LINUX_TYPES_H</span>

<span class="cp">#include &lt;asm/types.h&gt;</span>

<span class="cp">#ifndef __ASSEMBLY__</span>
<span class="cp">#ifdef	__KERNEL__</span>

<span class="cp">#define DECLARE_BITMAP(name,bits) \</span>
<span class="cp">	unsigned long name[BITS_TO_LONGS(bits)]</span>
<span class="cp">#else</span>
<span class="cp">#ifndef __EXPORTED_HEADERS__</span>
<span class="cp">#warning &quot;Attempt to use kernel headers from user space, see http:</span><span class="c1">//kernelnewbies.org/KernelHeaders&quot;</span>
<span class="cp">#endif </span><span class="cm">/* __EXPORTED_HEADERS__ */</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cp">#include &lt;linux/posix_types.h&gt;</span>

<span class="cp">#ifdef __KERNEL__</span>

<span class="k">typedef</span> <span class="n">__u32</span> <span class="n">__kernel_dev_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="n">__kernel_fd_set</span>		<span class="n">fd_set</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_dev_t</span>		<span class="n">dev_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_ino_t</span>		<span class="n">ino_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_mode_t</span>		<span class="n">mode_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">short</span>		<span class="n">umode_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__u32</span>			<span class="n">nlink_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_off_t</span>		<span class="kt">off_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_pid_t</span>		<span class="n">pid_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_daddr_t</span>	<span class="n">daddr_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_key_t</span>		<span class="n">key_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_suseconds_t</span>	<span class="n">suseconds_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_timer_t</span>	<span class="n">timer_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_clockid_t</span>	<span class="n">clockid_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_mqd_t</span>		<span class="n">mqd_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="kt">_Bool</span>			<span class="n">bool</span><span class="p">;</span>

<span class="k">typedef</span> <span class="n">__kernel_uid32_t</span>	<span class="n">uid_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_gid32_t</span>	<span class="n">gid_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_uid16_t</span>        <span class="n">uid16_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_gid16_t</span>        <span class="n">gid16_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span>		<span class="kt">uintptr_t</span><span class="p">;</span>

<span class="cp">#ifdef CONFIG_UID16</span>
<span class="cm">/* This is defined by include/asm-{arch}/posix_types.h */</span>
<span class="k">typedef</span> <span class="n">__kernel_old_uid_t</span>	<span class="n">old_uid_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__kernel_old_gid_t</span>	<span class="n">old_gid_t</span><span class="p">;</span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_UID16 */</span><span class="cp"></span>

<span class="cp">#if defined(__GNUC__)</span>
<span class="k">typedef</span> <span class="n">__kernel_loff_t</span>		<span class="n">loff_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * The following typedefs are also protected by individual ifdefs for</span>
<span class="cm"> * historical reasons:</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _SIZE_T</span>
<span class="cp">#define _SIZE_T</span>
<span class="k">typedef</span> <span class="n">__kernel_size_t</span>		<span class="kt">size_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef _SSIZE_T</span>
<span class="cp">#define _SSIZE_T</span>
<span class="k">typedef</span> <span class="n">__kernel_ssize_t</span>	<span class="kt">ssize_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef _PTRDIFF_T</span>
<span class="cp">#define _PTRDIFF_T</span>
<span class="k">typedef</span> <span class="n">__kernel_ptrdiff_t</span>	<span class="kt">ptrdiff_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef _TIME_T</span>
<span class="cp">#define _TIME_T</span>
<span class="k">typedef</span> <span class="n">__kernel_time_t</span>		<span class="kt">time_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef _CLOCK_T</span>
<span class="cp">#define _CLOCK_T</span>
<span class="k">typedef</span> <span class="n">__kernel_clock_t</span>	<span class="kt">clock_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef _CADDR_T</span>
<span class="cp">#define _CADDR_T</span>
<span class="k">typedef</span> <span class="n">__kernel_caddr_t</span>	<span class="n">caddr_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cm">/* bsd */</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span>		<span class="n">u_char</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">short</span>		<span class="n">u_short</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">u_int</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span>		<span class="n">u_long</span><span class="p">;</span>

<span class="cm">/* sysv */</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span>		<span class="n">unchar</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">short</span>		<span class="n">ushort</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">uint</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span>		<span class="n">ulong</span><span class="p">;</span>

<span class="cp">#ifndef __BIT_TYPES_DEFINED__</span>
<span class="cp">#define __BIT_TYPES_DEFINED__</span>

<span class="k">typedef</span>		<span class="n">__u8</span>		<span class="n">u_int8_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__s8</span>		<span class="kt">int8_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__u16</span>		<span class="n">u_int16_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__s16</span>		<span class="kt">int16_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__u32</span>		<span class="n">u_int32_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__s32</span>		<span class="kt">int32_t</span><span class="p">;</span>

<span class="cp">#endif </span><span class="cm">/* !(__BIT_TYPES_DEFINED__) */</span><span class="cp"></span>

<span class="k">typedef</span>		<span class="n">__u8</span>		<span class="kt">uint8_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__u16</span>		<span class="kt">uint16_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__u32</span>		<span class="kt">uint32_t</span><span class="p">;</span>

<span class="cp">#if defined(__GNUC__)</span>
<span class="k">typedef</span>		<span class="n">__u64</span>		<span class="kt">uint64_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__u64</span>		<span class="n">u_int64_t</span><span class="p">;</span>
<span class="k">typedef</span>		<span class="n">__s64</span>		<span class="kt">int64_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cm">/* this is a special 64bit data type that is 8-byte aligned */</span>
<span class="cp">#define aligned_u64 __u64 __attribute__((aligned(8)))</span>
<span class="cp">#define aligned_be64 __be64 __attribute__((aligned(8)))</span>
<span class="cp">#define aligned_le64 __le64 __attribute__((aligned(8)))</span>

<span class="cm">/**</span>
<span class="cm"> * The type used for indexing onto a disc or disc partition.</span>
<span class="cm"> *</span>
<span class="cm"> * Linux always considers sectors to be 512 bytes long independently</span>
<span class="cm"> * of the devices real block size.</span>
<span class="cm"> *</span>
<span class="cm"> * blkcnt_t is the type of the inode&#39;s block count.</span>
<span class="cm"> */</span>
<span class="cp">#ifdef CONFIG_LBDAF</span>
<span class="k">typedef</span> <span class="n">u64</span> <span class="n">sector_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">u64</span> <span class="n">blkcnt_t</span><span class="p">;</span>
<span class="cp">#else</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sector_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">blkcnt_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * The type of an index into the pagecache.  Use a #define so asm/types.h</span>
<span class="cm"> * can override it.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef pgoff_t</span>
<span class="cp">#define pgoff_t unsigned long</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_ARCH_DMA_ADDR_T_64BIT</span>
<span class="k">typedef</span> <span class="n">u64</span> <span class="n">dma_addr_t</span><span class="p">;</span>
<span class="cp">#else</span>
<span class="k">typedef</span> <span class="n">u32</span> <span class="n">dma_addr_t</span><span class="p">;</span>
<span class="cp">#endif </span><span class="cm">/* dma_addr_t */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Below are truly Linux-specific types that should never collide with</span>
<span class="cm"> * any application/library that wants linux/types.h.</span>
<span class="cm"> */</span>

<span class="cp">#ifdef __CHECKER__</span>
<span class="cp">#define __bitwise__ __attribute__((bitwise))</span>
<span class="cp">#else</span>
<span class="cp">#define __bitwise__</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef __CHECK_ENDIAN__</span>
<span class="cp">#define __bitwise __bitwise__</span>
<span class="cp">#else</span>
<span class="cp">#define __bitwise</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="n">__u16</span> <span class="n">__bitwise</span> <span class="n">__le16</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__u16</span> <span class="n">__bitwise</span> <span class="n">__be16</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__u32</span> <span class="n">__bitwise</span> <span class="n">__le32</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__u32</span> <span class="n">__bitwise</span> <span class="n">__be32</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__u64</span> <span class="n">__bitwise</span> <span class="n">__le64</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__u64</span> <span class="n">__bitwise</span> <span class="n">__be64</span><span class="p">;</span>

<span class="k">typedef</span> <span class="n">__u16</span> <span class="n">__bitwise</span> <span class="n">__sum16</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">__u32</span> <span class="n">__bitwise</span> <span class="n">__wsum</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * aligned_u64 should be used in defining kernel&lt;-&gt;userspace ABIs to avoid</span>
<span class="cm"> * common 32/64-bit compat problems.</span>
<span class="cm"> * 64-bit values align to 4-byte boundaries on x86_32 (and possibly other</span>
<span class="cm"> * architectures) and to 8-byte boundaries on 64-bit architectures.  The new</span>
<span class="cm"> * aligned_64 type enforces 8-byte alignment so that structs containing</span>
<span class="cm"> * aligned_64 values have the same alignment on 32-bit and 64-bit architectures.</span>
<span class="cm"> * No conversions are necessary between 32-bit user-space and a 64-bit kernel.</span>
<span class="cm"> */</span>
<span class="cp">#define __aligned_u64 __u64 __attribute__((aligned(8)))</span>
<span class="cp">#define __aligned_be64 __be64 __attribute__((aligned(8)))</span>
<span class="cp">#define __aligned_le64 __le64 __attribute__((aligned(8)))</span>

<span class="cp">#ifdef __KERNEL__</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="n">__bitwise__</span> <span class="n">gfp_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="n">__bitwise__</span> <span class="n">fmode_t</span><span class="p">;</span>

<span class="cp">#ifdef CONFIG_PHYS_ADDR_T_64BIT</span>
<span class="k">typedef</span> <span class="n">u64</span> <span class="n">phys_addr_t</span><span class="p">;</span>
<span class="cp">#else</span>
<span class="k">typedef</span> <span class="n">u32</span> <span class="n">phys_addr_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="n">phys_addr_t</span> <span class="n">resource_size_t</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * This type is the placeholder for a hardware interrupt number. It has to be</span>
<span class="cm"> * big enough to enclose whatever representation is used by a given platform.</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">irq_hw_number_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">counter</span><span class="p">;</span>
<span class="p">}</span> <span class="n">atomic_t</span><span class="p">;</span>

<span class="cp">#ifdef CONFIG_64BIT</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="kt">long</span> <span class="n">counter</span><span class="p">;</span>
<span class="p">}</span> <span class="n">atomic64_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">list_head</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="o">*</span><span class="n">next</span><span class="p">,</span> <span class="o">*</span><span class="n">prev</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hlist_head</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hlist_node</span> <span class="o">*</span><span class="n">first</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hlist_node</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hlist_node</span> <span class="o">*</span><span class="n">next</span><span class="p">,</span> <span class="o">**</span><span class="n">pprev</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ustat</span> <span class="p">{</span>
	<span class="n">__kernel_daddr_t</span>	<span class="n">f_tfree</span><span class="p">;</span>
	<span class="n">__kernel_ino_t</span>		<span class="n">f_tinode</span><span class="p">;</span>
	<span class="kt">char</span>			<span class="n">f_fname</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="kt">char</span>			<span class="n">f_fpack</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct rcu_head - callback structure for use with RCU</span>
<span class="cm"> * @next: next update requests in a list</span>
<span class="cm"> * @func: actual update function to call after the grace period.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">rcu_head</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">rcu_head</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="k">struct</span> <span class="n">rcu_head</span> <span class="o">*</span><span class="n">head</span><span class="p">);</span>
<span class="p">};</span>

<span class="cp">#endif	</span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/*  __ASSEMBLY__ */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/* _LINUX_TYPES_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
