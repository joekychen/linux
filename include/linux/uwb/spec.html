<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › uwb › spec.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>spec.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Ultra Wide Band</span>
<span class="cm"> * UWB Standard definitions</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2005-2006 Intel Corporation</span>
<span class="cm"> * Inaky Perez-Gonzalez &lt;inaky.perez-gonzalez@intel.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or</span>
<span class="cm"> * modify it under the terms of the GNU General Public License version</span>
<span class="cm"> * 2 as published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span>
<span class="cm"> * 02110-1301, USA.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> * All these definitions are based on the ECMA-368 standard.</span>
<span class="cm"> *</span>
<span class="cm"> * Note all definitions are Little Endian in the wire, and we will</span>
<span class="cm"> * convert them to host order before operating on the bitfields (that</span>
<span class="cm"> * yes, we use extensively).</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __LINUX__UWB_SPEC_H__</span>
<span class="cp">#define __LINUX__UWB_SPEC_H__</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;linux/bitmap.h&gt;</span>

<span class="cp">#define i1480_FW 0x00000303</span>
<span class="cm">/* #define i1480_FW 0x00000302 */</span>

<span class="cm">/**</span>
<span class="cm"> * Number of Medium Access Slots in a superframe.</span>
<span class="cm"> *</span>
<span class="cm"> * UWB divides time in SuperFrames, each one divided in 256 pieces, or</span>
<span class="cm"> * Medium Access Slots. See MBOA MAC[5.4.5] for details. The MAS is the</span>
<span class="cm"> * basic bandwidth allocation unit in UWB.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_NUM_MAS</span> <span class="o">=</span> <span class="mi">256</span> <span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Number of Zones in superframe.</span>
<span class="cm"> *</span>
<span class="cm"> * UWB divides the superframe into zones with numbering starting from BPST.</span>
<span class="cm"> * See MBOA MAC[16.8.6]</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_NUM_ZONES</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Number of MAS in a zone.</span>
<span class="cm"> */</span>
<span class="cp">#define UWB_MAS_PER_ZONE (UWB_NUM_MAS / UWB_NUM_ZONES)</span>

<span class="cm">/*</span>
<span class="cm"> * Number of MAS required before a row can be considered available.</span>
<span class="cm"> */</span>
<span class="cp">#define UWB_USABLE_MAS_PER_ROW (UWB_NUM_ZONES - 1)</span>

<span class="cm">/*</span>
<span class="cm"> * Number of streams per DRP reservation between a pair of devices.</span>
<span class="cm"> *</span>
<span class="cm"> * [ECMA-368] section 16.8.6.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_NUM_STREAMS</span> <span class="o">=</span> <span class="mi">8</span> <span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * mMasLength</span>
<span class="cm"> *</span>
<span class="cm"> * The length of a MAS in microseconds.</span>
<span class="cm"> *</span>
<span class="cm"> * [ECMA-368] section 17.16.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_MAS_LENGTH_US</span> <span class="o">=</span> <span class="mi">256</span> <span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * mBeaconSlotLength</span>
<span class="cm"> *</span>
<span class="cm"> * The length of the beacon slot in microseconds.</span>
<span class="cm"> *</span>
<span class="cm"> * [ECMA-368] section 17.16</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_BEACON_SLOT_LENGTH_US</span> <span class="o">=</span> <span class="mi">85</span> <span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * mMaxLostBeacons</span>
<span class="cm"> *</span>
<span class="cm"> * The number beacons missing in consecutive superframes before a</span>
<span class="cm"> * device can be considered as unreachable.</span>
<span class="cm"> *</span>
<span class="cm"> * [ECMA-368] section 17.16</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_MAX_LOST_BEACONS</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * mDRPBackOffWinMin</span>
<span class="cm"> *</span>
<span class="cm"> * The minimum number of superframes to wait before trying to reserve</span>
<span class="cm"> * extra MAS.</span>
<span class="cm"> *</span>
<span class="cm"> * [ECMA-368] section 17.16</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_DRP_BACKOFF_WIN_MIN</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * mDRPBackOffWinMax</span>
<span class="cm"> *</span>
<span class="cm"> * The maximum number of superframes to wait before trying to reserve</span>
<span class="cm"> * extra MAS.</span>
<span class="cm"> *</span>
<span class="cm"> * [ECMA-368] section 17.16</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_DRP_BACKOFF_WIN_MAX</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Length of a superframe in microseconds.</span>
<span class="cm"> */</span>
<span class="cp">#define UWB_SUPERFRAME_LENGTH_US (UWB_MAS_LENGTH_US * UWB_NUM_MAS)</span>

<span class="cm">/**</span>
<span class="cm"> * UWB MAC address</span>
<span class="cm"> *</span>
<span class="cm"> * It is *imperative* that this struct is exactly 6 packed bytes (as</span>
<span class="cm"> * it is also used to define headers sent down and up the wire/radio).</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_mac_addr</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/**</span>
<span class="cm"> * UWB device address</span>
<span class="cm"> *</span>
<span class="cm"> * It is *imperative* that this struct is exactly 6 packed bytes (as</span>
<span class="cm"> * it is also used to define headers sent down and up the wire/radio).</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_dev_addr</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/**</span>
<span class="cm"> * Types of UWB addresses</span>
<span class="cm"> *</span>
<span class="cm"> * Order matters (by size).</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">uwb_addr_type</span> <span class="p">{</span>
	<span class="n">UWB_ADDR_DEV</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_ADDR_MAC</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>


<span class="cm">/** Size of a char buffer for printing a MAC/device address */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">UWB_ADDR_STRSIZE</span> <span class="o">=</span> <span class="mi">32</span> <span class="p">};</span>


<span class="cm">/** UWB WiMedia protocol IDs. */</span>
<span class="k">enum</span> <span class="n">uwb_prid</span> <span class="p">{</span>
	<span class="n">UWB_PRID_WLP_RESERVED</span>   <span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="n">UWB_PRID_WLP</span>		<span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
	<span class="n">UWB_PRID_WUSB_BOT</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">UWB_PRID_WUSB</span>		<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">UWB_PRID_WUSB_TOP</span>	<span class="o">=</span> <span class="mh">0x001F</span><span class="p">,</span>
<span class="p">};</span>


<span class="cm">/** PHY Rate (MBOA MAC[7.8.12, Table 61]) */</span>
<span class="k">enum</span> <span class="n">uwb_phy_rate</span> <span class="p">{</span>
	<span class="n">UWB_PHY_RATE_53</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_PHY_RATE_80</span><span class="p">,</span>
	<span class="n">UWB_PHY_RATE_106</span><span class="p">,</span>
	<span class="n">UWB_PHY_RATE_160</span><span class="p">,</span>
	<span class="n">UWB_PHY_RATE_200</span><span class="p">,</span>
	<span class="n">UWB_PHY_RATE_320</span><span class="p">,</span>
	<span class="n">UWB_PHY_RATE_400</span><span class="p">,</span>
	<span class="n">UWB_PHY_RATE_480</span><span class="p">,</span>
	<span class="n">UWB_PHY_RATE_INVALID</span>
<span class="p">};</span>


<span class="cm">/**</span>
<span class="cm"> * Different ways to scan (MBOA MAC[6.2.2, Table 8], WUSB[Table 8-78])</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">uwb_scan_type</span> <span class="p">{</span>
	<span class="n">UWB_SCAN_ONLY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_SCAN_OUTSIDE_BP</span><span class="p">,</span>
	<span class="n">UWB_SCAN_WHILE_INACTIVE</span><span class="p">,</span>
	<span class="n">UWB_SCAN_DISABLED</span><span class="p">,</span>
	<span class="n">UWB_SCAN_ONLY_STARTTIME</span><span class="p">,</span>
	<span class="n">UWB_SCAN_TOP</span>
<span class="p">};</span>


<span class="cm">/** ACK Policy types (MBOA MAC[7.2.1.3]) */</span>
<span class="k">enum</span> <span class="n">uwb_ack_pol</span> <span class="p">{</span>
	<span class="n">UWB_ACK_NO</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_ACK_INM</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">UWB_ACK_B</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">UWB_ACK_B_REQ</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>


<span class="cm">/** DRP reservation types ([ECMA-368 table 106) */</span>
<span class="k">enum</span> <span class="n">uwb_drp_type</span> <span class="p">{</span>
	<span class="n">UWB_DRP_TYPE_ALIEN_BP</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_DRP_TYPE_HARD</span><span class="p">,</span>
	<span class="n">UWB_DRP_TYPE_SOFT</span><span class="p">,</span>
	<span class="n">UWB_DRP_TYPE_PRIVATE</span><span class="p">,</span>
	<span class="n">UWB_DRP_TYPE_PCA</span><span class="p">,</span>
<span class="p">};</span>


<span class="cm">/** DRP Reason Codes ([ECMA-368] table 107) */</span>
<span class="k">enum</span> <span class="n">uwb_drp_reason</span> <span class="p">{</span>
	<span class="n">UWB_DRP_REASON_ACCEPTED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_DRP_REASON_CONFLICT</span><span class="p">,</span>
	<span class="n">UWB_DRP_REASON_PENDING</span><span class="p">,</span>
	<span class="n">UWB_DRP_REASON_DENIED</span><span class="p">,</span>
	<span class="n">UWB_DRP_REASON_MODIFIED</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/** Relinquish Request Reason Codes ([ECMA-368] table 113) */</span>
<span class="k">enum</span> <span class="n">uwb_relinquish_req_reason</span> <span class="p">{</span>
	<span class="n">UWB_RELINQUISH_REQ_REASON_NON_SPECIFIC</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_RELINQUISH_REQ_REASON_OVER_ALLOCATION</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> *  DRP Notification Reason Codes (WHCI 0.95 [3.1.4.9])</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">uwb_drp_notif_reason</span> <span class="p">{</span>
	<span class="n">UWB_DRP_NOTIF_DRP_IE_RCVD</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_DRP_NOTIF_CONFLICT</span><span class="p">,</span>
	<span class="n">UWB_DRP_NOTIF_TERMINATE</span><span class="p">,</span>
<span class="p">};</span>


<span class="cm">/** Allocation of MAS slots in a DRP request MBOA MAC[7.8.7] */</span>
<span class="k">struct</span> <span class="n">uwb_drp_alloc</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">zone_bm</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">mas_bm</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/** General MAC Header format (ECMA-368[16.2]) */</span>
<span class="k">struct</span> <span class="n">uwb_mac_frame_hdr</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">Frame_Control</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span> <span class="n">DestAddr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span> <span class="n">SrcAddr</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">Sequence_Control</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">Access_Information</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/**</span>
<span class="cm"> * uwb_beacon_frame - a beacon frame including MAC headers</span>
<span class="cm"> *</span>
<span class="cm"> * [ECMA] section 16.3.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_beacon_frame</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_mac_frame_hdr</span> <span class="n">hdr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_mac_addr</span> <span class="n">Device_Identifier</span><span class="p">;</span>	<span class="cm">/* may be a NULL EUI-48 */</span>
	<span class="n">u8</span> <span class="n">Beacon_Slot_Number</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">Device_Control</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">IEData</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/** Information Element codes (MBOA MAC[T54]) */</span>
<span class="k">enum</span> <span class="n">uwb_ie</span> <span class="p">{</span>
	<span class="n">UWB_PCA_AVAILABILITY</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">UWB_IE_DRP_AVAILABILITY</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">UWB_IE_DRP</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">UWB_BP_SWITCH_IE</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="n">UWB_MAC_CAPABILITIES_IE</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
	<span class="n">UWB_PHY_CAPABILITIES_IE</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
	<span class="n">UWB_APP_SPEC_PROBE_IE</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
	<span class="n">UWB_IDENTIFICATION_IE</span> <span class="o">=</span> <span class="mi">19</span><span class="p">,</span>
	<span class="n">UWB_MASTER_KEY_ID_IE</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
	<span class="n">UWB_RELINQUISH_REQUEST_IE</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
	<span class="n">UWB_IE_WLP</span> <span class="o">=</span> <span class="mi">250</span><span class="p">,</span> <span class="cm">/* WiMedia Logical Link Control Protocol WLP 0.99 */</span>
	<span class="n">UWB_APP_SPEC_IE</span> <span class="o">=</span> <span class="mi">255</span><span class="p">,</span>
<span class="p">};</span>


<span class="cm">/**</span>
<span class="cm"> * Header common to all Information Elements (IEs)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_ie_hdr</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">element_id</span><span class="p">;</span>	<span class="cm">/* enum uwb_ie */</span>
	<span class="n">u8</span> <span class="n">length</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/** Dynamic Reservation Protocol IE (MBOA MAC[7.8.6]) */</span>
<span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_ie_hdr</span>	<span class="n">hdr</span><span class="p">;</span>
	<span class="n">__le16</span>                  <span class="n">drp_control</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span>	<span class="n">dev_addr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_drp_alloc</span>	<span class="n">allocs</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_ie_drp_type</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_ie_drp_stream_index</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_ie_drp_reason_code</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_ie_drp_status</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">9</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_ie_drp_owner</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_ie_drp_tiebreaker</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">11</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_ie_drp_unsafe</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">uwb_ie_drp_set_type</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">,</span> <span class="k">enum</span> <span class="n">uwb_drp_type</span> <span class="n">type</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">drp_control</span> <span class="o">=</span> <span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">);</span>
	<span class="n">drp_control</span> <span class="o">=</span> <span class="p">(</span><span class="n">drp_control</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="mh">0x7</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">type</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span> <span class="o">=</span> <span class="n">cpu_to_le16</span><span class="p">(</span><span class="n">drp_control</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">uwb_ie_drp_set_stream_index</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">,</span> <span class="kt">int</span> <span class="n">stream_index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">drp_control</span> <span class="o">=</span> <span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">);</span>
	<span class="n">drp_control</span> <span class="o">=</span> <span class="p">(</span><span class="n">drp_control</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="mh">0x7</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">stream_index</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">);</span>
	<span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span> <span class="o">=</span> <span class="n">cpu_to_le16</span><span class="p">(</span><span class="n">drp_control</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">uwb_ie_drp_set_reason_code</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">,</span>
				       <span class="k">enum</span> <span class="n">uwb_drp_reason</span> <span class="n">reason_code</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">drp_control</span> <span class="o">=</span> <span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">);</span>
	<span class="n">drp_control</span> <span class="o">=</span> <span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="mh">0x7</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">reason_code</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">);</span>
	<span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span> <span class="o">=</span> <span class="n">cpu_to_le16</span><span class="p">(</span><span class="n">drp_control</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">uwb_ie_drp_set_status</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">,</span> <span class="kt">int</span> <span class="n">status</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">drp_control</span> <span class="o">=</span> <span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">);</span>
	<span class="n">drp_control</span> <span class="o">=</span> <span class="p">(</span><span class="n">drp_control</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="mh">0x1</span> <span class="o">&lt;&lt;</span> <span class="mi">9</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">status</span> <span class="o">&lt;&lt;</span> <span class="mi">9</span><span class="p">);</span>
	<span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span> <span class="o">=</span> <span class="n">cpu_to_le16</span><span class="p">(</span><span class="n">drp_control</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">uwb_ie_drp_set_owner</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">,</span> <span class="kt">int</span> <span class="n">owner</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">drp_control</span> <span class="o">=</span> <span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">);</span>
	<span class="n">drp_control</span> <span class="o">=</span> <span class="p">(</span><span class="n">drp_control</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="mh">0x1</span> <span class="o">&lt;&lt;</span> <span class="mi">10</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">owner</span> <span class="o">&lt;&lt;</span> <span class="mi">10</span><span class="p">);</span>
	<span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span> <span class="o">=</span> <span class="n">cpu_to_le16</span><span class="p">(</span><span class="n">drp_control</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">uwb_ie_drp_set_tiebreaker</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">,</span> <span class="kt">int</span> <span class="n">tiebreaker</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">drp_control</span> <span class="o">=</span> <span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">);</span>
	<span class="n">drp_control</span> <span class="o">=</span> <span class="p">(</span><span class="n">drp_control</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="mh">0x1</span> <span class="o">&lt;&lt;</span> <span class="mi">11</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">tiebreaker</span> <span class="o">&lt;&lt;</span> <span class="mi">11</span><span class="p">);</span>
	<span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span> <span class="o">=</span> <span class="n">cpu_to_le16</span><span class="p">(</span><span class="n">drp_control</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">uwb_ie_drp_set_unsafe</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="o">*</span><span class="n">ie</span><span class="p">,</span> <span class="kt">int</span> <span class="n">unsafe</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">drp_control</span> <span class="o">=</span> <span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span><span class="p">);</span>
	<span class="n">drp_control</span> <span class="o">=</span> <span class="p">(</span><span class="n">drp_control</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="mh">0x1</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">unsafe</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span><span class="p">);</span>
	<span class="n">ie</span><span class="o">-&gt;</span><span class="n">drp_control</span> <span class="o">=</span> <span class="n">cpu_to_le16</span><span class="p">(</span><span class="n">drp_control</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Dynamic Reservation Protocol IE (MBOA MAC[7.8.7]) */</span>
<span class="k">struct</span> <span class="n">uwb_ie_drp_avail</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_ie_hdr</span>	<span class="n">hdr</span><span class="p">;</span>
	<span class="n">DECLARE_BITMAP</span><span class="p">(</span><span class="n">bmp</span><span class="p">,</span> <span class="n">UWB_NUM_MAS</span><span class="p">);</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Relinqish Request IE ([ECMA-368] section 16.8.19). */</span>
<span class="k">struct</span> <span class="n">uwb_relinquish_request_ie</span> <span class="p">{</span>
        <span class="k">struct</span> <span class="n">uwb_ie_hdr</span>       <span class="n">hdr</span><span class="p">;</span>
        <span class="n">__le16</span>                  <span class="n">relinquish_req_control</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">uwb_dev_addr</span>     <span class="n">dev_addr</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">uwb_drp_alloc</span>    <span class="n">allocs</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_ie_relinquish_req_reason_code</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_relinquish_request_ie</span> <span class="o">*</span><span class="n">ie</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">relinquish_req_control</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xf</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">uwb_ie_relinquish_req_set_reason_code</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_relinquish_request_ie</span> <span class="o">*</span><span class="n">ie</span><span class="p">,</span>
							 <span class="kt">int</span> <span class="n">reason_code</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">ctrl</span> <span class="o">=</span> <span class="n">le16_to_cpu</span><span class="p">(</span><span class="n">ie</span><span class="o">-&gt;</span><span class="n">relinquish_req_control</span><span class="p">);</span>
	<span class="n">ctrl</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctrl</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="mh">0xf</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">reason_code</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">ie</span><span class="o">-&gt;</span><span class="n">relinquish_req_control</span> <span class="o">=</span> <span class="n">cpu_to_le16</span><span class="p">(</span><span class="n">ctrl</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * The Vendor ID is set to an OUI that indicates the vendor of the device.</span>
<span class="cm"> * ECMA-368 [16.8.10]</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_vendor_id</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/**</span>
<span class="cm"> * The device type ID</span>
<span class="cm"> * FIXME: clarify what this means</span>
<span class="cm"> * ECMA-368 [16.8.10]</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_device_type_id</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/**</span>
<span class="cm"> * UWB device information types</span>
<span class="cm"> * ECMA-368 [16.8.10]</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">uwb_dev_info_type</span> <span class="p">{</span>
	<span class="n">UWB_DEV_INFO_VENDOR_ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_DEV_INFO_VENDOR_TYPE</span><span class="p">,</span>
	<span class="n">UWB_DEV_INFO_NAME</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * UWB device information found in Identification IE</span>
<span class="cm"> * ECMA-368 [16.8.10]</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_dev_info</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>	<span class="cm">/* enum uwb_dev_info_type */</span>
	<span class="n">u8</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/**</span>
<span class="cm"> * UWB Identification IE</span>
<span class="cm"> * ECMA-368 [16.8.10]</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_identification_ie</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_ie_hdr</span> <span class="n">hdr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_info</span> <span class="n">info</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/*</span>
<span class="cm"> * UWB Radio Controller</span>
<span class="cm"> *</span>
<span class="cm"> * These definitions are common to the Radio Control layers as</span>
<span class="cm"> * exported by the WUSB1.0 HWA and WHCI interfaces.</span>
<span class="cm"> */</span>

<span class="cm">/** Radio Control Command Block (WUSB1.0[Table 8-65] and WHCI 0.95) */</span>
<span class="k">struct</span> <span class="n">uwb_rccb</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">bCommandType</span><span class="p">;</span>		<span class="cm">/* enum hwa_cet */</span>
	<span class="n">__le16</span> <span class="n">wCommand</span><span class="p">;</span>		<span class="cm">/* Command code */</span>
	<span class="n">u8</span> <span class="n">bCommandContext</span><span class="p">;</span>		<span class="cm">/* Context ID */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/** Radio Control Event Block (WUSB[table 8-66], WHCI 0.95) */</span>
<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">bEventType</span><span class="p">;</span>			<span class="cm">/* enum hwa_cet */</span>
	<span class="n">__le16</span> <span class="n">wEvent</span><span class="p">;</span>			<span class="cm">/* Event code */</span>
	<span class="n">u8</span> <span class="n">bEventContext</span><span class="p">;</span>		<span class="cm">/* Context ID */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="k">enum</span> <span class="p">{</span>
	<span class="n">UWB_RC_CET_GENERAL</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>		<span class="cm">/* General Command/Event type */</span>
	<span class="n">UWB_RC_CET_EX_TYPE_1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>	<span class="cm">/* Extended Type 1 Command/Event type */</span>
<span class="p">};</span>

<span class="cm">/* Commands to the radio controller */</span>
<span class="k">enum</span> <span class="n">uwb_rc_cmd</span> <span class="p">{</span>
	<span class="n">UWB_RC_CMD_CHANNEL_CHANGE</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_DEV_ADDR_MGMT</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>	<span class="cm">/* Device Address Management */</span>
	<span class="n">UWB_RC_CMD_GET_IE</span> <span class="o">=</span> <span class="mi">18</span><span class="p">,</span>		<span class="cm">/* GET Information Elements */</span>
	<span class="n">UWB_RC_CMD_RESET</span> <span class="o">=</span> <span class="mi">19</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_SCAN</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>		<span class="cm">/* Scan management  */</span>
	<span class="n">UWB_RC_CMD_SET_BEACON_FILTER</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_SET_DRP_IE</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span>	<span class="cm">/* Dynamic Reservation Protocol IEs */</span>
	<span class="n">UWB_RC_CMD_SET_IE</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span>		<span class="cm">/* Information Element management */</span>
	<span class="n">UWB_RC_CMD_SET_NOTIFICATION_FILTER</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_SET_TX_POWER</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_SLEEP</span> <span class="o">=</span> <span class="mi">26</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_START_BEACON</span> <span class="o">=</span> <span class="mi">27</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_STOP_BEACON</span> <span class="o">=</span> <span class="mi">28</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_BP_MERGE</span> <span class="o">=</span> <span class="mi">29</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_SEND_COMMAND_FRAME</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
	<span class="n">UWB_RC_CMD_SET_ASIE_NOTIF</span> <span class="o">=</span> <span class="mi">31</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* Notifications from the radio controller */</span>
<span class="k">enum</span> <span class="n">uwb_rc_evt</span> <span class="p">{</span>
	<span class="n">UWB_RC_EVT_IE_RCV</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_BEACON</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_BEACON_SIZE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_BPOIE_CHANGE</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_BP_SLOT_CHANGE</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_BP_SWITCH_IE_RCV</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_DEV_ADDR_CONFLICT</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_DRP_AVAIL</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_DRP</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_BP_SWITCH_STATUS</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_CMD_FRAME_RCV</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
	<span class="n">UWB_RC_EVT_CHANNEL_CHANGE_IE_RCV</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="cm">/* Events (command responses) use the same code as the command */</span>
	<span class="n">UWB_RC_EVT_UNKNOWN_CMD_RCV</span> <span class="o">=</span> <span class="mi">65535</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">uwb_rc_extended_type_1_cmd</span> <span class="p">{</span>
	<span class="n">UWB_RC_SET_DAA_ENERGY_MASK</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
	<span class="n">UWB_RC_SET_NOTIFICATION_FILTER_EX</span> <span class="o">=</span> <span class="mi">33</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">uwb_rc_extended_type_1_evt</span> <span class="p">{</span>
	<span class="n">UWB_RC_DAA_ENERGY_DETECTED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* Radio Control Result Code. [WHCI] table 3-3. */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">UWB_RC_RES_SUCCESS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_HARDWARE</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_NO_SLOTS</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_BEACON_TOO_LARGE</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_INVALID_PARAMETER</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_UNSUPPORTED_PWR_LEVEL</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_INVALID_IE_DATA</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_BEACON_SIZE_EXCEEDED</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_CANCELLED</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_INVALID_STATE</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_INVALID_SIZE</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_ACK_NOT_RECEIVED</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_NO_MORE_ASIE_NOTIF</span><span class="p">,</span>
	<span class="n">UWB_RC_RES_FAIL_TIME_OUT</span> <span class="o">=</span> <span class="mi">255</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* Confirm event. [WHCI] section 3.1.3.1 etc. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_confirm</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bResultCode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Device Address Management event. [WHCI] section 3.1.3.2. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_dev_addr_mgmt</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">baAddr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">bResultCode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/* Get IE Event. [WHCI] section 3.1.3.3. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_get_ie</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wIELength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">IEData</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Set DRP IE Event. [WHCI] section 3.1.3.7. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_set_drp_ie</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wRemainingSpace</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bResultCode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Set IE Event. [WHCI] section 3.1.3.8. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_set_ie</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">RemainingSpace</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bResultCode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Scan command. [WHCI] 3.1.3.5. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_cmd_scan</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rccb</span> <span class="n">rccb</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bChannelNumber</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bScanState</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wStartTime</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Set DRP IE command. [WHCI] section 3.1.3.7. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_cmd_set_drp_ie</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rccb</span> <span class="n">rccb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wIELength</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_ie_drp</span> <span class="n">IEData</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Set IE command. [WHCI] section 3.1.3.8. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_cmd_set_ie</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rccb</span> <span class="n">rccb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wIELength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">IEData</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Set DAA Energy Mask event. [WHCI 0.96] section 3.1.3.17. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_set_daa_energy_mask</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wLength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Set Notification Filter Extended event. [WHCI 0.96] section 3.1.3.18. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_set_notification_filter_ex</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wLength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* IE Received notification. [WHCI] section 3.1.4.1. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_ie_rcv</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span> <span class="n">SrcAddr</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wIELength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">IEData</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Type of the received beacon. [WHCI] section 3.1.4.2. */</span>
<span class="k">enum</span> <span class="n">uwb_rc_beacon_type</span> <span class="p">{</span>
	<span class="n">UWB_RC_BEACON_TYPE_SCAN</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">UWB_RC_BEACON_TYPE_NEIGHBOR</span><span class="p">,</span>
	<span class="n">UWB_RC_BEACON_TYPE_OL_ALIEN</span><span class="p">,</span>
	<span class="n">UWB_RC_BEACON_TYPE_NOL_ALIEN</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* Beacon received notification. [WHCI] 3.1.4.2. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_beacon</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">bChannelNumber</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">bBeaconType</span><span class="p">;</span>
	<span class="n">__le16</span>	<span class="n">wBPSTOffset</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">bLQI</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">bRSSI</span><span class="p">;</span>
	<span class="n">__le16</span>	<span class="n">wBeaconInfoLength</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">BeaconInfo</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/* Beacon Size Change notification. [WHCI] section 3.1.4.3 */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_beacon_size</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wNewBeaconSize</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/* BPOIE Change notification. [WHCI] section 3.1.4.4. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_bpoie_change</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wBPOIELength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">BPOIE</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/* Beacon Slot Change notification. [WHCI] section 3.1.4.5. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_bp_slot_change</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">slot_info</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_rc_evt_bp_slot_change_slot_num</span><span class="p">(</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">uwb_rc_evt_bp_slot_change</span> <span class="o">*</span><span class="n">evt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">evt</span><span class="o">-&gt;</span><span class="n">slot_info</span> <span class="o">&amp;</span> <span class="mh">0x7f</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">uwb_rc_evt_bp_slot_change_no_slot</span><span class="p">(</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">uwb_rc_evt_bp_slot_change</span> <span class="o">*</span><span class="n">evt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">evt</span><span class="o">-&gt;</span><span class="n">slot_info</span> <span class="o">&amp;</span> <span class="mh">0x80</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">7</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* BP Switch IE Received notification. [WHCI] section 3.1.4.6. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_bp_switch_ie_rcv</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span> <span class="n">wSrcAddr</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wIELength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">IEData</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* DevAddr Conflict notification. [WHCI] section 3.1.4.7. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_dev_addr_conflict</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* DRP notification. [WHCI] section 3.1.4.9. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_drp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span>           <span class="n">rceb</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span>       <span class="n">src_addr</span><span class="p">;</span>
	<span class="n">u8</span>                        <span class="n">reason</span><span class="p">;</span>
	<span class="n">u8</span>                        <span class="n">beacon_slot_number</span><span class="p">;</span>
	<span class="n">__le16</span>                    <span class="n">ie_length</span><span class="p">;</span>
	<span class="n">u8</span>                        <span class="n">ie_data</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="k">enum</span> <span class="n">uwb_drp_notif_reason</span> <span class="nf">uwb_rc_evt_drp_reason</span><span class="p">(</span><span class="k">struct</span> <span class="n">uwb_rc_evt_drp</span> <span class="o">*</span><span class="n">evt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">evt</span><span class="o">-&gt;</span><span class="n">reason</span> <span class="o">&amp;</span> <span class="mh">0x0f</span><span class="p">;</span>
<span class="p">}</span>


<span class="cm">/* DRP Availability Change notification. [WHCI] section 3.1.4.8. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_drp_avail</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">DECLARE_BITMAP</span><span class="p">(</span><span class="n">bmp</span><span class="p">,</span> <span class="n">UWB_NUM_MAS</span><span class="p">);</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* BP switch status notification. [WHCI] section 3.1.4.10. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_bp_switch_status</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">status</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">slot_offset</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">bpst_offset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">move_countdown</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Command Frame Received notification. [WHCI] section 3.1.4.11. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_cmd_frame_rcv</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">receive_time</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span> <span class="n">wSrcAddr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span> <span class="n">wDstAddr</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">control</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">dataLength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Channel Change IE Received notification. [WHCI] section 3.1.4.12. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_channel_change_ie_rcv</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">uwb_dev_addr</span> <span class="n">wSrcAddr</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wIELength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">IEData</span><span class="p">[];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* DAA Energy Detected notification. [WHCI 0.96] section 3.1.4.14. */</span>
<span class="k">struct</span> <span class="n">uwb_rc_evt_daa_energy_detected</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">uwb_rceb</span> <span class="n">rceb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">wLength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bandID</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">toneBmp</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="cm">/**</span>
<span class="cm"> * Radio Control Interface Class Descriptor</span>
<span class="cm"> *</span>
<span class="cm"> *  WUSB 1.0 [8.6.1.2]</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">uwb_rc_control_intf_class_desc</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">bLength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bDescriptorType</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">bcdRCIVersion</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cp">#endif </span><span class="cm">/* #ifndef __LINUX__UWB_SPEC_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
