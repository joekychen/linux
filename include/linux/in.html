<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › in.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>in.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * INET		An implementation of the TCP/IP protocol suite for the LINUX</span>
<span class="cm"> *		operating system.  INET is implemented using the  BSD Socket</span>
<span class="cm"> *		interface as the means of communication with the user level.</span>
<span class="cm"> *</span>
<span class="cm"> *		Definitions of the Internet Protocol.</span>
<span class="cm"> *</span>
<span class="cm"> * Version:	@(#)in.h	1.0.1	04/21/93</span>
<span class="cm"> *</span>
<span class="cm"> * Authors:	Original taken from the GNU Project &lt;netinet/in.h&gt; file.</span>
<span class="cm"> *		Fred N. van Kempen, &lt;waltje@uWalt.NL.Mugnet.ORG&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *		This program is free software; you can redistribute it and/or</span>
<span class="cm"> *		modify it under the terms of the GNU General Public License</span>
<span class="cm"> *		as published by the Free Software Foundation; either version</span>
<span class="cm"> *		2 of the License, or (at your option) any later version.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _LINUX_IN_H</span>
<span class="cp">#define _LINUX_IN_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;linux/socket.h&gt;</span>

<span class="cm">/* Standard well-defined IP protocols.  */</span>
<span class="k">enum</span> <span class="p">{</span>
  <span class="n">IPPROTO_IP</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>		<span class="cm">/* Dummy protocol for TCP		*/</span>
  <span class="n">IPPROTO_ICMP</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>		<span class="cm">/* Internet Control Message Protocol	*/</span>
  <span class="n">IPPROTO_IGMP</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>		<span class="cm">/* Internet Group Management Protocol	*/</span>
  <span class="n">IPPROTO_IPIP</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>		<span class="cm">/* IPIP tunnels (older KA9Q tunnels use 94) */</span>
  <span class="n">IPPROTO_TCP</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>		<span class="cm">/* Transmission Control Protocol	*/</span>
  <span class="n">IPPROTO_EGP</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>		<span class="cm">/* Exterior Gateway Protocol		*/</span>
  <span class="n">IPPROTO_PUP</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>		<span class="cm">/* PUP protocol				*/</span>
  <span class="n">IPPROTO_UDP</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>		<span class="cm">/* User Datagram Protocol		*/</span>
  <span class="n">IPPROTO_IDP</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span>		<span class="cm">/* XNS IDP protocol			*/</span>
  <span class="n">IPPROTO_DCCP</span> <span class="o">=</span> <span class="mi">33</span><span class="p">,</span>		<span class="cm">/* Datagram Congestion Control Protocol */</span>
  <span class="n">IPPROTO_RSVP</span> <span class="o">=</span> <span class="mi">46</span><span class="p">,</span>		<span class="cm">/* RSVP protocol			*/</span>
  <span class="n">IPPROTO_GRE</span> <span class="o">=</span> <span class="mi">47</span><span class="p">,</span>		<span class="cm">/* Cisco GRE tunnels (rfc 1701,1702)	*/</span>

  <span class="n">IPPROTO_IPV6</span>	 <span class="o">=</span> <span class="mi">41</span><span class="p">,</span>		<span class="cm">/* IPv6-in-IPv4 tunnelling		*/</span>

  <span class="n">IPPROTO_ESP</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>            <span class="cm">/* Encapsulation Security Payload protocol */</span>
  <span class="n">IPPROTO_AH</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>             <span class="cm">/* Authentication Header protocol       */</span>
  <span class="n">IPPROTO_BEETPH</span> <span class="o">=</span> <span class="mi">94</span><span class="p">,</span>	       <span class="cm">/* IP option pseudo header for BEET */</span>
  <span class="n">IPPROTO_PIM</span>    <span class="o">=</span> <span class="mi">103</span><span class="p">,</span>		<span class="cm">/* Protocol Independent Multicast	*/</span>

  <span class="n">IPPROTO_COMP</span>   <span class="o">=</span> <span class="mi">108</span><span class="p">,</span>                <span class="cm">/* Compression Header protocol */</span>
  <span class="n">IPPROTO_SCTP</span>   <span class="o">=</span> <span class="mi">132</span><span class="p">,</span>		<span class="cm">/* Stream Control Transport Protocol	*/</span>
  <span class="n">IPPROTO_UDPLITE</span> <span class="o">=</span> <span class="mi">136</span><span class="p">,</span>	<span class="cm">/* UDP-Lite (RFC 3828)			*/</span>

  <span class="n">IPPROTO_RAW</span>	 <span class="o">=</span> <span class="mi">255</span><span class="p">,</span>		<span class="cm">/* Raw IP packets			*/</span>
  <span class="n">IPPROTO_MAX</span>
<span class="p">};</span>


<span class="cm">/* Internet address. */</span>
<span class="k">struct</span> <span class="n">in_addr</span> <span class="p">{</span>
	<span class="n">__be32</span>	<span class="n">s_addr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define IP_TOS		1</span>
<span class="cp">#define IP_TTL		2</span>
<span class="cp">#define IP_HDRINCL	3</span>
<span class="cp">#define IP_OPTIONS	4</span>
<span class="cp">#define IP_ROUTER_ALERT	5</span>
<span class="cp">#define IP_RECVOPTS	6</span>
<span class="cp">#define IP_RETOPTS	7</span>
<span class="cp">#define IP_PKTINFO	8</span>
<span class="cp">#define IP_PKTOPTIONS	9</span>
<span class="cp">#define IP_MTU_DISCOVER	10</span>
<span class="cp">#define IP_RECVERR	11</span>
<span class="cp">#define IP_RECVTTL	12</span>
<span class="cp">#define	IP_RECVTOS	13</span>
<span class="cp">#define IP_MTU		14</span>
<span class="cp">#define IP_FREEBIND	15</span>
<span class="cp">#define IP_IPSEC_POLICY	16</span>
<span class="cp">#define IP_XFRM_POLICY	17</span>
<span class="cp">#define IP_PASSSEC	18</span>
<span class="cp">#define IP_TRANSPARENT	19</span>

<span class="cm">/* BSD compatibility */</span>
<span class="cp">#define IP_RECVRETOPTS	IP_RETOPTS</span>

<span class="cm">/* TProxy original addresses */</span>
<span class="cp">#define IP_ORIGDSTADDR       20</span>
<span class="cp">#define IP_RECVORIGDSTADDR   IP_ORIGDSTADDR</span>

<span class="cp">#define IP_MINTTL       21</span>
<span class="cp">#define IP_NODEFRAG     22</span>

<span class="cm">/* IP_MTU_DISCOVER values */</span>
<span class="cp">#define IP_PMTUDISC_DONT		0	</span><span class="cm">/* Never send DF frames */</span><span class="cp"></span>
<span class="cp">#define IP_PMTUDISC_WANT		1	</span><span class="cm">/* Use per route hints	*/</span><span class="cp"></span>
<span class="cp">#define IP_PMTUDISC_DO			2	</span><span class="cm">/* Always DF		*/</span><span class="cp"></span>
<span class="cp">#define IP_PMTUDISC_PROBE		3       </span><span class="cm">/* Ignore dst pmtu      */</span><span class="cp"></span>

<span class="cp">#define IP_MULTICAST_IF			32</span>
<span class="cp">#define IP_MULTICAST_TTL 		33</span>
<span class="cp">#define IP_MULTICAST_LOOP 		34</span>
<span class="cp">#define IP_ADD_MEMBERSHIP		35</span>
<span class="cp">#define IP_DROP_MEMBERSHIP		36</span>
<span class="cp">#define IP_UNBLOCK_SOURCE		37</span>
<span class="cp">#define IP_BLOCK_SOURCE			38</span>
<span class="cp">#define IP_ADD_SOURCE_MEMBERSHIP	39</span>
<span class="cp">#define IP_DROP_SOURCE_MEMBERSHIP	40</span>
<span class="cp">#define IP_MSFILTER			41</span>
<span class="cp">#define MCAST_JOIN_GROUP		42</span>
<span class="cp">#define MCAST_BLOCK_SOURCE		43</span>
<span class="cp">#define MCAST_UNBLOCK_SOURCE		44</span>
<span class="cp">#define MCAST_LEAVE_GROUP		45</span>
<span class="cp">#define MCAST_JOIN_SOURCE_GROUP		46</span>
<span class="cp">#define MCAST_LEAVE_SOURCE_GROUP	47</span>
<span class="cp">#define MCAST_MSFILTER			48</span>
<span class="cp">#define IP_MULTICAST_ALL		49</span>
<span class="cp">#define IP_UNICAST_IF			50</span>

<span class="cp">#define MCAST_EXCLUDE	0</span>
<span class="cp">#define MCAST_INCLUDE	1</span>

<span class="cm">/* These need to appear somewhere around here */</span>
<span class="cp">#define IP_DEFAULT_MULTICAST_TTL        1</span>
<span class="cp">#define IP_DEFAULT_MULTICAST_LOOP       1</span>

<span class="cm">/* Request struct for multicast socket ops */</span>

<span class="k">struct</span> <span class="n">ip_mreq</span>  <span class="p">{</span>
	<span class="k">struct</span> <span class="n">in_addr</span> <span class="n">imr_multiaddr</span><span class="p">;</span>	<span class="cm">/* IP multicast address of group */</span>
	<span class="k">struct</span> <span class="n">in_addr</span> <span class="n">imr_interface</span><span class="p">;</span>	<span class="cm">/* local IP address of interface */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ip_mreqn</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">in_addr</span>	<span class="n">imr_multiaddr</span><span class="p">;</span>		<span class="cm">/* IP multicast address of group */</span>
	<span class="k">struct</span> <span class="n">in_addr</span>	<span class="n">imr_address</span><span class="p">;</span>		<span class="cm">/* local IP address of interface */</span>
	<span class="kt">int</span>		<span class="n">imr_ifindex</span><span class="p">;</span>		<span class="cm">/* Interface index */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ip_mreq_source</span> <span class="p">{</span>
	<span class="n">__be32</span>		<span class="n">imr_multiaddr</span><span class="p">;</span>
	<span class="n">__be32</span>		<span class="n">imr_interface</span><span class="p">;</span>
	<span class="n">__be32</span>		<span class="n">imr_sourceaddr</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ip_msfilter</span> <span class="p">{</span>
	<span class="n">__be32</span>		<span class="n">imsf_multiaddr</span><span class="p">;</span>
	<span class="n">__be32</span>		<span class="n">imsf_interface</span><span class="p">;</span>
	<span class="n">__u32</span>		<span class="n">imsf_fmode</span><span class="p">;</span>
	<span class="n">__u32</span>		<span class="n">imsf_numsrc</span><span class="p">;</span>
	<span class="n">__be32</span>		<span class="n">imsf_slist</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define IP_MSFILTER_SIZE(numsrc) \</span>
<span class="cp">	(sizeof(struct ip_msfilter) - sizeof(__u32) \</span>
<span class="cp">	+ (numsrc) * sizeof(__u32))</span>

<span class="k">struct</span> <span class="n">group_req</span> <span class="p">{</span>
	<span class="n">__u32</span>				 <span class="n">gr_interface</span><span class="p">;</span>	<span class="cm">/* interface index */</span>
	<span class="k">struct</span> <span class="n">__kernel_sockaddr_storage</span> <span class="n">gr_group</span><span class="p">;</span>	<span class="cm">/* group address */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">group_source_req</span> <span class="p">{</span>
	<span class="n">__u32</span>				 <span class="n">gsr_interface</span><span class="p">;</span>	<span class="cm">/* interface index */</span>
	<span class="k">struct</span> <span class="n">__kernel_sockaddr_storage</span> <span class="n">gsr_group</span><span class="p">;</span>	<span class="cm">/* group address */</span>
	<span class="k">struct</span> <span class="n">__kernel_sockaddr_storage</span> <span class="n">gsr_source</span><span class="p">;</span>	<span class="cm">/* source address */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">group_filter</span> <span class="p">{</span>
	<span class="n">__u32</span>				 <span class="n">gf_interface</span><span class="p">;</span>	<span class="cm">/* interface index */</span>
	<span class="k">struct</span> <span class="n">__kernel_sockaddr_storage</span> <span class="n">gf_group</span><span class="p">;</span>	<span class="cm">/* multicast address */</span>
	<span class="n">__u32</span>				 <span class="n">gf_fmode</span><span class="p">;</span>	<span class="cm">/* filter mode */</span>
	<span class="n">__u32</span>				 <span class="n">gf_numsrc</span><span class="p">;</span>	<span class="cm">/* number of sources */</span>
	<span class="k">struct</span> <span class="n">__kernel_sockaddr_storage</span> <span class="n">gf_slist</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>	<span class="cm">/* interface index */</span>
<span class="p">};</span>

<span class="cp">#define GROUP_FILTER_SIZE(numsrc) \</span>
<span class="cp">	(sizeof(struct group_filter) - sizeof(struct __kernel_sockaddr_storage) \</span>
<span class="cp">	+ (numsrc) * sizeof(struct __kernel_sockaddr_storage))</span>

<span class="k">struct</span> <span class="n">in_pktinfo</span> <span class="p">{</span>
	<span class="kt">int</span>		<span class="n">ipi_ifindex</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">in_addr</span>	<span class="n">ipi_spec_dst</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">in_addr</span>	<span class="n">ipi_addr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Structure describing an Internet (IP) socket address. */</span>
<span class="cp">#define __SOCK_SIZE__	16		</span><span class="cm">/* sizeof(struct sockaddr)	*/</span><span class="cp"></span>
<span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="p">{</span>
  <span class="n">__kernel_sa_family_t</span>	<span class="n">sin_family</span><span class="p">;</span>	<span class="cm">/* Address family		*/</span>
  <span class="n">__be16</span>		<span class="n">sin_port</span><span class="p">;</span>	<span class="cm">/* Port number			*/</span>
  <span class="k">struct</span> <span class="n">in_addr</span>	<span class="n">sin_addr</span><span class="p">;</span>	<span class="cm">/* Internet address		*/</span>

  <span class="cm">/* Pad to size of `struct sockaddr&#39;. */</span>
  <span class="kt">unsigned</span> <span class="kt">char</span>		<span class="n">__pad</span><span class="p">[</span><span class="n">__SOCK_SIZE__</span> <span class="o">-</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">short</span> <span class="kt">int</span><span class="p">)</span> <span class="o">-</span>
			<span class="k">sizeof</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span><span class="p">)</span> <span class="o">-</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">in_addr</span><span class="p">)];</span>
<span class="p">};</span>
<span class="cp">#define sin_zero	__pad		</span><span class="cm">/* for BSD UNIX comp. -FvK	*/</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * Definitions of the bits in an Internet address integer.</span>
<span class="cm"> * On subnets, host and network parts are found according</span>
<span class="cm"> * to the subnet mask, not these masks.</span>
<span class="cm"> */</span>
<span class="cp">#define	IN_CLASSA(a)		((((long int) (a)) &amp; 0x80000000) == 0)</span>
<span class="cp">#define	IN_CLASSA_NET		0xff000000</span>
<span class="cp">#define	IN_CLASSA_NSHIFT	24</span>
<span class="cp">#define	IN_CLASSA_HOST		(0xffffffff &amp; ~IN_CLASSA_NET)</span>
<span class="cp">#define	IN_CLASSA_MAX		128</span>

<span class="cp">#define	IN_CLASSB(a)		((((long int) (a)) &amp; 0xc0000000) == 0x80000000)</span>
<span class="cp">#define	IN_CLASSB_NET		0xffff0000</span>
<span class="cp">#define	IN_CLASSB_NSHIFT	16</span>
<span class="cp">#define	IN_CLASSB_HOST		(0xffffffff &amp; ~IN_CLASSB_NET)</span>
<span class="cp">#define	IN_CLASSB_MAX		65536</span>

<span class="cp">#define	IN_CLASSC(a)		((((long int) (a)) &amp; 0xe0000000) == 0xc0000000)</span>
<span class="cp">#define	IN_CLASSC_NET		0xffffff00</span>
<span class="cp">#define	IN_CLASSC_NSHIFT	8</span>
<span class="cp">#define	IN_CLASSC_HOST		(0xffffffff &amp; ~IN_CLASSC_NET)</span>

<span class="cp">#define	IN_CLASSD(a)		((((long int) (a)) &amp; 0xf0000000) == 0xe0000000)</span>
<span class="cp">#define	IN_MULTICAST(a)		IN_CLASSD(a)</span>
<span class="cp">#define IN_MULTICAST_NET	0xF0000000</span>

<span class="cp">#define	IN_EXPERIMENTAL(a)	((((long int) (a)) &amp; 0xf0000000) == 0xf0000000)</span>
<span class="cp">#define	IN_BADCLASS(a)		IN_EXPERIMENTAL((a))</span>

<span class="cm">/* Address to accept any incoming messages. */</span>
<span class="cp">#define	INADDR_ANY		((unsigned long int) 0x00000000)</span>

<span class="cm">/* Address to send to all hosts. */</span>
<span class="cp">#define	INADDR_BROADCAST	((unsigned long int) 0xffffffff)</span>

<span class="cm">/* Address indicating an error return. */</span>
<span class="cp">#define	INADDR_NONE		((unsigned long int) 0xffffffff)</span>

<span class="cm">/* Network number for local host loopback. */</span>
<span class="cp">#define	IN_LOOPBACKNET		127</span>

<span class="cm">/* Address to loopback in software to local host.  */</span>
<span class="cp">#define	INADDR_LOOPBACK		0x7f000001	</span><span class="cm">/* 127.0.0.1   */</span><span class="cp"></span>
<span class="cp">#define	IN_LOOPBACK(a)		((((long int) (a)) &amp; 0xff000000) == 0x7f000000)</span>

<span class="cm">/* Defines for Multicast INADDR */</span>
<span class="cp">#define INADDR_UNSPEC_GROUP   	0xe0000000U	</span><span class="cm">/* 224.0.0.0   */</span><span class="cp"></span>
<span class="cp">#define INADDR_ALLHOSTS_GROUP 	0xe0000001U	</span><span class="cm">/* 224.0.0.1   */</span><span class="cp"></span>
<span class="cp">#define INADDR_ALLRTRS_GROUP    0xe0000002U	</span><span class="cm">/* 224.0.0.2 */</span><span class="cp"></span>
<span class="cp">#define INADDR_MAX_LOCAL_GROUP  0xe00000ffU	</span><span class="cm">/* 224.0.0.255 */</span><span class="cp"></span>


<span class="cm">/* &lt;asm/byteorder.h&gt; contains the htonl type stuff.. */</span>
<span class="cp">#include &lt;asm/byteorder.h&gt; </span>

<span class="cp">#ifdef __KERNEL__</span>

<span class="cp">#include &lt;linux/errno.h&gt;</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">proto_ports_offset</span><span class="p">(</span><span class="kt">int</span> <span class="n">proto</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">switch</span> <span class="p">(</span><span class="n">proto</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">case</span> <span class="n">IPPROTO_TCP</span>:
	<span class="k">case</span> <span class="n">IPPROTO_UDP</span>:
	<span class="k">case</span> <span class="n">IPPROTO_DCCP</span>:
	<span class="k">case</span> <span class="n">IPPROTO_ESP</span>:	<span class="cm">/* SPI */</span>
	<span class="k">case</span> <span class="n">IPPROTO_SCTP</span>:
	<span class="k">case</span> <span class="n">IPPROTO_UDPLITE</span>:
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">IPPROTO_AH</span>:	<span class="cm">/* SPI */</span>
		<span class="k">return</span> <span class="mi">4</span><span class="p">;</span>
	<span class="nl">default:</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_loopback</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xff000000</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0x7f000000</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_multicast</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xf0000000</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xe0000000</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_local_multicast</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xffffff00</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xe0000000</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_lbcast</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/* limited broadcast */</span>
	<span class="k">return</span> <span class="n">addr</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="n">INADDR_BROADCAST</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_zeronet</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xff000000</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0x00000000</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* Special-Use IPv4 Addresses (RFC3330) */</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_private_10</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xff000000</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0x0a000000</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_private_172</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xfff00000</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xac100000</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_private_192</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xffff0000</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xc0a80000</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_linklocal_169</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xffff0000</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xa9fe0000</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_anycast_6to4</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xffffff00</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xc0586300</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_test_192</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xffffff00</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xc0000200</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">ipv4_is_test_198</span><span class="p">(</span><span class="n">__be32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">addr</span> <span class="o">&amp;</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xfffe0000</span><span class="p">))</span> <span class="o">==</span> <span class="n">htonl</span><span class="p">(</span><span class="mh">0xc6120000</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif	</span><span class="cm">/* _LINUX_IN_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
