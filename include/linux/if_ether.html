<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › if_ether.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>if_ether.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * INET		An implementation of the TCP/IP protocol suite for the LINUX</span>
<span class="cm"> *		operating system.  INET is implemented using the  BSD Socket</span>
<span class="cm"> *		interface as the means of communication with the user level.</span>
<span class="cm"> *</span>
<span class="cm"> *		Global definitions for the Ethernet IEEE 802.3 interface.</span>
<span class="cm"> *</span>
<span class="cm"> * Version:	@(#)if_ether.h	1.0.1a	02/08/94</span>
<span class="cm"> *</span>
<span class="cm"> * Author:	Fred N. van Kempen, &lt;waltje@uWalt.NL.Mugnet.ORG&gt;</span>
<span class="cm"> *		Donald Becker, &lt;becker@super.org&gt;</span>
<span class="cm"> *		Alan Cox, &lt;alan@lxorguk.ukuu.org.uk&gt;</span>
<span class="cm"> *		Steve Whitehouse, &lt;gw7rrm@eeshack3.swan.ac.uk&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *		This program is free software; you can redistribute it and/or</span>
<span class="cm"> *		modify it under the terms of the GNU General Public License</span>
<span class="cm"> *		as published by the Free Software Foundation; either version</span>
<span class="cm"> *		2 of the License, or (at your option) any later version.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _LINUX_IF_ETHER_H</span>
<span class="cp">#define _LINUX_IF_ETHER_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> *	IEEE 802.3 Ethernet magic constants.  The frame sizes omit the preamble</span>
<span class="cm"> *	and FCS/CRC (frame check sequence).</span>
<span class="cm"> */</span>

<span class="cp">#define ETH_ALEN	6		</span><span class="cm">/* Octets in one ethernet addr	 */</span><span class="cp"></span>
<span class="cp">#define ETH_HLEN	14		</span><span class="cm">/* Total octets in header.	 */</span><span class="cp"></span>
<span class="cp">#define ETH_ZLEN	60		</span><span class="cm">/* Min. octets in frame sans FCS */</span><span class="cp"></span>
<span class="cp">#define ETH_DATA_LEN	1500		</span><span class="cm">/* Max. octets in payload	 */</span><span class="cp"></span>
<span class="cp">#define ETH_FRAME_LEN	1514		</span><span class="cm">/* Max. octets in frame sans FCS */</span><span class="cp"></span>
<span class="cp">#define ETH_FCS_LEN	4		</span><span class="cm">/* Octets in the FCS		 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *	These are the defined Ethernet Protocol ID&#39;s.</span>
<span class="cm"> */</span>

<span class="cp">#define ETH_P_LOOP	0x0060		</span><span class="cm">/* Ethernet Loopback packet	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_PUP	0x0200		</span><span class="cm">/* Xerox PUP packet		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_PUPAT	0x0201		</span><span class="cm">/* Xerox PUP Addr Trans packet	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_IP	0x0800		</span><span class="cm">/* Internet Protocol packet	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_X25	0x0805		</span><span class="cm">/* CCITT X.25			*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_ARP	0x0806		</span><span class="cm">/* Address Resolution packet	*/</span><span class="cp"></span>
<span class="cp">#define	ETH_P_BPQ	0x08FF		</span><span class="cm">/* G8BPQ AX.25 Ethernet Packet	[ NOT AN OFFICIALLY REGISTERED ID ] */</span><span class="cp"></span>
<span class="cp">#define ETH_P_IEEEPUP	0x0a00		</span><span class="cm">/* Xerox IEEE802.3 PUP packet */</span><span class="cp"></span>
<span class="cp">#define ETH_P_IEEEPUPAT	0x0a01		</span><span class="cm">/* Xerox IEEE802.3 PUP Addr Trans packet */</span><span class="cp"></span>
<span class="cp">#define ETH_P_DEC       0x6000          </span><span class="cm">/* DEC Assigned proto           */</span><span class="cp"></span>
<span class="cp">#define ETH_P_DNA_DL    0x6001          </span><span class="cm">/* DEC DNA Dump/Load            */</span><span class="cp"></span>
<span class="cp">#define ETH_P_DNA_RC    0x6002          </span><span class="cm">/* DEC DNA Remote Console       */</span><span class="cp"></span>
<span class="cp">#define ETH_P_DNA_RT    0x6003          </span><span class="cm">/* DEC DNA Routing              */</span><span class="cp"></span>
<span class="cp">#define ETH_P_LAT       0x6004          </span><span class="cm">/* DEC LAT                      */</span><span class="cp"></span>
<span class="cp">#define ETH_P_DIAG      0x6005          </span><span class="cm">/* DEC Diagnostics              */</span><span class="cp"></span>
<span class="cp">#define ETH_P_CUST      0x6006          </span><span class="cm">/* DEC Customer use             */</span><span class="cp"></span>
<span class="cp">#define ETH_P_SCA       0x6007          </span><span class="cm">/* DEC Systems Comms Arch       */</span><span class="cp"></span>
<span class="cp">#define ETH_P_TEB	0x6558		</span><span class="cm">/* Trans Ether Bridging		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_RARP      0x8035		</span><span class="cm">/* Reverse Addr Res packet	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_ATALK	0x809B		</span><span class="cm">/* Appletalk DDP		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_AARP	0x80F3		</span><span class="cm">/* Appletalk AARP		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_8021Q	0x8100          </span><span class="cm">/* 802.1Q VLAN Extended Header  */</span><span class="cp"></span>
<span class="cp">#define ETH_P_IPX	0x8137		</span><span class="cm">/* IPX over DIX			*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_IPV6	0x86DD		</span><span class="cm">/* IPv6 over bluebook		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_PAUSE	0x8808		</span><span class="cm">/* IEEE Pause frames. See 802.3 31B */</span><span class="cp"></span>
<span class="cp">#define ETH_P_SLOW	0x8809		</span><span class="cm">/* Slow Protocol. See 802.3ad 43B */</span><span class="cp"></span>
<span class="cp">#define ETH_P_WCCP	0x883E		</span><span class="cm">/* Web-cache coordination protocol</span>
<span class="cm">					 * defined in draft-wilson-wrec-wccp-v2-00.txt */</span><span class="cp"></span>
<span class="cp">#define ETH_P_PPP_DISC	0x8863		</span><span class="cm">/* PPPoE discovery messages     */</span><span class="cp"></span>
<span class="cp">#define ETH_P_PPP_SES	0x8864		</span><span class="cm">/* PPPoE session messages	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_MPLS_UC	0x8847		</span><span class="cm">/* MPLS Unicast traffic		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_MPLS_MC	0x8848		</span><span class="cm">/* MPLS Multicast traffic	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_ATMMPOA	0x884c		</span><span class="cm">/* MultiProtocol Over ATM	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_LINK_CTL	0x886c		</span><span class="cm">/* HPNA, wlan link local tunnel */</span><span class="cp"></span>
<span class="cp">#define ETH_P_ATMFATE	0x8884		</span><span class="cm">/* Frame-based ATM Transport</span>
<span class="cm">					 * over Ethernet</span>
<span class="cm">					 */</span><span class="cp"></span>
<span class="cp">#define ETH_P_PAE	0x888E		</span><span class="cm">/* Port Access Entity (IEEE 802.1X) */</span><span class="cp"></span>
<span class="cp">#define ETH_P_AOE	0x88A2		</span><span class="cm">/* ATA over Ethernet		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_8021AD	0x88A8          </span><span class="cm">/* 802.1ad Service VLAN		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_802_EX1	0x88B5		</span><span class="cm">/* 802.1 Local Experimental 1.  */</span><span class="cp"></span>
<span class="cp">#define ETH_P_TIPC	0x88CA		</span><span class="cm">/* TIPC 			*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_8021AH	0x88E7          </span><span class="cm">/* 802.1ah Backbone Service Tag */</span><span class="cp"></span>
<span class="cp">#define ETH_P_1588	0x88F7		</span><span class="cm">/* IEEE 1588 Timesync */</span><span class="cp"></span>
<span class="cp">#define ETH_P_FCOE	0x8906		</span><span class="cm">/* Fibre Channel over Ethernet  */</span><span class="cp"></span>
<span class="cp">#define ETH_P_TDLS	0x890D          </span><span class="cm">/* TDLS */</span><span class="cp"></span>
<span class="cp">#define ETH_P_FIP	0x8914		</span><span class="cm">/* FCoE Initialization Protocol */</span><span class="cp"></span>
<span class="cp">#define ETH_P_QINQ1	0x9100		</span><span class="cm">/* deprecated QinQ VLAN [ NOT AN OFFICIALLY REGISTERED ID ] */</span><span class="cp"></span>
<span class="cp">#define ETH_P_QINQ2	0x9200		</span><span class="cm">/* deprecated QinQ VLAN [ NOT AN OFFICIALLY REGISTERED ID ] */</span><span class="cp"></span>
<span class="cp">#define ETH_P_QINQ3	0x9300		</span><span class="cm">/* deprecated QinQ VLAN [ NOT AN OFFICIALLY REGISTERED ID ] */</span><span class="cp"></span>
<span class="cp">#define ETH_P_EDSA	0xDADA		</span><span class="cm">/* Ethertype DSA [ NOT AN OFFICIALLY REGISTERED ID ] */</span><span class="cp"></span>
<span class="cp">#define ETH_P_AF_IUCV   0xFBFB		</span><span class="cm">/* IBM af_iucv [ NOT AN OFFICIALLY REGISTERED ID ] */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *	Non DIX types. Won&#39;t clash for 1500 types.</span>
<span class="cm"> */</span>

<span class="cp">#define ETH_P_802_3	0x0001		</span><span class="cm">/* Dummy type for 802.3 frames  */</span><span class="cp"></span>
<span class="cp">#define ETH_P_AX25	0x0002		</span><span class="cm">/* Dummy protocol id for AX.25  */</span><span class="cp"></span>
<span class="cp">#define ETH_P_ALL	0x0003		</span><span class="cm">/* Every packet (be careful!!!) */</span><span class="cp"></span>
<span class="cp">#define ETH_P_802_2	0x0004		</span><span class="cm">/* 802.2 frames 		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_SNAP	0x0005		</span><span class="cm">/* Internal only		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_DDCMP     0x0006          </span><span class="cm">/* DEC DDCMP: Internal only     */</span><span class="cp"></span>
<span class="cp">#define ETH_P_WAN_PPP   0x0007          </span><span class="cm">/* Dummy type for WAN PPP frames*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_PPP_MP    0x0008          </span><span class="cm">/* Dummy type for PPP MP frames */</span><span class="cp"></span>
<span class="cp">#define ETH_P_LOCALTALK 0x0009		</span><span class="cm">/* Localtalk pseudo type 	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_CAN	0x000C		</span><span class="cm">/* Controller Area Network      */</span><span class="cp"></span>
<span class="cp">#define ETH_P_PPPTALK	0x0010		</span><span class="cm">/* Dummy type for Atalk over PPP*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_TR_802_2	0x0011		</span><span class="cm">/* 802.2 frames 		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_MOBITEX	0x0015		</span><span class="cm">/* Mobitex (kaz@cafe.net)	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_CONTROL	0x0016		</span><span class="cm">/* Card specific control frames */</span><span class="cp"></span>
<span class="cp">#define ETH_P_IRDA	0x0017		</span><span class="cm">/* Linux-IrDA			*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_ECONET	0x0018		</span><span class="cm">/* Acorn Econet			*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_HDLC	0x0019		</span><span class="cm">/* HDLC frames			*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_ARCNET	0x001A		</span><span class="cm">/* 1A for ArcNet :-)            */</span><span class="cp"></span>
<span class="cp">#define ETH_P_DSA	0x001B		</span><span class="cm">/* Distributed Switch Arch.	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_TRAILER	0x001C		</span><span class="cm">/* Trailer switch tagging	*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_PHONET	0x00F5		</span><span class="cm">/* Nokia Phonet frames          */</span><span class="cp"></span>
<span class="cp">#define ETH_P_IEEE802154 0x00F6		</span><span class="cm">/* IEEE802.15.4 frame		*/</span><span class="cp"></span>
<span class="cp">#define ETH_P_CAIF	0x00F7		</span><span class="cm">/* ST-Ericsson CAIF protocol	*/</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *	This is an Ethernet frame header.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">ethhdr</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">h_dest</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>	<span class="cm">/* destination eth addr	*/</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">h_source</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>	<span class="cm">/* source ether addr	*/</span>
	<span class="n">__be16</span>		<span class="n">h_proto</span><span class="p">;</span>		<span class="cm">/* packet type ID field	*/</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cp">#ifdef __KERNEL__</span>
<span class="cp">#include &lt;linux/skbuff.h&gt;</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="k">struct</span> <span class="n">ethhdr</span> <span class="o">*</span><span class="nf">eth_hdr</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ethhdr</span> <span class="o">*</span><span class="p">)</span><span class="n">skb_mac_header</span><span class="p">(</span><span class="n">skb</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">eth_header_parse</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">haddr</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">mac_pton</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">mac</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">ssize_t</span> <span class="n">sysfs_format_mac</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">addr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">);</span>

<span class="cp">#endif</span>

<span class="cp">#endif	</span><span class="cm">/* _LINUX_IF_ETHER_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
