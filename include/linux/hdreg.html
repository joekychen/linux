<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › hdreg.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>hdreg.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _LINUX_HDREG_H</span>
<span class="cp">#define _LINUX_HDREG_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * Command Header sizes for IOCTL commands</span>
<span class="cm"> */</span>

<span class="cp">#define HDIO_DRIVE_CMD_HDR_SIZE		(4 * sizeof(__u8))</span>
<span class="cp">#define HDIO_DRIVE_HOB_HDR_SIZE		(8 * sizeof(__u8))</span>
<span class="cp">#define HDIO_DRIVE_TASK_HDR_SIZE	(8 * sizeof(__u8))</span>

<span class="cp">#define IDE_DRIVE_TASK_NO_DATA		0</span>
<span class="cp">#ifndef __KERNEL__</span>
<span class="cp">#define IDE_DRIVE_TASK_INVALID		-1</span>
<span class="cp">#define IDE_DRIVE_TASK_SET_XFER		1</span>
<span class="cp">#define IDE_DRIVE_TASK_IN		2</span>
<span class="cp">#define IDE_DRIVE_TASK_OUT		3</span>
<span class="cp">#endif</span>
<span class="cp">#define IDE_DRIVE_TASK_RAW_WRITE	4</span>

<span class="cm">/*</span>
<span class="cm"> * Define standard taskfile in/out register</span>
<span class="cm"> */</span>
<span class="cp">#define IDE_TASKFILE_STD_IN_FLAGS	0xFE</span>
<span class="cp">#define IDE_HOB_STD_IN_FLAGS		0x3C</span>
<span class="cp">#ifndef __KERNEL__</span>
<span class="cp">#define IDE_TASKFILE_STD_OUT_FLAGS	0xFE</span>
<span class="cp">#define IDE_HOB_STD_OUT_FLAGS		0x3C</span>

<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">task_ioreg_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sata_ioreg_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">ide_reg_valid_s</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="n">all</span>				<span class="o">:</span> <span class="mi">16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="kt">unsigned</span> <span class="n">data</span>			<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">error_feature</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">sector</span>			<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">nsector</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">lcyl</span>			<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">hcyl</span>			<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">select</span>			<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">status_command</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>

		<span class="kt">unsigned</span> <span class="n">data_hob</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">error_feature_hob</span>	<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">sector_hob</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">nsector_hob</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">lcyl_hob</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">hcyl_hob</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">select_hob</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">control_hob</span>		<span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span> <span class="n">ide_reg_valid_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">ide_task_request_s</span> <span class="p">{</span>
	<span class="n">__u8</span>		<span class="n">io_ports</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u8</span>		<span class="n">hob_ports</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span> <span class="cm">/* bytes 6 and 7 are unused */</span>
	<span class="n">ide_reg_valid_t</span>	<span class="n">out_flags</span><span class="p">;</span>
	<span class="n">ide_reg_valid_t</span>	<span class="n">in_flags</span><span class="p">;</span>
	<span class="kt">int</span>		<span class="n">data_phase</span><span class="p">;</span>
	<span class="kt">int</span>		<span class="n">req_cmd</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">out_size</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">in_size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">ide_task_request_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">ide_ioctl_request_s</span> <span class="p">{</span>
	<span class="n">ide_task_request_t</span>	<span class="o">*</span><span class="n">task_request</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>		<span class="o">*</span><span class="n">out_buffer</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>		<span class="o">*</span><span class="n">in_buffer</span><span class="p">;</span>
<span class="p">}</span> <span class="n">ide_ioctl_request_t</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">hd_drive_cmd_hdr</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">command</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">sector_number</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">feature</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">sector_count</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#ifndef __KERNEL__</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">hd_drive_task_hdr</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">data</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">feature</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">sector_count</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">sector_number</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">low_cylinder</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">high_cylinder</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">device_head</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">command</span><span class="p">;</span>
<span class="p">}</span> <span class="n">task_struct_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">hd_drive_hob_hdr</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">data</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">feature</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">sector_count</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">sector_number</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">low_cylinder</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">high_cylinder</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">device_head</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">control</span><span class="p">;</span>
<span class="p">}</span> <span class="n">hob_struct_t</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cp">#define TASKFILE_NO_DATA		0x0000</span>

<span class="cp">#define TASKFILE_IN			0x0001</span>
<span class="cp">#define TASKFILE_MULTI_IN		0x0002</span>

<span class="cp">#define TASKFILE_OUT			0x0004</span>
<span class="cp">#define TASKFILE_MULTI_OUT		0x0008</span>
<span class="cp">#define TASKFILE_IN_OUT			0x0010</span>

<span class="cp">#define TASKFILE_IN_DMA			0x0020</span>
<span class="cp">#define TASKFILE_OUT_DMA		0x0040</span>
<span class="cp">#define TASKFILE_IN_DMAQ		0x0080</span>
<span class="cp">#define TASKFILE_OUT_DMAQ		0x0100</span>

<span class="cp">#ifndef __KERNEL__</span>
<span class="cp">#define TASKFILE_P_IN			0x0200</span>
<span class="cp">#define TASKFILE_P_OUT			0x0400</span>
<span class="cp">#define TASKFILE_P_IN_DMA		0x0800</span>
<span class="cp">#define TASKFILE_P_OUT_DMA		0x1000</span>
<span class="cp">#define TASKFILE_P_IN_DMAQ		0x2000</span>
<span class="cp">#define TASKFILE_P_OUT_DMAQ		0x4000</span>
<span class="cp">#define TASKFILE_48			0x8000</span>
<span class="cp">#define TASKFILE_INVALID		0x7fff</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef __KERNEL__</span>
<span class="cm">/* ATA/ATAPI Commands pre T13 Spec */</span>
<span class="cp">#define WIN_NOP				0x00</span>
<span class="cm">/*</span>
<span class="cm"> *	0x01-&gt;0x02 Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define CFA_REQ_EXT_ERROR_CODE		0x03 </span><span class="cm">/* CFA Request Extended Error Code */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm"> *	0x04-&gt;0x07 Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_SRST			0x08 </span><span class="cm">/* ATAPI soft reset command */</span><span class="cp"></span>
<span class="cp">#define WIN_DEVICE_RESET		0x08</span>
<span class="cm">/*</span>
<span class="cm"> *	0x09-&gt;0x0F Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_RECAL			0x10</span>
<span class="cp">#define WIN_RESTORE			WIN_RECAL</span>
<span class="cm">/*</span>
<span class="cm"> *	0x10-&gt;0x1F Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_READ			0x20 </span><span class="cm">/* 28-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_READ_ONCE			0x21 </span><span class="cm">/* 28-Bit without retries */</span><span class="cp"></span>
<span class="cp">#define WIN_READ_LONG			0x22 </span><span class="cm">/* 28-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_READ_LONG_ONCE		0x23 </span><span class="cm">/* 28-Bit without retries */</span><span class="cp"></span>
<span class="cp">#define WIN_READ_EXT			0x24 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_READDMA_EXT			0x25 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_READDMA_QUEUED_EXT		0x26 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_READ_NATIVE_MAX_EXT		0x27 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm"> *	0x28</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_MULTREAD_EXT		0x29 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm"> *	0x2A-&gt;0x2F Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_WRITE			0x30 </span><span class="cm">/* 28-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITE_ONCE			0x31 </span><span class="cm">/* 28-Bit without retries */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITE_LONG			0x32 </span><span class="cm">/* 28-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITE_LONG_ONCE		0x33 </span><span class="cm">/* 28-Bit without retries */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITE_EXT			0x34 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITEDMA_EXT		0x35 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITEDMA_QUEUED_EXT		0x36 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_SET_MAX_EXT			0x37 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cp">#define CFA_WRITE_SECT_WO_ERASE		0x38 </span><span class="cm">/* CFA Write Sectors without erase */</span><span class="cp"></span>
<span class="cp">#define WIN_MULTWRITE_EXT		0x39 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm"> *	0x3A-&gt;0x3B Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_WRITE_VERIFY		0x3C </span><span class="cm">/* 28-Bit */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm"> *	0x3D-&gt;0x3F Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_VERIFY			0x40 </span><span class="cm">/* 28-Bit - Read Verify Sectors */</span><span class="cp"></span>
<span class="cp">#define WIN_VERIFY_ONCE			0x41 </span><span class="cm">/* 28-Bit - without retries */</span><span class="cp"></span>
<span class="cp">#define WIN_VERIFY_EXT			0x42 </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm"> *	0x43-&gt;0x4F Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_FORMAT			0x50</span>
<span class="cm">/*</span>
<span class="cm"> *	0x51-&gt;0x5F Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_INIT			0x60</span>
<span class="cm">/*</span>
<span class="cm"> *	0x61-&gt;0x5F Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_SEEK			0x70 </span><span class="cm">/* 0x70-0x7F Reserved */</span><span class="cp"></span>

<span class="cp">#define CFA_TRANSLATE_SECTOR		0x87 </span><span class="cm">/* CFA Translate Sector */</span><span class="cp"></span>
<span class="cp">#define WIN_DIAGNOSE			0x90</span>
<span class="cp">#define WIN_SPECIFY			0x91 </span><span class="cm">/* set drive geometry translation */</span><span class="cp"></span>
<span class="cp">#define WIN_DOWNLOAD_MICROCODE		0x92</span>
<span class="cp">#define WIN_STANDBYNOW2			0x94</span>
<span class="cp">#define WIN_STANDBY2			0x96</span>
<span class="cp">#define WIN_SETIDLE2			0x97</span>
<span class="cp">#define WIN_CHECKPOWERMODE2		0x98</span>
<span class="cp">#define WIN_SLEEPNOW2			0x99</span>
<span class="cm">/*</span>
<span class="cm"> *	0x9A VENDOR</span>
<span class="cm"> */</span>
<span class="cp">#define WIN_PACKETCMD			0xA0 </span><span class="cm">/* Send a packet command. */</span><span class="cp"></span>
<span class="cp">#define WIN_PIDENTIFY			0xA1 </span><span class="cm">/* identify ATAPI device	*/</span><span class="cp"></span>
<span class="cp">#define WIN_QUEUED_SERVICE		0xA2</span>
<span class="cp">#define WIN_SMART			0xB0 </span><span class="cm">/* self-monitoring and reporting */</span><span class="cp"></span>
<span class="cp">#define CFA_ERASE_SECTORS		0xC0</span>
<span class="cp">#define WIN_MULTREAD			0xC4 </span><span class="cm">/* read sectors using multiple mode*/</span><span class="cp"></span>
<span class="cp">#define WIN_MULTWRITE			0xC5 </span><span class="cm">/* write sectors using multiple mode */</span><span class="cp"></span>
<span class="cp">#define WIN_SETMULT			0xC6 </span><span class="cm">/* enable/disable multiple mode */</span><span class="cp"></span>
<span class="cp">#define WIN_READDMA_QUEUED		0xC7 </span><span class="cm">/* read sectors using Queued DMA transfers */</span><span class="cp"></span>
<span class="cp">#define WIN_READDMA			0xC8 </span><span class="cm">/* read sectors using DMA transfers */</span><span class="cp"></span>
<span class="cp">#define WIN_READDMA_ONCE		0xC9 </span><span class="cm">/* 28-Bit - without retries */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITEDMA			0xCA </span><span class="cm">/* write sectors using DMA transfers */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITEDMA_ONCE		0xCB </span><span class="cm">/* 28-Bit - without retries */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITEDMA_QUEUED		0xCC </span><span class="cm">/* write sectors using Queued DMA transfers */</span><span class="cp"></span>
<span class="cp">#define CFA_WRITE_MULTI_WO_ERASE	0xCD </span><span class="cm">/* CFA Write multiple without erase */</span><span class="cp"></span>
<span class="cp">#define WIN_GETMEDIASTATUS		0xDA</span>
<span class="cp">#define WIN_ACKMEDIACHANGE		0xDB </span><span class="cm">/* ATA-1, ATA-2 vendor */</span><span class="cp"></span>
<span class="cp">#define WIN_POSTBOOT			0xDC</span>
<span class="cp">#define WIN_PREBOOT 			0xDD</span>
<span class="cp">#define WIN_DOORLOCK			0xDE </span><span class="cm">/* lock door on removable drives */</span><span class="cp"></span>
<span class="cp">#define WIN_DOORUNLOCK			0xDF </span><span class="cm">/* unlock door on removable drives */</span><span class="cp"></span>
<span class="cp">#define WIN_STANDBYNOW1			0xE0</span>
<span class="cp">#define WIN_IDLEIMMEDIATE		0xE1 </span><span class="cm">/* force drive to become &quot;ready&quot; */</span><span class="cp"></span>
<span class="cp">#define WIN_STANDBY			0xE2 </span><span class="cm">/* Set device in Standby Mode */</span><span class="cp"></span>
<span class="cp">#define WIN_SETIDLE1			0xE3</span>
<span class="cp">#define WIN_READ_BUFFER			0xE4 </span><span class="cm">/* force read only 1 sector */</span><span class="cp"></span>
<span class="cp">#define WIN_CHECKPOWERMODE1		0xE5</span>
<span class="cp">#define WIN_SLEEPNOW1			0xE6</span>
<span class="cp">#define WIN_FLUSH_CACHE			0xE7</span>
<span class="cp">#define WIN_WRITE_BUFFER		0xE8 </span><span class="cm">/* force write only 1 sector */</span><span class="cp"></span>
<span class="cp">#define WIN_WRITE_SAME			0xE9 </span><span class="cm">/* read ata-2 to use */</span><span class="cp"></span>
	<span class="cm">/* SET_FEATURES 0x22 or 0xDD */</span>
<span class="cp">#define WIN_FLUSH_CACHE_EXT		0xEA </span><span class="cm">/* 48-Bit */</span><span class="cp"></span>
<span class="cp">#define WIN_IDENTIFY			0xEC </span><span class="cm">/* ask drive to identify itself	*/</span><span class="cp"></span>
<span class="cp">#define WIN_MEDIAEJECT			0xED</span>
<span class="cp">#define WIN_IDENTIFY_DMA		0xEE </span><span class="cm">/* same as WIN_IDENTIFY, but DMA */</span><span class="cp"></span>
<span class="cp">#define WIN_SETFEATURES			0xEF </span><span class="cm">/* set special drive features */</span><span class="cp"></span>
<span class="cp">#define EXABYTE_ENABLE_NEST		0xF0</span>
<span class="cp">#define WIN_SECURITY_SET_PASS		0xF1</span>
<span class="cp">#define WIN_SECURITY_UNLOCK		0xF2</span>
<span class="cp">#define WIN_SECURITY_ERASE_PREPARE	0xF3</span>
<span class="cp">#define WIN_SECURITY_ERASE_UNIT		0xF4</span>
<span class="cp">#define WIN_SECURITY_FREEZE_LOCK	0xF5</span>
<span class="cp">#define WIN_SECURITY_DISABLE		0xF6</span>
<span class="cp">#define WIN_READ_NATIVE_MAX		0xF8 </span><span class="cm">/* return the native maximum address */</span><span class="cp"></span>
<span class="cp">#define WIN_SET_MAX			0xF9</span>
<span class="cp">#define DISABLE_SEAGATE			0xFB</span>

<span class="cm">/* WIN_SMART sub-commands */</span>

<span class="cp">#define SMART_READ_VALUES		0xD0</span>
<span class="cp">#define SMART_READ_THRESHOLDS		0xD1</span>
<span class="cp">#define SMART_AUTOSAVE			0xD2</span>
<span class="cp">#define SMART_SAVE			0xD3</span>
<span class="cp">#define SMART_IMMEDIATE_OFFLINE		0xD4</span>
<span class="cp">#define SMART_READ_LOG_SECTOR		0xD5</span>
<span class="cp">#define SMART_WRITE_LOG_SECTOR		0xD6</span>
<span class="cp">#define SMART_WRITE_THRESHOLDS		0xD7</span>
<span class="cp">#define SMART_ENABLE			0xD8</span>
<span class="cp">#define SMART_DISABLE			0xD9</span>
<span class="cp">#define SMART_STATUS			0xDA</span>
<span class="cp">#define SMART_AUTO_OFFLINE		0xDB</span>

<span class="cm">/* Password used in TF4 &amp; TF5 executing SMART commands */</span>

<span class="cp">#define SMART_LCYL_PASS			0x4F</span>
<span class="cp">#define SMART_HCYL_PASS			0xC2</span>

<span class="cm">/* WIN_SETFEATURES sub-commands */</span>
<span class="cp">#define SETFEATURES_EN_8BIT	0x01	</span><span class="cm">/* Enable 8-Bit Transfers */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_WCACHE	0x02	</span><span class="cm">/* Enable write cache */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_DEFECT	0x04	</span><span class="cm">/* Disable Defect Management */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_APM	0x05	</span><span class="cm">/* Enable advanced power management */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_SAME_R	0x22	</span><span class="cm">/* for a region ATA-1 */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_MSN	0x31	</span><span class="cm">/* Disable Media Status Notification */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_RETRY	0x33	</span><span class="cm">/* Disable Retry */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_AAM	0x42	</span><span class="cm">/* Enable Automatic Acoustic Management */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_RW_LONG	0x44	</span><span class="cm">/* Set Length of VS bytes */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_SET_CACHE	0x54	</span><span class="cm">/* Set Cache segments to SC Reg. Val */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_RLA	0x55	</span><span class="cm">/* Disable read look-ahead feature */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_RI	0x5D	</span><span class="cm">/* Enable release interrupt */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_SI	0x5E	</span><span class="cm">/* Enable SERVICE interrupt */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_RPOD	0x66	</span><span class="cm">/* Disable reverting to power on defaults */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_ECC	0x77	</span><span class="cm">/* Disable ECC byte count */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_8BIT	0x81	</span><span class="cm">/* Disable 8-Bit Transfers */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_WCACHE	0x82	</span><span class="cm">/* Disable write cache */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_DEFECT	0x84	</span><span class="cm">/* Enable Defect Management */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_APM	0x85	</span><span class="cm">/* Disable advanced power management */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_ECC	0x88	</span><span class="cm">/* Enable ECC byte count */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_MSN	0x95	</span><span class="cm">/* Enable Media Status Notification */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_RETRY	0x99	</span><span class="cm">/* Enable Retry */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_RLA	0xAA	</span><span class="cm">/* Enable read look-ahead feature */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_PREFETCH	0xAB	</span><span class="cm">/* Sets drive prefetch value */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_REST	0xAC	</span><span class="cm">/* ATA-1 */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_4B_RW_LONG	0xBB	</span><span class="cm">/* Set Length of 4 bytes */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_AAM	0xC2	</span><span class="cm">/* Disable Automatic Acoustic Management */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_RPOD	0xCC	</span><span class="cm">/* Enable reverting to power on defaults */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_RI	0xDD	</span><span class="cm">/* Disable release interrupt ATAPI */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_EN_SAME_M	0xDD	</span><span class="cm">/* for a entire device ATA-1 */</span><span class="cp"></span>
<span class="cp">#define SETFEATURES_DIS_SI	0xDE	</span><span class="cm">/* Disable SERVICE interrupt ATAPI */</span><span class="cp"></span>

<span class="cm">/* WIN_SECURITY sub-commands */</span>

<span class="cp">#define SECURITY_SET_PASSWORD		0xBA</span>
<span class="cp">#define SECURITY_UNLOCK			0xBB</span>
<span class="cp">#define SECURITY_ERASE_PREPARE		0xBC</span>
<span class="cp">#define SECURITY_ERASE_UNIT		0xBD</span>
<span class="cp">#define SECURITY_FREEZE_LOCK		0xBE</span>
<span class="cp">#define SECURITY_DISABLE_PASSWORD	0xBF</span>
<span class="cp">#endif </span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>

<span class="k">struct</span> <span class="n">hd_geometry</span> <span class="p">{</span>
      <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">heads</span><span class="p">;</span>
      <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">sectors</span><span class="p">;</span>
      <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">cylinders</span><span class="p">;</span>
      <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">start</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* hd/ide ctl&#39;s that pass (arg) ptrs to user space are numbered 0x030n/0x031n */</span>
<span class="cp">#define HDIO_GETGEO		0x0301	</span><span class="cm">/* get device geometry */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_UNMASKINTR	0x0302	</span><span class="cm">/* get current unmask setting */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_MULTCOUNT	0x0304	</span><span class="cm">/* get current IDE blockmode setting */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_QDMA		0x0305	</span><span class="cm">/* get use-qdma flag */</span><span class="cp"></span>

<span class="cp">#define HDIO_SET_XFER		0x0306  </span><span class="cm">/* set transfer rate via proc */</span><span class="cp"></span>

<span class="cp">#define HDIO_OBSOLETE_IDENTITY	0x0307	</span><span class="cm">/* OBSOLETE, DO NOT USE: returns 142 bytes */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_KEEPSETTINGS	0x0308	</span><span class="cm">/* get keep-settings-on-reset flag */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_32BIT		0x0309	</span><span class="cm">/* get current io_32bit setting */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_NOWERR		0x030a	</span><span class="cm">/* get ignore-write-error flag */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_DMA		0x030b	</span><span class="cm">/* get use-dma flag */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_NICE		0x030c	</span><span class="cm">/* get nice flags */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_IDENTITY	0x030d	</span><span class="cm">/* get IDE identification info */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_WCACHE		0x030e	</span><span class="cm">/* get write cache mode on|off */</span><span class="cp"></span>
<span class="cp">#define HDIO_GET_ACOUSTIC	0x030f	</span><span class="cm">/* get acoustic value */</span><span class="cp"></span>
<span class="cp">#define	HDIO_GET_ADDRESS	0x0310	</span><span class="cm">/* */</span><span class="cp"></span>

<span class="cp">#define HDIO_GET_BUSSTATE	0x031a	</span><span class="cm">/* get the bus state of the hwif */</span><span class="cp"></span>
<span class="cp">#define HDIO_TRISTATE_HWIF	0x031b	</span><span class="cm">/* execute a channel tristate */</span><span class="cp"></span>
<span class="cp">#define HDIO_DRIVE_RESET	0x031c	</span><span class="cm">/* execute a device reset */</span><span class="cp"></span>
<span class="cp">#define HDIO_DRIVE_TASKFILE	0x031d	</span><span class="cm">/* execute raw taskfile */</span><span class="cp"></span>
<span class="cp">#define HDIO_DRIVE_TASK		0x031e	</span><span class="cm">/* execute task and special drive command */</span><span class="cp"></span>
<span class="cp">#define HDIO_DRIVE_CMD		0x031f	</span><span class="cm">/* execute a special drive command */</span><span class="cp"></span>
<span class="cp">#define HDIO_DRIVE_CMD_AEB	HDIO_DRIVE_TASK</span>

<span class="cm">/* hd/ide ctl&#39;s that pass (arg) non-ptr values are numbered 0x032n/0x033n */</span>
<span class="cp">#define HDIO_SET_MULTCOUNT	0x0321	</span><span class="cm">/* change IDE blockmode */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_UNMASKINTR	0x0322	</span><span class="cm">/* permit other irqs during I/O */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_KEEPSETTINGS	0x0323	</span><span class="cm">/* keep ioctl settings on reset */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_32BIT		0x0324	</span><span class="cm">/* change io_32bit flags */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_NOWERR		0x0325	</span><span class="cm">/* change ignore-write-error flag */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_DMA		0x0326	</span><span class="cm">/* change use-dma flag */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_PIO_MODE	0x0327	</span><span class="cm">/* reconfig interface to new speed */</span><span class="cp"></span>
<span class="cp">#ifndef __KERNEL__</span>
<span class="cp">#define HDIO_SCAN_HWIF		0x0328	</span><span class="cm">/* register and (re)scan interface */</span><span class="cp"></span>
<span class="cp">#define HDIO_UNREGISTER_HWIF	0x032a  </span><span class="cm">/* unregister interface */</span><span class="cp"></span>
<span class="cp">#endif</span>
<span class="cp">#define HDIO_SET_NICE		0x0329	</span><span class="cm">/* set nice flags */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_WCACHE		0x032b	</span><span class="cm">/* change write cache enable-disable */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_ACOUSTIC	0x032c	</span><span class="cm">/* change acoustic behavior */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_BUSSTATE	0x032d	</span><span class="cm">/* set the bus state of the hwif */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_QDMA		0x032e	</span><span class="cm">/* change use-qdma flag */</span><span class="cp"></span>
<span class="cp">#define HDIO_SET_ADDRESS	0x032f	</span><span class="cm">/* change lba addressing modes */</span><span class="cp"></span>

<span class="cm">/* bus states */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">BUSSTATE_OFF</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BUSSTATE_ON</span><span class="p">,</span>
	<span class="n">BUSSTATE_TRISTATE</span>
<span class="p">};</span>

<span class="cm">/* hd/ide ctl&#39;s that pass (arg) ptrs to user space are numbered 0x033n/0x033n */</span>
<span class="cm">/* 0x330 is reserved - used to be HDIO_GETGEO_BIG */</span>
<span class="cm">/* 0x331 is reserved - used to be HDIO_GETGEO_BIG_RAW */</span>
<span class="cm">/* 0x338 is reserved - used to be HDIO_SET_IDE_SCSI */</span>
<span class="cm">/* 0x339 is reserved - used to be HDIO_SET_SCSI_IDE */</span>

<span class="cp">#define __NEW_HD_DRIVE_ID</span>

<span class="cp">#ifndef __KERNEL__</span>
<span class="cm">/*</span>
<span class="cm"> * Structure returned by HDIO_GET_IDENTITY, as per ANSI NCITS ATA6 rev.1b spec.</span>
<span class="cm"> *</span>
<span class="cm"> * If you change something here, please remember to update fix_driveid() in</span>
<span class="cm"> * ide/probe.c.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hd_driveid</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">config</span><span class="p">;</span>		<span class="cm">/* lots of obsolete bit flags */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">cyls</span><span class="p">;</span>		<span class="cm">/* Obsolete, &quot;physical&quot; cyls */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">reserved2</span><span class="p">;</span>	<span class="cm">/* reserved (word 2) */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">heads</span><span class="p">;</span>		<span class="cm">/* Obsolete, &quot;physical&quot; heads */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">track_bytes</span><span class="p">;</span>	<span class="cm">/* unformatted bytes per track */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">sector_bytes</span><span class="p">;</span>	<span class="cm">/* unformatted bytes per sector */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">sectors</span><span class="p">;</span>	<span class="cm">/* Obsolete, &quot;physical&quot; sectors per track */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">vendor0</span><span class="p">;</span>	<span class="cm">/* vendor unique */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">vendor1</span><span class="p">;</span>	<span class="cm">/* vendor unique */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">vendor2</span><span class="p">;</span>	<span class="cm">/* Retired vendor unique */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">serial_no</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>	<span class="cm">/* 0 = not_specified */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">buf_type</span><span class="p">;</span>	<span class="cm">/* Retired */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">buf_size</span><span class="p">;</span>	<span class="cm">/* Retired, 512 byte increments</span>
<span class="cm">					 * 0 = not_specified</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">ecc_bytes</span><span class="p">;</span>	<span class="cm">/* for r/w long cmds; 0 = not_specified */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">fw_rev</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/* 0 = not_specified */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">model</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>	<span class="cm">/* 0 = not_specified */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">max_multsect</span><span class="p">;</span>	<span class="cm">/* 0=not_implemented */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">vendor3</span><span class="p">;</span>	<span class="cm">/* vendor unique */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">dword_io</span><span class="p">;</span>	<span class="cm">/* 0=not_implemented; 1=implemented */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">vendor4</span><span class="p">;</span>	<span class="cm">/* vendor unique */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">capability</span><span class="p">;</span>	<span class="cm">/* (upper byte of word 49)</span>
<span class="cm">					 *  3:	IORDYsup</span>
<span class="cm">					 *  2:	IORDYsw</span>
<span class="cm">					 *  1:	LBA</span>
<span class="cm">					 *  0:	DMA</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">reserved50</span><span class="p">;</span>	<span class="cm">/* reserved (word 50) */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">vendor5</span><span class="p">;</span>	<span class="cm">/* Obsolete, vendor unique */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">tPIO</span><span class="p">;</span>		<span class="cm">/* Obsolete, 0=slow, 1=medium, 2=fast */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">vendor6</span><span class="p">;</span>	<span class="cm">/* Obsolete, vendor unique */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">tDMA</span><span class="p">;</span>		<span class="cm">/* Obsolete, 0=slow, 1=medium, 2=fast */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">field_valid</span><span class="p">;</span>	<span class="cm">/* (word 53)</span>
<span class="cm">					 *  2:	ultra_ok	word  88</span>
<span class="cm">					 *  1:	eide_ok		words 64-70</span>
<span class="cm">					 *  0:	cur_ok		words 54-58</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">cur_cyls</span><span class="p">;</span>	<span class="cm">/* Obsolete, logical cylinders */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">cur_heads</span><span class="p">;</span>	<span class="cm">/* Obsolete, l heads */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">cur_sectors</span><span class="p">;</span>	<span class="cm">/* Obsolete, l sectors per track */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">cur_capacity0</span><span class="p">;</span>	<span class="cm">/* Obsolete, l total sectors on drive */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">cur_capacity1</span><span class="p">;</span>	<span class="cm">/* Obsolete, (2 words, misaligned int)     */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">multsect</span><span class="p">;</span>	<span class="cm">/* current multiple sector count */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">multsect_valid</span><span class="p">;</span>	<span class="cm">/* when (bit0==1) multsect is ok */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">lba_capacity</span><span class="p">;</span>	<span class="cm">/* Obsolete, total number of sectors */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">dma_1word</span><span class="p">;</span>	<span class="cm">/* Obsolete, single-word dma info */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">dma_mword</span><span class="p">;</span>	<span class="cm">/* multiple-word dma info */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">eide_pio_modes</span><span class="p">;</span> <span class="cm">/* bits 0:mode3 1:mode4 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">eide_dma_min</span><span class="p">;</span>	<span class="cm">/* min mword dma cycle time (ns) */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">eide_dma_time</span><span class="p">;</span>	<span class="cm">/* recommended mword dma cycle time (ns) */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">eide_pio</span><span class="p">;</span>       <span class="cm">/* min cycle time (ns), no IORDY  */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">eide_pio_iordy</span><span class="p">;</span> <span class="cm">/* min cycle time (ns), with IORDY */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">words69_70</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>	<span class="cm">/* reserved words 69-70</span>
<span class="cm">					 * future command overlap and queuing</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">words71_74</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>	<span class="cm">/* reserved words 71-74</span>
<span class="cm">					 * for IDENTIFY PACKET DEVICE command</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">queue_depth</span><span class="p">;</span>	<span class="cm">/* (word 75)</span>
<span class="cm">					 * 15:5	reserved</span>
<span class="cm">					 *  4:0	Maximum queue depth -1</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">words76_79</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>	<span class="cm">/* reserved words 76-79 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">major_rev_num</span><span class="p">;</span>	<span class="cm">/* (word 80) */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">minor_rev_num</span><span class="p">;</span>	<span class="cm">/* (word 81) */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">command_set_1</span><span class="p">;</span>	<span class="cm">/* (word 82) supported</span>
<span class="cm">					 * 15:	Obsolete</span>
<span class="cm">					 * 14:	NOP command</span>
<span class="cm">					 * 13:	READ_BUFFER</span>
<span class="cm">					 * 12:	WRITE_BUFFER</span>
<span class="cm">					 * 11:	Obsolete</span>
<span class="cm">					 * 10:	Host Protected Area</span>
<span class="cm">					 *  9:	DEVICE Reset</span>
<span class="cm">					 *  8:	SERVICE Interrupt</span>
<span class="cm">					 *  7:	Release Interrupt</span>
<span class="cm">					 *  6:	look-ahead</span>
<span class="cm">					 *  5:	write cache</span>
<span class="cm">					 *  4:	PACKET Command</span>
<span class="cm">					 *  3:	Power Management Feature Set</span>
<span class="cm">					 *  2:	Removable Feature Set</span>
<span class="cm">					 *  1:	Security Feature Set</span>
<span class="cm">					 *  0:	SMART Feature Set</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">command_set_2</span><span class="p">;</span>	<span class="cm">/* (word 83)</span>
<span class="cm">					 * 15:	Shall be ZERO</span>
<span class="cm">					 * 14:	Shall be ONE</span>
<span class="cm">					 * 13:	FLUSH CACHE EXT</span>
<span class="cm">					 * 12:	FLUSH CACHE</span>
<span class="cm">					 * 11:	Device Configuration Overlay</span>
<span class="cm">					 * 10:	48-bit Address Feature Set</span>
<span class="cm">					 *  9:	Automatic Acoustic Management</span>
<span class="cm">					 *  8:	SET MAX security</span>
<span class="cm">					 *  7:	reserved 1407DT PARTIES</span>
<span class="cm">					 *  6:	SetF sub-command Power-Up</span>
<span class="cm">					 *  5:	Power-Up in Standby Feature Set</span>
<span class="cm">					 *  4:	Removable Media Notification</span>
<span class="cm">					 *  3:	APM Feature Set</span>
<span class="cm">					 *  2:	CFA Feature Set</span>
<span class="cm">					 *  1:	READ/WRITE DMA QUEUED</span>
<span class="cm">					 *  0:	Download MicroCode</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">cfsse</span><span class="p">;</span>		<span class="cm">/* (word 84)</span>
<span class="cm">					 * cmd set-feature supported extensions</span>
<span class="cm">					 * 15:	Shall be ZERO</span>
<span class="cm">					 * 14:	Shall be ONE</span>
<span class="cm">					 * 13:6	reserved</span>
<span class="cm">					 *  5:	General Purpose Logging</span>
<span class="cm">					 *  4:	Streaming Feature Set</span>
<span class="cm">					 *  3:	Media Card Pass Through</span>
<span class="cm">					 *  2:	Media Serial Number Valid</span>
<span class="cm">					 *  1:	SMART selt-test supported</span>
<span class="cm">					 *  0:	SMART error logging</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">cfs_enable_1</span><span class="p">;</span>	<span class="cm">/* (word 85)</span>
<span class="cm">					 * command set-feature enabled</span>
<span class="cm">					 * 15:	Obsolete</span>
<span class="cm">					 * 14:	NOP command</span>
<span class="cm">					 * 13:	READ_BUFFER</span>
<span class="cm">					 * 12:	WRITE_BUFFER</span>
<span class="cm">					 * 11:	Obsolete</span>
<span class="cm">					 * 10:	Host Protected Area</span>
<span class="cm">					 *  9:	DEVICE Reset</span>
<span class="cm">					 *  8:	SERVICE Interrupt</span>
<span class="cm">					 *  7:	Release Interrupt</span>
<span class="cm">					 *  6:	look-ahead</span>
<span class="cm">					 *  5:	write cache</span>
<span class="cm">					 *  4:	PACKET Command</span>
<span class="cm">					 *  3:	Power Management Feature Set</span>
<span class="cm">					 *  2:	Removable Feature Set</span>
<span class="cm">					 *  1:	Security Feature Set</span>
<span class="cm">					 *  0:	SMART Feature Set</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">cfs_enable_2</span><span class="p">;</span>	<span class="cm">/* (word 86)</span>
<span class="cm">					 * command set-feature enabled</span>
<span class="cm">					 * 15:	Shall be ZERO</span>
<span class="cm">					 * 14:	Shall be ONE</span>
<span class="cm">					 * 13:	FLUSH CACHE EXT</span>
<span class="cm">					 * 12:	FLUSH CACHE</span>
<span class="cm">					 * 11:	Device Configuration Overlay</span>
<span class="cm">					 * 10:	48-bit Address Feature Set</span>
<span class="cm">					 *  9:	Automatic Acoustic Management</span>
<span class="cm">					 *  8:	SET MAX security</span>
<span class="cm">					 *  7:	reserved 1407DT PARTIES</span>
<span class="cm">					 *  6:	SetF sub-command Power-Up</span>
<span class="cm">					 *  5:	Power-Up in Standby Feature Set</span>
<span class="cm">					 *  4:	Removable Media Notification</span>
<span class="cm">					 *  3:	APM Feature Set</span>
<span class="cm">					 *  2:	CFA Feature Set</span>
<span class="cm">					 *  1:	READ/WRITE DMA QUEUED</span>
<span class="cm">					 *  0:	Download MicroCode</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">csf_default</span><span class="p">;</span>	<span class="cm">/* (word 87)</span>
<span class="cm">					 * command set-feature default</span>
<span class="cm">					 * 15:	Shall be ZERO</span>
<span class="cm">					 * 14:	Shall be ONE</span>
<span class="cm">					 * 13:6	reserved</span>
<span class="cm">					 *  5:	General Purpose Logging enabled</span>
<span class="cm">					 *  4:	Valid CONFIGURE STREAM executed</span>
<span class="cm">					 *  3:	Media Card Pass Through enabled</span>
<span class="cm">					 *  2:	Media Serial Number Valid</span>
<span class="cm">					 *  1:	SMART selt-test supported</span>
<span class="cm">					 *  0:	SMART error logging</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">dma_ultra</span><span class="p">;</span>	<span class="cm">/* (word 88) */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">trseuc</span><span class="p">;</span>		<span class="cm">/* time required for security erase */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">trsEuc</span><span class="p">;</span>		<span class="cm">/* time required for enhanced erase */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">CurAPMvalues</span><span class="p">;</span>	<span class="cm">/* current APM values */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">mprc</span><span class="p">;</span>		<span class="cm">/* master password revision code */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">hw_config</span><span class="p">;</span>	<span class="cm">/* hardware config (word 93)</span>
<span class="cm">					 * 15:	Shall be ZERO</span>
<span class="cm">					 * 14:	Shall be ONE</span>
<span class="cm">					 * 13:</span>
<span class="cm">					 * 12:</span>
<span class="cm">					 * 11:</span>
<span class="cm">					 * 10:</span>
<span class="cm">					 *  9:</span>
<span class="cm">					 *  8:</span>
<span class="cm">					 *  7:</span>
<span class="cm">					 *  6:</span>
<span class="cm">					 *  5:</span>
<span class="cm">					 *  4:</span>
<span class="cm">					 *  3:</span>
<span class="cm">					 *  2:</span>
<span class="cm">					 *  1:</span>
<span class="cm">					 *  0:	Shall be ONE</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">acoustic</span><span class="p">;</span>	<span class="cm">/* (word 94)</span>
<span class="cm">					 * 15:8	Vendor&#39;s recommended value</span>
<span class="cm">					 *  7:0	current value</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">msrqs</span><span class="p">;</span>		<span class="cm">/* min stream request size */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">sxfert</span><span class="p">;</span>		<span class="cm">/* stream transfer time */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">sal</span><span class="p">;</span>		<span class="cm">/* stream access latency */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">spg</span><span class="p">;</span>		<span class="cm">/* stream performance granularity */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">lba_capacity_2</span><span class="p">;</span><span class="cm">/* 48-bit total number of sectors */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">words104_125</span><span class="p">[</span><span class="mi">22</span><span class="p">];</span><span class="cm">/* reserved words 104-125 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">last_lun</span><span class="p">;</span>	<span class="cm">/* (word 126) */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">word127</span><span class="p">;</span>	<span class="cm">/* (word 127) Feature Set</span>
<span class="cm">					 * Removable Media Notification</span>
<span class="cm">					 * 15:2	reserved</span>
<span class="cm">					 *  1:0	00 = not supported</span>
<span class="cm">					 *	01 = supported</span>
<span class="cm">					 *	10 = reserved</span>
<span class="cm">					 *	11 = reserved</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">dlf</span><span class="p">;</span>		<span class="cm">/* (word 128)</span>
<span class="cm">					 * device lock function</span>
<span class="cm">					 * 15:9	reserved</span>
<span class="cm">					 *  8	security level 1:max 0:high</span>
<span class="cm">					 *  7:6	reserved</span>
<span class="cm">					 *  5	enhanced erase</span>
<span class="cm">					 *  4	expire</span>
<span class="cm">					 *  3	frozen</span>
<span class="cm">					 *  2	locked</span>
<span class="cm">					 *  1	en/disabled</span>
<span class="cm">					 *  0	capability</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">csfo</span><span class="p">;</span>		<span class="cm">/*  (word 129)</span>
<span class="cm">					 * current set features options</span>
<span class="cm">					 * 15:4	reserved</span>
<span class="cm">					 *  3:	auto reassign</span>
<span class="cm">					 *  2:	reverting</span>
<span class="cm">					 *  1:	read-look-ahead</span>
<span class="cm">					 *  0:	write cache</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">words130_155</span><span class="p">[</span><span class="mi">26</span><span class="p">];</span><span class="cm">/* reserved vendor words 130-155 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">word156</span><span class="p">;</span>	<span class="cm">/* reserved vendor word 156 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">words157_159</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="cm">/* reserved vendor words 157-159 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">cfa_power</span><span class="p">;</span>	<span class="cm">/* (word 160) CFA Power Mode</span>
<span class="cm">					 * 15 word 160 supported</span>
<span class="cm">					 * 14 reserved</span>
<span class="cm">					 * 13</span>
<span class="cm">					 * 12</span>
<span class="cm">					 * 11:0</span>
<span class="cm">					 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">words161_175</span><span class="p">[</span><span class="mi">15</span><span class="p">];</span><span class="cm">/* Reserved for CFA */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">words176_205</span><span class="p">[</span><span class="mi">30</span><span class="p">];</span><span class="cm">/* Current Media Serial Number */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">words206_254</span><span class="p">[</span><span class="mi">49</span><span class="p">];</span><span class="cm">/* reserved words 206-254 */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">integrity_word</span><span class="p">;</span>	<span class="cm">/* (word 255)</span>
<span class="cm">					 * 15:8 Checksum</span>
<span class="cm">					 *  7:0 Signature</span>
<span class="cm">					 */</span>
<span class="p">};</span>
<span class="cp">#endif </span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * IDE &quot;nice&quot; flags. These are used on a per drive basis to determine</span>
<span class="cm"> * when to be nice and give more bandwidth to the other devices which</span>
<span class="cm"> * share the same IDE bus.</span>
<span class="cm"> */</span>
<span class="cp">#define IDE_NICE_DSC_OVERLAP	(0)	</span><span class="cm">/* per the DSC overlap protocol */</span><span class="cp"></span>
<span class="cp">#define IDE_NICE_ATAPI_OVERLAP	(1)	</span><span class="cm">/* not supported yet */</span><span class="cp"></span>
<span class="cp">#define IDE_NICE_1		(3)	</span><span class="cm">/* when probably won&#39;t affect us much */</span><span class="cp"></span>
<span class="cp">#ifndef __KERNEL__</span>
<span class="cp">#define IDE_NICE_0		(2)	</span><span class="cm">/* when sure that it won&#39;t affect us */</span><span class="cp"></span>
<span class="cp">#define IDE_NICE_2		(4)	</span><span class="cm">/* when we know it&#39;s on our expense */</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cp">#endif	</span><span class="cm">/* _LINUX_HDREG_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
