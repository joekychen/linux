<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › if_fddi.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>if_fddi.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * INET		An implementation of the TCP/IP protocol suite for the LINUX</span>
<span class="cm"> *		operating system.  INET is implemented using the BSD Socket</span>
<span class="cm"> *		interface as the means of communication with the user level.</span>
<span class="cm"> *</span>
<span class="cm"> *		Global definitions for the ANSI FDDI interface.</span>
<span class="cm"> *</span>
<span class="cm"> * Version:	@(#)if_fddi.h	1.0.2	Sep 29 2004</span>
<span class="cm"> *</span>
<span class="cm"> * Author:	Lawrence V. Stefani, &lt;stefani@lkg.dec.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *		if_fddi.h is based on previous if_ether.h and if_tr.h work by</span>
<span class="cm"> *			Fred N. van Kempen, &lt;waltje@uWalt.NL.Mugnet.ORG&gt;</span>
<span class="cm"> *			Donald Becker, &lt;becker@super.org&gt;</span>
<span class="cm"> *			Alan Cox, &lt;alan@lxorguk.ukuu.org.uk&gt;</span>
<span class="cm"> *			Steve Whitehouse, &lt;gw7rrm@eeshack3.swan.ac.uk&gt;</span>
<span class="cm"> *			Peter De Schrijver, &lt;stud11@cc4.kuleuven.ac.be&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *		This program is free software; you can redistribute it and/or</span>
<span class="cm"> *		modify it under the terms of the GNU General Public License</span>
<span class="cm"> *		as published by the Free Software Foundation; either version</span>
<span class="cm"> *		2 of the License, or (at your option) any later version.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _LINUX_IF_FDDI_H</span>
<span class="cp">#define _LINUX_IF_FDDI_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> *  Define max and min legal sizes.  The frame sizes do not include</span>
<span class="cm"> *  4 byte FCS/CRC (frame check sequence).</span>
<span class="cm"> */</span>
<span class="cp">#define FDDI_K_ALEN			6		</span><span class="cm">/* Octets in one FDDI address */</span><span class="cp"></span>
<span class="cp">#define FDDI_K_8022_HLEN	16		</span><span class="cm">/* Total octets in 802.2 header */</span><span class="cp"></span>
<span class="cp">#define FDDI_K_SNAP_HLEN	21		</span><span class="cm">/* Total octets in 802.2 SNAP header */</span><span class="cp"></span>
<span class="cp">#define FDDI_K_8022_ZLEN	16		</span><span class="cm">/* Min octets in 802.2 frame sans FCS */</span><span class="cp"></span>
<span class="cp">#define FDDI_K_SNAP_ZLEN	21		</span><span class="cm">/* Min octets in 802.2 SNAP frame sans FCS */</span><span class="cp"></span>
<span class="cp">#define FDDI_K_8022_DLEN	4475	</span><span class="cm">/* Max octets in 802.2 payload */</span><span class="cp"></span>
<span class="cp">#define FDDI_K_SNAP_DLEN	4470	</span><span class="cm">/* Max octets in 802.2 SNAP payload */</span><span class="cp"></span>
<span class="cp">#define FDDI_K_LLC_ZLEN		13		</span><span class="cm">/* Min octets in LLC frame sans FCS */</span><span class="cp"></span>
<span class="cp">#define FDDI_K_LLC_LEN		4491	</span><span class="cm">/* Max octets in LLC frame sans FCS */</span><span class="cp"></span>

<span class="cm">/* Define FDDI Frame Control (FC) Byte values */</span>
<span class="cp">#define FDDI_FC_K_VOID					0x00	</span>
<span class="cp">#define FDDI_FC_K_NON_RESTRICTED_TOKEN	0x80	</span>
<span class="cp">#define FDDI_FC_K_RESTRICTED_TOKEN		0xC0	</span>
<span class="cp">#define FDDI_FC_K_SMT_MIN				0x41</span>
<span class="cp">#define FDDI_FC_K_SMT_MAX		   		0x4F</span>
<span class="cp">#define FDDI_FC_K_MAC_MIN				0xC1</span>
<span class="cp">#define FDDI_FC_K_MAC_MAX		  		0xCF	</span>
<span class="cp">#define FDDI_FC_K_ASYNC_LLC_MIN			0x50</span>
<span class="cp">#define FDDI_FC_K_ASYNC_LLC_DEF			0x54</span>
<span class="cp">#define FDDI_FC_K_ASYNC_LLC_MAX			0x5F</span>
<span class="cp">#define FDDI_FC_K_SYNC_LLC_MIN			0xD0</span>
<span class="cp">#define FDDI_FC_K_SYNC_LLC_MAX			0xD7</span>
<span class="cp">#define FDDI_FC_K_IMPLEMENTOR_MIN		0x60</span>
<span class="cp">#define FDDI_FC_K_IMPLEMENTOR_MAX  		0x6F</span>
<span class="cp">#define FDDI_FC_K_RESERVED_MIN			0x70</span>
<span class="cp">#define FDDI_FC_K_RESERVED_MAX			0x7F</span>

<span class="cm">/* Define LLC and SNAP constants */</span>
<span class="cp">#define FDDI_EXTENDED_SAP	0xAA</span>
<span class="cp">#define FDDI_UI_CMD			0x03</span>

<span class="cm">/* Define 802.2 Type 1 header */</span>
<span class="k">struct</span> <span class="n">fddi_8022_1_hdr</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">dsap</span><span class="p">;</span>					<span class="cm">/* destination service access point */</span>
	<span class="n">__u8</span>	<span class="n">ssap</span><span class="p">;</span>					<span class="cm">/* source service access point */</span>
	<span class="n">__u8</span>	<span class="n">ctrl</span><span class="p">;</span>					<span class="cm">/* control byte #1 */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Define 802.2 Type 2 header */</span>
<span class="k">struct</span> <span class="n">fddi_8022_2_hdr</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">dsap</span><span class="p">;</span>					<span class="cm">/* destination service access point */</span>
	<span class="n">__u8</span>	<span class="n">ssap</span><span class="p">;</span>					<span class="cm">/* source service access point */</span>
	<span class="n">__u8</span>	<span class="n">ctrl_1</span><span class="p">;</span>					<span class="cm">/* control byte #1 */</span>
	<span class="n">__u8</span>	<span class="n">ctrl_2</span><span class="p">;</span>					<span class="cm">/* control byte #2 */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Define 802.2 SNAP header */</span>
<span class="cp">#define FDDI_K_OUI_LEN	3</span>
<span class="k">struct</span> <span class="n">fddi_snap_hdr</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">dsap</span><span class="p">;</span>					<span class="cm">/* always 0xAA */</span>
	<span class="n">__u8</span>	<span class="n">ssap</span><span class="p">;</span>					<span class="cm">/* always 0xAA */</span>
	<span class="n">__u8</span>	<span class="n">ctrl</span><span class="p">;</span>					<span class="cm">/* always 0x03 */</span>
	<span class="n">__u8</span>	<span class="n">oui</span><span class="p">[</span><span class="n">FDDI_K_OUI_LEN</span><span class="p">];</span>	<span class="cm">/* organizational universal id */</span>
	<span class="n">__be16</span>	<span class="n">ethertype</span><span class="p">;</span>				<span class="cm">/* packet type ID field */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Define FDDI LLC frame header */</span>
<span class="k">struct</span> <span class="n">fddihdr</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">fc</span><span class="p">;</span>						<span class="cm">/* frame control */</span>
	<span class="n">__u8</span>	<span class="n">daddr</span><span class="p">[</span><span class="n">FDDI_K_ALEN</span><span class="p">];</span>		<span class="cm">/* destination address */</span>
	<span class="n">__u8</span>	<span class="n">saddr</span><span class="p">[</span><span class="n">FDDI_K_ALEN</span><span class="p">];</span>		<span class="cm">/* source address */</span>
	<span class="k">union</span>
		<span class="p">{</span>
		<span class="k">struct</span> <span class="n">fddi_8022_1_hdr</span>		<span class="n">llc_8022_1</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fddi_8022_2_hdr</span>		<span class="n">llc_8022_2</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fddi_snap_hdr</span>		<span class="n">llc_snap</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">hdr</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cp">#ifdef __KERNEL__</span>
<span class="cp">#include &lt;linux/netdevice.h&gt;</span>

<span class="cm">/* Define FDDI statistics structure */</span>
<span class="k">struct</span> <span class="n">fddi_statistics</span> <span class="p">{</span>

	<span class="cm">/* Generic statistics. */</span>

	<span class="k">struct</span> <span class="n">net_device_stats</span> <span class="n">gen</span><span class="p">;</span>

	<span class="cm">/* Detailed FDDI statistics.  Adopted from RFC 1512 */</span>

	<span class="n">__u8</span>	<span class="n">smt_station_id</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">smt_op_version_id</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_hi_version_id</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_lo_version_id</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">smt_user_data</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">smt_mib_version_id</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_mac_cts</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_non_master_cts</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_master_cts</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_available_paths</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_config_capabilities</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_config_policy</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_connection_policy</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_t_notify</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_stat_rpt_policy</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_trace_max_expiration</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_bypass_present</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_ecm_state</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_cf_state</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_remote_disconnect_flag</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_station_status</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_peer_wrap_flag</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_time_stamp</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">smt_transition_time_stamp</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_frame_status_functions</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_t_max_capability</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_tvx_capability</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_available_paths</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_current_path</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">mac_upstream_nbr</span><span class="p">[</span><span class="n">FDDI_K_ALEN</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">mac_downstream_nbr</span><span class="p">[</span><span class="n">FDDI_K_ALEN</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">mac_old_upstream_nbr</span><span class="p">[</span><span class="n">FDDI_K_ALEN</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">mac_old_downstream_nbr</span><span class="p">[</span><span class="n">FDDI_K_ALEN</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">mac_dup_address_test</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_requested_paths</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_downstream_port_type</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">mac_smt_address</span><span class="p">[</span><span class="n">FDDI_K_ALEN</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">mac_t_req</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_t_neg</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_t_max</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_tvx_value</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_frame_cts</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_copied_cts</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_transmit_cts</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_error_cts</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_lost_cts</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_frame_error_threshold</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_frame_error_ratio</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_rmt_state</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_da_flag</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_una_da_flag</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_frame_error_flag</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_ma_unitdata_available</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_hardware_present</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mac_ma_unitdata_enable</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">path_tvx_lower_bound</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">path_t_max_lower_bound</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">path_max_t_req</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">path_configuration</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_my_type</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_neighbor_type</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_connection_policies</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_mac_indicated</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_current_path</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">port_requested_paths</span><span class="p">[</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_mac_placement</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_available_paths</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_pmd_class</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_connection_capabilities</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_bs_flag</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_lct_fail_cts</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_ler_estimate</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_lem_reject_cts</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_lem_cts</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_ler_cutoff</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_ler_alarm</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_connect_state</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_pcm_state</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_pc_withhold</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_ler_flag</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">port_hardware_present</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>
<span class="cp">#endif </span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>

<span class="cp">#endif	</span><span class="cm">/* _LINUX_IF_FDDI_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
