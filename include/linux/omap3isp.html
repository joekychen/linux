<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › omap3isp.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>omap3isp.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * omap3isp.h</span>
<span class="cm"> *</span>
<span class="cm"> * TI OMAP3 ISP - User-space API</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2010 Nokia Corporation</span>
<span class="cm"> * Copyright (C) 2009 Texas Instruments, Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Contacts: Laurent Pinchart &lt;laurent.pinchart@ideasonboard.com&gt;</span>
<span class="cm"> *	     Sakari Ailus &lt;sakari.ailus@iki.fi&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> * General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA</span>
<span class="cm"> * 02110-1301 USA</span>
<span class="cm"> */</span>

<span class="cp">#ifndef OMAP3_ISP_USER_H</span>
<span class="cp">#define OMAP3_ISP_USER_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * Private IOCTLs</span>
<span class="cm"> *</span>
<span class="cm"> * VIDIOC_OMAP3ISP_CCDC_CFG: Set CCDC configuration</span>
<span class="cm"> * VIDIOC_OMAP3ISP_PRV_CFG: Set preview engine configuration</span>
<span class="cm"> * VIDIOC_OMAP3ISP_AEWB_CFG: Set AEWB module configuration</span>
<span class="cm"> * VIDIOC_OMAP3ISP_HIST_CFG: Set histogram module configuration</span>
<span class="cm"> * VIDIOC_OMAP3ISP_AF_CFG: Set auto-focus module configuration</span>
<span class="cm"> * VIDIOC_OMAP3ISP_STAT_REQ: Read statistics (AEWB/AF/histogram) data</span>
<span class="cm"> * VIDIOC_OMAP3ISP_STAT_EN: Enable/disable a statistics module</span>
<span class="cm"> */</span>

<span class="cp">#define VIDIOC_OMAP3ISP_CCDC_CFG \</span>
<span class="cp">	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 1, struct omap3isp_ccdc_update_config)</span>
<span class="cp">#define VIDIOC_OMAP3ISP_PRV_CFG \</span>
<span class="cp">	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 2, struct omap3isp_prev_update_config)</span>
<span class="cp">#define VIDIOC_OMAP3ISP_AEWB_CFG \</span>
<span class="cp">	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 3, struct omap3isp_h3a_aewb_config)</span>
<span class="cp">#define VIDIOC_OMAP3ISP_HIST_CFG \</span>
<span class="cp">	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 4, struct omap3isp_hist_config)</span>
<span class="cp">#define VIDIOC_OMAP3ISP_AF_CFG \</span>
<span class="cp">	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 5, struct omap3isp_h3a_af_config)</span>
<span class="cp">#define VIDIOC_OMAP3ISP_STAT_REQ \</span>
<span class="cp">	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 6, struct omap3isp_stat_data)</span>
<span class="cp">#define VIDIOC_OMAP3ISP_STAT_EN \</span>
<span class="cp">	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 7, unsigned long)</span>

<span class="cm">/*</span>
<span class="cm"> * Events</span>
<span class="cm"> *</span>
<span class="cm"> * V4L2_EVENT_OMAP3ISP_AEWB: AEWB statistics data ready</span>
<span class="cm"> * V4L2_EVENT_OMAP3ISP_AF: AF statistics data ready</span>
<span class="cm"> * V4L2_EVENT_OMAP3ISP_HIST: Histogram statistics data ready</span>
<span class="cm"> */</span>

<span class="cp">#define V4L2_EVENT_OMAP3ISP_CLASS	(V4L2_EVENT_PRIVATE_START | 0x100)</span>
<span class="cp">#define V4L2_EVENT_OMAP3ISP_AEWB	(V4L2_EVENT_OMAP3ISP_CLASS | 0x1)</span>
<span class="cp">#define V4L2_EVENT_OMAP3ISP_AF		(V4L2_EVENT_OMAP3ISP_CLASS | 0x2)</span>
<span class="cp">#define V4L2_EVENT_OMAP3ISP_HIST	(V4L2_EVENT_OMAP3ISP_CLASS | 0x3)</span>

<span class="k">struct</span> <span class="n">omap3isp_stat_event_status</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">frame_number</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">config_counter</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">buf_err</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* AE/AWB related structures and flags*/</span>

<span class="cm">/* H3A Range Constants */</span>
<span class="cp">#define OMAP3ISP_AEWB_MAX_SATURATION_LIM	1023</span>
<span class="cp">#define OMAP3ISP_AEWB_MIN_WIN_H			2</span>
<span class="cp">#define OMAP3ISP_AEWB_MAX_WIN_H			256</span>
<span class="cp">#define OMAP3ISP_AEWB_MIN_WIN_W			6</span>
<span class="cp">#define OMAP3ISP_AEWB_MAX_WIN_W			256</span>
<span class="cp">#define OMAP3ISP_AEWB_MIN_WINVC			1</span>
<span class="cp">#define OMAP3ISP_AEWB_MIN_WINHC			1</span>
<span class="cp">#define OMAP3ISP_AEWB_MAX_WINVC			128</span>
<span class="cp">#define OMAP3ISP_AEWB_MAX_WINHC			36</span>
<span class="cp">#define OMAP3ISP_AEWB_MAX_WINSTART		4095</span>
<span class="cp">#define OMAP3ISP_AEWB_MIN_SUB_INC		2</span>
<span class="cp">#define OMAP3ISP_AEWB_MAX_SUB_INC		32</span>
<span class="cp">#define OMAP3ISP_AEWB_MAX_BUF_SIZE		83600</span>

<span class="cp">#define OMAP3ISP_AF_IIRSH_MIN			0</span>
<span class="cp">#define OMAP3ISP_AF_IIRSH_MAX			4095</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_HORIZONTAL_COUNT_MIN	1</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_HORIZONTAL_COUNT_MAX	36</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_VERTICAL_COUNT_MIN	1</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_VERTICAL_COUNT_MAX	128</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_INCREMENT_MIN		2</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_INCREMENT_MAX		32</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_HEIGHT_MIN		2</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_HEIGHT_MAX		256</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_WIDTH_MIN		16</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_WIDTH_MAX		256</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_HZSTART_MIN		1</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_HZSTART_MAX		4095</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_VTSTART_MIN		0</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_VTSTART_MAX		4095</span>
<span class="cp">#define OMAP3ISP_AF_THRESHOLD_MAX		255</span>
<span class="cp">#define OMAP3ISP_AF_COEF_MAX			4095</span>
<span class="cp">#define OMAP3ISP_AF_PAXEL_SIZE			48</span>
<span class="cp">#define OMAP3ISP_AF_MAX_BUF_SIZE		221184</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_h3a_aewb_config - AE AWB configuration reset values</span>
<span class="cm"> * saturation_limit: Saturation limit.</span>
<span class="cm"> * @win_height: Window Height. Range 2 - 256, even values only.</span>
<span class="cm"> * @win_width: Window Width. Range 6 - 256, even values only.</span>
<span class="cm"> * @ver_win_count: Vertical Window Count. Range 1 - 128.</span>
<span class="cm"> * @hor_win_count: Horizontal Window Count. Range 1 - 36.</span>
<span class="cm"> * @ver_win_start: Vertical Window Start. Range 0 - 4095.</span>
<span class="cm"> * @hor_win_start: Horizontal Window Start. Range 0 - 4095.</span>
<span class="cm"> * @blk_ver_win_start: Black Vertical Windows Start. Range 0 - 4095.</span>
<span class="cm"> * @blk_win_height: Black Window Height. Range 2 - 256, even values only.</span>
<span class="cm"> * @subsample_ver_inc: Subsample Vertical points increment Range 2 - 32, even</span>
<span class="cm"> *                     values only.</span>
<span class="cm"> * @subsample_hor_inc: Subsample Horizontal points increment Range 2 - 32, even</span>
<span class="cm"> *                     values only.</span>
<span class="cm"> * @alaw_enable: AEW ALAW EN flag.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_h3a_aewb_config</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * Common fields.</span>
<span class="cm">	 * They should be the first ones and must be in the same order as in</span>
<span class="cm">	 * ispstat_generic_config struct.</span>
<span class="cm">	 */</span>
	<span class="n">__u32</span> <span class="n">buf_size</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">config_counter</span><span class="p">;</span>

	<span class="cm">/* Private fields */</span>
	<span class="n">__u16</span> <span class="n">saturation_limit</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">win_height</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">win_width</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">ver_win_count</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">hor_win_count</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">ver_win_start</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">hor_win_start</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">blk_ver_win_start</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">blk_win_height</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">subsample_ver_inc</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">subsample_hor_inc</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">alaw_enable</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_stat_data - Statistic data sent to or received from user</span>
<span class="cm"> * @ts: Timestamp of returned framestats.</span>
<span class="cm"> * @buf: Pointer to pass to user.</span>
<span class="cm"> * @frame_number: Frame number of requested stats.</span>
<span class="cm"> * @cur_frame: Current frame number being processed.</span>
<span class="cm"> * @config_counter: Number of the configuration associated with the data.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_stat_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">timeval</span> <span class="n">ts</span><span class="p">;</span>
	<span class="kt">void</span> <span class="n">__user</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">buf_size</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">frame_number</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">cur_frame</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">config_counter</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/* Histogram related structs */</span>

<span class="cm">/* Flags for number of bins */</span>
<span class="cp">#define OMAP3ISP_HIST_BINS_32		0</span>
<span class="cp">#define OMAP3ISP_HIST_BINS_64		1</span>
<span class="cp">#define OMAP3ISP_HIST_BINS_128		2</span>
<span class="cp">#define OMAP3ISP_HIST_BINS_256		3</span>

<span class="cm">/* Number of bins * 4 colors * 4-bytes word */</span>
<span class="cp">#define OMAP3ISP_HIST_MEM_SIZE_BINS(n)	((1 &lt;&lt; ((n)+5))*4*4)</span>

<span class="cp">#define OMAP3ISP_HIST_MEM_SIZE		1024</span>
<span class="cp">#define OMAP3ISP_HIST_MIN_REGIONS	1</span>
<span class="cp">#define OMAP3ISP_HIST_MAX_REGIONS	4</span>
<span class="cp">#define OMAP3ISP_HIST_MAX_WB_GAIN	255</span>
<span class="cp">#define OMAP3ISP_HIST_MIN_WB_GAIN	0</span>
<span class="cp">#define OMAP3ISP_HIST_MAX_BIT_WIDTH	14</span>
<span class="cp">#define OMAP3ISP_HIST_MIN_BIT_WIDTH	8</span>
<span class="cp">#define OMAP3ISP_HIST_MAX_WG		4</span>
<span class="cp">#define OMAP3ISP_HIST_MAX_BUF_SIZE	4096</span>

<span class="cm">/* Source */</span>
<span class="cp">#define OMAP3ISP_HIST_SOURCE_CCDC	0</span>
<span class="cp">#define OMAP3ISP_HIST_SOURCE_MEM	1</span>

<span class="cm">/* CFA pattern */</span>
<span class="cp">#define OMAP3ISP_HIST_CFA_BAYER		0</span>
<span class="cp">#define OMAP3ISP_HIST_CFA_FOVEONX3	1</span>

<span class="k">struct</span> <span class="n">omap3isp_hist_region</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">h_start</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">h_end</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">v_start</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">v_end</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap3isp_hist_config</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * Common fields.</span>
<span class="cm">	 * They should be the first ones and must be in the same order as in</span>
<span class="cm">	 * ispstat_generic_config struct.</span>
<span class="cm">	 */</span>
	<span class="n">__u32</span> <span class="n">buf_size</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">config_counter</span><span class="p">;</span>

	<span class="n">__u8</span> <span class="n">num_acc_frames</span><span class="p">;</span>	<span class="cm">/* Num of image frames to be processed and</span>
<span class="cm">				   accumulated for each histogram frame */</span>
	<span class="n">__u16</span> <span class="n">hist_bins</span><span class="p">;</span>	<span class="cm">/* number of bins: 32, 64, 128, or 256 */</span>
	<span class="n">__u8</span> <span class="n">cfa</span><span class="p">;</span>		<span class="cm">/* BAYER or FOVEON X3 */</span>
	<span class="n">__u8</span> <span class="n">wg</span><span class="p">[</span><span class="n">OMAP3ISP_HIST_MAX_WG</span><span class="p">];</span>	<span class="cm">/* White Balance Gain */</span>
	<span class="n">__u8</span> <span class="n">num_regions</span><span class="p">;</span>	<span class="cm">/* number of regions to be configured */</span>
	<span class="k">struct</span> <span class="n">omap3isp_hist_region</span> <span class="n">region</span><span class="p">[</span><span class="n">OMAP3ISP_HIST_MAX_REGIONS</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* Auto Focus related structs */</span>

<span class="cp">#define OMAP3ISP_AF_NUM_COEF		11</span>

<span class="k">enum</span> <span class="n">omap3isp_h3a_af_fvmode</span> <span class="p">{</span>
	<span class="n">OMAP3ISP_AF_MODE_SUMMED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">OMAP3ISP_AF_MODE_PEAK</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="cm">/* Red, Green, and blue pixel location in the AF windows */</span>
<span class="k">enum</span> <span class="n">omap3isp_h3a_af_rgbpos</span> <span class="p">{</span>
	<span class="n">OMAP3ISP_AF_GR_GB_BAYER</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>	<span class="cm">/* GR and GB as Bayer pattern */</span>
	<span class="n">OMAP3ISP_AF_RG_GB_BAYER</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>	<span class="cm">/* RG and GB as Bayer pattern */</span>
	<span class="n">OMAP3ISP_AF_GR_BG_BAYER</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>	<span class="cm">/* GR and BG as Bayer pattern */</span>
	<span class="n">OMAP3ISP_AF_RG_BG_BAYER</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>	<span class="cm">/* RG and BG as Bayer pattern */</span>
	<span class="n">OMAP3ISP_AF_GG_RB_CUSTOM</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>	<span class="cm">/* GG and RB as custom pattern */</span>
	<span class="n">OMAP3ISP_AF_RB_GG_CUSTOM</span> <span class="o">=</span> <span class="mi">5</span>	<span class="cm">/* RB and GG as custom pattern */</span>
<span class="p">};</span>

<span class="cm">/* Contains the information regarding the Horizontal Median Filter */</span>
<span class="k">struct</span> <span class="n">omap3isp_h3a_af_hmf</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">enable</span><span class="p">;</span>	<span class="cm">/* Status of Horizontal Median Filter */</span>
	<span class="n">__u8</span> <span class="n">threshold</span><span class="p">;</span>	<span class="cm">/* Threshold Value for Horizontal Median Filter */</span>
<span class="p">};</span>

<span class="cm">/* Contains the information regarding the IIR Filters */</span>
<span class="k">struct</span> <span class="n">omap3isp_h3a_af_iir</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">h_start</span><span class="p">;</span>			<span class="cm">/* IIR horizontal start */</span>
	<span class="n">__u16</span> <span class="n">coeff_set0</span><span class="p">[</span><span class="n">OMAP3ISP_AF_NUM_COEF</span><span class="p">];</span>	<span class="cm">/* Filter coefficient, set 0 */</span>
	<span class="n">__u16</span> <span class="n">coeff_set1</span><span class="p">[</span><span class="n">OMAP3ISP_AF_NUM_COEF</span><span class="p">];</span>	<span class="cm">/* Filter coefficient, set 1 */</span>
<span class="p">};</span>

<span class="cm">/* Contains the information regarding the Paxels Structure in AF Engine */</span>
<span class="k">struct</span> <span class="n">omap3isp_h3a_af_paxel</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">h_start</span><span class="p">;</span>	<span class="cm">/* Horizontal Start Position */</span>
	<span class="n">__u16</span> <span class="n">v_start</span><span class="p">;</span>	<span class="cm">/* Vertical Start Position */</span>
	<span class="n">__u8</span> <span class="n">width</span><span class="p">;</span>	<span class="cm">/* Width of the Paxel */</span>
	<span class="n">__u8</span> <span class="n">height</span><span class="p">;</span>	<span class="cm">/* Height of the Paxel */</span>
	<span class="n">__u8</span> <span class="n">h_cnt</span><span class="p">;</span>	<span class="cm">/* Horizontal Count */</span>
	<span class="n">__u8</span> <span class="n">v_cnt</span><span class="p">;</span>	<span class="cm">/* vertical Count */</span>
	<span class="n">__u8</span> <span class="n">line_inc</span><span class="p">;</span>	<span class="cm">/* Line Increment */</span>
<span class="p">};</span>

<span class="cm">/* Contains the parameters required for hardware set up of AF Engine */</span>
<span class="k">struct</span> <span class="n">omap3isp_h3a_af_config</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * Common fields.</span>
<span class="cm">	 * They should be the first ones and must be in the same order as in</span>
<span class="cm">	 * ispstat_generic_config struct.</span>
<span class="cm">	 */</span>
	<span class="n">__u32</span> <span class="n">buf_size</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">config_counter</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">omap3isp_h3a_af_hmf</span> <span class="n">hmf</span><span class="p">;</span>		<span class="cm">/* HMF configurations */</span>
	<span class="k">struct</span> <span class="n">omap3isp_h3a_af_iir</span> <span class="n">iir</span><span class="p">;</span>		<span class="cm">/* IIR filter configurations */</span>
	<span class="k">struct</span> <span class="n">omap3isp_h3a_af_paxel</span> <span class="n">paxel</span><span class="p">;</span>	<span class="cm">/* Paxel parameters */</span>
	<span class="k">enum</span> <span class="n">omap3isp_h3a_af_rgbpos</span> <span class="n">rgb_pos</span><span class="p">;</span>	<span class="cm">/* RGB Positions */</span>
	<span class="k">enum</span> <span class="n">omap3isp_h3a_af_fvmode</span> <span class="n">fvmode</span><span class="p">;</span>	<span class="cm">/* Accumulator mode */</span>
	<span class="n">__u8</span> <span class="n">alaw_enable</span><span class="p">;</span>			<span class="cm">/* AF ALAW status */</span>
<span class="p">};</span>

<span class="cm">/* ISP CCDC structs */</span>

<span class="cm">/* Abstraction layer CCDC configurations */</span>
<span class="cp">#define OMAP3ISP_CCDC_ALAW		(1 &lt;&lt; 0)</span>
<span class="cp">#define OMAP3ISP_CCDC_LPF		(1 &lt;&lt; 1)</span>
<span class="cp">#define OMAP3ISP_CCDC_BLCLAMP		(1 &lt;&lt; 2)</span>
<span class="cp">#define OMAP3ISP_CCDC_BCOMP		(1 &lt;&lt; 3)</span>
<span class="cp">#define OMAP3ISP_CCDC_FPC		(1 &lt;&lt; 4)</span>
<span class="cp">#define OMAP3ISP_CCDC_CULL		(1 &lt;&lt; 5)</span>
<span class="cp">#define OMAP3ISP_CCDC_CONFIG_LSC	(1 &lt;&lt; 7)</span>
<span class="cp">#define OMAP3ISP_CCDC_TBL_LSC		(1 &lt;&lt; 8)</span>

<span class="cp">#define OMAP3ISP_RGB_MAX		3</span>

<span class="cm">/* Enumeration constants for Alaw input width */</span>
<span class="k">enum</span> <span class="n">omap3isp_alaw_ipwidth</span> <span class="p">{</span>
	<span class="n">OMAP3ISP_ALAW_BIT12_3</span> <span class="o">=</span> <span class="mh">0x3</span><span class="p">,</span>
	<span class="n">OMAP3ISP_ALAW_BIT11_2</span> <span class="o">=</span> <span class="mh">0x4</span><span class="p">,</span>
	<span class="n">OMAP3ISP_ALAW_BIT10_1</span> <span class="o">=</span> <span class="mh">0x5</span><span class="p">,</span>
	<span class="n">OMAP3ISP_ALAW_BIT9_0</span> <span class="o">=</span> <span class="mh">0x6</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_ccdc_lsc_config - LSC configuration</span>
<span class="cm"> * @offset: Table Offset of the gain table.</span>
<span class="cm"> * @gain_mode_n: Vertical dimension of a paxel in LSC configuration.</span>
<span class="cm"> * @gain_mode_m: Horizontal dimension of a paxel in LSC configuration.</span>
<span class="cm"> * @gain_format: Gain table format.</span>
<span class="cm"> * @fmtsph: Start pixel horizontal from start of the HS sync pulse.</span>
<span class="cm"> * @fmtlnh: Number of pixels in horizontal direction to use for the data</span>
<span class="cm"> *          reformatter.</span>
<span class="cm"> * @fmtslv: Start line from start of VS sync pulse for the data reformatter.</span>
<span class="cm"> * @fmtlnv: Number of lines in vertical direction for the data reformatter.</span>
<span class="cm"> * @initial_x: X position, in pixels, of the first active pixel in reference</span>
<span class="cm"> *             to the first active paxel. Must be an even number.</span>
<span class="cm"> * @initial_y: Y position, in pixels, of the first active pixel in reference</span>
<span class="cm"> *             to the first active paxel. Must be an even number.</span>
<span class="cm"> * @size: Size of LSC gain table. Filled when loaded from userspace.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_ccdc_lsc_config</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">offset</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">gain_mode_n</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">gain_mode_m</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">gain_format</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">fmtsph</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">fmtlnh</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">fmtslv</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">fmtlnv</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">initial_x</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">initial_y</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">size</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_ccdc_bclamp - Optical &amp; Digital black clamp subtract</span>
<span class="cm"> * @obgain: Optical black average gain.</span>
<span class="cm"> * @obstpixel: Start Pixel w.r.t. HS pulse in Optical black sample.</span>
<span class="cm"> * @oblines: Optical Black Sample lines.</span>
<span class="cm"> * @oblen: Optical Black Sample Length.</span>
<span class="cm"> * @dcsubval: Digital Black Clamp subtract value.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_ccdc_bclamp</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">obgain</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">obstpixel</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">oblines</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">oblen</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">dcsubval</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_ccdc_fpc - Faulty Pixels Correction</span>
<span class="cm"> * @fpnum: Number of faulty pixels to be corrected in the frame.</span>
<span class="cm"> * @fpcaddr: Memory address of the FPC Table</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_ccdc_fpc</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">fpnum</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">fpcaddr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_ccdc_blcomp - Black Level Compensation parameters</span>
<span class="cm"> * @b_mg: B/Mg pixels. 2&#39;s complement. -128 to +127.</span>
<span class="cm"> * @gb_g: Gb/G pixels. 2&#39;s complement. -128 to +127.</span>
<span class="cm"> * @gr_cy: Gr/Cy pixels. 2&#39;s complement. -128 to +127.</span>
<span class="cm"> * @r_ye: R/Ye pixels. 2&#39;s complement. -128 to +127.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_ccdc_blcomp</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">b_mg</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">gb_g</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">gr_cy</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">r_ye</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * omap3isp_ccdc_culling - Culling parameters</span>
<span class="cm"> * @v_pattern: Vertical culling pattern.</span>
<span class="cm"> * @h_odd: Horizontal Culling pattern for odd lines.</span>
<span class="cm"> * @h_even: Horizontal Culling pattern for even lines.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_ccdc_culling</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">v_pattern</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">h_odd</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">h_even</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * omap3isp_ccdc_update_config - CCDC configuration</span>
<span class="cm"> * @update: Specifies which CCDC registers should be updated.</span>
<span class="cm"> * @flag: Specifies which CCDC functions should be enabled.</span>
<span class="cm"> * @alawip: Enable/Disable A-Law compression.</span>
<span class="cm"> * @bclamp: Black clamp control register.</span>
<span class="cm"> * @blcomp: Black level compensation value for RGrGbB Pixels. 2&#39;s complement.</span>
<span class="cm"> * @fpc: Number of faulty pixels corrected in the frame, address of FPC table.</span>
<span class="cm"> * @cull: Cull control register.</span>
<span class="cm"> * @lsc: Pointer to LSC gain table.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_ccdc_update_config</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">update</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">flag</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">omap3isp_alaw_ipwidth</span> <span class="n">alawip</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_ccdc_bclamp</span> <span class="n">__user</span> <span class="o">*</span><span class="n">bclamp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_ccdc_blcomp</span> <span class="n">__user</span> <span class="o">*</span><span class="n">blcomp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_ccdc_fpc</span> <span class="n">__user</span> <span class="o">*</span><span class="n">fpc</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_ccdc_lsc_config</span> <span class="n">__user</span> <span class="o">*</span><span class="n">lsc_cfg</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_ccdc_culling</span> <span class="n">__user</span> <span class="o">*</span><span class="n">cull</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">__user</span> <span class="o">*</span><span class="n">lsc</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Preview configurations */</span>
<span class="cp">#define OMAP3ISP_PREV_LUMAENH		(1 &lt;&lt; 0)</span>
<span class="cp">#define OMAP3ISP_PREV_INVALAW		(1 &lt;&lt; 1)</span>
<span class="cp">#define OMAP3ISP_PREV_HRZ_MED		(1 &lt;&lt; 2)</span>
<span class="cp">#define OMAP3ISP_PREV_CFA		(1 &lt;&lt; 3)</span>
<span class="cp">#define OMAP3ISP_PREV_CHROMA_SUPP	(1 &lt;&lt; 4)</span>
<span class="cp">#define OMAP3ISP_PREV_WB		(1 &lt;&lt; 5)</span>
<span class="cp">#define OMAP3ISP_PREV_BLKADJ		(1 &lt;&lt; 6)</span>
<span class="cp">#define OMAP3ISP_PREV_RGB2RGB		(1 &lt;&lt; 7)</span>
<span class="cp">#define OMAP3ISP_PREV_COLOR_CONV	(1 &lt;&lt; 8)</span>
<span class="cp">#define OMAP3ISP_PREV_YC_LIMIT		(1 &lt;&lt; 9)</span>
<span class="cp">#define OMAP3ISP_PREV_DEFECT_COR	(1 &lt;&lt; 10)</span>
<span class="cp">#define OMAP3ISP_PREV_GAMMABYPASS	(1 &lt;&lt; 11)</span>
<span class="cp">#define OMAP3ISP_PREV_DRK_FRM_CAPTURE	(1 &lt;&lt; 12)</span>
<span class="cp">#define OMAP3ISP_PREV_DRK_FRM_SUBTRACT	(1 &lt;&lt; 13)</span>
<span class="cp">#define OMAP3ISP_PREV_LENS_SHADING	(1 &lt;&lt; 14)</span>
<span class="cp">#define OMAP3ISP_PREV_NF		(1 &lt;&lt; 15)</span>
<span class="cp">#define OMAP3ISP_PREV_GAMMA		(1 &lt;&lt; 16)</span>

<span class="cp">#define OMAP3ISP_PREV_NF_TBL_SIZE	64</span>
<span class="cp">#define OMAP3ISP_PREV_CFA_TBL_SIZE	576</span>
<span class="cp">#define OMAP3ISP_PREV_GAMMA_TBL_SIZE	1024</span>
<span class="cp">#define OMAP3ISP_PREV_YENH_TBL_SIZE	128</span>

<span class="cp">#define OMAP3ISP_PREV_DETECT_CORRECT_CHANNELS	4</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_hmed - Horizontal Median Filter</span>
<span class="cm"> * @odddist: Distance between consecutive pixels of same color in the odd line.</span>
<span class="cm"> * @evendist: Distance between consecutive pixels of same color in the even</span>
<span class="cm"> *            line.</span>
<span class="cm"> * @thres: Horizontal median filter threshold.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_hmed</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">odddist</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">evendist</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">thres</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Enumeration for CFA Formats supported by preview</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">omap3isp_cfa_fmt</span> <span class="p">{</span>
	<span class="n">OMAP3ISP_CFAFMT_BAYER</span><span class="p">,</span>
	<span class="n">OMAP3ISP_CFAFMT_SONYVGA</span><span class="p">,</span>
	<span class="n">OMAP3ISP_CFAFMT_RGBFOVEON</span><span class="p">,</span>
	<span class="n">OMAP3ISP_CFAFMT_DNSPL</span><span class="p">,</span>
	<span class="n">OMAP3ISP_CFAFMT_HONEYCOMB</span><span class="p">,</span>
	<span class="n">OMAP3ISP_CFAFMT_RRGGBBFOVEON</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_cfa - CFA Interpolation</span>
<span class="cm"> * @format: CFA Format Enum value supported by preview.</span>
<span class="cm"> * @gradthrs_vert: CFA Gradient Threshold - Vertical.</span>
<span class="cm"> * @gradthrs_horz: CFA Gradient Threshold - Horizontal.</span>
<span class="cm"> * @table: Pointer to the CFA table.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_cfa</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="n">omap3isp_cfa_fmt</span> <span class="n">format</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">gradthrs_vert</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">gradthrs_horz</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">table</span><span class="p">[</span><span class="n">OMAP3ISP_PREV_CFA_TBL_SIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_csup - Chrominance Suppression</span>
<span class="cm"> * @gain: Gain.</span>
<span class="cm"> * @thres: Threshold.</span>
<span class="cm"> * @hypf_en: Flag to enable/disable the High Pass Filter.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_csup</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">gain</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">thres</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">hypf_en</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_wbal - White Balance</span>
<span class="cm"> * @dgain: Digital gain (U10Q8).</span>
<span class="cm"> * @coef3: White balance gain - COEF 3 (U8Q5).</span>
<span class="cm"> * @coef2: White balance gain - COEF 2 (U8Q5).</span>
<span class="cm"> * @coef1: White balance gain - COEF 1 (U8Q5).</span>
<span class="cm"> * @coef0: White balance gain - COEF 0 (U8Q5).</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_wbal</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">dgain</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">coef3</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">coef2</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">coef1</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">coef0</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_blkadj - Black Level Adjustment</span>
<span class="cm"> * @red: Black level offset adjustment for Red in 2&#39;s complement format</span>
<span class="cm"> * @green: Black level offset adjustment for Green in 2&#39;s complement format</span>
<span class="cm"> * @blue: Black level offset adjustment for Blue in 2&#39;s complement format</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_blkadj</span> <span class="p">{</span>
	<span class="cm">/*Black level offset adjustment for Red in 2&#39;s complement format */</span>
	<span class="n">__u8</span> <span class="n">red</span><span class="p">;</span>
	<span class="cm">/*Black level offset adjustment for Green in 2&#39;s complement format */</span>
	<span class="n">__u8</span> <span class="n">green</span><span class="p">;</span>
	<span class="cm">/* Black level offset adjustment for Blue in 2&#39;s complement format */</span>
	<span class="n">__u8</span> <span class="n">blue</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_rgbtorgb - RGB to RGB Blending</span>
<span class="cm"> * @matrix: Blending values(S12Q8 format)</span>
<span class="cm"> *              [RR] [GR] [BR]</span>
<span class="cm"> *              [RG] [GG] [BG]</span>
<span class="cm"> *              [RB] [GB] [BB]</span>
<span class="cm"> * @offset: Blending offset value for R,G,B in 2&#39;s complement integer format.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_rgbtorgb</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">matrix</span><span class="p">[</span><span class="n">OMAP3ISP_RGB_MAX</span><span class="p">][</span><span class="n">OMAP3ISP_RGB_MAX</span><span class="p">];</span>
	<span class="n">__u16</span> <span class="n">offset</span><span class="p">[</span><span class="n">OMAP3ISP_RGB_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_csc - Color Space Conversion from RGB-YCbYCr</span>
<span class="cm"> * @matrix: Color space conversion coefficients(S10Q8)</span>
<span class="cm"> *              [CSCRY]  [CSCGY]  [CSCBY]</span>
<span class="cm"> *              [CSCRCB] [CSCGCB] [CSCBCB]</span>
<span class="cm"> *              [CSCRCR] [CSCGCR] [CSCBCR]</span>
<span class="cm"> * @offset: CSC offset values for Y offset, CB offset and CR offset respectively</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_csc</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">matrix</span><span class="p">[</span><span class="n">OMAP3ISP_RGB_MAX</span><span class="p">][</span><span class="n">OMAP3ISP_RGB_MAX</span><span class="p">];</span>
	<span class="n">__s16</span> <span class="n">offset</span><span class="p">[</span><span class="n">OMAP3ISP_RGB_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_yclimit - Y, C Value Limit</span>
<span class="cm"> * @minC: Minimum C value</span>
<span class="cm"> * @maxC: Maximum C value</span>
<span class="cm"> * @minY: Minimum Y value</span>
<span class="cm"> * @maxY: Maximum Y value</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_yclimit</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">minC</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">maxC</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">minY</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">maxY</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_dcor - Defect correction</span>
<span class="cm"> * @couplet_mode_en: Flag to enable or disable the couplet dc Correction in NF</span>
<span class="cm"> * @detect_correct: Thresholds for correction bit 0:10 detect 16:25 correct</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_dcor</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">couplet_mode_en</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">detect_correct</span><span class="p">[</span><span class="n">OMAP3ISP_PREV_DETECT_CORRECT_CHANNELS</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_nf - Noise Filter</span>
<span class="cm"> * @spread: Spread value to be used in Noise Filter</span>
<span class="cm"> * @table: Pointer to the Noise Filter table</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_nf</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">spread</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">table</span><span class="p">[</span><span class="n">OMAP3ISP_PREV_NF_TBL_SIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_gtables - Gamma correction tables</span>
<span class="cm"> * @red: Array for red gamma table.</span>
<span class="cm"> * @green: Array for green gamma table.</span>
<span class="cm"> * @blue: Array for blue gamma table.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_gtables</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">red</span><span class="p">[</span><span class="n">OMAP3ISP_PREV_GAMMA_TBL_SIZE</span><span class="p">];</span>
	<span class="n">__u32</span> <span class="n">green</span><span class="p">[</span><span class="n">OMAP3ISP_PREV_GAMMA_TBL_SIZE</span><span class="p">];</span>
	<span class="n">__u32</span> <span class="n">blue</span><span class="p">[</span><span class="n">OMAP3ISP_PREV_GAMMA_TBL_SIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_luma - Luma enhancement</span>
<span class="cm"> * @table: Array for luma enhancement table.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_luma</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">table</span><span class="p">[</span><span class="n">OMAP3ISP_PREV_YENH_TBL_SIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct omap3isp_prev_update_config - Preview engine configuration (user)</span>
<span class="cm"> * @update: Specifies which ISP Preview registers should be updated.</span>
<span class="cm"> * @flag: Specifies which ISP Preview functions should be enabled.</span>
<span class="cm"> * @shading_shift: 3bit value of shift used in shading compensation.</span>
<span class="cm"> * @luma: Pointer to luma enhancement structure.</span>
<span class="cm"> * @hmed: Pointer to structure containing the odd and even distance.</span>
<span class="cm"> *        between the pixels in the image along with the filter threshold.</span>
<span class="cm"> * @cfa: Pointer to structure containing the CFA interpolation table, CFA.</span>
<span class="cm"> *       format in the image, vertical and horizontal gradient threshold.</span>
<span class="cm"> * @csup: Pointer to Structure for Chrominance Suppression coefficients.</span>
<span class="cm"> * @wbal: Pointer to structure for White Balance.</span>
<span class="cm"> * @blkadj: Pointer to structure for Black Adjustment.</span>
<span class="cm"> * @rgb2rgb: Pointer to structure for RGB to RGB Blending.</span>
<span class="cm"> * @csc: Pointer to structure for Color Space Conversion from RGB-YCbYCr.</span>
<span class="cm"> * @yclimit: Pointer to structure for Y, C Value Limit.</span>
<span class="cm"> * @dcor: Pointer to structure for defect correction.</span>
<span class="cm"> * @nf: Pointer to structure for Noise Filter</span>
<span class="cm"> * @gamma: Pointer to gamma structure.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap3isp_prev_update_config</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">update</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">flag</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">shading_shift</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_luma</span> <span class="n">__user</span> <span class="o">*</span><span class="n">luma</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_hmed</span> <span class="n">__user</span> <span class="o">*</span><span class="n">hmed</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_cfa</span> <span class="n">__user</span> <span class="o">*</span><span class="n">cfa</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_csup</span> <span class="n">__user</span> <span class="o">*</span><span class="n">csup</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_wbal</span> <span class="n">__user</span> <span class="o">*</span><span class="n">wbal</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_blkadj</span> <span class="n">__user</span> <span class="o">*</span><span class="n">blkadj</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_rgbtorgb</span> <span class="n">__user</span> <span class="o">*</span><span class="n">rgb2rgb</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_csc</span> <span class="n">__user</span> <span class="o">*</span><span class="n">csc</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_yclimit</span> <span class="n">__user</span> <span class="o">*</span><span class="n">yclimit</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_dcor</span> <span class="n">__user</span> <span class="o">*</span><span class="n">dcor</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_nf</span> <span class="n">__user</span> <span class="o">*</span><span class="n">nf</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap3isp_prev_gtables</span> <span class="n">__user</span> <span class="o">*</span><span class="n">gamma</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif	</span><span class="cm">/* OMAP3_ISP_USER_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
