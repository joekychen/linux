<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › isdn › capiutil.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>capiutil.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* $Id: capiutil.h,v 1.5.6.2 2001/09/23 22:24:33 kai Exp $</span>
<span class="cm"> *</span>
<span class="cm"> * CAPI 2.0 defines &amp; types</span>
<span class="cm"> *</span>
<span class="cm"> * From CAPI 2.0 Development Kit AVM 1995 (msg.c)</span>
<span class="cm"> * Rewritten for Linux 1996 by Carsten Paeth &lt;calle@calle.de&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This software may be used and distributed according to the terms</span>
<span class="cm"> * of the GNU General Public License, incorporated herein by reference.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __CAPIUTIL_H__</span>
<span class="cp">#define __CAPIUTIL_H__</span>

<span class="cp">#include &lt;asm/types.h&gt;</span>

<span class="cp">#define CAPIMSG_BASELEN		8</span>
<span class="cp">#define CAPIMSG_U8(m, off)	(m[off])</span>
<span class="cp">#define CAPIMSG_U16(m, off)	(m[off]|(m[(off)+1]&lt;&lt;8))</span>
<span class="cp">#define CAPIMSG_U32(m, off)	(m[off]|(m[(off)+1]&lt;&lt;8)|(m[(off)+2]&lt;&lt;16)|(m[(off)+3]&lt;&lt;24))</span>
<span class="cp">#define	CAPIMSG_LEN(m)		CAPIMSG_U16(m,0)</span>
<span class="cp">#define	CAPIMSG_APPID(m)	CAPIMSG_U16(m,2)</span>
<span class="cp">#define	CAPIMSG_COMMAND(m)	CAPIMSG_U8(m,4)</span>
<span class="cp">#define	CAPIMSG_SUBCOMMAND(m)	CAPIMSG_U8(m,5)</span>
<span class="cp">#define CAPIMSG_CMD(m)		(((m[4])&lt;&lt;8)|(m[5]))</span>
<span class="cp">#define	CAPIMSG_MSGID(m)	CAPIMSG_U16(m,6)</span>
<span class="cp">#define CAPIMSG_CONTROLLER(m)	(m[8] &amp; 0x7f)</span>
<span class="cp">#define CAPIMSG_CONTROL(m)	CAPIMSG_U32(m, 8)</span>
<span class="cp">#define CAPIMSG_NCCI(m)		CAPIMSG_CONTROL(m)</span>
<span class="cp">#define CAPIMSG_DATALEN(m)	CAPIMSG_U16(m,16) </span><span class="cm">/* DATA_B3_REQ */</span><span class="cp"></span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capimsg_setu8</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">off</span><span class="p">,</span> <span class="n">__u8</span> <span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="p">((</span><span class="n">__u8</span> <span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="p">)[</span><span class="n">off</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capimsg_setu16</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">off</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="p">((</span><span class="n">__u8</span> <span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="p">)[</span><span class="n">off</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">;</span>
	<span class="p">((</span><span class="n">__u8</span> <span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="p">)[</span><span class="n">off</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capimsg_setu32</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">off</span><span class="p">,</span> <span class="n">__u32</span> <span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="p">((</span><span class="n">__u8</span> <span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="p">)[</span><span class="n">off</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">;</span>
	<span class="p">((</span><span class="n">__u8</span> <span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="p">)[</span><span class="n">off</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">;</span>
	<span class="p">((</span><span class="n">__u8</span> <span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="p">)[</span><span class="n">off</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">;</span>
	<span class="p">((</span><span class="n">__u8</span> <span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="p">)[</span><span class="n">off</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#define	CAPIMSG_SETLEN(m, len)		capimsg_setu16(m, 0, len)</span>
<span class="cp">#define	CAPIMSG_SETAPPID(m, applid)	capimsg_setu16(m, 2, applid)</span>
<span class="cp">#define	CAPIMSG_SETCOMMAND(m,cmd)	capimsg_setu8(m, 4, cmd)</span>
<span class="cp">#define	CAPIMSG_SETSUBCOMMAND(m, cmd)	capimsg_setu8(m, 5, cmd)</span>
<span class="cp">#define	CAPIMSG_SETMSGID(m, msgid)	capimsg_setu16(m, 6, msgid)</span>
<span class="cp">#define	CAPIMSG_SETCONTROL(m, contr)	capimsg_setu32(m, 8, contr)</span>
<span class="cp">#define	CAPIMSG_SETDATALEN(m, len)	capimsg_setu16(m, 16, len)</span>

<span class="cm">/*----- basic-type definitions -----*/</span>

<span class="k">typedef</span> <span class="n">__u8</span> <span class="o">*</span><span class="n">_cstruct</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">CAPI_COMPOSE</span><span class="p">,</span>
	<span class="n">CAPI_DEFAULT</span>
<span class="p">}</span> <span class="n">_cmstruct</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm">   The _cmsg structure contains all possible CAPI 2.0 parameter.</span>
<span class="cm">   All parameters are stored here first. The function CAPI_CMSG_2_MESSAGE</span>
<span class="cm">   assembles the parameter and builds CAPI2.0 conform messages.</span>
<span class="cm">   CAPI_MESSAGE_2_CMSG disassembles CAPI 2.0 messages and stores the</span>
<span class="cm">   parameter in the _cmsg structure</span>
<span class="cm"> */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="cm">/* Header */</span>
	<span class="n">__u16</span> <span class="n">ApplId</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">Command</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">Subcommand</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">;</span>

	<span class="cm">/* Parameter */</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="n">__u32</span> <span class="n">adrController</span><span class="p">;</span>
		<span class="n">__u32</span> <span class="n">adrPLCI</span><span class="p">;</span>
		<span class="n">__u32</span> <span class="n">adrNCCI</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">adr</span><span class="p">;</span>

	<span class="n">_cmstruct</span> <span class="n">AdditionalInfo</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">B1configuration</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">B1protocol</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">B2configuration</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">B2protocol</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">B3configuration</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">B3protocol</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">BC</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">BChannelinformation</span><span class="p">;</span>
	<span class="n">_cmstruct</span> <span class="n">BProtocol</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">CalledPartyNumber</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">CalledPartySubaddress</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">CallingPartyNumber</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">CallingPartySubaddress</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">CIPmask</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">CIPmask2</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">CIPValue</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">Class</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">ConnectedNumber</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">ConnectedSubaddress</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">Data</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">DataHandle</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">DataLength</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">FacilityConfirmationParameter</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">Facilitydataarray</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">FacilityIndicationParameter</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">FacilityRequestParameter</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">FacilitySelector</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">Flags</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">Function</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">HLC</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">Info</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">InfoElement</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">InfoMask</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">InfoNumber</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">Keypadfacility</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">LLC</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">ManuData</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">ManuID</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">NCPI</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">Reason</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">Reason_B3</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">Reject</span><span class="p">;</span>
	<span class="n">_cstruct</span> <span class="n">Useruserdata</span><span class="p">;</span>

	<span class="cm">/* intern */</span>
	<span class="kt">unsigned</span> <span class="n">l</span><span class="p">,</span> <span class="n">p</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">par</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="o">*</span><span class="n">m</span><span class="p">;</span>

	<span class="cm">/* buffer to construct message */</span>
	<span class="n">__u8</span> <span class="n">buf</span><span class="p">[</span><span class="mi">180</span><span class="p">];</span>

<span class="p">}</span> <span class="n">_cmsg</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * capi_cmsg2message() assembles the parameter from _cmsg to a CAPI 2.0</span>
<span class="cm"> * conform message</span>
<span class="cm"> */</span>
<span class="kt">unsigned</span> <span class="n">capi_cmsg2message</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u8</span> <span class="o">*</span> <span class="n">msg</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> *  capi_message2cmsg disassembles a CAPI message an writes the parameter</span>
<span class="cm"> *  into _cmsg for easy access</span>
<span class="cm"> */</span>
<span class="kt">unsigned</span> <span class="n">capi_message2cmsg</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u8</span> <span class="o">*</span> <span class="n">msg</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * capi_cmsg_header() fills the _cmsg structure with default values, so only</span>
<span class="cm"> * parameter with non default values must be changed before sending the</span>
<span class="cm"> * message.</span>
<span class="cm"> */</span>
<span class="kt">unsigned</span> <span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">_ApplId</span><span class="p">,</span>
			  <span class="n">__u8</span> <span class="n">_Command</span><span class="p">,</span> <span class="n">__u8</span> <span class="n">_Subcommand</span><span class="p">,</span>
			  <span class="n">__u16</span> <span class="n">_Messagenumber</span><span class="p">,</span> <span class="n">__u32</span> <span class="n">_Controller</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * capi_info2str generated a readable string for Capi2.0 reasons.</span>
<span class="cm"> */</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">capi_info2str</span><span class="p">(</span><span class="n">__u16</span> <span class="n">reason</span><span class="p">);</span>

<span class="cm">/*-----------------------------------------------------------------------*/</span>

<span class="cm">/*</span>
<span class="cm"> * Debugging / Tracing functions</span>
<span class="cm"> */</span>

<span class="kt">char</span> <span class="o">*</span><span class="n">capi_cmd2str</span><span class="p">(</span><span class="n">__u8</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">__u8</span> <span class="n">subcmd</span><span class="p">);</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">u_char</span>	<span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="n">u_char</span>	<span class="o">*</span><span class="n">p</span><span class="p">;</span>
	<span class="kt">size_t</span>	<span class="n">size</span><span class="p">;</span>
	<span class="kt">size_t</span>	<span class="n">pos</span><span class="p">;</span>
<span class="p">}</span> <span class="n">_cdebbuf</span><span class="p">;</span>

<span class="cp">#define	CDEBUG_SIZE	1024</span>
<span class="cp">#define	CDEBUG_GSIZE	4096</span>

<span class="kt">void</span> <span class="n">cdebbuf_free</span><span class="p">(</span><span class="n">_cdebbuf</span> <span class="o">*</span><span class="n">cdb</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">cdebug_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">cdebug_exit</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="n">_cdebbuf</span> <span class="o">*</span><span class="n">capi_cmsg2str</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span><span class="n">cmsg</span><span class="p">);</span>
<span class="n">_cdebbuf</span> <span class="o">*</span><span class="n">capi_message2str</span><span class="p">(</span><span class="n">__u8</span> <span class="o">*</span><span class="n">msg</span><span class="p">);</span>

<span class="cm">/*-----------------------------------------------------------------------*/</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_cmsg_answer</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Subcommand</span> <span class="o">|=</span> <span class="mh">0x01</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*-----------------------------------------------------------------------*/</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_CONNECT_B3_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					    <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					    <span class="n">_cstruct</span> <span class="n">NCPI</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x82</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">NCPI</span> <span class="o">=</span> <span class="n">NCPI</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_FACILITY_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					  <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					  <span class="n">__u16</span> <span class="n">FacilitySelector</span><span class="p">,</span>
				       <span class="n">_cstruct</span> <span class="n">FacilityRequestParameter</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">FacilitySelector</span> <span class="o">=</span> <span class="n">FacilitySelector</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">FacilityRequestParameter</span> <span class="o">=</span> <span class="n">FacilityRequestParameter</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_INFO_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
				      <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
				      <span class="n">_cstruct</span> <span class="n">CalledPartyNumber</span><span class="p">,</span>
				      <span class="n">_cstruct</span> <span class="n">BChannelinformation</span><span class="p">,</span>
				      <span class="n">_cstruct</span> <span class="n">Keypadfacility</span><span class="p">,</span>
				      <span class="n">_cstruct</span> <span class="n">Useruserdata</span><span class="p">,</span>
				      <span class="n">_cstruct</span> <span class="n">Facilitydataarray</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CalledPartyNumber</span> <span class="o">=</span> <span class="n">CalledPartyNumber</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">BChannelinformation</span> <span class="o">=</span> <span class="n">BChannelinformation</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Keypadfacility</span> <span class="o">=</span> <span class="n">Keypadfacility</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Useruserdata</span> <span class="o">=</span> <span class="n">Useruserdata</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Facilitydataarray</span> <span class="o">=</span> <span class="n">Facilitydataarray</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_LISTEN_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					<span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					<span class="n">__u32</span> <span class="n">InfoMask</span><span class="p">,</span>
					<span class="n">__u32</span> <span class="n">CIPmask</span><span class="p">,</span>
					<span class="n">__u32</span> <span class="n">CIPmask2</span><span class="p">,</span>
					<span class="n">_cstruct</span> <span class="n">CallingPartyNumber</span><span class="p">,</span>
					<span class="n">_cstruct</span> <span class="n">CallingPartySubaddress</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x05</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">InfoMask</span> <span class="o">=</span> <span class="n">InfoMask</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CIPmask</span> <span class="o">=</span> <span class="n">CIPmask</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CIPmask2</span> <span class="o">=</span> <span class="n">CIPmask2</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CallingPartyNumber</span> <span class="o">=</span> <span class="n">CallingPartyNumber</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CallingPartySubaddress</span> <span class="o">=</span> <span class="n">CallingPartySubaddress</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_ALERT_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
				       <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
				       <span class="n">_cstruct</span> <span class="n">BChannelinformation</span><span class="p">,</span>
				       <span class="n">_cstruct</span> <span class="n">Keypadfacility</span><span class="p">,</span>
				       <span class="n">_cstruct</span> <span class="n">Useruserdata</span><span class="p">,</span>
				       <span class="n">_cstruct</span> <span class="n">Facilitydataarray</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">BChannelinformation</span> <span class="o">=</span> <span class="n">BChannelinformation</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Keypadfacility</span> <span class="o">=</span> <span class="n">Keypadfacility</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Useruserdata</span> <span class="o">=</span> <span class="n">Useruserdata</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Facilitydataarray</span> <span class="o">=</span> <span class="n">Facilitydataarray</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_CONNECT_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					 <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					 <span class="n">__u16</span> <span class="n">CIPValue</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">CalledPartyNumber</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">CallingPartyNumber</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">CalledPartySubaddress</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">CallingPartySubaddress</span><span class="p">,</span>
					 <span class="n">__u16</span> <span class="n">B1protocol</span><span class="p">,</span>
					 <span class="n">__u16</span> <span class="n">B2protocol</span><span class="p">,</span>
					 <span class="n">__u16</span> <span class="n">B3protocol</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">B1configuration</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">B2configuration</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">B3configuration</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">BC</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">LLC</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">HLC</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">BChannelinformation</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">Keypadfacility</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">Useruserdata</span><span class="p">,</span>
					 <span class="n">_cstruct</span> <span class="n">Facilitydataarray</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x02</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CIPValue</span> <span class="o">=</span> <span class="n">CIPValue</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CalledPartyNumber</span> <span class="o">=</span> <span class="n">CalledPartyNumber</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CallingPartyNumber</span> <span class="o">=</span> <span class="n">CallingPartyNumber</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CalledPartySubaddress</span> <span class="o">=</span> <span class="n">CalledPartySubaddress</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">CallingPartySubaddress</span> <span class="o">=</span> <span class="n">CallingPartySubaddress</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B1protocol</span> <span class="o">=</span> <span class="n">B1protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B2protocol</span> <span class="o">=</span> <span class="n">B2protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B3protocol</span> <span class="o">=</span> <span class="n">B3protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B1configuration</span> <span class="o">=</span> <span class="n">B1configuration</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B2configuration</span> <span class="o">=</span> <span class="n">B2configuration</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B3configuration</span> <span class="o">=</span> <span class="n">B3configuration</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">BC</span> <span class="o">=</span> <span class="n">BC</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">LLC</span> <span class="o">=</span> <span class="n">LLC</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">HLC</span> <span class="o">=</span> <span class="n">HLC</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">BChannelinformation</span> <span class="o">=</span> <span class="n">BChannelinformation</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Keypadfacility</span> <span class="o">=</span> <span class="n">Keypadfacility</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Useruserdata</span> <span class="o">=</span> <span class="n">Useruserdata</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Facilitydataarray</span> <span class="o">=</span> <span class="n">Facilitydataarray</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_DATA_B3_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					 <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					 <span class="n">__u32</span> <span class="n">Data</span><span class="p">,</span>
					 <span class="n">__u16</span> <span class="n">DataLength</span><span class="p">,</span>
					 <span class="n">__u16</span> <span class="n">DataHandle</span><span class="p">,</span>
					 <span class="n">__u16</span> <span class="n">Flags</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x86</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">DataLength</span> <span class="o">=</span> <span class="n">DataLength</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">DataHandle</span> <span class="o">=</span> <span class="n">DataHandle</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Flags</span> <span class="o">=</span> <span class="n">Flags</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_DISCONNECT_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					    <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					    <span class="n">_cstruct</span> <span class="n">BChannelinformation</span><span class="p">,</span>
					    <span class="n">_cstruct</span> <span class="n">Keypadfacility</span><span class="p">,</span>
					    <span class="n">_cstruct</span> <span class="n">Useruserdata</span><span class="p">,</span>
					    <span class="n">_cstruct</span> <span class="n">Facilitydataarray</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">BChannelinformation</span> <span class="o">=</span> <span class="n">BChannelinformation</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Keypadfacility</span> <span class="o">=</span> <span class="n">Keypadfacility</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Useruserdata</span> <span class="o">=</span> <span class="n">Useruserdata</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Facilitydataarray</span> <span class="o">=</span> <span class="n">Facilitydataarray</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_DISCONNECT_B3_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					       <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					       <span class="n">_cstruct</span> <span class="n">NCPI</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x84</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">NCPI</span> <span class="o">=</span> <span class="n">NCPI</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_MANUFACTURER_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					      <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					      <span class="n">__u32</span> <span class="n">ManuID</span><span class="p">,</span>
					      <span class="n">__u32</span> <span class="n">Class</span><span class="p">,</span>
					      <span class="n">__u32</span> <span class="n">Function</span><span class="p">,</span>
					      <span class="n">_cstruct</span> <span class="n">ManuData</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">ManuID</span> <span class="o">=</span> <span class="n">ManuID</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Class</span> <span class="o">=</span> <span class="n">Class</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Function</span> <span class="o">=</span> <span class="n">Function</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">ManuData</span> <span class="o">=</span> <span class="n">ManuData</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_RESET_B3_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					  <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">NCPI</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x87</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">NCPI</span> <span class="o">=</span> <span class="n">NCPI</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_SELECT_B_PROTOCOL_REQ</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
						   <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
						   <span class="n">__u16</span> <span class="n">B1protocol</span><span class="p">,</span>
						   <span class="n">__u16</span> <span class="n">B2protocol</span><span class="p">,</span>
						   <span class="n">__u16</span> <span class="n">B3protocol</span><span class="p">,</span>
						<span class="n">_cstruct</span> <span class="n">B1configuration</span><span class="p">,</span>
						<span class="n">_cstruct</span> <span class="n">B2configuration</span><span class="p">,</span>
						<span class="n">_cstruct</span> <span class="n">B3configuration</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x41</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B1protocol</span> <span class="o">=</span> <span class="n">B1protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B2protocol</span> <span class="o">=</span> <span class="n">B2protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B3protocol</span> <span class="o">=</span> <span class="n">B3protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B1configuration</span> <span class="o">=</span> <span class="n">B1configuration</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B2configuration</span> <span class="o">=</span> <span class="n">B2configuration</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B3configuration</span> <span class="o">=</span> <span class="n">B3configuration</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_CONNECT_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					  <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					  <span class="n">__u16</span> <span class="n">Reject</span><span class="p">,</span>
					  <span class="n">__u16</span> <span class="n">B1protocol</span><span class="p">,</span>
					  <span class="n">__u16</span> <span class="n">B2protocol</span><span class="p">,</span>
					  <span class="n">__u16</span> <span class="n">B3protocol</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">B1configuration</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">B2configuration</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">B3configuration</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">ConnectedNumber</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">ConnectedSubaddress</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">LLC</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">BChannelinformation</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">Keypadfacility</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">Useruserdata</span><span class="p">,</span>
					  <span class="n">_cstruct</span> <span class="n">Facilitydataarray</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x02</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Reject</span> <span class="o">=</span> <span class="n">Reject</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B1protocol</span> <span class="o">=</span> <span class="n">B1protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B2protocol</span> <span class="o">=</span> <span class="n">B2protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B3protocol</span> <span class="o">=</span> <span class="n">B3protocol</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B1configuration</span> <span class="o">=</span> <span class="n">B1configuration</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B2configuration</span> <span class="o">=</span> <span class="n">B2configuration</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">B3configuration</span> <span class="o">=</span> <span class="n">B3configuration</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">ConnectedNumber</span> <span class="o">=</span> <span class="n">ConnectedNumber</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">ConnectedSubaddress</span> <span class="o">=</span> <span class="n">ConnectedSubaddress</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">LLC</span> <span class="o">=</span> <span class="n">LLC</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">BChannelinformation</span> <span class="o">=</span> <span class="n">BChannelinformation</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Keypadfacility</span> <span class="o">=</span> <span class="n">Keypadfacility</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Useruserdata</span> <span class="o">=</span> <span class="n">Useruserdata</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Facilitydataarray</span> <span class="o">=</span> <span class="n">Facilitydataarray</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_CONNECT_ACTIVE_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
						 <span class="n">__u32</span> <span class="n">adr</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_CONNECT_B3_ACTIVE_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
						    <span class="n">__u32</span> <span class="n">adr</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_CONNECT_B3_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					     <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					     <span class="n">__u16</span> <span class="n">Reject</span><span class="p">,</span>
					     <span class="n">_cstruct</span> <span class="n">NCPI</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x82</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Reject</span> <span class="o">=</span> <span class="n">Reject</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">NCPI</span> <span class="o">=</span> <span class="n">NCPI</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_CONNECT_B3_T90_ACTIVE_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
							<span class="n">__u32</span> <span class="n">adr</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x88</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_DATA_B3_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					  <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					  <span class="n">__u16</span> <span class="n">DataHandle</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x86</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">DataHandle</span> <span class="o">=</span> <span class="n">DataHandle</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_DISCONNECT_B3_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
						<span class="n">__u32</span> <span class="n">adr</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x84</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_DISCONNECT_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					     <span class="n">__u32</span> <span class="n">adr</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_FACILITY_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					   <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					   <span class="n">__u16</span> <span class="n">FacilitySelector</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">FacilitySelector</span> <span class="o">=</span> <span class="n">FacilitySelector</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_INFO_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
				       <span class="n">__u32</span> <span class="n">adr</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_MANUFACTURER_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					       <span class="n">__u32</span> <span class="n">adr</span><span class="p">,</span>
					       <span class="n">__u32</span> <span class="n">ManuID</span><span class="p">,</span>
					       <span class="n">__u32</span> <span class="n">Class</span><span class="p">,</span>
					       <span class="n">__u32</span> <span class="n">Function</span><span class="p">,</span>
					       <span class="n">_cstruct</span> <span class="n">ManuData</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">ManuID</span> <span class="o">=</span> <span class="n">ManuID</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Class</span> <span class="o">=</span> <span class="n">Class</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">Function</span> <span class="o">=</span> <span class="n">Function</span><span class="p">;</span>
	<span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">ManuData</span> <span class="o">=</span> <span class="n">ManuData</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">capi_fill_RESET_B3_RESP</span><span class="p">(</span><span class="n">_cmsg</span> <span class="o">*</span> <span class="n">cmsg</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">ApplId</span><span class="p">,</span> <span class="n">__u16</span> <span class="n">Messagenumber</span><span class="p">,</span>
					   <span class="n">__u32</span> <span class="n">adr</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">capi_cmsg_header</span><span class="p">(</span><span class="n">cmsg</span><span class="p">,</span> <span class="n">ApplId</span><span class="p">,</span> <span class="mh">0x87</span><span class="p">,</span> <span class="mh">0x83</span><span class="p">,</span> <span class="n">Messagenumber</span><span class="p">,</span> <span class="n">adr</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#endif				</span><span class="cm">/* __CAPIUTIL_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
