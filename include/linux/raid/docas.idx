f | md_p.h | s | 11K | 264 | NeilBrown | neilb@suse.de | 1337556420 |  | md: add possibility to change data-offset for devices.  When reshaping we can avoid costly intermediate backup by changing the 'start' address of the array on the device (if there is enough room).  So as a first step, allow such a change to be requested through sysfs, and recorded in v1.x metadata.  (As we didn't previous check that all 'pad' fields were zero,  we need a new FEATURE flag for this.  A (belatedly) check that all remaining 'pad' fields are  zero to avoid a repeat of this)  The new data offset must be requested separately for each device. This allows each to have a different change in the data offset. This is not likely to be used often but as data_offset can be set per-device, new_data_offset should be too.  This patch also removes the 'acknowledged' arg to rdev_set_badblocks as it is never used and never will be.  At the same time we add a new arg ('in_new') which is currently always zero but will be used more soon.  When a reshape finishes we will need to update the data_offset and rdev->sectors.  So provide an exported function to do that.  Signed-off-by: NeilBrown <neilb@suse.de>
f | md_u.h | s | 4.3K | 135 | NeilBrown | neilb@suse.de | 1238470393 |  | md: move most content from md.h to md_k.h  The extern function definitions are kernel-internal definitions, so they belong in md_k.h  The MD_*_VERSION values could reasonably go in a number of places, but md_u.h seems most reasonable.  This leaves almost nothing in md.h.  It will go soon.  Signed-off-by: NeilBrown <neilb@suse.de>
f | xor.h | s | 652B | 18 | NeilBrown | neilb@suse.de | 1238470393 |  | md: move lots of #include lines out of .h files and into .c  This makes the includes more explicit, and is preparation for moving md_k.h to drivers/md/md.h  Remove include/raid/md.h as its only remaining use was to #include other files.  Signed-off-by: NeilBrown <neilb@suse.de>
f | Kbuild | g | 38B |  | David Woodhouse | dwmw2@infradead.org | 1158666238 |  | [HEADERS] One line per header in Kbuild files to reduce conflicts  Signed-off-by: David Woodhouse <dwmw2@infradead.org>
f | pq.h | s | 4.9K | 140 | Jim Kukunas | james.t.kukunas@linux.intel.com | 1337658858 |  | lib/raid6: Add SSSE3 optimized recovery functions  Add SSSE3 optimized recovery functions, as well as a system for selecting the most appropriate recovery functions to use.  Originally-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Jim Kukunas <james.t.kukunas@linux.intel.com> Signed-off-by: NeilBrown <neilb@suse.de>
