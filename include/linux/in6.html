<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › in6.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>in6.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *	Types and definitions for AF_INET6 </span>
<span class="cm"> *	Linux INET6 implementation </span>
<span class="cm"> *</span>
<span class="cm"> *	Authors:</span>
<span class="cm"> *	Pedro Roque		&lt;roque@di.fc.ul.pt&gt;	</span>
<span class="cm"> *</span>
<span class="cm"> *	Sources:</span>
<span class="cm"> *	IPv6 Program Interfaces for BSD Systems</span>
<span class="cm"> *      &lt;draft-ietf-ipngwg-bsd-api-05.txt&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *	Advanced Sockets API for IPv6</span>
<span class="cm"> *	&lt;draft-stevens-advanced-api-00.txt&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *	This program is free software; you can redistribute it and/or</span>
<span class="cm"> *      modify it under the terms of the GNU General Public License</span>
<span class="cm"> *      as published by the Free Software Foundation; either version</span>
<span class="cm"> *      2 of the License, or (at your option) any later version.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _LINUX_IN6_H</span>
<span class="cp">#define _LINUX_IN6_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> *	IPv6 address structure</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">in6_addr</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="n">__u8</span>		<span class="n">u6_addr8</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
		<span class="n">__be16</span>		<span class="n">u6_addr16</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
		<span class="n">__be32</span>		<span class="n">u6_addr32</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">in6_u</span><span class="p">;</span>
<span class="cp">#define s6_addr			in6_u.u6_addr8</span>
<span class="cp">#define s6_addr16		in6_u.u6_addr16</span>
<span class="cp">#define s6_addr32		in6_u.u6_addr32</span>
<span class="p">};</span>

<span class="cm">/* IPv6 Wildcard Address (::) and Loopback Address (::1) defined in RFC2553</span>
<span class="cm"> * NOTE: Be aware the IN6ADDR_* constants and in6addr_* externals are defined</span>
<span class="cm"> * in network byte order, not in host byte order as are the IPv4 equivalents</span>
<span class="cm"> */</span>
<span class="cp">#ifdef __KERNEL__</span>
<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">in6_addr</span> <span class="n">in6addr_any</span><span class="p">;</span>
<span class="cp">#define IN6ADDR_ANY_INIT { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }</span>
<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">in6_addr</span> <span class="n">in6addr_loopback</span><span class="p">;</span>
<span class="cp">#define IN6ADDR_LOOPBACK_INIT { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }</span>
<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">in6_addr</span> <span class="n">in6addr_linklocal_allnodes</span><span class="p">;</span>
<span class="cp">#define IN6ADDR_LINKLOCAL_ALLNODES_INIT	\</span>
<span class="cp">		{ { { 0xff,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }</span>
<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">in6_addr</span> <span class="n">in6addr_linklocal_allrouters</span><span class="p">;</span>
<span class="cp">#define IN6ADDR_LINKLOCAL_ALLROUTERS_INIT \</span>
<span class="cp">		{ { { 0xff,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2 } } }</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">sockaddr_in6</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span>	<span class="n">sin6_family</span><span class="p">;</span>    <span class="cm">/* AF_INET6 */</span>
	<span class="n">__be16</span>			<span class="n">sin6_port</span><span class="p">;</span>      <span class="cm">/* Transport layer port # */</span>
	<span class="n">__be32</span>			<span class="n">sin6_flowinfo</span><span class="p">;</span>  <span class="cm">/* IPv6 flow information */</span>
	<span class="k">struct</span> <span class="n">in6_addr</span>		<span class="n">sin6_addr</span><span class="p">;</span>      <span class="cm">/* IPv6 address */</span>
	<span class="n">__u32</span>			<span class="n">sin6_scope_id</span><span class="p">;</span>  <span class="cm">/* scope id (new in RFC2553) */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ipv6_mreq</span> <span class="p">{</span>
	<span class="cm">/* IPv6 multicast address of group */</span>
	<span class="k">struct</span> <span class="n">in6_addr</span> <span class="n">ipv6mr_multiaddr</span><span class="p">;</span>

	<span class="cm">/* local IPv6 address of interface */</span>
	<span class="kt">int</span>		<span class="n">ipv6mr_ifindex</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define ipv6mr_acaddr	ipv6mr_multiaddr</span>

<span class="k">struct</span> <span class="n">in6_flowlabel_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">in6_addr</span>	<span class="n">flr_dst</span><span class="p">;</span>
	<span class="n">__be32</span>	<span class="n">flr_label</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">flr_action</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">flr_share</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">flr_flags</span><span class="p">;</span>
	<span class="n">__u16</span> 	<span class="n">flr_expires</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">flr_linger</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">__flr_pad</span><span class="p">;</span>
	<span class="cm">/* Options in format of IPV6_PKTOPTIONS */</span>
<span class="p">};</span>

<span class="cp">#define IPV6_FL_A_GET	0</span>
<span class="cp">#define IPV6_FL_A_PUT	1</span>
<span class="cp">#define IPV6_FL_A_RENEW	2</span>

<span class="cp">#define IPV6_FL_F_CREATE	1</span>
<span class="cp">#define IPV6_FL_F_EXCL		2</span>

<span class="cp">#define IPV6_FL_S_NONE		0</span>
<span class="cp">#define IPV6_FL_S_EXCL		1</span>
<span class="cp">#define IPV6_FL_S_PROCESS	2</span>
<span class="cp">#define IPV6_FL_S_USER		3</span>
<span class="cp">#define IPV6_FL_S_ANY		255</span>


<span class="cm">/*</span>
<span class="cm"> *	Bitmask constant declarations to help applications select out the </span>
<span class="cm"> *	flow label and priority fields.</span>
<span class="cm"> *</span>
<span class="cm"> *	Note that this are in host byte order while the flowinfo field of</span>
<span class="cm"> *	sockaddr_in6 is in network byte order.</span>
<span class="cm"> */</span>

<span class="cp">#define IPV6_FLOWINFO_FLOWLABEL		0x000fffff</span>
<span class="cp">#define IPV6_FLOWINFO_PRIORITY		0x0ff00000</span>

<span class="cm">/* These definitions are obsolete */</span>
<span class="cp">#define IPV6_PRIORITY_UNCHARACTERIZED	0x0000</span>
<span class="cp">#define IPV6_PRIORITY_FILLER		0x0100</span>
<span class="cp">#define IPV6_PRIORITY_UNATTENDED	0x0200</span>
<span class="cp">#define IPV6_PRIORITY_RESERVED1		0x0300</span>
<span class="cp">#define IPV6_PRIORITY_BULK		0x0400</span>
<span class="cp">#define IPV6_PRIORITY_RESERVED2		0x0500</span>
<span class="cp">#define IPV6_PRIORITY_INTERACTIVE	0x0600</span>
<span class="cp">#define IPV6_PRIORITY_CONTROL		0x0700</span>
<span class="cp">#define IPV6_PRIORITY_8			0x0800</span>
<span class="cp">#define IPV6_PRIORITY_9			0x0900</span>
<span class="cp">#define IPV6_PRIORITY_10		0x0a00</span>
<span class="cp">#define IPV6_PRIORITY_11		0x0b00</span>
<span class="cp">#define IPV6_PRIORITY_12		0x0c00</span>
<span class="cp">#define IPV6_PRIORITY_13		0x0d00</span>
<span class="cp">#define IPV6_PRIORITY_14		0x0e00</span>
<span class="cp">#define IPV6_PRIORITY_15		0x0f00</span>

<span class="cm">/*</span>
<span class="cm"> *	IPV6 extension headers</span>
<span class="cm"> */</span>
<span class="cp">#define IPPROTO_HOPOPTS		0	</span><span class="cm">/* IPv6 hop-by-hop options	*/</span><span class="cp"></span>
<span class="cp">#define IPPROTO_ROUTING		43	</span><span class="cm">/* IPv6 routing header		*/</span><span class="cp"></span>
<span class="cp">#define IPPROTO_FRAGMENT	44	</span><span class="cm">/* IPv6 fragmentation header	*/</span><span class="cp"></span>
<span class="cp">#define IPPROTO_ICMPV6		58	</span><span class="cm">/* ICMPv6			*/</span><span class="cp"></span>
<span class="cp">#define IPPROTO_NONE		59	</span><span class="cm">/* IPv6 no next header		*/</span><span class="cp"></span>
<span class="cp">#define IPPROTO_DSTOPTS		60	</span><span class="cm">/* IPv6 destination options	*/</span><span class="cp"></span>
<span class="cp">#define IPPROTO_MH		135	</span><span class="cm">/* IPv6 mobility header		*/</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *	IPv6 TLV options.</span>
<span class="cm"> */</span>
<span class="cp">#define IPV6_TLV_PAD1		0</span>
<span class="cp">#define IPV6_TLV_PADN		1</span>
<span class="cp">#define IPV6_TLV_ROUTERALERT	5</span>
<span class="cp">#define IPV6_TLV_JUMBO		194</span>
<span class="cp">#define IPV6_TLV_HAO		201	</span><span class="cm">/* home address option */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *	IPV6 socket options</span>
<span class="cm"> */</span>

<span class="cp">#define IPV6_ADDRFORM		1</span>
<span class="cp">#define IPV6_2292PKTINFO	2</span>
<span class="cp">#define IPV6_2292HOPOPTS	3</span>
<span class="cp">#define IPV6_2292DSTOPTS	4</span>
<span class="cp">#define IPV6_2292RTHDR		5</span>
<span class="cp">#define IPV6_2292PKTOPTIONS	6</span>
<span class="cp">#define IPV6_CHECKSUM		7</span>
<span class="cp">#define IPV6_2292HOPLIMIT	8</span>
<span class="cp">#define IPV6_NEXTHOP		9</span>
<span class="cp">#define IPV6_AUTHHDR		10	</span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cp">#define IPV6_FLOWINFO		11</span>

<span class="cp">#define IPV6_UNICAST_HOPS	16</span>
<span class="cp">#define IPV6_MULTICAST_IF	17</span>
<span class="cp">#define IPV6_MULTICAST_HOPS	18</span>
<span class="cp">#define IPV6_MULTICAST_LOOP	19</span>
<span class="cp">#define IPV6_ADD_MEMBERSHIP	20</span>
<span class="cp">#define IPV6_DROP_MEMBERSHIP	21</span>
<span class="cp">#define IPV6_ROUTER_ALERT	22</span>
<span class="cp">#define IPV6_MTU_DISCOVER	23</span>
<span class="cp">#define IPV6_MTU		24</span>
<span class="cp">#define IPV6_RECVERR		25</span>
<span class="cp">#define IPV6_V6ONLY		26</span>
<span class="cp">#define IPV6_JOIN_ANYCAST	27</span>
<span class="cp">#define IPV6_LEAVE_ANYCAST	28</span>

<span class="cm">/* IPV6_MTU_DISCOVER values */</span>
<span class="cp">#define IPV6_PMTUDISC_DONT		0</span>
<span class="cp">#define IPV6_PMTUDISC_WANT		1</span>
<span class="cp">#define IPV6_PMTUDISC_DO		2</span>
<span class="cp">#define IPV6_PMTUDISC_PROBE		3</span>

<span class="cm">/* Flowlabel */</span>
<span class="cp">#define IPV6_FLOWLABEL_MGR	32</span>
<span class="cp">#define IPV6_FLOWINFO_SEND	33</span>

<span class="cp">#define IPV6_IPSEC_POLICY	34</span>
<span class="cp">#define IPV6_XFRM_POLICY	35</span>

<span class="cm">/*</span>
<span class="cm"> * Multicast:</span>
<span class="cm"> * Following socket options are shared between IPv4 and IPv6.</span>
<span class="cm"> *</span>
<span class="cm"> * MCAST_JOIN_GROUP		42</span>
<span class="cm"> * MCAST_BLOCK_SOURCE		43</span>
<span class="cm"> * MCAST_UNBLOCK_SOURCE		44</span>
<span class="cm"> * MCAST_LEAVE_GROUP		45</span>
<span class="cm"> * MCAST_JOIN_SOURCE_GROUP	46</span>
<span class="cm"> * MCAST_LEAVE_SOURCE_GROUP	47</span>
<span class="cm"> * MCAST_MSFILTER		48</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Advanced API (RFC3542) (1)</span>
<span class="cm"> *</span>
<span class="cm"> * Note: IPV6_RECVRTHDRDSTOPTS does not exist. see net/ipv6/datagram.c.</span>
<span class="cm"> */</span>

<span class="cp">#define IPV6_RECVPKTINFO	49</span>
<span class="cp">#define IPV6_PKTINFO		50</span>
<span class="cp">#define IPV6_RECVHOPLIMIT	51</span>
<span class="cp">#define IPV6_HOPLIMIT		52</span>
<span class="cp">#define IPV6_RECVHOPOPTS	53</span>
<span class="cp">#define IPV6_HOPOPTS		54</span>
<span class="cp">#define IPV6_RTHDRDSTOPTS	55</span>
<span class="cp">#define IPV6_RECVRTHDR		56</span>
<span class="cp">#define IPV6_RTHDR		57</span>
<span class="cp">#define IPV6_RECVDSTOPTS	58</span>
<span class="cp">#define IPV6_DSTOPTS		59</span>
<span class="cp">#define IPV6_RECVPATHMTU	60</span>
<span class="cp">#define IPV6_PATHMTU		61</span>
<span class="cp">#define IPV6_DONTFRAG		62</span>
<span class="cp">#if 0</span><span class="c">	/* not yet */</span>
<span class="c">#define IPV6_USE_MIN_MTU	63</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * Netfilter (1)</span>
<span class="cm"> *</span>
<span class="cm"> * Following socket options are used in ip6_tables;</span>
<span class="cm"> * see include/linux/netfilter_ipv6/ip6_tables.h.</span>
<span class="cm"> *</span>
<span class="cm"> * IP6T_SO_SET_REPLACE / IP6T_SO_GET_INFO		64</span>
<span class="cm"> * IP6T_SO_SET_ADD_COUNTERS / IP6T_SO_GET_ENTRIES	65</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Advanced API (RFC3542) (2)</span>
<span class="cm"> */</span>
<span class="cp">#define IPV6_RECVTCLASS		66</span>
<span class="cp">#define IPV6_TCLASS		67</span>

<span class="cm">/*</span>
<span class="cm"> * Netfilter (2)</span>
<span class="cm"> *</span>
<span class="cm"> * Following socket options are used in ip6_tables;</span>
<span class="cm"> * see include/linux/netfilter_ipv6/ip6_tables.h.</span>
<span class="cm"> *</span>
<span class="cm"> * IP6T_SO_GET_REVISION_MATCH	68</span>
<span class="cm"> * IP6T_SO_GET_REVISION_TARGET	69</span>
<span class="cm"> */</span>

<span class="cm">/* RFC5014: Source address selection */</span>
<span class="cp">#define IPV6_ADDR_PREFERENCES	72</span>

<span class="cp">#define IPV6_PREFER_SRC_TMP		0x0001</span>
<span class="cp">#define IPV6_PREFER_SRC_PUBLIC		0x0002</span>
<span class="cp">#define IPV6_PREFER_SRC_PUBTMP_DEFAULT	0x0100</span>
<span class="cp">#define IPV6_PREFER_SRC_COA		0x0004</span>
<span class="cp">#define IPV6_PREFER_SRC_HOME		0x0400</span>
<span class="cp">#define IPV6_PREFER_SRC_CGA		0x0008</span>
<span class="cp">#define IPV6_PREFER_SRC_NONCGA		0x0800</span>

<span class="cm">/* RFC5082: Generalized Ttl Security Mechanism */</span>
<span class="cp">#define IPV6_MINHOPCOUNT		73</span>

<span class="cp">#define IPV6_ORIGDSTADDR        74</span>
<span class="cp">#define IPV6_RECVORIGDSTADDR    IPV6_ORIGDSTADDR</span>
<span class="cp">#define IPV6_TRANSPARENT        75</span>
<span class="cp">#define IPV6_UNICAST_IF         76</span>

<span class="cm">/*</span>
<span class="cm"> * Multicast Routing:</span>
<span class="cm"> * see include/linux/mroute6.h.</span>
<span class="cm"> *</span>
<span class="cm"> * MRT6_INIT			200</span>
<span class="cm"> * MRT6_DONE			201</span>
<span class="cm"> * MRT6_ADD_MIF			202</span>
<span class="cm"> * MRT6_DEL_MIF			203</span>
<span class="cm"> * MRT6_ADD_MFC			204</span>
<span class="cm"> * MRT6_DEL_MFC			205</span>
<span class="cm"> * MRT6_VERSION			206</span>
<span class="cm"> * MRT6_ASSERT			207</span>
<span class="cm"> * MRT6_PIM			208</span>
<span class="cm"> * (reserved)			209</span>
<span class="cm"> */</span>
<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
