<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › mfd › wm8350 › rtc.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>rtc.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * rtc.h  --  RTC driver for Wolfson WM8350 PMIC</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2007 Wolfson Microelectronics PLC</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is free software; you can redistribute  it and/or modify it</span>
<span class="cm"> *  under  the terms of  the GNU General  Public License as published by the</span>
<span class="cm"> *  Free Software Foundation;  either version 2 of the  License, or (at your</span>
<span class="cm"> *  option) any later version.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __LINUX_MFD_WM8350_RTC_H</span>
<span class="cp">#define __LINUX_MFD_WM8350_RTC_H</span>

<span class="cp">#include &lt;linux/platform_device.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * Register values.</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_SECONDS_MINUTES              0x10</span>
<span class="cp">#define WM8350_RTC_HOURS_DAY                    0x11</span>
<span class="cp">#define WM8350_RTC_DATE_MONTH                   0x12</span>
<span class="cp">#define WM8350_RTC_YEAR                         0x13</span>
<span class="cp">#define WM8350_ALARM_SECONDS_MINUTES            0x14</span>
<span class="cp">#define WM8350_ALARM_HOURS_DAY                  0x15</span>
<span class="cp">#define WM8350_ALARM_DATE_MONTH                 0x16</span>
<span class="cp">#define WM8350_RTC_TIME_CONTROL                 0x17</span>

<span class="cm">/*</span>
<span class="cm"> * R16 (0x10) - RTC Seconds/Minutes</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_MINS_MASK                    0x7F00</span>
<span class="cp">#define WM8350_RTC_MINS_SHIFT                        8</span>
<span class="cp">#define WM8350_RTC_SECS_MASK                    0x007F</span>
<span class="cp">#define WM8350_RTC_SECS_SHIFT                        0</span>

<span class="cm">/*</span>
<span class="cm"> * R17 (0x11) - RTC Hours/Day</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_DAY_MASK                     0x0700</span>
<span class="cp">#define WM8350_RTC_DAY_SHIFT                         8</span>
<span class="cp">#define WM8350_RTC_HPM_MASK                     0x0020</span>
<span class="cp">#define WM8350_RTC_HPM_SHIFT                         5</span>
<span class="cp">#define WM8350_RTC_HRS_MASK                     0x001F</span>
<span class="cp">#define WM8350_RTC_HRS_SHIFT                         0</span>

<span class="cm">/* Bit values for R21 (0x15) */</span>
<span class="cp">#define WM8350_RTC_DAY_SUN                           1</span>
<span class="cp">#define WM8350_RTC_DAY_MON                           2</span>
<span class="cp">#define WM8350_RTC_DAY_TUE                           3</span>
<span class="cp">#define WM8350_RTC_DAY_WED                           4</span>
<span class="cp">#define WM8350_RTC_DAY_THU                           5</span>
<span class="cp">#define WM8350_RTC_DAY_FRI                           6</span>
<span class="cp">#define WM8350_RTC_DAY_SAT                           7</span>

<span class="cp">#define WM8350_RTC_HPM_AM                            0</span>
<span class="cp">#define WM8350_RTC_HPM_PM                            1</span>

<span class="cm">/*</span>
<span class="cm"> * R18 (0x12) - RTC Date/Month</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_MTH_MASK                     0x1F00</span>
<span class="cp">#define WM8350_RTC_MTH_SHIFT                         8</span>
<span class="cp">#define WM8350_RTC_DATE_MASK                    0x003F</span>
<span class="cp">#define WM8350_RTC_DATE_SHIFT                        0</span>

<span class="cm">/* Bit values for R22 (0x16) */</span>
<span class="cp">#define WM8350_RTC_MTH_JAN                           1</span>
<span class="cp">#define WM8350_RTC_MTH_FEB                           2</span>
<span class="cp">#define WM8350_RTC_MTH_MAR                           3</span>
<span class="cp">#define WM8350_RTC_MTH_APR                           4</span>
<span class="cp">#define WM8350_RTC_MTH_MAY                           5</span>
<span class="cp">#define WM8350_RTC_MTH_JUN                           6</span>
<span class="cp">#define WM8350_RTC_MTH_JUL                           7</span>
<span class="cp">#define WM8350_RTC_MTH_AUG                           8</span>
<span class="cp">#define WM8350_RTC_MTH_SEP                           9</span>
<span class="cp">#define WM8350_RTC_MTH_OCT                          10</span>
<span class="cp">#define WM8350_RTC_MTH_NOV                          11</span>
<span class="cp">#define WM8350_RTC_MTH_DEC                          12</span>
<span class="cp">#define WM8350_RTC_MTH_JAN_BCD                    0x01</span>
<span class="cp">#define WM8350_RTC_MTH_FEB_BCD                    0x02</span>
<span class="cp">#define WM8350_RTC_MTH_MAR_BCD                    0x03</span>
<span class="cp">#define WM8350_RTC_MTH_APR_BCD                    0x04</span>
<span class="cp">#define WM8350_RTC_MTH_MAY_BCD                    0x05</span>
<span class="cp">#define WM8350_RTC_MTH_JUN_BCD                    0x06</span>
<span class="cp">#define WM8350_RTC_MTH_JUL_BCD                    0x07</span>
<span class="cp">#define WM8350_RTC_MTH_AUG_BCD                    0x08</span>
<span class="cp">#define WM8350_RTC_MTH_SEP_BCD                    0x09</span>
<span class="cp">#define WM8350_RTC_MTH_OCT_BCD                    0x10</span>
<span class="cp">#define WM8350_RTC_MTH_NOV_BCD                    0x11</span>
<span class="cp">#define WM8350_RTC_MTH_DEC_BCD                    0x12</span>

<span class="cm">/*</span>
<span class="cm"> * R19 (0x13) - RTC Year</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_YHUNDREDS_MASK               0x3F00</span>
<span class="cp">#define WM8350_RTC_YHUNDREDS_SHIFT                   8</span>
<span class="cp">#define WM8350_RTC_YUNITS_MASK                  0x00FF</span>
<span class="cp">#define WM8350_RTC_YUNITS_SHIFT                      0</span>

<span class="cm">/*</span>
<span class="cm"> * R20 (0x14) - Alarm Seconds/Minutes</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_ALMMINS_MASK                 0x7F00</span>
<span class="cp">#define WM8350_RTC_ALMMINS_SHIFT                     8</span>
<span class="cp">#define WM8350_RTC_ALMSECS_MASK                 0x007F</span>
<span class="cp">#define WM8350_RTC_ALMSECS_SHIFT                     0</span>

<span class="cm">/* Bit values for R20 (0x14) */</span>
<span class="cp">#define WM8350_RTC_ALMMINS_DONT_CARE                -1</span>
<span class="cp">#define WM8350_RTC_ALMSECS_DONT_CARE                -1</span>

<span class="cm">/*</span>
<span class="cm"> * R21 (0x15) - Alarm Hours/Day</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_ALMDAY_MASK                  0x0F00</span>
<span class="cp">#define WM8350_RTC_ALMDAY_SHIFT                      8</span>
<span class="cp">#define WM8350_RTC_ALMHPM_MASK                  0x0020</span>
<span class="cp">#define WM8350_RTC_ALMHPM_SHIFT                      5</span>
<span class="cp">#define WM8350_RTC_ALMHRS_MASK                  0x001F</span>
<span class="cp">#define WM8350_RTC_ALMHRS_SHIFT                      0</span>

<span class="cm">/* Bit values for R21 (0x15) */</span>
<span class="cp">#define WM8350_RTC_ALMDAY_DONT_CARE                 -1</span>
<span class="cp">#define WM8350_RTC_ALMDAY_SUN                        1</span>
<span class="cp">#define WM8350_RTC_ALMDAY_MON                        2</span>
<span class="cp">#define WM8350_RTC_ALMDAY_TUE                        3</span>
<span class="cp">#define WM8350_RTC_ALMDAY_WED                        4</span>
<span class="cp">#define WM8350_RTC_ALMDAY_THU                        5</span>
<span class="cp">#define WM8350_RTC_ALMDAY_FRI                        6</span>
<span class="cp">#define WM8350_RTC_ALMDAY_SAT                        7</span>

<span class="cp">#define WM8350_RTC_ALMHPM_AM                         0</span>
<span class="cp">#define WM8350_RTC_ALMHPM_PM                         1</span>

<span class="cp">#define WM8350_RTC_ALMHRS_DONT_CARE                 -1</span>

<span class="cm">/*</span>
<span class="cm"> * R22 (0x16) - Alarm Date/Month</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_ALMMTH_MASK                  0x1F00</span>
<span class="cp">#define WM8350_RTC_ALMMTH_SHIFT                      8</span>
<span class="cp">#define WM8350_RTC_ALMDATE_MASK                 0x003F</span>
<span class="cp">#define WM8350_RTC_ALMDATE_SHIFT                     0</span>

<span class="cm">/* Bit values for R22 (0x16) */</span>
<span class="cp">#define WM8350_RTC_ALMDATE_DONT_CARE                -1</span>

<span class="cp">#define WM8350_RTC_ALMMTH_DONT_CARE                 -1</span>
<span class="cp">#define WM8350_RTC_ALMMTH_JAN                        1</span>
<span class="cp">#define WM8350_RTC_ALMMTH_FEB                        2</span>
<span class="cp">#define WM8350_RTC_ALMMTH_MAR                        3</span>
<span class="cp">#define WM8350_RTC_ALMMTH_APR                        4</span>
<span class="cp">#define WM8350_RTC_ALMMTH_MAY                        5</span>
<span class="cp">#define WM8350_RTC_ALMMTH_JUN                        6</span>
<span class="cp">#define WM8350_RTC_ALMMTH_JUL                        7</span>
<span class="cp">#define WM8350_RTC_ALMMTH_AUG                        8</span>
<span class="cp">#define WM8350_RTC_ALMMTH_SEP                        9</span>
<span class="cp">#define WM8350_RTC_ALMMTH_OCT                       10</span>
<span class="cp">#define WM8350_RTC_ALMMTH_NOV                       11</span>
<span class="cp">#define WM8350_RTC_ALMMTH_DEC                       12</span>
<span class="cp">#define WM8350_RTC_ALMMTH_JAN_BCD                 0x01</span>
<span class="cp">#define WM8350_RTC_ALMMTH_FEB_BCD                 0x02</span>
<span class="cp">#define WM8350_RTC_ALMMTH_MAR_BCD                 0x03</span>
<span class="cp">#define WM8350_RTC_ALMMTH_APR_BCD                 0x04</span>
<span class="cp">#define WM8350_RTC_ALMMTH_MAY_BCD                 0x05</span>
<span class="cp">#define WM8350_RTC_ALMMTH_JUN_BCD                 0x06</span>
<span class="cp">#define WM8350_RTC_ALMMTH_JUL_BCD                 0x07</span>
<span class="cp">#define WM8350_RTC_ALMMTH_AUG_BCD                 0x08</span>
<span class="cp">#define WM8350_RTC_ALMMTH_SEP_BCD                 0x09</span>
<span class="cp">#define WM8350_RTC_ALMMTH_OCT_BCD                 0x10</span>
<span class="cp">#define WM8350_RTC_ALMMTH_NOV_BCD                 0x11</span>
<span class="cp">#define WM8350_RTC_ALMMTH_DEC_BCD                 0x12</span>

<span class="cm">/*</span>
<span class="cm"> * R23 (0x17) - RTC Time Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_BCD                          0x8000</span>
<span class="cp">#define WM8350_RTC_BCD_MASK                     0x8000</span>
<span class="cp">#define WM8350_RTC_BCD_SHIFT                        15</span>
<span class="cp">#define WM8350_RTC_12HR                         0x4000</span>
<span class="cp">#define WM8350_RTC_12HR_MASK                    0x4000</span>
<span class="cp">#define WM8350_RTC_12HR_SHIFT                       14</span>
<span class="cp">#define WM8350_RTC_DST                          0x2000</span>
<span class="cp">#define WM8350_RTC_DST_MASK                     0x2000</span>
<span class="cp">#define WM8350_RTC_DST_SHIFT                        13</span>
<span class="cp">#define WM8350_RTC_SET                          0x0800</span>
<span class="cp">#define WM8350_RTC_SET_MASK                     0x0800</span>
<span class="cp">#define WM8350_RTC_SET_SHIFT                        11</span>
<span class="cp">#define WM8350_RTC_STS                          0x0400</span>
<span class="cp">#define WM8350_RTC_STS_MASK                     0x0400</span>
<span class="cp">#define WM8350_RTC_STS_SHIFT                        10</span>
<span class="cp">#define WM8350_RTC_ALMSET                       0x0200</span>
<span class="cp">#define WM8350_RTC_ALMSET_MASK                  0x0200</span>
<span class="cp">#define WM8350_RTC_ALMSET_SHIFT                      9</span>
<span class="cp">#define WM8350_RTC_ALMSTS                       0x0100</span>
<span class="cp">#define WM8350_RTC_ALMSTS_MASK                  0x0100</span>
<span class="cp">#define WM8350_RTC_ALMSTS_SHIFT                      8</span>
<span class="cp">#define WM8350_RTC_PINT                         0x0070</span>
<span class="cp">#define WM8350_RTC_PINT_MASK                    0x0070</span>
<span class="cp">#define WM8350_RTC_PINT_SHIFT                        4</span>
<span class="cp">#define WM8350_RTC_DSW                          0x000F</span>
<span class="cp">#define WM8350_RTC_DSW_MASK                     0x000F</span>
<span class="cp">#define WM8350_RTC_DSW_SHIFT                         0</span>

<span class="cm">/* Bit values for R23 (0x17) */</span>
<span class="cp">#define WM8350_RTC_BCD_BINARY                        0</span>
<span class="cp">#define WM8350_RTC_BCD_BCD                           1</span>

<span class="cp">#define WM8350_RTC_12HR_24HR                         0</span>
<span class="cp">#define WM8350_RTC_12HR_12HR                         1</span>

<span class="cp">#define WM8350_RTC_DST_DISABLED                      0</span>
<span class="cp">#define WM8350_RTC_DST_ENABLED                       1</span>

<span class="cp">#define WM8350_RTC_SET_RUN                           0</span>
<span class="cp">#define WM8350_RTC_SET_SET                           1</span>

<span class="cp">#define WM8350_RTC_STS_RUNNING                       0</span>
<span class="cp">#define WM8350_RTC_STS_STOPPED                       1</span>

<span class="cp">#define WM8350_RTC_ALMSET_RUN                        0</span>
<span class="cp">#define WM8350_RTC_ALMSET_SET                        1</span>

<span class="cp">#define WM8350_RTC_ALMSTS_RUNNING                    0</span>
<span class="cp">#define WM8350_RTC_ALMSTS_STOPPED                    1</span>

<span class="cp">#define WM8350_RTC_PINT_DISABLED                     0</span>
<span class="cp">#define WM8350_RTC_PINT_SECS                         1</span>
<span class="cp">#define WM8350_RTC_PINT_MINS                         2</span>
<span class="cp">#define WM8350_RTC_PINT_HRS                          3</span>
<span class="cp">#define WM8350_RTC_PINT_DAYS                         4</span>
<span class="cp">#define WM8350_RTC_PINT_MTHS                         5</span>

<span class="cp">#define WM8350_RTC_DSW_DISABLED                      0</span>
<span class="cp">#define WM8350_RTC_DSW_1HZ                           1</span>
<span class="cp">#define WM8350_RTC_DSW_2HZ                           2</span>
<span class="cp">#define WM8350_RTC_DSW_4HZ                           3</span>
<span class="cp">#define WM8350_RTC_DSW_8HZ                           4</span>
<span class="cp">#define WM8350_RTC_DSW_16HZ                          5</span>
<span class="cp">#define WM8350_RTC_DSW_32HZ                          6</span>
<span class="cp">#define WM8350_RTC_DSW_64HZ                          7</span>
<span class="cp">#define WM8350_RTC_DSW_128HZ                         8</span>
<span class="cp">#define WM8350_RTC_DSW_256HZ                         9</span>
<span class="cp">#define WM8350_RTC_DSW_512HZ                        10</span>
<span class="cp">#define WM8350_RTC_DSW_1024HZ                       11</span>

<span class="cm">/*</span>
<span class="cm"> * R218 (0xDA) - RTC Tick Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_RTC_TICKSTS                      0x4000</span>
<span class="cp">#define WM8350_RTC_CLKSRC                       0x2000</span>
<span class="cp">#define WM8350_RTC_TRIM_MASK                    0x03FF</span>

<span class="cm">/*</span>
<span class="cm"> * RTC Interrupts.</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IRQ_RTC_PER			7</span>
<span class="cp">#define WM8350_IRQ_RTC_SEC			8</span>
<span class="cp">#define WM8350_IRQ_RTC_ALM			9</span>

<span class="k">struct</span> <span class="n">wm8350_rtc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">pdev</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtc_device</span> <span class="o">*</span><span class="n">rtc</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">alarm_enabled</span><span class="p">;</span>      <span class="cm">/* used over suspend/resume */</span>
	<span class="kt">int</span> <span class="n">update_enabled</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
