<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › mfd › wm8350 › audio.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>audio.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * audio.h  --  Audio Driver for Wolfson WM8350 PMIC</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2007, 2008 Wolfson Microelectronics PLC</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is free software; you can redistribute  it and/or modify it</span>
<span class="cm"> *  under  the terms of  the GNU General  Public License as published by the</span>
<span class="cm"> *  Free Software Foundation;  either version 2 of the  License, or (at your</span>
<span class="cm"> *  option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __LINUX_MFD_WM8350_AUDIO_H_</span>
<span class="cp">#define __LINUX_MFD_WM8350_AUDIO_H_</span>

<span class="cp">#include &lt;linux/platform_device.h&gt;</span>

<span class="cp">#define WM8350_CLOCK_CONTROL_1                  0x28</span>
<span class="cp">#define WM8350_CLOCK_CONTROL_2                  0x29</span>
<span class="cp">#define WM8350_FLL_CONTROL_1                    0x2A</span>
<span class="cp">#define WM8350_FLL_CONTROL_2                    0x2B</span>
<span class="cp">#define WM8350_FLL_CONTROL_3                    0x2C</span>
<span class="cp">#define WM8350_FLL_CONTROL_4                    0x2D</span>
<span class="cp">#define WM8350_DAC_CONTROL                      0x30</span>
<span class="cp">#define WM8350_DAC_DIGITAL_VOLUME_L             0x32</span>
<span class="cp">#define WM8350_DAC_DIGITAL_VOLUME_R             0x33</span>
<span class="cp">#define WM8350_DAC_LR_RATE                      0x35</span>
<span class="cp">#define WM8350_DAC_CLOCK_CONTROL                0x36</span>
<span class="cp">#define WM8350_DAC_MUTE                         0x3A</span>
<span class="cp">#define WM8350_DAC_MUTE_VOLUME                  0x3B</span>
<span class="cp">#define WM8350_DAC_SIDE                         0x3C</span>
<span class="cp">#define WM8350_ADC_CONTROL                      0x40</span>
<span class="cp">#define WM8350_ADC_DIGITAL_VOLUME_L             0x42</span>
<span class="cp">#define WM8350_ADC_DIGITAL_VOLUME_R             0x43</span>
<span class="cp">#define WM8350_ADC_DIVIDER                      0x44</span>
<span class="cp">#define WM8350_ADC_LR_RATE                      0x46</span>
<span class="cp">#define WM8350_INPUT_CONTROL                    0x48</span>
<span class="cp">#define WM8350_IN3_INPUT_CONTROL                0x49</span>
<span class="cp">#define WM8350_MIC_BIAS_CONTROL                 0x4A</span>
<span class="cp">#define WM8350_OUTPUT_CONTROL                   0x4C</span>
<span class="cp">#define WM8350_JACK_DETECT                      0x4D</span>
<span class="cp">#define WM8350_ANTI_POP_CONTROL                 0x4E</span>
<span class="cp">#define WM8350_LEFT_INPUT_VOLUME                0x50</span>
<span class="cp">#define WM8350_RIGHT_INPUT_VOLUME               0x51</span>
<span class="cp">#define WM8350_LEFT_MIXER_CONTROL               0x58</span>
<span class="cp">#define WM8350_RIGHT_MIXER_CONTROL              0x59</span>
<span class="cp">#define WM8350_OUT3_MIXER_CONTROL               0x5C</span>
<span class="cp">#define WM8350_OUT4_MIXER_CONTROL               0x5D</span>
<span class="cp">#define WM8350_OUTPUT_LEFT_MIXER_VOLUME         0x60</span>
<span class="cp">#define WM8350_OUTPUT_RIGHT_MIXER_VOLUME        0x61</span>
<span class="cp">#define WM8350_INPUT_MIXER_VOLUME_L             0x62</span>
<span class="cp">#define WM8350_INPUT_MIXER_VOLUME_R             0x63</span>
<span class="cp">#define WM8350_INPUT_MIXER_VOLUME               0x64</span>
<span class="cp">#define WM8350_LOUT1_VOLUME                     0x68</span>
<span class="cp">#define WM8350_ROUT1_VOLUME                     0x69</span>
<span class="cp">#define WM8350_LOUT2_VOLUME                     0x6A</span>
<span class="cp">#define WM8350_ROUT2_VOLUME                     0x6B</span>
<span class="cp">#define WM8350_BEEP_VOLUME                      0x6F</span>
<span class="cp">#define WM8350_AI_FORMATING                     0x70</span>
<span class="cp">#define WM8350_ADC_DAC_COMP                     0x71</span>
<span class="cp">#define WM8350_AI_ADC_CONTROL                   0x72</span>
<span class="cp">#define WM8350_AI_DAC_CONTROL                   0x73</span>
<span class="cp">#define WM8350_AIF_TEST                         0x74</span>
<span class="cp">#define WM8350_JACK_PIN_STATUS                  0xE7</span>

<span class="cm">/* Bit values for R08 (0x08) */</span>
<span class="cp">#define WM8350_CODEC_ISEL_1_5                   0	</span><span class="cm">/* x1.5 */</span><span class="cp"></span>
<span class="cp">#define WM8350_CODEC_ISEL_1_0                   1	</span><span class="cm">/* x1.0 */</span><span class="cp"></span>
<span class="cp">#define WM8350_CODEC_ISEL_0_75                  2	</span><span class="cm">/* x0.75 */</span><span class="cp"></span>
<span class="cp">#define WM8350_CODEC_ISEL_0_5                   3	</span><span class="cm">/* x0.5 */</span><span class="cp"></span>

<span class="cp">#define WM8350_VMID_OFF                         0</span>
<span class="cp">#define WM8350_VMID_300K                        1</span>
<span class="cp">#define WM8350_VMID_50K                         2</span>
<span class="cp">#define WM8350_VMID_5K                          3</span>

<span class="cm">/*</span>
<span class="cm"> * R40 (0x28) - Clock Control 1</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_TOCLK_RATE                       0x4000</span>
<span class="cp">#define WM8350_MCLK_SEL                         0x0800</span>
<span class="cp">#define WM8350_MCLK_DIV_MASK                    0x0100</span>
<span class="cp">#define WM8350_BCLK_DIV_MASK                    0x00F0</span>
<span class="cp">#define WM8350_OPCLK_DIV_MASK                   0x0007</span>

<span class="cm">/*</span>
<span class="cm"> * R41 (0x29) - Clock Control 2</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_LRC_ADC_SEL                      0x8000</span>
<span class="cp">#define WM8350_MCLK_DIR                         0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R42 (0x2A) - FLL Control 1</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_FLL_DITHER_WIDTH_MASK            0x3000</span>
<span class="cp">#define WM8350_FLL_DITHER_HP                    0x0800</span>
<span class="cp">#define WM8350_FLL_OUTDIV_MASK                  0x0700</span>
<span class="cp">#define WM8350_FLL_RSP_RATE_MASK                0x00F0</span>
<span class="cp">#define WM8350_FLL_RATE_MASK                    0x0007</span>

<span class="cm">/*</span>
<span class="cm"> * R43 (0x2B) - FLL Control 2</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_FLL_RATIO_MASK                   0xF800</span>
<span class="cp">#define WM8350_FLL_N_MASK                       0x03FF</span>

<span class="cm">/*</span>
<span class="cm"> * R44 (0x2C) - FLL Control 3</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_FLL_K_MASK                       0xFFFF</span>

<span class="cm">/*</span>
<span class="cm"> * R45 (0x2D) - FLL Control 4</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_FLL_FRAC                         0x0020</span>
<span class="cp">#define WM8350_FLL_SLOW_LOCK_REF                0x0010</span>
<span class="cp">#define WM8350_FLL_CLK_SRC_MASK                 0x0003</span>

<span class="cm">/*</span>
<span class="cm"> * R48 (0x30) - DAC Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DAC_MONO                         0x2000</span>
<span class="cp">#define WM8350_AIF_LRCLKRATE                    0x1000</span>
<span class="cp">#define WM8350_DEEMP_MASK                       0x0030</span>
<span class="cp">#define WM8350_DACL_DATINV                      0x0002</span>
<span class="cp">#define WM8350_DACR_DATINV                      0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R50 (0x32) - DAC Digital Volume L</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DAC_VU                           0x0100</span>
<span class="cp">#define WM8350_DACL_VOL_MASK                    0x00FF</span>

<span class="cm">/*</span>
<span class="cm"> * R51 (0x33) - DAC Digital Volume R</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DAC_VU                           0x0100</span>
<span class="cp">#define WM8350_DACR_VOL_MASK                    0x00FF</span>

<span class="cm">/*</span>
<span class="cm"> * R53 (0x35) - DAC LR Rate</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DACLRC_ENA                       0x0800</span>
<span class="cp">#define WM8350_DACLRC_RATE_MASK                 0x07FF</span>

<span class="cm">/*</span>
<span class="cm"> * R54 (0x36) - DAC Clock Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DACCLK_POL                       0x0010</span>
<span class="cp">#define WM8350_DAC_CLKDIV_MASK                  0x0007</span>

<span class="cm">/*</span>
<span class="cm"> * R58 (0x3A) - DAC Mute</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DAC_MUTE_ENA                     0x4000</span>

<span class="cm">/*</span>
<span class="cm"> * R59 (0x3B) - DAC Mute Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DAC_MUTEMODE                     0x4000</span>
<span class="cp">#define WM8350_DAC_MUTERATE                     0x2000</span>
<span class="cp">#define WM8350_DAC_SB_FILT                      0x1000</span>

<span class="cm">/*</span>
<span class="cm"> * R60 (0x3C) - DAC Side</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_ADC_TO_DACL_MASK                 0x3000</span>
<span class="cp">#define WM8350_ADC_TO_DACR_MASK                 0x0C00</span>

<span class="cm">/*</span>
<span class="cm"> * R64 (0x40) - ADC Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_ADC_HPF_CUT_MASK                 0x0300</span>
<span class="cp">#define WM8350_ADCL_DATINV                      0x0002</span>
<span class="cp">#define WM8350_ADCR_DATINV                      0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R66 (0x42) - ADC Digital Volume L</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_ADC_VU                           0x0100</span>
<span class="cp">#define WM8350_ADCL_VOL_MASK                    0x00FF</span>

<span class="cm">/*</span>
<span class="cm"> * R67 (0x43) - ADC Digital Volume R</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_ADC_VU                           0x0100</span>
<span class="cp">#define WM8350_ADCR_VOL_MASK                    0x00FF</span>

<span class="cm">/*</span>
<span class="cm"> * R68 (0x44) - ADC Divider</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_ADCL_DAC_SVOL_MASK               0x0F00</span>
<span class="cp">#define WM8350_ADCR_DAC_SVOL_MASK               0x00F0</span>
<span class="cp">#define WM8350_ADCCLK_POL                       0x0008</span>
<span class="cp">#define WM8350_ADC_CLKDIV_MASK                  0x0007</span>

<span class="cm">/*</span>
<span class="cm"> * R70 (0x46) - ADC LR Rate</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_ADCLRC_ENA                       0x0800</span>
<span class="cp">#define WM8350_ADCLRC_RATE_MASK                 0x07FF</span>

<span class="cm">/*</span>
<span class="cm"> * R72 (0x48) - Input Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IN2R_ENA                         0x0400</span>
<span class="cp">#define WM8350_IN1RN_ENA                        0x0200</span>
<span class="cp">#define WM8350_IN1RP_ENA                        0x0100</span>
<span class="cp">#define WM8350_IN2L_ENA                         0x0004</span>
<span class="cp">#define WM8350_IN1LN_ENA                        0x0002</span>
<span class="cp">#define WM8350_IN1LP_ENA                        0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R73 (0x49) - IN3 Input Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IN3R_SHORT                       0x4000</span>
<span class="cp">#define WM8350_IN3L_SHORT                       0x0040</span>

<span class="cm">/*</span>
<span class="cm"> * R74 (0x4A) - Mic Bias Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_MICBSEL                          0x4000</span>
<span class="cp">#define WM8350_MCDTHR_MASK                      0x001C</span>
<span class="cp">#define WM8350_MCDSCTHR_MASK                    0x0003</span>

<span class="cm">/*</span>
<span class="cm"> * R76 (0x4C) - Output Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_OUT4_VROI                        0x0800</span>
<span class="cp">#define WM8350_OUT3_VROI                        0x0400</span>
<span class="cp">#define WM8350_OUT2_VROI                        0x0200</span>
<span class="cp">#define WM8350_OUT1_VROI                        0x0100</span>
<span class="cp">#define WM8350_OUT2_FB                          0x0004</span>
<span class="cp">#define WM8350_OUT1_FB                          0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R77 (0x4D) - Jack Detect</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_JDL_ENA                          0x8000</span>
<span class="cp">#define WM8350_JDR_ENA                          0x4000</span>

<span class="cm">/*</span>
<span class="cm"> * R78 (0x4E) - Anti Pop Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_ANTI_POP_MASK                    0x0300</span>
<span class="cp">#define WM8350_DIS_OP_LN4_MASK                  0x00C0</span>
<span class="cp">#define WM8350_DIS_OP_LN3_MASK                  0x0030</span>
<span class="cp">#define WM8350_DIS_OP_OUT2_MASK                 0x000C</span>
<span class="cp">#define WM8350_DIS_OP_OUT1_MASK                 0x0003</span>

<span class="cm">/*</span>
<span class="cm"> * R80 (0x50) - Left Input Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_INL_MUTE                         0x4000</span>
<span class="cp">#define WM8350_INL_ZC                           0x2000</span>
<span class="cp">#define WM8350_IN_VU                            0x0100</span>
<span class="cp">#define WM8350_INL_VOL_MASK                     0x00FC</span>

<span class="cm">/*</span>
<span class="cm"> * R81 (0x51) - Right Input Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_INR_MUTE                         0x4000</span>
<span class="cp">#define WM8350_INR_ZC                           0x2000</span>
<span class="cp">#define WM8350_IN_VU                            0x0100</span>
<span class="cp">#define WM8350_INR_VOL_MASK                     0x00FC</span>

<span class="cm">/*</span>
<span class="cm"> * R88 (0x58) - Left Mixer Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DACR_TO_MIXOUTL                  0x1000</span>
<span class="cp">#define WM8350_DACL_TO_MIXOUTL                  0x0800</span>
<span class="cp">#define WM8350_IN3L_TO_MIXOUTL                  0x0004</span>
<span class="cp">#define WM8350_INR_TO_MIXOUTL                   0x0002</span>
<span class="cp">#define WM8350_INL_TO_MIXOUTL                   0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R89 (0x59) - Right Mixer Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DACR_TO_MIXOUTR                  0x1000</span>
<span class="cp">#define WM8350_DACL_TO_MIXOUTR                  0x0800</span>
<span class="cp">#define WM8350_IN3R_TO_MIXOUTR                  0x0008</span>
<span class="cp">#define WM8350_INR_TO_MIXOUTR                   0x0002</span>
<span class="cp">#define WM8350_INL_TO_MIXOUTR                   0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R92 (0x5C) - OUT3 Mixer Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DACL_TO_OUT3                     0x0800</span>
<span class="cp">#define WM8350_MIXINL_TO_OUT3                   0x0100</span>
<span class="cp">#define WM8350_OUT4_TO_OUT3                     0x0008</span>
<span class="cp">#define WM8350_MIXOUTL_TO_OUT3                  0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R93 (0x5D) - OUT4 Mixer Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DACR_TO_OUT4                     0x1000</span>
<span class="cp">#define WM8350_DACL_TO_OUT4                     0x0800</span>
<span class="cp">#define WM8350_OUT4_ATTN                        0x0400</span>
<span class="cp">#define WM8350_MIXINR_TO_OUT4                   0x0200</span>
<span class="cp">#define WM8350_OUT3_TO_OUT4                     0x0004</span>
<span class="cp">#define WM8350_MIXOUTR_TO_OUT4                  0x0002</span>
<span class="cp">#define WM8350_MIXOUTL_TO_OUT4                  0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R96 (0x60) - Output Left Mixer Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_MASK            0x0E00</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_SHIFT                9</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_MASK             0x00E0</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_SHIFT                 5</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_MASK             0x000E</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_SHIFT                 1</span>

<span class="cm">/* Bit values for R96 (0x60) */</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_OFF                  0</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_M12DB                1</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_M9DB                 2</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_M6DB                 3</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_M3DB                 4</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_0DB                  5</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_3DB                  6</span>
<span class="cp">#define WM8350_IN3L_MIXOUTL_VOL_6DB                  7</span>

<span class="cp">#define WM8350_INR_MIXOUTL_VOL_OFF                   0</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_M12DB                 1</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_M9DB                  2</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_M6DB                  3</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_M3DB                  4</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_0DB                   5</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_3DB                   6</span>
<span class="cp">#define WM8350_INR_MIXOUTL_VOL_6DB                   7</span>

<span class="cp">#define WM8350_INL_MIXOUTL_VOL_OFF                   0</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_M12DB                 1</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_M9DB                  2</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_M6DB                  3</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_M3DB                  4</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_0DB                   5</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_3DB                   6</span>
<span class="cp">#define WM8350_INL_MIXOUTL_VOL_6DB                   7</span>

<span class="cm">/*</span>
<span class="cm"> * R97 (0x61) - Output Right Mixer Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_MASK            0xE000</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_SHIFT               13</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_MASK             0x00E0</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_SHIFT                 5</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_MASK             0x000E</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_SHIFT                 1</span>

<span class="cm">/* Bit values for R96 (0x60) */</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_OFF                  0</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_M12DB                1</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_M9DB                 2</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_M6DB                 3</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_M3DB                 4</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_0DB                  5</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_3DB                  6</span>
<span class="cp">#define WM8350_IN3R_MIXOUTR_VOL_6DB                  7</span>

<span class="cp">#define WM8350_INR_MIXOUTR_VOL_OFF                   0</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_M12DB                 1</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_M9DB                  2</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_M6DB                  3</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_M3DB                  4</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_0DB                   5</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_3DB                   6</span>
<span class="cp">#define WM8350_INR_MIXOUTR_VOL_6DB                   7</span>

<span class="cp">#define WM8350_INL_MIXOUTR_VOL_OFF                   0</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_M12DB                 1</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_M9DB                  2</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_M6DB                  3</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_M3DB                  4</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_0DB                   5</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_3DB                   6</span>
<span class="cp">#define WM8350_INL_MIXOUTR_VOL_6DB                   7</span>

<span class="cm">/*</span>
<span class="cm"> * R98 (0x62) - Input Mixer Volume L</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IN3L_MIXINL_VOL_MASK             0x0E00</span>
<span class="cp">#define WM8350_IN2L_MIXINL_VOL_MASK             0x000E</span>
<span class="cp">#define WM8350_INL_MIXINL_VOL                   0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R99 (0x63) - Input Mixer Volume R</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IN3R_MIXINR_VOL_MASK             0xE000</span>
<span class="cp">#define WM8350_IN2R_MIXINR_VOL_MASK             0x00E0</span>
<span class="cp">#define WM8350_INR_MIXINR_VOL                   0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R100 (0x64) - Input Mixer Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_OUT4_MIXIN_DST                   0x8000</span>
<span class="cp">#define WM8350_OUT4_MIXIN_VOL_MASK              0x000E</span>

<span class="cm">/*</span>
<span class="cm"> * R104 (0x68) - LOUT1 Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_OUT1L_MUTE                       0x4000</span>
<span class="cp">#define WM8350_OUT1L_ZC                         0x2000</span>
<span class="cp">#define WM8350_OUT1_VU                          0x0100</span>
<span class="cp">#define WM8350_OUT1L_VOL_MASK                   0x00FC</span>
<span class="cp">#define WM8350_OUT1L_VOL_SHIFT                       2</span>

<span class="cm">/*</span>
<span class="cm"> * R105 (0x69) - ROUT1 Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_OUT1R_MUTE                       0x4000</span>
<span class="cp">#define WM8350_OUT1R_ZC                         0x2000</span>
<span class="cp">#define WM8350_OUT1_VU                          0x0100</span>
<span class="cp">#define WM8350_OUT1R_VOL_MASK                   0x00FC</span>
<span class="cp">#define WM8350_OUT1R_VOL_SHIFT                       2</span>

<span class="cm">/*</span>
<span class="cm"> * R106 (0x6A) - LOUT2 Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_OUT2L_MUTE                       0x4000</span>
<span class="cp">#define WM8350_OUT2L_ZC                         0x2000</span>
<span class="cp">#define WM8350_OUT2_VU                          0x0100</span>
<span class="cp">#define WM8350_OUT2L_VOL_MASK                   0x00FC</span>

<span class="cm">/*</span>
<span class="cm"> * R107 (0x6B) - ROUT2 Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_OUT2R_MUTE                       0x4000</span>
<span class="cp">#define WM8350_OUT2R_ZC                         0x2000</span>
<span class="cp">#define WM8350_OUT2R_INV                        0x0400</span>
<span class="cp">#define WM8350_OUT2R_INV_MUTE                   0x0200</span>
<span class="cp">#define WM8350_OUT2_VU                          0x0100</span>
<span class="cp">#define WM8350_OUT2R_VOL_MASK                   0x00FC</span>

<span class="cm">/*</span>
<span class="cm"> * R111 (0x6F) - BEEP Volume</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IN3R_OUT2R_VOL_MASK              0x00E0</span>

<span class="cm">/*</span>
<span class="cm"> * R112 (0x70) - AI Formating</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_AIF_BCLK_INV                     0x8000</span>
<span class="cp">#define WM8350_AIF_TRI                          0x2000</span>
<span class="cp">#define WM8350_AIF_LRCLK_INV                    0x1000</span>
<span class="cp">#define WM8350_AIF_WL_MASK                      0x0C00</span>
<span class="cp">#define WM8350_AIF_FMT_MASK                     0x0300</span>

<span class="cm">/*</span>
<span class="cm"> * R113 (0x71) - ADC DAC COMP</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_DAC_COMP                         0x0080</span>
<span class="cp">#define WM8350_DAC_COMPMODE                     0x0040</span>
<span class="cp">#define WM8350_ADC_COMP                         0x0020</span>
<span class="cp">#define WM8350_ADC_COMPMODE                     0x0010</span>
<span class="cp">#define WM8350_LOOPBACK                         0x0001</span>

<span class="cm">/*</span>
<span class="cm"> * R114 (0x72) - AI ADC Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_AIFADC_PD                        0x0080</span>
<span class="cp">#define WM8350_AIFADCL_SRC                      0x0040</span>
<span class="cp">#define WM8350_AIFADCR_SRC                      0x0020</span>
<span class="cp">#define WM8350_AIFADC_TDM_CHAN                  0x0010</span>
<span class="cp">#define WM8350_AIFADC_TDM                       0x0008</span>

<span class="cm">/*</span>
<span class="cm"> * R115 (0x73) - AI DAC Control</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_BCLK_MSTR                        0x4000</span>
<span class="cp">#define WM8350_AIFDAC_PD                        0x0080</span>
<span class="cp">#define WM8350_DACL_SRC                         0x0040</span>
<span class="cp">#define WM8350_DACR_SRC                         0x0020</span>
<span class="cp">#define WM8350_AIFDAC_TDM_CHAN                  0x0010</span>
<span class="cp">#define WM8350_AIFDAC_TDM                       0x0008</span>
<span class="cp">#define WM8350_DAC_BOOST_MASK                   0x0003</span>

<span class="cm">/*</span>
<span class="cm"> * R116 (0x74) - AIF Test</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_CODEC_BYP                        0x4000</span>
<span class="cp">#define WM8350_AIFADC_WR_TST                    0x2000</span>
<span class="cp">#define WM8350_AIFADC_RD_TST                    0x1000</span>
<span class="cp">#define WM8350_AIFDAC_WR_TST                    0x0800</span>
<span class="cp">#define WM8350_AIFDAC_RD_TST                    0x0400</span>
<span class="cp">#define WM8350_AIFADC_ASYN                      0x0020</span>
<span class="cp">#define WM8350_AIFDAC_ASYN                      0x0010</span>

<span class="cm">/*</span>
<span class="cm"> * R231 (0xE7) - Jack Status</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_JACK_L_LVL			0x0800</span>
<span class="cp">#define WM8350_JACK_R_LVL                       0x0400</span>
<span class="cp">#define WM8350_JACK_MICSCD_LVL			0x0200</span>
<span class="cp">#define WM8350_JACK_MICSD_LVL			0x0100</span>

<span class="cm">/*</span>
<span class="cm"> * WM8350 Platform setup</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_S_CURVE_NONE			0x0</span>
<span class="cp">#define WM8350_S_CURVE_FAST			0x1</span>
<span class="cp">#define WM8350_S_CURVE_MEDIUM			0x2</span>
<span class="cp">#define WM8350_S_CURVE_SLOW			0x3</span>

<span class="cp">#define WM8350_DISCHARGE_OFF			0x0</span>
<span class="cp">#define WM8350_DISCHARGE_FAST			0x1</span>
<span class="cp">#define WM8350_DISCHARGE_MEDIUM			0x2</span>
<span class="cp">#define WM8350_DISCHARGE_SLOW			0x3</span>

<span class="cp">#define WM8350_TIE_OFF_500R			0x0</span>
<span class="cp">#define WM8350_TIE_OFF_30K			0x1</span>

<span class="cm">/*</span>
<span class="cm"> * Clock sources &amp; directions</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_SYSCLK				0</span>

<span class="cp">#define WM8350_MCLK_SEL_PLL_MCLK		0</span>
<span class="cp">#define WM8350_MCLK_SEL_PLL_DAC			1</span>
<span class="cp">#define WM8350_MCLK_SEL_PLL_ADC			2</span>
<span class="cp">#define WM8350_MCLK_SEL_PLL_32K			3</span>
<span class="cp">#define WM8350_MCLK_SEL_MCLK			5</span>

<span class="cm">/* clock divider id&#39;s */</span>
<span class="cp">#define WM8350_ADC_CLKDIV			0</span>
<span class="cp">#define WM8350_DAC_CLKDIV			1</span>
<span class="cp">#define WM8350_BCLK_CLKDIV			2</span>
<span class="cp">#define WM8350_OPCLK_CLKDIV			3</span>
<span class="cp">#define WM8350_TO_CLKDIV			4</span>
<span class="cp">#define WM8350_SYS_CLKDIV			5</span>
<span class="cp">#define WM8350_DACLR_CLKDIV			6</span>
<span class="cp">#define WM8350_ADCLR_CLKDIV			7</span>

<span class="cm">/* ADC clock dividers */</span>
<span class="cp">#define WM8350_ADCDIV_1				0x0</span>
<span class="cp">#define WM8350_ADCDIV_1_5			0x1</span>
<span class="cp">#define WM8350_ADCDIV_2				0x2</span>
<span class="cp">#define WM8350_ADCDIV_3				0x3</span>
<span class="cp">#define WM8350_ADCDIV_4				0x4</span>
<span class="cp">#define WM8350_ADCDIV_5_5			0x5</span>
<span class="cp">#define WM8350_ADCDIV_6				0x6</span>

<span class="cm">/* ADC clock dividers */</span>
<span class="cp">#define WM8350_DACDIV_1				0x0</span>
<span class="cp">#define WM8350_DACDIV_1_5			0x1</span>
<span class="cp">#define WM8350_DACDIV_2				0x2</span>
<span class="cp">#define WM8350_DACDIV_3				0x3</span>
<span class="cp">#define WM8350_DACDIV_4				0x4</span>
<span class="cp">#define WM8350_DACDIV_5_5			0x5</span>
<span class="cp">#define WM8350_DACDIV_6				0x6</span>

<span class="cm">/* BCLK clock dividers */</span>
<span class="cp">#define WM8350_BCLK_DIV_1			(0x0 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_1_5			(0x1 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_2			(0x2 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_3			(0x3 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_4			(0x4 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_5_5			(0x5 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_6			(0x6 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_8			(0x7 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_11			(0x8 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_12			(0x9 &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_16			(0xa &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_22			(0xb &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_24			(0xc &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_32			(0xd &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_44			(0xe &lt;&lt; 4)</span>
<span class="cp">#define WM8350_BCLK_DIV_48			(0xf &lt;&lt; 4)</span>

<span class="cm">/* Sys (MCLK) clock dividers */</span>
<span class="cp">#define WM8350_MCLK_DIV_1			(0x0 &lt;&lt; 8)</span>
<span class="cp">#define WM8350_MCLK_DIV_2			(0x1 &lt;&lt; 8)</span>

<span class="cm">/* OP clock dividers */</span>
<span class="cp">#define WM8350_OPCLK_DIV_1			0x0</span>
<span class="cp">#define WM8350_OPCLK_DIV_2			0x1</span>
<span class="cp">#define WM8350_OPCLK_DIV_3			0x2</span>
<span class="cp">#define WM8350_OPCLK_DIV_4			0x3</span>
<span class="cp">#define WM8350_OPCLK_DIV_5_5			0x4</span>
<span class="cp">#define WM8350_OPCLK_DIV_6			0x5</span>

<span class="cm">/* DAI ID */</span>
<span class="cp">#define WM8350_HIFI_DAI				0</span>

<span class="cm">/*</span>
<span class="cm"> * Audio interrupts.</span>
<span class="cm"> */</span>
<span class="cp">#define WM8350_IRQ_CODEC_JCK_DET_L		39</span>
<span class="cp">#define WM8350_IRQ_CODEC_JCK_DET_R		40</span>
<span class="cp">#define WM8350_IRQ_CODEC_MICSCD			41</span>
<span class="cp">#define WM8350_IRQ_CODEC_MICD			42</span>

<span class="cm">/*</span>
<span class="cm"> * WM8350 Platform data.</span>
<span class="cm"> *</span>
<span class="cm"> * This must be initialised per platform for best audio performance.</span>
<span class="cm"> * Please see WM8350 datasheet for information.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">wm8350_audio_platform_data</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">vmid_discharge_msecs</span><span class="p">;</span>	<span class="cm">/* VMID --&gt; OFF discharge time */</span>
	<span class="kt">int</span> <span class="n">drain_msecs</span><span class="p">;</span>	<span class="cm">/* OFF drain time */</span>
	<span class="kt">int</span> <span class="n">cap_discharge_msecs</span><span class="p">;</span>	<span class="cm">/* Cap ON (from OFF) discharge time */</span>
	<span class="kt">int</span> <span class="n">vmid_charge_msecs</span><span class="p">;</span>	<span class="cm">/* vmid power up time */</span>
	<span class="n">u32</span> <span class="n">vmid_s_curve</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>	<span class="cm">/* vmid enable s curve speed */</span>
	<span class="n">u32</span> <span class="n">dis_out4</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>		<span class="cm">/* out4 discharge speed */</span>
	<span class="n">u32</span> <span class="n">dis_out3</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>		<span class="cm">/* out3 discharge speed */</span>
	<span class="n">u32</span> <span class="n">dis_out2</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>		<span class="cm">/* out2 discharge speed */</span>
	<span class="n">u32</span> <span class="n">dis_out1</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>		<span class="cm">/* out1 discharge speed */</span>
	<span class="n">u32</span> <span class="n">vroi_out4</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* out4 tie off */</span>
	<span class="n">u32</span> <span class="n">vroi_out3</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* out3 tie off */</span>
	<span class="n">u32</span> <span class="n">vroi_out2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* out2 tie off */</span>
	<span class="n">u32</span> <span class="n">vroi_out1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* out1 tie off */</span>
	<span class="n">u32</span> <span class="n">vroi_enable</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* enable tie off */</span>
	<span class="n">u32</span> <span class="n">codec_current_on</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>	<span class="cm">/* current level ON */</span>
	<span class="n">u32</span> <span class="n">codec_current_standby</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>	<span class="cm">/* current level STANDBY */</span>
	<span class="n">u32</span> <span class="n">codec_current_charge</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>	<span class="cm">/* codec current @ vmid charge */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">snd_soc_codec</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">wm8350_codec</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">pdev</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">snd_soc_codec</span> <span class="o">*</span><span class="n">codec</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wm8350_audio_platform_data</span> <span class="o">*</span><span class="n">platform_data</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
