<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › mfd › twl4030-audio.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>twl4030-audio.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * MFD driver for twl4030 audio submodule</span>
<span class="cm"> *</span>
<span class="cm"> * Author: Peter Ujfalusi &lt;peter.ujfalusi@ti.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright:   (C) 2009 Nokia Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> * General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA</span>
<span class="cm"> * 02110-1301 USA</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __TWL4030_CODEC_H__</span>
<span class="cp">#define __TWL4030_CODEC_H__</span>

<span class="cm">/* Codec registers */</span>
<span class="cp">#define TWL4030_REG_CODEC_MODE		0x01</span>
<span class="cp">#define TWL4030_REG_OPTION		0x02</span>
<span class="cp">#define TWL4030_REG_UNKNOWN		0x03</span>
<span class="cp">#define TWL4030_REG_MICBIAS_CTL		0x04</span>
<span class="cp">#define TWL4030_REG_ANAMICL		0x05</span>
<span class="cp">#define TWL4030_REG_ANAMICR		0x06</span>
<span class="cp">#define TWL4030_REG_AVADC_CTL		0x07</span>
<span class="cp">#define TWL4030_REG_ADCMICSEL		0x08</span>
<span class="cp">#define TWL4030_REG_DIGMIXING		0x09</span>
<span class="cp">#define TWL4030_REG_ATXL1PGA		0x0A</span>
<span class="cp">#define TWL4030_REG_ATXR1PGA		0x0B</span>
<span class="cp">#define TWL4030_REG_AVTXL2PGA		0x0C</span>
<span class="cp">#define TWL4030_REG_AVTXR2PGA		0x0D</span>
<span class="cp">#define TWL4030_REG_AUDIO_IF		0x0E</span>
<span class="cp">#define TWL4030_REG_VOICE_IF		0x0F</span>
<span class="cp">#define TWL4030_REG_ARXR1PGA		0x10</span>
<span class="cp">#define TWL4030_REG_ARXL1PGA		0x11</span>
<span class="cp">#define TWL4030_REG_ARXR2PGA		0x12</span>
<span class="cp">#define TWL4030_REG_ARXL2PGA		0x13</span>
<span class="cp">#define TWL4030_REG_VRXPGA		0x14</span>
<span class="cp">#define TWL4030_REG_VSTPGA		0x15</span>
<span class="cp">#define TWL4030_REG_VRX2ARXPGA		0x16</span>
<span class="cp">#define TWL4030_REG_AVDAC_CTL		0x17</span>
<span class="cp">#define TWL4030_REG_ARX2VTXPGA		0x18</span>
<span class="cp">#define TWL4030_REG_ARXL1_APGA_CTL	0x19</span>
<span class="cp">#define TWL4030_REG_ARXR1_APGA_CTL	0x1A</span>
<span class="cp">#define TWL4030_REG_ARXL2_APGA_CTL	0x1B</span>
<span class="cp">#define TWL4030_REG_ARXR2_APGA_CTL	0x1C</span>
<span class="cp">#define TWL4030_REG_ATX2ARXPGA		0x1D</span>
<span class="cp">#define TWL4030_REG_BT_IF		0x1E</span>
<span class="cp">#define TWL4030_REG_BTPGA		0x1F</span>
<span class="cp">#define TWL4030_REG_BTSTPGA		0x20</span>
<span class="cp">#define TWL4030_REG_EAR_CTL		0x21</span>
<span class="cp">#define TWL4030_REG_HS_SEL		0x22</span>
<span class="cp">#define TWL4030_REG_HS_GAIN_SET		0x23</span>
<span class="cp">#define TWL4030_REG_HS_POPN_SET		0x24</span>
<span class="cp">#define TWL4030_REG_PREDL_CTL		0x25</span>
<span class="cp">#define TWL4030_REG_PREDR_CTL		0x26</span>
<span class="cp">#define TWL4030_REG_PRECKL_CTL		0x27</span>
<span class="cp">#define TWL4030_REG_PRECKR_CTL		0x28</span>
<span class="cp">#define TWL4030_REG_HFL_CTL		0x29</span>
<span class="cp">#define TWL4030_REG_HFR_CTL		0x2A</span>
<span class="cp">#define TWL4030_REG_ALC_CTL		0x2B</span>
<span class="cp">#define TWL4030_REG_ALC_SET1		0x2C</span>
<span class="cp">#define TWL4030_REG_ALC_SET2		0x2D</span>
<span class="cp">#define TWL4030_REG_BOOST_CTL		0x2E</span>
<span class="cp">#define TWL4030_REG_SOFTVOL_CTL		0x2F</span>
<span class="cp">#define TWL4030_REG_DTMF_FREQSEL	0x30</span>
<span class="cp">#define TWL4030_REG_DTMF_TONEXT1H	0x31</span>
<span class="cp">#define TWL4030_REG_DTMF_TONEXT1L	0x32</span>
<span class="cp">#define TWL4030_REG_DTMF_TONEXT2H	0x33</span>
<span class="cp">#define TWL4030_REG_DTMF_TONEXT2L	0x34</span>
<span class="cp">#define TWL4030_REG_DTMF_TONOFF		0x35</span>
<span class="cp">#define TWL4030_REG_DTMF_WANONOFF	0x36</span>
<span class="cp">#define TWL4030_REG_I2S_RX_SCRAMBLE_H	0x37</span>
<span class="cp">#define TWL4030_REG_I2S_RX_SCRAMBLE_M	0x38</span>
<span class="cp">#define TWL4030_REG_I2S_RX_SCRAMBLE_L	0x39</span>
<span class="cp">#define TWL4030_REG_APLL_CTL		0x3A</span>
<span class="cp">#define TWL4030_REG_DTMF_CTL		0x3B</span>
<span class="cp">#define TWL4030_REG_DTMF_PGA_CTL2	0x3C</span>
<span class="cp">#define TWL4030_REG_DTMF_PGA_CTL1	0x3D</span>
<span class="cp">#define TWL4030_REG_MISC_SET_1		0x3E</span>
<span class="cp">#define TWL4030_REG_PCMBTMUX		0x3F</span>
<span class="cp">#define TWL4030_REG_RX_PATH_SEL		0x43</span>
<span class="cp">#define TWL4030_REG_VDL_APGA_CTL	0x44</span>
<span class="cp">#define TWL4030_REG_VIBRA_CTL		0x45</span>
<span class="cp">#define TWL4030_REG_VIBRA_SET		0x46</span>
<span class="cp">#define TWL4030_REG_VIBRA_PWM_SET	0x47</span>
<span class="cp">#define TWL4030_REG_ANAMIC_GAIN		0x48</span>
<span class="cp">#define TWL4030_REG_MISC_SET_2		0x49</span>

<span class="cm">/* Bitfield Definitions */</span>

<span class="cm">/* TWL4030_CODEC_MODE (0x01) Fields */</span>
<span class="cp">#define TWL4030_APLL_RATE		0xF0</span>
<span class="cp">#define TWL4030_APLL_RATE_8000		0x00</span>
<span class="cp">#define TWL4030_APLL_RATE_11025		0x10</span>
<span class="cp">#define TWL4030_APLL_RATE_12000		0x20</span>
<span class="cp">#define TWL4030_APLL_RATE_16000		0x40</span>
<span class="cp">#define TWL4030_APLL_RATE_22050		0x50</span>
<span class="cp">#define TWL4030_APLL_RATE_24000		0x60</span>
<span class="cp">#define TWL4030_APLL_RATE_32000		0x80</span>
<span class="cp">#define TWL4030_APLL_RATE_44100		0x90</span>
<span class="cp">#define TWL4030_APLL_RATE_48000		0xA0</span>
<span class="cp">#define TWL4030_APLL_RATE_96000		0xE0</span>
<span class="cp">#define TWL4030_SEL_16K			0x08</span>
<span class="cp">#define TWL4030_CODECPDZ		0x02</span>
<span class="cp">#define TWL4030_OPT_MODE		0x01</span>
<span class="cp">#define TWL4030_OPTION_1		(1 &lt;&lt; 0)</span>
<span class="cp">#define TWL4030_OPTION_2		(0 &lt;&lt; 0)</span>

<span class="cm">/* TWL4030_OPTION (0x02) Fields */</span>
<span class="cp">#define TWL4030_ATXL1_EN		(1 &lt;&lt; 0)</span>
<span class="cp">#define TWL4030_ATXR1_EN		(1 &lt;&lt; 1)</span>
<span class="cp">#define TWL4030_ATXL2_VTXL_EN		(1 &lt;&lt; 2)</span>
<span class="cp">#define TWL4030_ATXR2_VTXR_EN		(1 &lt;&lt; 3)</span>
<span class="cp">#define TWL4030_ARXL1_VRX_EN		(1 &lt;&lt; 4)</span>
<span class="cp">#define TWL4030_ARXR1_EN		(1 &lt;&lt; 5)</span>
<span class="cp">#define TWL4030_ARXL2_EN		(1 &lt;&lt; 6)</span>
<span class="cp">#define TWL4030_ARXR2_EN		(1 &lt;&lt; 7)</span>

<span class="cm">/* TWL4030_REG_MICBIAS_CTL (0x04) Fields */</span>
<span class="cp">#define TWL4030_MICBIAS2_CTL		0x40</span>
<span class="cp">#define TWL4030_MICBIAS1_CTL		0x20</span>
<span class="cp">#define TWL4030_HSMICBIAS_EN		0x04</span>
<span class="cp">#define TWL4030_MICBIAS2_EN		0x02</span>
<span class="cp">#define TWL4030_MICBIAS1_EN		0x01</span>

<span class="cm">/* ANAMICL (0x05) Fields */</span>
<span class="cp">#define TWL4030_CNCL_OFFSET_START	0x80</span>
<span class="cp">#define TWL4030_OFFSET_CNCL_SEL		0x60</span>
<span class="cp">#define TWL4030_OFFSET_CNCL_SEL_ARX1	0x00</span>
<span class="cp">#define TWL4030_OFFSET_CNCL_SEL_ARX2	0x20</span>
<span class="cp">#define TWL4030_OFFSET_CNCL_SEL_VRX	0x40</span>
<span class="cp">#define TWL4030_OFFSET_CNCL_SEL_ALL	0x60</span>
<span class="cp">#define TWL4030_MICAMPL_EN		0x10</span>
<span class="cp">#define TWL4030_CKMIC_EN		0x08</span>
<span class="cp">#define TWL4030_AUXL_EN			0x04</span>
<span class="cp">#define TWL4030_HSMIC_EN		0x02</span>
<span class="cp">#define TWL4030_MAINMIC_EN		0x01</span>

<span class="cm">/* ANAMICR (0x06) Fields */</span>
<span class="cp">#define TWL4030_MICAMPR_EN		0x10</span>
<span class="cp">#define TWL4030_AUXR_EN			0x04</span>
<span class="cp">#define TWL4030_SUBMIC_EN		0x01</span>

<span class="cm">/* AVADC_CTL (0x07) Fields */</span>
<span class="cp">#define TWL4030_ADCL_EN			0x08</span>
<span class="cp">#define TWL4030_AVADC_CLK_PRIORITY	0x04</span>
<span class="cp">#define TWL4030_ADCR_EN			0x02</span>

<span class="cm">/* TWL4030_REG_ADCMICSEL (0x08) Fields */</span>
<span class="cp">#define TWL4030_DIGMIC1_EN		0x08</span>
<span class="cp">#define TWL4030_TX2IN_SEL		0x04</span>
<span class="cp">#define TWL4030_DIGMIC0_EN		0x02</span>
<span class="cp">#define TWL4030_TX1IN_SEL		0x01</span>

<span class="cm">/* AUDIO_IF (0x0E) Fields */</span>
<span class="cp">#define TWL4030_AIF_SLAVE_EN		0x80</span>
<span class="cp">#define TWL4030_DATA_WIDTH		0x60</span>
<span class="cp">#define TWL4030_DATA_WIDTH_16S_16W	0x00</span>
<span class="cp">#define TWL4030_DATA_WIDTH_32S_16W	0x40</span>
<span class="cp">#define TWL4030_DATA_WIDTH_32S_24W	0x60</span>
<span class="cp">#define TWL4030_AIF_FORMAT		0x18</span>
<span class="cp">#define TWL4030_AIF_FORMAT_CODEC	0x00</span>
<span class="cp">#define TWL4030_AIF_FORMAT_LEFT		0x08</span>
<span class="cp">#define TWL4030_AIF_FORMAT_RIGHT	0x10</span>
<span class="cp">#define TWL4030_AIF_FORMAT_TDM		0x18</span>
<span class="cp">#define TWL4030_AIF_TRI_EN		0x04</span>
<span class="cp">#define TWL4030_CLK256FS_EN		0x02</span>
<span class="cp">#define TWL4030_AIF_EN			0x01</span>

<span class="cm">/* VOICE_IF (0x0F) Fields */</span>
<span class="cp">#define TWL4030_VIF_SLAVE_EN		0x80</span>
<span class="cp">#define TWL4030_VIF_DIN_EN		0x40</span>
<span class="cp">#define TWL4030_VIF_DOUT_EN		0x20</span>
<span class="cp">#define TWL4030_VIF_SWAP		0x10</span>
<span class="cp">#define TWL4030_VIF_FORMAT		0x08</span>
<span class="cp">#define TWL4030_VIF_TRI_EN		0x04</span>
<span class="cp">#define TWL4030_VIF_SUB_EN		0x02</span>
<span class="cp">#define TWL4030_VIF_EN			0x01</span>

<span class="cm">/* EAR_CTL (0x21) */</span>
<span class="cp">#define TWL4030_EAR_GAIN		0x30</span>

<span class="cm">/* HS_GAIN_SET (0x23) Fields */</span>
<span class="cp">#define TWL4030_HSR_GAIN		0x0C</span>
<span class="cp">#define TWL4030_HSR_GAIN_PWR_DOWN	0x00</span>
<span class="cp">#define TWL4030_HSR_GAIN_PLUS_6DB	0x04</span>
<span class="cp">#define TWL4030_HSR_GAIN_0DB		0x08</span>
<span class="cp">#define TWL4030_HSR_GAIN_MINUS_6DB	0x0C</span>
<span class="cp">#define TWL4030_HSL_GAIN		0x03</span>
<span class="cp">#define TWL4030_HSL_GAIN_PWR_DOWN	0x00</span>
<span class="cp">#define TWL4030_HSL_GAIN_PLUS_6DB	0x01</span>
<span class="cp">#define TWL4030_HSL_GAIN_0DB		0x02</span>
<span class="cp">#define TWL4030_HSL_GAIN_MINUS_6DB	0x03</span>

<span class="cm">/* HS_POPN_SET (0x24) Fields */</span>
<span class="cp">#define TWL4030_VMID_EN			0x40</span>
<span class="cp">#define	TWL4030_EXTMUTE			0x20</span>
<span class="cp">#define TWL4030_RAMP_DELAY		0x1C</span>
<span class="cp">#define TWL4030_RAMP_DELAY_20MS		0x00</span>
<span class="cp">#define TWL4030_RAMP_DELAY_40MS		0x04</span>
<span class="cp">#define TWL4030_RAMP_DELAY_81MS		0x08</span>
<span class="cp">#define TWL4030_RAMP_DELAY_161MS	0x0C</span>
<span class="cp">#define TWL4030_RAMP_DELAY_323MS	0x10</span>
<span class="cp">#define TWL4030_RAMP_DELAY_645MS	0x14</span>
<span class="cp">#define TWL4030_RAMP_DELAY_1291MS	0x18</span>
<span class="cp">#define TWL4030_RAMP_DELAY_2581MS	0x1C</span>
<span class="cp">#define TWL4030_RAMP_EN			0x02</span>

<span class="cm">/* PREDL_CTL (0x25) */</span>
<span class="cp">#define TWL4030_PREDL_GAIN		0x30</span>

<span class="cm">/* PREDR_CTL (0x26) */</span>
<span class="cp">#define TWL4030_PREDR_GAIN		0x30</span>

<span class="cm">/* PRECKL_CTL (0x27) */</span>
<span class="cp">#define TWL4030_PRECKL_GAIN		0x30</span>

<span class="cm">/* PRECKR_CTL (0x28) */</span>
<span class="cp">#define TWL4030_PRECKR_GAIN		0x30</span>

<span class="cm">/* HFL_CTL (0x29, 0x2A) Fields */</span>
<span class="cp">#define TWL4030_HF_CTL_HB_EN		0x04</span>
<span class="cp">#define TWL4030_HF_CTL_LOOP_EN		0x08</span>
<span class="cp">#define TWL4030_HF_CTL_RAMP_EN		0x10</span>
<span class="cp">#define TWL4030_HF_CTL_REF_EN		0x20</span>

<span class="cm">/* APLL_CTL (0x3A) Fields */</span>
<span class="cp">#define TWL4030_APLL_EN			0x10</span>
<span class="cp">#define TWL4030_APLL_INFREQ		0x0F</span>
<span class="cp">#define TWL4030_APLL_INFREQ_19200KHZ	0x05</span>
<span class="cp">#define TWL4030_APLL_INFREQ_26000KHZ	0x06</span>
<span class="cp">#define TWL4030_APLL_INFREQ_38400KHZ	0x0F</span>

<span class="cm">/* REG_MISC_SET_1 (0x3E) Fields */</span>
<span class="cp">#define TWL4030_CLK64_EN		0x80</span>
<span class="cp">#define TWL4030_SCRAMBLE_EN		0x40</span>
<span class="cp">#define TWL4030_FMLOOP_EN		0x20</span>
<span class="cp">#define TWL4030_SMOOTH_ANAVOL_EN	0x02</span>
<span class="cp">#define TWL4030_DIGMIC_LR_SWAP_EN	0x01</span>

<span class="cm">/* VIBRA_CTL (0x45) */</span>
<span class="cp">#define TWL4030_VIBRA_EN		0x01</span>
<span class="cp">#define TWL4030_VIBRA_DIR		0x02</span>
<span class="cp">#define TWL4030_VIBRA_AUDIO_SEL_L1	(0x00 &lt;&lt; 2)</span>
<span class="cp">#define TWL4030_VIBRA_AUDIO_SEL_R1	(0x01 &lt;&lt; 2)</span>
<span class="cp">#define TWL4030_VIBRA_AUDIO_SEL_L2	(0x02 &lt;&lt; 2)</span>
<span class="cp">#define TWL4030_VIBRA_AUDIO_SEL_R2	(0x03 &lt;&lt; 2)</span>
<span class="cp">#define TWL4030_VIBRA_SEL		0x10</span>
<span class="cp">#define TWL4030_VIBRA_DIR_SEL		0x20</span>

<span class="cm">/* TWL4030 codec resource IDs */</span>
<span class="k">enum</span> <span class="n">twl4030_audio_res</span> <span class="p">{</span>
	<span class="n">TWL4030_AUDIO_RES_POWER</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">TWL4030_AUDIO_RES_APLL</span><span class="p">,</span>
	<span class="n">TWL4030_AUDIO_RES_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">twl4030_audio_disable_resource</span><span class="p">(</span><span class="k">enum</span> <span class="n">twl4030_audio_res</span> <span class="n">id</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">twl4030_audio_enable_resource</span><span class="p">(</span><span class="k">enum</span> <span class="n">twl4030_audio_res</span> <span class="n">id</span><span class="p">);</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">twl4030_audio_get_mclk</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#endif	</span><span class="cm">/* End of __TWL4030_CODEC_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
