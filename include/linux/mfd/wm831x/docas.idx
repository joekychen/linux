f | core.h | s | 20K | 396 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1337527634 |  | mfd: Emulate active low IRQs as well as active high IRQs for wm831x  As with the existing emulation this should not be used in production systems but is useful for test purposes.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | regulator.h | s | 75K | 1157 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1259663059 |  | mfd: Correct WM831X_MAX_ISEL_VALUE  There was confusion between the array size and the highest ISEL value possible.  Reported-by: Dan Carpenter <error27@gmail.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | watchdog.h | s | 2.7K | 48 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1253262949 |  | [WATCHDOG] Add support for WM831x watchdog  The WM831x series of devices provide a watchdog with configurable behaviour on timer expiry.  Currently this driver support refreshes via a register or GPIO line and autonomous refreshes from a hardware source (eg, a clock).  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | pmu.h | s | 11K | 180 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1252083752 |  | power_supply: Add driver for the PMU on WM831x PMICs  The WM831x PMICs provide power path management from three sources: a wall supply, USB and a battery with integrated charger. They also provide an additional backup supply with integrated for maintaining always on functionality such as the RTC and monitoring of power switches.  After some initial configuration at startup the device operates autonomously, the driver simply provides reporting of the current state.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
f | pdata.h | s | 4.6K | 129 | Thomas Weber | thomas@tweber.de | 1333670303 |  | Fix typo milivolt => millivolt  Signed-off-by: Thomas Weber <thomas@tweber.de> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | gpio.h | s | 3.1K | 56 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1267996649 |  | mfd: Add WM831x revision B support  Revision B of the WM831x devices changes the sense of the tristate bit for GPIO configuration, inverting it to become an enable instead. Take account of this in the gpiolib driver.  A current sink regulation status bit has also been added in revision B, add a flag indicating if it's present but don't use it yet.  This revision also adds an interrupt on key up for the ON pin event which the existing code is able to take advantage of.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | irq.h | s | 49K | 746 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1253173617 |  | mfd: Add WM831x interrupt support  The WM831x includes an interrupt controller managing interrupts for the various functions on the chip. This patch adds support for the core interrupt block on the device.  Ideally this would be supported by genirq, particularly for the GPIOs, but currently genirq is unable to cope with controllers on interrupt driven buses so we cut'n'paste the generic interface. Once genirq is able to cope chips like this it should be a case of filing the prefixes off the code and redoing wm831x-irq.c to move over.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | auxadc.h | s | 12K | 203 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1253173618 |  | mfd: Add WM831x AUXADC support  The WM831x contains an auxiliary ADC with a number of switchable inputs which is used to monitor some of the voltages and temperatures in the system and has some external inputs which can be used for machine specific purposes. Provide an API allowing drivers to read values from the ADC.  An internal reference voltage is provided to allow callibration of the ADC. This is used to calibrate the device at startup.  The hardware also supports continuous readings and digital comparators. These are not yet supported by the driver.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | status.h | s | 1.7K | 31 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1252330413 |  | leds: Add WM831x status LED driver  The WM831x devices feature two software controlled status LEDs with hardware assisted blinking.  The device can also autonomously control the LEDs based on a selection of sources.  This can be configured at boot time using either platform data or the chip OTP.  A sysfs file in the style of that for triggers allowing the control source to be configured at run time.  Triggers can't be used here since they can't depend on the implementation details of a specific LED type.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Richard Purdie <rpurdie@linux.intel.com>
f | otp.h | s | 7.2K | 142 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1253173619 |  | mfd: Add basic WM831x OTP support  The WM831x series of devices use OTP (One Time Programmable, a type of PROM) to store system configuration. At run time this data is visible via registers.  Currently the only explicitly supported feature is that the unique ID provided by every WM831x device is exported to user space via sysfs. Other configuration data may be read by system-specific code in the pre_init() and post_init() platform data operations.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
