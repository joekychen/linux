<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › mfd › max8997.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>max8997.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * max8997.h - Driver for the Maxim 8997/8966</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2009-2010 Samsung Electrnoics</span>
<span class="cm"> *  MyungJoo Ham &lt;myungjoo.ham@samsung.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<span class="cm"> *</span>
<span class="cm"> * This driver is based on max8998.h</span>
<span class="cm"> *</span>
<span class="cm"> * MAX8997 has PMIC, MUIC, HAPTIC, RTC, FLASH, and Fuel Gauge devices.</span>
<span class="cm"> * Except Fuel Gauge, every device shares the same I2C bus and included in</span>
<span class="cm"> * this mfd driver. Although the fuel gauge is included in the chip, it is</span>
<span class="cm"> * excluded from the driver because a) it has a different I2C bus from</span>
<span class="cm"> * others and b) it can be enabled simply by using MAX17042 driver.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __LINUX_MFD_MAX8998_H</span>
<span class="cp">#define __LINUX_MFD_MAX8998_H</span>

<span class="cp">#include &lt;linux/regulator/consumer.h&gt;</span>

<span class="cm">/* MAX8997/8966 regulator IDs */</span>
<span class="k">enum</span> <span class="n">max8998_regulators</span> <span class="p">{</span>
	<span class="n">MAX8997_LDO1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">MAX8997_LDO2</span><span class="p">,</span>
	<span class="n">MAX8997_LDO3</span><span class="p">,</span>
	<span class="n">MAX8997_LDO4</span><span class="p">,</span>
	<span class="n">MAX8997_LDO5</span><span class="p">,</span>
	<span class="n">MAX8997_LDO6</span><span class="p">,</span>
	<span class="n">MAX8997_LDO7</span><span class="p">,</span>
	<span class="n">MAX8997_LDO8</span><span class="p">,</span>
	<span class="n">MAX8997_LDO9</span><span class="p">,</span>
	<span class="n">MAX8997_LDO10</span><span class="p">,</span>
	<span class="n">MAX8997_LDO11</span><span class="p">,</span>
	<span class="n">MAX8997_LDO12</span><span class="p">,</span>
	<span class="n">MAX8997_LDO13</span><span class="p">,</span>
	<span class="n">MAX8997_LDO14</span><span class="p">,</span>
	<span class="n">MAX8997_LDO15</span><span class="p">,</span>
	<span class="n">MAX8997_LDO16</span><span class="p">,</span>
	<span class="n">MAX8997_LDO17</span><span class="p">,</span>
	<span class="n">MAX8997_LDO18</span><span class="p">,</span>
	<span class="n">MAX8997_LDO21</span><span class="p">,</span>
	<span class="n">MAX8997_BUCK1</span><span class="p">,</span>
	<span class="n">MAX8997_BUCK2</span><span class="p">,</span>
	<span class="n">MAX8997_BUCK3</span><span class="p">,</span>
	<span class="n">MAX8997_BUCK4</span><span class="p">,</span>
	<span class="n">MAX8997_BUCK5</span><span class="p">,</span>
	<span class="n">MAX8997_BUCK6</span><span class="p">,</span>
	<span class="n">MAX8997_BUCK7</span><span class="p">,</span>
	<span class="n">MAX8997_EN32KHZ_AP</span><span class="p">,</span>
	<span class="n">MAX8997_EN32KHZ_CP</span><span class="p">,</span>
	<span class="n">MAX8997_ENVICHG</span><span class="p">,</span>
	<span class="n">MAX8997_ESAFEOUT1</span><span class="p">,</span>
	<span class="n">MAX8997_ESAFEOUT2</span><span class="p">,</span>
	<span class="n">MAX8997_CHARGER_CV</span><span class="p">,</span> <span class="cm">/* control MBCCV of MBCCTRL3 */</span>
	<span class="n">MAX8997_CHARGER</span><span class="p">,</span> <span class="cm">/* charger current, MBCCTRL4 */</span>
	<span class="n">MAX8997_CHARGER_TOPOFF</span><span class="p">,</span> <span class="cm">/* MBCCTRL5 */</span>

	<span class="n">MAX8997_REG_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">max8997_regulator_data</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">id</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="o">*</span><span class="n">initdata</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">max8997_muic_usb_type</span> <span class="p">{</span>
	<span class="n">MAX8997_USB_HOST</span><span class="p">,</span>
	<span class="n">MAX8997_USB_DEVICE</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">max8997_muic_charger_type</span> <span class="p">{</span>
	<span class="n">MAX8997_CHARGER_TYPE_NONE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">MAX8997_CHARGER_TYPE_USB</span><span class="p">,</span>
	<span class="n">MAX8997_CHARGER_TYPE_DOWNSTREAM_PORT</span><span class="p">,</span>
	<span class="n">MAX8997_CHARGER_TYPE_DEDICATED_CHG</span><span class="p">,</span>
	<span class="n">MAX8997_CHARGER_TYPE_500MA</span><span class="p">,</span>
	<span class="n">MAX8997_CHARGER_TYPE_1A</span><span class="p">,</span>
	<span class="n">MAX8997_CHARGER_TYPE_DEAD_BATTERY</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">max8997_muic_reg_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">addr</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct max8997_muic_platform_data</span>
<span class="cm"> * @init_data: array of max8997_muic_reg_data</span>
<span class="cm"> *	       used for initializing registers of MAX8997 MUIC device</span>
<span class="cm"> * @num_init_data: array size of init_data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">max8997_muic_platform_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">max8997_muic_reg_data</span> <span class="o">*</span><span class="n">init_data</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">num_init_data</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">max8997_haptic_motor_type</span> <span class="p">{</span>
	<span class="n">MAX8997_HAPTIC_ERM</span><span class="p">,</span>
	<span class="n">MAX8997_HAPTIC_LRA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">max8997_haptic_pulse_mode</span> <span class="p">{</span>
	<span class="n">MAX8997_EXTERNAL_MODE</span><span class="p">,</span>
	<span class="n">MAX8997_INTERNAL_MODE</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">max8997_haptic_pwm_divisor</span> <span class="p">{</span>
	<span class="n">MAX8997_PWM_DIVISOR_32</span><span class="p">,</span>
	<span class="n">MAX8997_PWM_DIVISOR_64</span><span class="p">,</span>
	<span class="n">MAX8997_PWM_DIVISOR_128</span><span class="p">,</span>
	<span class="n">MAX8997_PWM_DIVISOR_256</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * max8997_haptic_platform_data</span>
<span class="cm"> * @pwm_channel_id: channel number of PWM device</span>
<span class="cm"> *		    valid for MAX8997_EXTERNAL_MODE</span>
<span class="cm"> * @pwm_period: period in nano second for PWM device</span>
<span class="cm"> *		valid for MAX8997_EXTERNAL_MODE</span>
<span class="cm"> * @type: motor type</span>
<span class="cm"> * @mode: pulse mode</span>
<span class="cm"> *     MAX8997_EXTERNAL_MODE: external PWM device is used to control motor</span>
<span class="cm"> *     MAX8997_INTERNAL_MODE: internal pulse generator is used to control motor</span>
<span class="cm"> * @pwm_divisor: divisor for external PWM device</span>
<span class="cm"> * @internal_mode_pattern: internal mode pattern for internal mode</span>
<span class="cm"> *     [0 - 3]: valid pattern number</span>
<span class="cm"> * @pattern_cycle: the number of cycles of the waveform</span>
<span class="cm"> *		   for the internal mode pattern</span>
<span class="cm"> *     [0 - 15]: available cycles</span>
<span class="cm"> * @pattern_signal_period: period of the waveform for the internal mode pattern</span>
<span class="cm"> *     [0 - 255]: available period</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">max8997_haptic_platform_data</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">pwm_channel_id</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">pwm_period</span><span class="p">;</span>

	<span class="k">enum</span> <span class="n">max8997_haptic_motor_type</span> <span class="n">type</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">max8997_haptic_pulse_mode</span> <span class="n">mode</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">max8997_haptic_pwm_divisor</span> <span class="n">pwm_divisor</span><span class="p">;</span>

	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">internal_mode_pattern</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">pattern_cycle</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">pattern_signal_period</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">max8997_led_mode</span> <span class="p">{</span>
	<span class="n">MAX8997_NONE</span><span class="p">,</span>
	<span class="n">MAX8997_FLASH_MODE</span><span class="p">,</span>
	<span class="n">MAX8997_MOVIE_MODE</span><span class="p">,</span>
	<span class="n">MAX8997_FLASH_PIN_CONTROL_MODE</span><span class="p">,</span>
	<span class="n">MAX8997_MOVIE_PIN_CONTROL_MODE</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> *  struct max8997_led_platform_data</span>
<span class="cm"> *  The number of LED devices for MAX8997 is two</span>
<span class="cm"> *  @mode: LED mode for each LED device</span>
<span class="cm"> *  @brightness: initial brightness for each LED device</span>
<span class="cm"> *	range:</span>
<span class="cm"> *	[0 - 31]: MAX8997_FLASH_MODE and MAX8997_FLASH_PIN_CONTROL_MODE</span>
<span class="cm"> *	[0 - 15]: MAX8997_MOVIE_MODE and MAX8997_MOVIE_PIN_CONTROL_MODE</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">max8997_led_platform_data</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="n">max8997_led_mode</span> <span class="n">mode</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">brightness</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">max8997_platform_data</span> <span class="p">{</span>
	<span class="cm">/* IRQ */</span>
	<span class="kt">int</span> <span class="n">irq_base</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ono</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">wakeup</span><span class="p">;</span>

	<span class="cm">/* ---- PMIC ---- */</span>
	<span class="k">struct</span> <span class="n">max8997_regulator_data</span> <span class="o">*</span><span class="n">regulators</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">num_regulators</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * SET1~3 DVS GPIOs control Buck1, 2, and 5 simultaneously. Therefore,</span>
<span class="cm">	 * With buckx_gpiodvs enabled, the buckx cannot be controlled</span>
<span class="cm">	 * independently. To control buckx (of 1, 2, and 5) independently,</span>
<span class="cm">	 * disable buckx_gpiodvs and control with BUCKxDVS1 register.</span>
<span class="cm">	 *</span>
<span class="cm">	 * When buckx_gpiodvs and bucky_gpiodvs are both enabled, set_voltage</span>
<span class="cm">	 * on buckx will change the voltage of bucky at the same time.</span>
<span class="cm">	 *</span>
<span class="cm">	 */</span>
	<span class="n">bool</span> <span class="n">ignore_gpiodvs_side_effect</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">buck125_gpios</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span> <span class="cm">/* GPIO of [0]SET1, [1]SET2, [2]SET3 */</span>
	<span class="kt">int</span> <span class="n">buck125_default_idx</span><span class="p">;</span> <span class="cm">/* Default value of SET1, 2, 3 */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">buck1_voltage</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span> <span class="cm">/* buckx_voltage in uV */</span>
	<span class="n">bool</span> <span class="n">buck1_gpiodvs</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">buck2_voltage</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">bool</span> <span class="n">buck2_gpiodvs</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">buck5_voltage</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">bool</span> <span class="n">buck5_gpiodvs</span><span class="p">;</span>

	<span class="cm">/* ---- Charger control ---- */</span>
	<span class="cm">/* eoc stands for &#39;end of charge&#39; */</span>
	<span class="kt">int</span> <span class="n">eoc_mA</span><span class="p">;</span> <span class="cm">/* 50 ~ 200mA by 10mA step */</span>
	<span class="cm">/* charge Full Timeout */</span>
	<span class="kt">int</span> <span class="n">timeout</span><span class="p">;</span> <span class="cm">/* 0 (no timeout), 5, 6, 7 hours */</span>

	<span class="cm">/* ---- MUIC ---- */</span>
	<span class="k">struct</span> <span class="n">max8997_muic_platform_data</span> <span class="o">*</span><span class="n">muic_pdata</span><span class="p">;</span>

	<span class="cm">/* ---- HAPTIC ---- */</span>
	<span class="k">struct</span> <span class="n">max8997_haptic_platform_data</span> <span class="o">*</span><span class="n">haptic_pdata</span><span class="p">;</span>

	<span class="cm">/* RTC: Not implemented */</span>
	<span class="cm">/* ---- LED ---- */</span>
	<span class="k">struct</span> <span class="n">max8997_led_platform_data</span> <span class="o">*</span><span class="n">led_pdata</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* __LINUX_MFD_MAX8998_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
