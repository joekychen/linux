<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › can › error.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>error.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * linux/can/error.h</span>
<span class="cm"> *</span>
<span class="cm"> * Definitions of the CAN error frame to be filtered and passed to the user.</span>
<span class="cm"> *</span>
<span class="cm"> * Author: Oliver Hartkopp &lt;oliver.hartkopp@volkswagen.de&gt;</span>
<span class="cm"> * Copyright (c) 2002-2007 Volkswagen Group Electronic Research</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef CAN_ERROR_H</span>
<span class="cp">#define CAN_ERROR_H</span>

<span class="cp">#define CAN_ERR_DLC 8 </span><span class="cm">/* dlc for error frames */</span><span class="cp"></span>

<span class="cm">/* error class (mask) in can_id */</span>
<span class="cp">#define CAN_ERR_TX_TIMEOUT   0x00000001U </span><span class="cm">/* TX timeout (by netdevice driver) */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_LOSTARB      0x00000002U </span><span class="cm">/* lost arbitration    / data[0]    */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_CRTL         0x00000004U </span><span class="cm">/* controller problems / data[1]    */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT         0x00000008U </span><span class="cm">/* protocol violations / data[2..3] */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX          0x00000010U </span><span class="cm">/* transceiver status  / data[4]    */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_ACK          0x00000020U </span><span class="cm">/* received no ACK on transmission */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_BUSOFF       0x00000040U </span><span class="cm">/* bus off */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_BUSERROR     0x00000080U </span><span class="cm">/* bus error (may flood!) */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_RESTARTED    0x00000100U </span><span class="cm">/* controller restarted */</span><span class="cp"></span>

<span class="cm">/* arbitration lost in bit ... / data[0] */</span>
<span class="cp">#define CAN_ERR_LOSTARB_UNSPEC   0x00 </span><span class="cm">/* unspecified */</span><span class="cp"></span>
				      <span class="cm">/* else bit number in bitstream */</span>

<span class="cm">/* error status of CAN-controller / data[1] */</span>
<span class="cp">#define CAN_ERR_CRTL_UNSPEC      0x00 </span><span class="cm">/* unspecified */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_CRTL_RX_OVERFLOW 0x01 </span><span class="cm">/* RX buffer overflow */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_CRTL_TX_OVERFLOW 0x02 </span><span class="cm">/* TX buffer overflow */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_CRTL_RX_WARNING  0x04 </span><span class="cm">/* reached warning level for RX errors */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_CRTL_TX_WARNING  0x08 </span><span class="cm">/* reached warning level for TX errors */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_CRTL_RX_PASSIVE  0x10 </span><span class="cm">/* reached error passive status RX */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_CRTL_TX_PASSIVE  0x20 </span><span class="cm">/* reached error passive status TX */</span><span class="cp"></span>
				      <span class="cm">/* (at least one error counter exceeds */</span>
				      <span class="cm">/* the protocol-defined level of 127)  */</span>

<span class="cm">/* error in CAN protocol (type) / data[2] */</span>
<span class="cp">#define CAN_ERR_PROT_UNSPEC      0x00 </span><span class="cm">/* unspecified */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_BIT         0x01 </span><span class="cm">/* single bit error */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_FORM        0x02 </span><span class="cm">/* frame format error */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_STUFF       0x04 </span><span class="cm">/* bit stuffing error */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_BIT0        0x08 </span><span class="cm">/* unable to send dominant bit */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_BIT1        0x10 </span><span class="cm">/* unable to send recessive bit */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_OVERLOAD    0x20 </span><span class="cm">/* bus overload */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_ACTIVE      0x40 </span><span class="cm">/* active error announcement */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_TX          0x80 </span><span class="cm">/* error occurred on transmission */</span><span class="cp"></span>

<span class="cm">/* error in CAN protocol (location) / data[3] */</span>
<span class="cp">#define CAN_ERR_PROT_LOC_UNSPEC  0x00 </span><span class="cm">/* unspecified */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_SOF     0x03 </span><span class="cm">/* start of frame */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_ID28_21 0x02 </span><span class="cm">/* ID bits 28 - 21 (SFF: 10 - 3) */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_ID20_18 0x06 </span><span class="cm">/* ID bits 20 - 18 (SFF: 2 - 0 )*/</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_SRTR    0x04 </span><span class="cm">/* substitute RTR (SFF: RTR) */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_IDE     0x05 </span><span class="cm">/* identifier extension */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_ID17_13 0x07 </span><span class="cm">/* ID bits 17-13 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_ID12_05 0x0F </span><span class="cm">/* ID bits 12-5 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_ID04_00 0x0E </span><span class="cm">/* ID bits 4-0 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_RTR     0x0C </span><span class="cm">/* RTR */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_RES1    0x0D </span><span class="cm">/* reserved bit 1 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_RES0    0x09 </span><span class="cm">/* reserved bit 0 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_DLC     0x0B </span><span class="cm">/* data length code */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_DATA    0x0A </span><span class="cm">/* data section */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_CRC_SEQ 0x08 </span><span class="cm">/* CRC sequence */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_CRC_DEL 0x18 </span><span class="cm">/* CRC delimiter */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_ACK     0x19 </span><span class="cm">/* ACK slot */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_ACK_DEL 0x1B </span><span class="cm">/* ACK delimiter */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_EOF     0x1A </span><span class="cm">/* end of frame */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_PROT_LOC_INTERM  0x12 </span><span class="cm">/* intermission */</span><span class="cp"></span>

<span class="cm">/* error status of CAN-transceiver / data[4] */</span>
<span class="cm">/*                                             CANH CANL */</span>
<span class="cp">#define CAN_ERR_TRX_UNSPEC             0x00 </span><span class="cm">/* 0000 0000 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANH_NO_WIRE       0x04 </span><span class="cm">/* 0000 0100 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANH_SHORT_TO_BAT  0x05 </span><span class="cm">/* 0000 0101 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANH_SHORT_TO_VCC  0x06 </span><span class="cm">/* 0000 0110 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANH_SHORT_TO_GND  0x07 </span><span class="cm">/* 0000 0111 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANL_NO_WIRE       0x40 </span><span class="cm">/* 0100 0000 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANL_SHORT_TO_BAT  0x50 </span><span class="cm">/* 0101 0000 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANL_SHORT_TO_VCC  0x60 </span><span class="cm">/* 0110 0000 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANL_SHORT_TO_GND  0x70 </span><span class="cm">/* 0111 0000 */</span><span class="cp"></span>
<span class="cp">#define CAN_ERR_TRX_CANL_SHORT_TO_CANH 0x80 </span><span class="cm">/* 1000 0000 */</span><span class="cp"></span>

<span class="cm">/* controller specific additional information / data[5..7] */</span>

<span class="cp">#endif </span><span class="cm">/* CAN_ERROR_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
