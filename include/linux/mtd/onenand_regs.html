<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › mtd › onenand_regs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>onenand_regs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  linux/include/linux/mtd/onenand_regs.h</span>
<span class="cm"> *</span>
<span class="cm"> *  OneNAND Register header file</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2005-2007 Samsung Electronics</span>
<span class="cm"> *  Kyungmin Park &lt;kyungmin.park@samsung.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ONENAND_REG_H</span>
<span class="cp">#define __ONENAND_REG_H</span>

<span class="cm">/* Memory Address Map Translation (Word order) */</span>
<span class="cp">#define ONENAND_MEMORY_MAP(x)		((x) &lt;&lt; 1)</span>

<span class="cm">/*</span>
<span class="cm"> * External BufferRAM area</span>
<span class="cm"> */</span>
<span class="cp">#define	ONENAND_BOOTRAM			ONENAND_MEMORY_MAP(0x0000)</span>
<span class="cp">#define	ONENAND_DATARAM			ONENAND_MEMORY_MAP(0x0200)</span>
<span class="cp">#define	ONENAND_SPARERAM		ONENAND_MEMORY_MAP(0x8010)</span>

<span class="cm">/*</span>
<span class="cm"> * OneNAND Registers</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_REG_MANUFACTURER_ID	ONENAND_MEMORY_MAP(0xF000)</span>
<span class="cp">#define ONENAND_REG_DEVICE_ID		ONENAND_MEMORY_MAP(0xF001)</span>
<span class="cp">#define ONENAND_REG_VERSION_ID		ONENAND_MEMORY_MAP(0xF002)</span>
<span class="cp">#define ONENAND_REG_DATA_BUFFER_SIZE	ONENAND_MEMORY_MAP(0xF003)</span>
<span class="cp">#define ONENAND_REG_BOOT_BUFFER_SIZE	ONENAND_MEMORY_MAP(0xF004)</span>
<span class="cp">#define ONENAND_REG_NUM_BUFFERS		ONENAND_MEMORY_MAP(0xF005)</span>
<span class="cp">#define ONENAND_REG_TECHNOLOGY		ONENAND_MEMORY_MAP(0xF006)</span>

<span class="cp">#define ONENAND_REG_START_ADDRESS1	ONENAND_MEMORY_MAP(0xF100)</span>
<span class="cp">#define ONENAND_REG_START_ADDRESS2	ONENAND_MEMORY_MAP(0xF101)</span>
<span class="cp">#define ONENAND_REG_START_ADDRESS3	ONENAND_MEMORY_MAP(0xF102)</span>
<span class="cp">#define ONENAND_REG_START_ADDRESS4	ONENAND_MEMORY_MAP(0xF103)</span>
<span class="cp">#define ONENAND_REG_START_ADDRESS5	ONENAND_MEMORY_MAP(0xF104)</span>
<span class="cp">#define ONENAND_REG_START_ADDRESS6	ONENAND_MEMORY_MAP(0xF105)</span>
<span class="cp">#define ONENAND_REG_START_ADDRESS7	ONENAND_MEMORY_MAP(0xF106)</span>
<span class="cp">#define ONENAND_REG_START_ADDRESS8	ONENAND_MEMORY_MAP(0xF107)</span>

<span class="cp">#define ONENAND_REG_START_BUFFER	ONENAND_MEMORY_MAP(0xF200)</span>
<span class="cp">#define ONENAND_REG_COMMAND		ONENAND_MEMORY_MAP(0xF220)</span>
<span class="cp">#define ONENAND_REG_SYS_CFG1		ONENAND_MEMORY_MAP(0xF221)</span>
<span class="cp">#define ONENAND_REG_SYS_CFG2		ONENAND_MEMORY_MAP(0xF222)</span>
<span class="cp">#define ONENAND_REG_CTRL_STATUS		ONENAND_MEMORY_MAP(0xF240)</span>
<span class="cp">#define ONENAND_REG_INTERRUPT		ONENAND_MEMORY_MAP(0xF241)</span>
<span class="cp">#define ONENAND_REG_START_BLOCK_ADDRESS	ONENAND_MEMORY_MAP(0xF24C)</span>
<span class="cp">#define ONENAND_REG_END_BLOCK_ADDRESS	ONENAND_MEMORY_MAP(0xF24D)</span>
<span class="cp">#define ONENAND_REG_WP_STATUS		ONENAND_MEMORY_MAP(0xF24E)</span>

<span class="cp">#define ONENAND_REG_ECC_STATUS		ONENAND_MEMORY_MAP(0xFF00)</span>
<span class="cp">#define ONENAND_REG_ECC_M0		ONENAND_MEMORY_MAP(0xFF01)</span>
<span class="cp">#define ONENAND_REG_ECC_S0		ONENAND_MEMORY_MAP(0xFF02)</span>
<span class="cp">#define ONENAND_REG_ECC_M1		ONENAND_MEMORY_MAP(0xFF03)</span>
<span class="cp">#define ONENAND_REG_ECC_S1		ONENAND_MEMORY_MAP(0xFF04)</span>
<span class="cp">#define ONENAND_REG_ECC_M2		ONENAND_MEMORY_MAP(0xFF05)</span>
<span class="cp">#define ONENAND_REG_ECC_S2		ONENAND_MEMORY_MAP(0xFF06)</span>
<span class="cp">#define ONENAND_REG_ECC_M3		ONENAND_MEMORY_MAP(0xFF07)</span>
<span class="cp">#define ONENAND_REG_ECC_S3		ONENAND_MEMORY_MAP(0xFF08)</span>

<span class="cm">/*</span>
<span class="cm"> * Device ID Register F001h (R)</span>
<span class="cm"> */</span>
<span class="cp">#define DEVICE_IS_FLEXONENAND		(1 &lt;&lt; 9)</span>
<span class="cp">#define FLEXONENAND_PI_MASK		(0x3ff)</span>
<span class="cp">#define FLEXONENAND_PI_UNLOCK_SHIFT	(14)</span>
<span class="cp">#define ONENAND_DEVICE_DENSITY_MASK	(0xf)</span>
<span class="cp">#define ONENAND_DEVICE_DENSITY_SHIFT	(4)</span>
<span class="cp">#define ONENAND_DEVICE_IS_DDP		(1 &lt;&lt; 3)</span>
<span class="cp">#define ONENAND_DEVICE_IS_DEMUX		(1 &lt;&lt; 2)</span>
<span class="cp">#define ONENAND_DEVICE_VCC_MASK		(0x3)</span>

<span class="cp">#define ONENAND_DEVICE_DENSITY_512Mb	(0x002)</span>
<span class="cp">#define ONENAND_DEVICE_DENSITY_1Gb	(0x003)</span>
<span class="cp">#define ONENAND_DEVICE_DENSITY_2Gb	(0x004)</span>
<span class="cp">#define ONENAND_DEVICE_DENSITY_4Gb	(0x005)</span>

<span class="cm">/*</span>
<span class="cm"> * Version ID Register F002h (R)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_VERSION_PROCESS_SHIFT	(8)</span>

<span class="cm">/*</span>
<span class="cm"> * Technology Register F006h (R)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_TECHNOLOGY_IS_MLC	(1 &lt;&lt; 0)</span>

<span class="cm">/*</span>
<span class="cm"> * Start Address 1 F100h (R/W) &amp; Start Address 2 F101h (R/W)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_DDP_SHIFT		(15)</span>
<span class="cp">#define ONENAND_DDP_CHIP0		(0)</span>
<span class="cp">#define ONENAND_DDP_CHIP1		(1 &lt;&lt; ONENAND_DDP_SHIFT)</span>

<span class="cm">/*</span>
<span class="cm"> * Start Address 8 F107h (R/W)</span>
<span class="cm"> */</span>
<span class="cm">/* Note: It&#39;s actually 0x3f in case of SLC */</span>
<span class="cp">#define ONENAND_FPA_MASK		(0x7f)</span>
<span class="cp">#define ONENAND_FPA_SHIFT		(2)</span>
<span class="cp">#define ONENAND_FSA_MASK		(0x03)</span>

<span class="cm">/*</span>
<span class="cm"> * Start Buffer Register F200h (R/W)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_BSA_MASK		(0x03)</span>
<span class="cp">#define ONENAND_BSA_SHIFT		(8)</span>
<span class="cp">#define ONENAND_BSA_BOOTRAM		(0 &lt;&lt; 2)</span>
<span class="cp">#define ONENAND_BSA_DATARAM0		(2 &lt;&lt; 2)</span>
<span class="cp">#define ONENAND_BSA_DATARAM1		(3 &lt;&lt; 2)</span>
<span class="cm">/* Note: It&#39;s actually 0x03 in case of SLC */</span>
<span class="cp">#define ONENAND_BSC_MASK		(0x07)</span>

<span class="cm">/*</span>
<span class="cm"> * Command Register F220h (R/W)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_CMD_READ		(0x00)</span>
<span class="cp">#define ONENAND_CMD_READOOB		(0x13)</span>
<span class="cp">#define ONENAND_CMD_PROG		(0x80)</span>
<span class="cp">#define ONENAND_CMD_PROGOOB		(0x1A)</span>
<span class="cp">#define ONENAND_CMD_2X_PROG		(0x7D)</span>
<span class="cp">#define ONENAND_CMD_2X_CACHE_PROG	(0x7F)</span>
<span class="cp">#define ONENAND_CMD_UNLOCK		(0x23)</span>
<span class="cp">#define ONENAND_CMD_LOCK		(0x2A)</span>
<span class="cp">#define ONENAND_CMD_LOCK_TIGHT		(0x2C)</span>
<span class="cp">#define ONENAND_CMD_UNLOCK_ALL		(0x27)</span>
<span class="cp">#define ONENAND_CMD_ERASE		(0x94)</span>
<span class="cp">#define ONENAND_CMD_MULTIBLOCK_ERASE	(0x95)</span>
<span class="cp">#define ONENAND_CMD_ERASE_VERIFY	(0x71)</span>
<span class="cp">#define ONENAND_CMD_RESET		(0xF0)</span>
<span class="cp">#define ONENAND_CMD_OTP_ACCESS		(0x65)</span>
<span class="cp">#define ONENAND_CMD_READID		(0x90)</span>
<span class="cp">#define FLEXONENAND_CMD_PI_UPDATE	(0x05)</span>
<span class="cp">#define FLEXONENAND_CMD_PI_ACCESS	(0x66)</span>
<span class="cp">#define FLEXONENAND_CMD_RECOVER_LSB	(0x05)</span>

<span class="cm">/* NOTE: Those are not *REAL* commands */</span>
<span class="cp">#define ONENAND_CMD_BUFFERRAM		(0x1978)</span>
<span class="cp">#define FLEXONENAND_CMD_READ_PI		(0x1985)</span>

<span class="cm">/*</span>
<span class="cm"> * System Configuration 1 Register F221h (R, R/W)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_SYS_CFG1_SYNC_READ	(1 &lt;&lt; 15)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_7		(7 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_6		(6 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_5		(5 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_4		(4 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_3		(3 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_10		(2 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_9		(1 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_8		(0 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BRL_SHIFT	(12)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BL_32		(4 &lt;&lt; 9)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BL_16		(3 &lt;&lt; 9)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BL_8		(2 &lt;&lt; 9)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BL_4		(1 &lt;&lt; 9)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BL_CONT	(0 &lt;&lt; 9)</span>
<span class="cp">#define ONENAND_SYS_CFG1_BL_SHIFT	(9)</span>
<span class="cp">#define ONENAND_SYS_CFG1_NO_ECC		(1 &lt;&lt; 8)</span>
<span class="cp">#define ONENAND_SYS_CFG1_RDY		(1 &lt;&lt; 7)</span>
<span class="cp">#define ONENAND_SYS_CFG1_INT		(1 &lt;&lt; 6)</span>
<span class="cp">#define ONENAND_SYS_CFG1_IOBE		(1 &lt;&lt; 5)</span>
<span class="cp">#define ONENAND_SYS_CFG1_RDY_CONF	(1 &lt;&lt; 4)</span>
<span class="cp">#define ONENAND_SYS_CFG1_VHF		(1 &lt;&lt; 3)</span>
<span class="cp">#define ONENAND_SYS_CFG1_HF		(1 &lt;&lt; 2)</span>
<span class="cp">#define ONENAND_SYS_CFG1_SYNC_WRITE	(1 &lt;&lt; 1)</span>

<span class="cm">/*</span>
<span class="cm"> * Controller Status Register F240h (R)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_CTRL_ONGO		(1 &lt;&lt; 15)</span>
<span class="cp">#define ONENAND_CTRL_LOCK		(1 &lt;&lt; 14)</span>
<span class="cp">#define ONENAND_CTRL_LOAD		(1 &lt;&lt; 13)</span>
<span class="cp">#define ONENAND_CTRL_PROGRAM		(1 &lt;&lt; 12)</span>
<span class="cp">#define ONENAND_CTRL_ERASE		(1 &lt;&lt; 11)</span>
<span class="cp">#define ONENAND_CTRL_ERROR		(1 &lt;&lt; 10)</span>
<span class="cp">#define ONENAND_CTRL_RSTB		(1 &lt;&lt; 7)</span>
<span class="cp">#define ONENAND_CTRL_OTP_L		(1 &lt;&lt; 6)</span>
<span class="cp">#define ONENAND_CTRL_OTP_BL		(1 &lt;&lt; 5)</span>

<span class="cm">/*</span>
<span class="cm"> * Interrupt Status Register F241h (R)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_INT_MASTER		(1 &lt;&lt; 15)</span>
<span class="cp">#define ONENAND_INT_READ		(1 &lt;&lt; 7)</span>
<span class="cp">#define ONENAND_INT_WRITE		(1 &lt;&lt; 6)</span>
<span class="cp">#define ONENAND_INT_ERASE		(1 &lt;&lt; 5)</span>
<span class="cp">#define ONENAND_INT_RESET		(1 &lt;&lt; 4)</span>
<span class="cp">#define ONENAND_INT_CLEAR		(0 &lt;&lt; 0)</span>

<span class="cm">/*</span>
<span class="cm"> * NAND Flash Write Protection Status Register F24Eh (R)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_WP_US			(1 &lt;&lt; 2)</span>
<span class="cp">#define ONENAND_WP_LS			(1 &lt;&lt; 1)</span>
<span class="cp">#define ONENAND_WP_LTS			(1 &lt;&lt; 0)</span>

<span class="cm">/*</span>
<span class="cm"> * ECC Status Reigser FF00h (R)</span>
<span class="cm"> */</span>
<span class="cp">#define ONENAND_ECC_1BIT		(1 &lt;&lt; 0)</span>
<span class="cp">#define ONENAND_ECC_1BIT_ALL		(0x5555)</span>
<span class="cp">#define ONENAND_ECC_2BIT		(1 &lt;&lt; 1)</span>
<span class="cp">#define ONENAND_ECC_2BIT_ALL		(0xAAAA)</span>
<span class="cp">#define FLEXONENAND_UNCORRECTABLE_ERROR	(0x1010)</span>
<span class="cp">#define ONENAND_ECC_3BIT		(1 &lt;&lt; 2)</span>
<span class="cp">#define ONENAND_ECC_4BIT		(1 &lt;&lt; 3)</span>
<span class="cp">#define ONENAND_ECC_4BIT_UNCORRECTABLE	(0x1010)</span>

<span class="cm">/*</span>
<span class="cm"> * One-Time Programmable (OTP)</span>
<span class="cm"> */</span>
<span class="cp">#define FLEXONENAND_OTP_LOCK_OFFSET		(2048)</span>
<span class="cp">#define ONENAND_OTP_LOCK_OFFSET		(14)</span>

<span class="cp">#endif	</span><span class="cm">/* __ONENAND_REG_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
