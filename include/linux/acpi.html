<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › acpi.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>acpi.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * acpi.h - ACPI Interface</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2001 Paul Diefenbaugh &lt;paul.s.diefenbaugh@intel.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<span class="cm"> *</span>
<span class="cm"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _LINUX_ACPI_H</span>
<span class="cp">#define _LINUX_ACPI_H</span>

<span class="cp">#include &lt;linux/ioport.h&gt;	</span><span class="cm">/* for struct resource */</span><span class="cp"></span>

<span class="cp">#ifdef	CONFIG_ACPI</span>

<span class="cp">#ifndef _LINUX</span>
<span class="cp">#define _LINUX</span>
<span class="cp">#endif</span>

<span class="cp">#include &lt;linux/list.h&gt;</span>
<span class="cp">#include &lt;linux/mod_devicetable.h&gt;</span>

<span class="cp">#include &lt;acpi/acpi.h&gt;</span>
<span class="cp">#include &lt;acpi/acpi_bus.h&gt;</span>
<span class="cp">#include &lt;acpi/acpi_drivers.h&gt;</span>
<span class="cp">#include &lt;acpi/acpi_numa.h&gt;</span>
<span class="cp">#include &lt;asm/acpi.h&gt;</span>

<span class="k">enum</span> <span class="n">acpi_irq_model_id</span> <span class="p">{</span>
	<span class="n">ACPI_IRQ_MODEL_PIC</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">ACPI_IRQ_MODEL_IOAPIC</span><span class="p">,</span>
	<span class="n">ACPI_IRQ_MODEL_IOSAPIC</span><span class="p">,</span>
	<span class="n">ACPI_IRQ_MODEL_PLATFORM</span><span class="p">,</span>
	<span class="n">ACPI_IRQ_MODEL_COUNT</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="k">enum</span> <span class="n">acpi_irq_model_id</span>	<span class="n">acpi_irq_model</span><span class="p">;</span>

<span class="k">enum</span> <span class="n">acpi_interrupt_id</span> <span class="p">{</span>
	<span class="n">ACPI_INTERRUPT_PMI</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">ACPI_INTERRUPT_INIT</span><span class="p">,</span>
	<span class="n">ACPI_INTERRUPT_CPEI</span><span class="p">,</span>
	<span class="n">ACPI_INTERRUPT_COUNT</span>
<span class="p">};</span>

<span class="cp">#define	ACPI_SPACE_MEM		0</span>

<span class="k">enum</span> <span class="n">acpi_address_range_id</span> <span class="p">{</span>
	<span class="n">ACPI_ADDRESS_RANGE_MEMORY</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">ACPI_ADDRESS_RANGE_RESERVED</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">ACPI_ADDRESS_RANGE_ACPI</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">ACPI_ADDRESS_RANGE_NVS</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">ACPI_ADDRESS_RANGE_COUNT</span>
<span class="p">};</span>


<span class="cm">/* Table Handlers */</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">acpi_table_handler</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_table_header</span> <span class="o">*</span><span class="n">table</span><span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">acpi_table_entry_handler</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_subtable_header</span> <span class="o">*</span><span class="n">header</span><span class="p">,</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">end</span><span class="p">);</span>

<span class="kt">char</span> <span class="o">*</span> <span class="n">__acpi_map_table</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">phys_addr</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">__acpi_unmap_table</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">map</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">early_acpi_boot_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_boot_init</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_boot_table_init</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_mps_check</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_numa_init</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">acpi_table_init</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_table_parse</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">id</span><span class="p">,</span> <span class="n">acpi_table_handler</span> <span class="n">handler</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">__init</span> <span class="n">acpi_table_parse_entries</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">id</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">table_size</span><span class="p">,</span>
	<span class="kt">int</span> <span class="n">entry_id</span><span class="p">,</span> <span class="n">acpi_table_entry_handler</span> <span class="n">handler</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">max_entries</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_table_parse_madt</span> <span class="p">(</span><span class="k">enum</span> <span class="n">acpi_madt_type</span> <span class="n">id</span><span class="p">,</span> <span class="n">acpi_table_entry_handler</span> <span class="n">handler</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">max_entries</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_parse_mcfg</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_table_header</span> <span class="o">*</span><span class="n">header</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_table_print_madt_entry</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_subtable_header</span> <span class="o">*</span><span class="n">madt</span><span class="p">);</span>

<span class="cm">/* the following four functions are architecture-dependent */</span>
<span class="kt">void</span> <span class="n">acpi_numa_slit_init</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_table_slit</span> <span class="o">*</span><span class="n">slit</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_numa_processor_affinity_init</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_srat_cpu_affinity</span> <span class="o">*</span><span class="n">pa</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_numa_x2apic_affinity_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">acpi_srat_x2apic_cpu_affinity</span> <span class="o">*</span><span class="n">pa</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_numa_memory_affinity_init</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_srat_mem_affinity</span> <span class="o">*</span><span class="n">ma</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_numa_arch_fixup</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#ifdef CONFIG_ACPI_HOTPLUG_CPU</span>
<span class="cm">/* Arch dependent functions for cpu hotplug support */</span>
<span class="kt">int</span> <span class="n">acpi_map_lsapic</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">pcpu</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_unmap_lsapic</span><span class="p">(</span><span class="kt">int</span> <span class="n">cpu</span><span class="p">);</span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_ACPI_HOTPLUG_CPU */</span><span class="cp"></span>

<span class="kt">int</span> <span class="n">acpi_register_ioapic</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">,</span> <span class="n">u64</span> <span class="n">phys_addr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">gsi_base</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_unregister_ioapic</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">,</span> <span class="n">u32</span> <span class="n">gsi_base</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_irq_stats_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">acpi_irq_handled</span><span class="p">;</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">acpi_irq_not_handled</span><span class="p">;</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">sbf_port</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">acpi_realmode_flags</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">acpi_register_gsi</span> <span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u32</span> <span class="n">gsi</span><span class="p">,</span> <span class="kt">int</span> <span class="n">triggering</span><span class="p">,</span> <span class="kt">int</span> <span class="n">polarity</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_gsi_to_irq</span> <span class="p">(</span><span class="n">u32</span> <span class="n">gsi</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="o">*</span><span class="n">irq</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_isa_irq_to_gsi</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="n">isa_irq</span><span class="p">,</span> <span class="n">u32</span> <span class="o">*</span><span class="n">gsi</span><span class="p">);</span>

<span class="cp">#ifdef CONFIG_X86_IO_APIC</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">acpi_get_override_irq</span><span class="p">(</span><span class="n">u32</span> <span class="n">gsi</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">trigger</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">polarity</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="cp">#define acpi_get_override_irq(gsi, trigger, polarity) (-1)</span>
<span class="cp">#endif</span>
<span class="cm">/*</span>
<span class="cm"> * This function undoes the effect of one call to acpi_register_gsi().</span>
<span class="cm"> * If this matches the last registration, any IRQ resources for gsi</span>
<span class="cm"> * are freed.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">acpi_unregister_gsi</span> <span class="p">(</span><span class="n">u32</span> <span class="n">gsi</span><span class="p">);</span>

<span class="k">struct</span> <span class="n">pci_dev</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">acpi_pci_irq_enable</span> <span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_penalize_isa_irq</span><span class="p">(</span><span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="kt">int</span> <span class="n">active</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">acpi_pci_irq_disable</span> <span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="k">struct</span> <span class="n">acpi_pci_driver</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_pci_driver</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">add</span><span class="p">)(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">remove</span><span class="p">)(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">acpi_pci_register_driver</span><span class="p">(</span><span class="k">struct</span> <span class="n">acpi_pci_driver</span> <span class="o">*</span><span class="n">driver</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">acpi_pci_unregister_driver</span><span class="p">(</span><span class="k">struct</span> <span class="n">acpi_pci_driver</span> <span class="o">*</span><span class="n">driver</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">ec_read</span><span class="p">(</span><span class="n">u8</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">val</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">ec_write</span><span class="p">(</span><span class="n">u8</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u8</span> <span class="n">val</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">ec_transaction</span><span class="p">(</span><span class="n">u8</span> <span class="n">command</span><span class="p">,</span>
                          <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">wdata</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">wdata_len</span><span class="p">,</span>
                          <span class="n">u8</span> <span class="o">*</span><span class="n">rdata</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">rdata_len</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">acpi_handle</span> <span class="n">ec_get_handle</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#if defined(CONFIG_ACPI_WMI) || defined(CONFIG_ACPI_WMI_MODULE)</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">wmi_notify_handler</span><span class="p">)</span> <span class="p">(</span><span class="n">u32</span> <span class="n">value</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">);</span>

<span class="k">extern</span> <span class="n">acpi_status</span> <span class="n">wmi_evaluate_method</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">guid</span><span class="p">,</span> <span class="n">u8</span> <span class="n">instance</span><span class="p">,</span>
					<span class="n">u32</span> <span class="n">method_id</span><span class="p">,</span>
					<span class="k">const</span> <span class="k">struct</span> <span class="n">acpi_buffer</span> <span class="o">*</span><span class="n">in</span><span class="p">,</span>
					<span class="k">struct</span> <span class="n">acpi_buffer</span> <span class="o">*</span><span class="n">out</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">acpi_status</span> <span class="n">wmi_query_block</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">guid</span><span class="p">,</span> <span class="n">u8</span> <span class="n">instance</span><span class="p">,</span>
					<span class="k">struct</span> <span class="n">acpi_buffer</span> <span class="o">*</span><span class="n">out</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">acpi_status</span> <span class="n">wmi_set_block</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">guid</span><span class="p">,</span> <span class="n">u8</span> <span class="n">instance</span><span class="p">,</span>
					<span class="k">const</span> <span class="k">struct</span> <span class="n">acpi_buffer</span> <span class="o">*</span><span class="n">in</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">acpi_status</span> <span class="n">wmi_install_notify_handler</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">guid</span><span class="p">,</span>
					<span class="n">wmi_notify_handler</span> <span class="n">handler</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">acpi_status</span> <span class="n">wmi_remove_notify_handler</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">guid</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">acpi_status</span> <span class="n">wmi_get_event_data</span><span class="p">(</span><span class="n">u32</span> <span class="n">event</span><span class="p">,</span> <span class="k">struct</span> <span class="n">acpi_buffer</span> <span class="o">*</span><span class="n">out</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">wmi_has_guid</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">guid</span><span class="p">);</span>

<span class="cp">#endif	</span><span class="cm">/* CONFIG_ACPI_WMI */</span><span class="cp"></span>

<span class="cp">#define ACPI_VIDEO_OUTPUT_SWITCHING			0x0001</span>
<span class="cp">#define ACPI_VIDEO_DEVICE_POSTING			0x0002</span>
<span class="cp">#define ACPI_VIDEO_ROM_AVAILABLE			0x0004</span>
<span class="cp">#define ACPI_VIDEO_BACKLIGHT				0x0008</span>
<span class="cp">#define ACPI_VIDEO_BACKLIGHT_FORCE_VENDOR		0x0010</span>
<span class="cp">#define ACPI_VIDEO_BACKLIGHT_FORCE_VIDEO		0x0020</span>
<span class="cp">#define ACPI_VIDEO_OUTPUT_SWITCHING_FORCE_VENDOR	0x0040</span>
<span class="cp">#define ACPI_VIDEO_OUTPUT_SWITCHING_FORCE_VIDEO		0x0080</span>
<span class="cp">#define ACPI_VIDEO_BACKLIGHT_DMI_VENDOR			0x0100</span>
<span class="cp">#define ACPI_VIDEO_BACKLIGHT_DMI_VIDEO			0x0200</span>
<span class="cp">#define ACPI_VIDEO_OUTPUT_SWITCHING_DMI_VENDOR		0x0400</span>
<span class="cp">#define ACPI_VIDEO_OUTPUT_SWITCHING_DMI_VIDEO		0x0800</span>

<span class="cp">#if defined(CONFIG_ACPI_VIDEO) || defined(CONFIG_ACPI_VIDEO_MODULE)</span>

<span class="k">extern</span> <span class="kt">long</span> <span class="n">acpi_video_get_capabilities</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">graphics_dev_handle</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">long</span> <span class="n">acpi_is_video_device</span><span class="p">(</span><span class="k">struct</span> <span class="n">acpi_device</span> <span class="o">*</span><span class="n">device</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">acpi_video_backlight_support</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">acpi_video_display_switch_support</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#else</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">long</span> <span class="nf">acpi_video_get_capabilities</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">graphics_dev_handle</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">long</span> <span class="nf">acpi_is_video_device</span><span class="p">(</span><span class="k">struct</span> <span class="n">acpi_device</span> <span class="o">*</span><span class="n">device</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_video_backlight_support</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_video_display_switch_support</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#endif </span><span class="cm">/* defined(CONFIG_ACPI_VIDEO) || defined(CONFIG_ACPI_VIDEO_MODULE) */</span><span class="cp"></span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">acpi_blacklisted</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">acpi_dmi_osi_linux</span><span class="p">(</span><span class="kt">int</span> <span class="n">enable</span><span class="p">,</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">dmi_system_id</span> <span class="o">*</span><span class="n">d</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">acpi_osi_setup</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">);</span>

<span class="cp">#ifdef CONFIG_ACPI_NUMA</span>
<span class="kt">int</span> <span class="n">acpi_get_pxm</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">acpi_get_node</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="o">*</span><span class="n">handle</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_get_pxm</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_get_node</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="o">*</span><span class="n">handle</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">acpi_paddr_to_node</span><span class="p">(</span><span class="n">u64</span> <span class="n">start_addr</span><span class="p">,</span> <span class="n">u64</span> <span class="n">size</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">pnpacpi_disabled</span><span class="p">;</span>

<span class="cp">#define PXM_INVAL	(-1)</span>

<span class="kt">int</span> <span class="n">acpi_check_resource_conflict</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">resource</span> <span class="o">*</span><span class="n">res</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">acpi_check_region</span><span class="p">(</span><span class="n">resource_size_t</span> <span class="n">start</span><span class="p">,</span> <span class="n">resource_size_t</span> <span class="n">n</span><span class="p">,</span>
		      <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">acpi_resources_are_enforced</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#ifdef CONFIG_PM_SLEEP</span>
<span class="kt">void</span> <span class="n">__init</span> <span class="n">acpi_no_s4_hw_signature</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">__init</span> <span class="n">acpi_old_suspend_ordering</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">__init</span> <span class="n">acpi_nvs_nosave</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_PM_SLEEP */</span><span class="cp"></span>

<span class="k">struct</span> <span class="n">acpi_osc_context</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">uuid_str</span><span class="p">;</span> <span class="cm">/* uuid string */</span>
	<span class="kt">int</span> <span class="n">rev</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_buffer</span> <span class="n">cap</span><span class="p">;</span> <span class="cm">/* arg2/arg3 */</span>
	<span class="k">struct</span> <span class="n">acpi_buffer</span> <span class="n">ret</span><span class="p">;</span> <span class="cm">/* free by caller if success */</span>
<span class="p">};</span>

<span class="cp">#define OSC_QUERY_TYPE			0</span>
<span class="cp">#define OSC_SUPPORT_TYPE 		1</span>
<span class="cp">#define OSC_CONTROL_TYPE		2</span>

<span class="cm">/* _OSC DW0 Definition */</span>
<span class="cp">#define OSC_QUERY_ENABLE		1</span>
<span class="cp">#define OSC_REQUEST_ERROR		2</span>
<span class="cp">#define OSC_INVALID_UUID_ERROR		4</span>
<span class="cp">#define OSC_INVALID_REVISION_ERROR	8</span>
<span class="cp">#define OSC_CAPABILITIES_MASK_ERROR	16</span>

<span class="n">acpi_status</span> <span class="n">acpi_run_osc</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">,</span> <span class="k">struct</span> <span class="n">acpi_osc_context</span> <span class="o">*</span><span class="n">context</span><span class="p">);</span>

<span class="cm">/* platform-wide _OSC bits */</span>
<span class="cp">#define OSC_SB_PAD_SUPPORT		1</span>
<span class="cp">#define OSC_SB_PPC_OST_SUPPORT		2</span>
<span class="cp">#define OSC_SB_PR3_SUPPORT		4</span>
<span class="cp">#define OSC_SB_CPUHP_OST_SUPPORT	8</span>
<span class="cp">#define OSC_SB_APEI_SUPPORT		16</span>

<span class="k">extern</span> <span class="n">bool</span> <span class="n">osc_sb_apei_support_acked</span><span class="p">;</span>

<span class="cm">/* PCI defined _OSC bits */</span>
<span class="cm">/* _OSC DW1 Definition (OS Support Fields) */</span>
<span class="cp">#define OSC_EXT_PCI_CONFIG_SUPPORT		1</span>
<span class="cp">#define OSC_ACTIVE_STATE_PWR_SUPPORT 		2</span>
<span class="cp">#define OSC_CLOCK_PWR_CAPABILITY_SUPPORT	4</span>
<span class="cp">#define OSC_PCI_SEGMENT_GROUPS_SUPPORT		8</span>
<span class="cp">#define OSC_MSI_SUPPORT				16</span>
<span class="cp">#define OSC_PCI_SUPPORT_MASKS			0x1f</span>

<span class="cm">/* _OSC DW1 Definition (OS Control Fields) */</span>
<span class="cp">#define OSC_PCI_EXPRESS_NATIVE_HP_CONTROL	1</span>
<span class="cp">#define OSC_SHPC_NATIVE_HP_CONTROL 		2</span>
<span class="cp">#define OSC_PCI_EXPRESS_PME_CONTROL		4</span>
<span class="cp">#define OSC_PCI_EXPRESS_AER_CONTROL		8</span>
<span class="cp">#define OSC_PCI_EXPRESS_CAP_STRUCTURE_CONTROL	16</span>

<span class="cp">#define OSC_PCI_CONTROL_MASKS 	(OSC_PCI_EXPRESS_NATIVE_HP_CONTROL | 	\</span>
<span class="cp">				OSC_SHPC_NATIVE_HP_CONTROL | 		\</span>
<span class="cp">				OSC_PCI_EXPRESS_PME_CONTROL |		\</span>
<span class="cp">				OSC_PCI_EXPRESS_AER_CONTROL |		\</span>
<span class="cp">				OSC_PCI_EXPRESS_CAP_STRUCTURE_CONTROL)</span>

<span class="cp">#define OSC_PCI_NATIVE_HOTPLUG	(OSC_PCI_EXPRESS_NATIVE_HP_CONTROL |	\</span>
<span class="cp">				OSC_SHPC_NATIVE_HP_CONTROL)</span>

<span class="k">extern</span> <span class="n">acpi_status</span> <span class="n">acpi_pci_osc_control_set</span><span class="p">(</span><span class="n">acpi_handle</span> <span class="n">handle</span><span class="p">,</span>
					     <span class="n">u32</span> <span class="o">*</span><span class="n">mask</span><span class="p">,</span> <span class="n">u32</span> <span class="n">req</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">acpi_early_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">acpi_nvs_register</span><span class="p">(</span><span class="n">__u64</span> <span class="n">start</span><span class="p">,</span> <span class="n">__u64</span> <span class="n">size</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">acpi_nvs_for_each_region</span><span class="p">(</span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="n">__u64</span><span class="p">,</span> <span class="n">__u64</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="p">),</span>
				    <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>

<span class="cp">#else	</span><span class="cm">/* !CONFIG_ACPI */</span><span class="cp"></span>

<span class="cp">#define acpi_disabled 1</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">acpi_early_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">early_acpi_boot_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_boot_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">acpi_boot_table_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_mps_check</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_check_resource_conflict</span><span class="p">(</span><span class="k">struct</span> <span class="n">resource</span> <span class="o">*</span><span class="n">res</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_check_region</span><span class="p">(</span><span class="n">resource_size_t</span> <span class="n">start</span><span class="p">,</span> <span class="n">resource_size_t</span> <span class="n">n</span><span class="p">,</span>
				    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">acpi_table_header</span><span class="p">;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_table_parse</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">id</span><span class="p">,</span>
				<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">handler</span><span class="p">)(</span><span class="k">struct</span> <span class="n">acpi_table_header</span> <span class="o">*</span><span class="p">))</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_nvs_register</span><span class="p">(</span><span class="n">__u64</span> <span class="n">start</span><span class="p">,</span> <span class="n">__u64</span> <span class="n">size</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">acpi_nvs_for_each_region</span><span class="p">(</span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="n">__u64</span><span class="p">,</span> <span class="n">__u64</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="p">),</span>
					   <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#endif	</span><span class="cm">/* !CONFIG_ACPI */</span><span class="cp"></span>

<span class="cp">#ifdef CONFIG_ACPI</span>
<span class="kt">void</span> <span class="n">acpi_os_set_prepare_sleep</span><span class="p">(</span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="n">u8</span> <span class="n">sleep_state</span><span class="p">,</span>
			       <span class="n">u32</span> <span class="n">pm1a_ctrl</span><span class="p">,</span>  <span class="n">u32</span> <span class="n">pm1b_ctrl</span><span class="p">));</span>

<span class="n">acpi_status</span> <span class="n">acpi_os_prepare_sleep</span><span class="p">(</span><span class="n">u8</span> <span class="n">sleep_state</span><span class="p">,</span>
				  <span class="n">u32</span> <span class="n">pm1a_control</span><span class="p">,</span> <span class="n">u32</span> <span class="n">pm1b_control</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="cp">#define acpi_os_set_prepare_sleep(func, pm1a_ctrl, pm1b_ctrl) do { } while (0)</span>
<span class="cp">#endif</span>

<span class="cp">#endif	</span><span class="cm">/*_LINUX_ACPI_H*/</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
