<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › hil.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>hil.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _HIL_H_</span>
<span class="cp">#define _HIL_H_</span>

<span class="cm">/*</span>
<span class="cm"> * Hewlett Packard Human Interface Loop (HP-HIL) Protocol -- header.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2001 Brian S. Julin</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source and binary forms, with or without</span>
<span class="cm"> * modification, are permitted provided that the following conditions</span>
<span class="cm"> * are met:</span>
<span class="cm"> * 1. Redistributions of source code must retain the above copyright</span>
<span class="cm"> *    notice, this list of conditions, and the following disclaimer,</span>
<span class="cm"> *    without modification.</span>
<span class="cm"> * 2. The name of the author may not be used to endorse or promote products</span>
<span class="cm"> *    derived from this software without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Alternatively, this software may be distributed under the terms of the</span>
<span class="cm"> * GNU General Public License (&quot;GPL&quot;).</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS&#39;&#39; AND</span>
<span class="cm"> * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
<span class="cm"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span>
<span class="cm"> * ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR</span>
<span class="cm"> * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<span class="cm"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</span>
<span class="cm"> * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span>
<span class="cm"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span>
<span class="cm"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</span>
<span class="cm"> *</span>
<span class="cm"> * References:</span>
<span class="cm"> * HP-HIL Technical Reference Manual.  Hewlett Packard Product No. 45918A</span>
<span class="cm"> *</span>
<span class="cm"> * A note of thanks to HP for providing and shipping reference materials</span>
<span class="cm"> * free of charge to help in the development of HIL support for Linux.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;asm/types.h&gt;</span>

<span class="cm">/* Physical constants relevant to raw loop/device timing. </span>
<span class="cm"> */</span> 

<span class="cp">#define HIL_CLOCK		8MHZ</span>
<span class="cp">#define HIL_EK1_CLOCK		30HZ</span>
<span class="cp">#define HIL_EK2_CLOCK		60HZ</span>

<span class="cp">#define HIL_TIMEOUT_DEV         5	</span><span class="cm">/* ms */</span><span class="cp"></span>
<span class="cp">#define HIL_TIMEOUT_DEVS	10	</span><span class="cm">/* ms */</span><span class="cp"></span>
<span class="cp">#define HIL_TIMEOUT_NORESP	10	</span><span class="cm">/* ms */</span><span class="cp"></span>
<span class="cp">#define HIL_TIMEOUT_DEVS_DATA	16	</span><span class="cm">/* ms */</span><span class="cp"></span>
<span class="cp">#define HIL_TIMEOUT_SELFTEST	200	</span><span class="cm">/* ms */</span><span class="cp"></span>


<span class="cm">/* Actual wire line coding.  These will only be useful if someone is </span>
<span class="cm"> * implementing a software MLC to run HIL devices on a non-parisc machine.</span>
<span class="cm"> */</span>

<span class="cp">#define HIL_WIRE_PACKET_LEN	15</span>
<span class="k">enum</span> <span class="n">hil_wire_bitpos</span> <span class="p">{</span>
	<span class="n">HIL_WIRE_START</span>		<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">HIL_WIRE_ADDR2</span><span class="p">,</span>
	<span class="n">HIL_WIRE_ADDR1</span><span class="p">,</span>
	<span class="n">HIL_WIRE_ADDR0</span><span class="p">,</span>
	<span class="n">HIL_WIRE_COMMAND</span><span class="p">,</span>
	<span class="n">HIL_WIRE_DATA7</span><span class="p">,</span>
	<span class="n">HIL_WIRE_DATA6</span><span class="p">,</span>
	<span class="n">HIL_WIRE_DATA5</span><span class="p">,</span>
	<span class="n">HIL_WIRE_DATA4</span><span class="p">,</span>
	<span class="n">HIL_WIRE_DATA3</span><span class="p">,</span>
	<span class="n">HIL_WIRE_DATA2</span><span class="p">,</span>
	<span class="n">HIL_WIRE_DATA1</span><span class="p">,</span>
	<span class="n">HIL_WIRE_DATA0</span><span class="p">,</span>
	<span class="n">HIL_WIRE_PARITY</span><span class="p">,</span>
	<span class="n">HIL_WIRE_STOP</span>
<span class="p">};</span>

<span class="cm">/* HP documentation uses these bit positions to refer to commands;</span>
<span class="cm"> * we will call these &quot;packets&quot;.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">hil_pkt_bitpos</span> <span class="p">{</span>
	<span class="n">HIL_PKT_CMD</span>		<span class="o">=</span> <span class="mh">0x00000800</span><span class="p">,</span>
	<span class="n">HIL_PKT_ADDR2</span>		<span class="o">=</span> <span class="mh">0x00000400</span><span class="p">,</span>
	<span class="n">HIL_PKT_ADDR1</span>		<span class="o">=</span> <span class="mh">0x00000200</span><span class="p">,</span>
	<span class="n">HIL_PKT_ADDR0</span>		<span class="o">=</span> <span class="mh">0x00000100</span><span class="p">,</span>
	<span class="n">HIL_PKT_ADDR_MASK</span>	<span class="o">=</span> <span class="mh">0x00000700</span><span class="p">,</span>
	<span class="n">HIL_PKT_ADDR_SHIFT</span>	<span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA7</span>		<span class="o">=</span> <span class="mh">0x00000080</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA6</span>		<span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA5</span>		<span class="o">=</span> <span class="mh">0x00000020</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA4</span>		<span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA3</span>		<span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA2</span>		<span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA1</span>		<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA0</span>		<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA_MASK</span>	<span class="o">=</span> <span class="mh">0x000000FF</span><span class="p">,</span>
	<span class="n">HIL_PKT_DATA_SHIFT</span>	<span class="o">=</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="cm">/* The HIL MLC also has several error/status/control bits.  We extend the </span>
<span class="cm"> * &quot;packet&quot; to include these when direct access to the MLC is available,</span>
<span class="cm"> * or emulate them in cases where they are not available. </span>
<span class="cm"> *</span>
<span class="cm"> * This way the device driver knows that the underlying MLC driver</span>
<span class="cm"> * has had to deal with loop errors.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">hil_error_bitpos</span> <span class="p">{</span>
	<span class="n">HIL_ERR_OB</span>	<span class="o">=</span> <span class="mh">0x00000800</span><span class="p">,</span> <span class="cm">/* MLC is busy sending an auto-poll, </span>
<span class="cm">					 or we have filled up the output </span>
<span class="cm">					 buffer and must wait. */</span>
	<span class="n">HIL_ERR_INT</span>	<span class="o">=</span> <span class="mh">0x00010000</span><span class="p">,</span> <span class="cm">/* A normal interrupt has occurred. */</span>
	<span class="n">HIL_ERR_NMI</span>	<span class="o">=</span> <span class="mh">0x00020000</span><span class="p">,</span> <span class="cm">/* An NMI has occurred. */</span>
	<span class="n">HIL_ERR_LERR</span>	<span class="o">=</span> <span class="mh">0x00040000</span><span class="p">,</span> <span class="cm">/* A poll didn&#39;t come back. */</span>
	<span class="n">HIL_ERR_PERR</span>	<span class="o">=</span> <span class="mh">0x01000000</span><span class="p">,</span> <span class="cm">/* There was a Parity Error. */</span>
	<span class="n">HIL_ERR_FERR</span>	<span class="o">=</span> <span class="mh">0x02000000</span><span class="p">,</span> <span class="cm">/* There was a Framing Error. */</span>
	<span class="n">HIL_ERR_FOF</span>	<span class="o">=</span> <span class="mh">0x04000000</span>  <span class="cm">/* Input FIFO Overflowed. */</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">hil_control_bitpos</span> <span class="p">{</span>
	<span class="n">HIL_CTRL_TEST</span>	<span class="o">=</span> <span class="mh">0x00010000</span><span class="p">,</span>
	<span class="n">HIL_CTRL_IPF</span>	<span class="o">=</span> <span class="mh">0x00040000</span><span class="p">,</span>
	<span class="n">HIL_CTRL_APE</span>	<span class="o">=</span> <span class="mh">0x02000000</span>
<span class="p">};</span>

<span class="cm">/* Bits 30,31 are unused, we use them to control write behavior. */</span>
<span class="cp">#define HIL_DO_ALTER_CTRL  0x40000000 </span><span class="cm">/* Write MSW of packet to control </span>
<span class="cm">                                          before writing LSW to loop */</span><span class="cp"></span>
<span class="cp">#define HIL_CTRL_ONLY      0xc0000000 </span><span class="cm">/* *Only* alter the control registers */</span><span class="cp"></span>

<span class="cm">/* This gives us a 32-bit &quot;packet&quot; </span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="n">u32</span> <span class="n">hil_packet</span><span class="p">;</span>


<span class="cm">/* HIL Loop commands </span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">hil_command</span> <span class="p">{</span>
	<span class="n">HIL_CMD_IFC</span>	<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>	<span class="cm">/* Interface Clear */</span>
	<span class="n">HIL_CMD_EPT</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>	<span class="cm">/* Enter Pass-Thru Mode */</span>
	<span class="n">HIL_CMD_ELB</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>	<span class="cm">/* Enter Loop-Back Mode */</span>
	<span class="n">HIL_CMD_IDD</span>	<span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>	<span class="cm">/* Identify and Describe */</span>
	<span class="n">HIL_CMD_DSR</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>	<span class="cm">/* Device Soft Reset */</span>
	<span class="n">HIL_CMD_PST</span>	<span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>	<span class="cm">/* Perform Self Test */</span>
	<span class="n">HIL_CMD_RRG</span>	<span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>	<span class="cm">/* Read Register */</span>
	<span class="n">HIL_CMD_WRG</span>	<span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>	<span class="cm">/* Write Register */</span>
	<span class="n">HIL_CMD_ACF</span>	<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>	<span class="cm">/* Auto Configure */</span>
	<span class="n">HIL_CMDID_ACF</span>	<span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>	<span class="cm">/* Auto Configure bits with incremented ID */</span>
	<span class="n">HIL_CMD_POL</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>	<span class="cm">/* Poll */</span>
	<span class="n">HIL_CMDCT_POL</span>	<span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span>	<span class="cm">/* Poll command bits with item count  */</span>
	<span class="n">HIL_CMD_RPL</span>	<span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>	<span class="cm">/* RePoll */</span>
	<span class="n">HIL_CMDCT_RPL</span>	<span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span>	<span class="cm">/* RePoll command bits with item count */</span>
	<span class="n">HIL_CMD_RNM</span>	<span class="o">=</span> <span class="mh">0x30</span><span class="p">,</span>	<span class="cm">/* Report Name */</span>
	<span class="n">HIL_CMD_RST</span>	<span class="o">=</span> <span class="mh">0x31</span><span class="p">,</span>	<span class="cm">/* Report Status */</span>
	<span class="n">HIL_CMD_EXD</span>	<span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>	<span class="cm">/* Extended Describe */</span>
	<span class="n">HIL_CMD_RSC</span>	<span class="o">=</span> <span class="mh">0x33</span><span class="p">,</span>	<span class="cm">/* Report Security Code */</span>

	<span class="cm">/* 0x34 to 0x3c reserved for future use  */</span>

	<span class="n">HIL_CMD_DKA</span>	<span class="o">=</span> <span class="mh">0x3d</span><span class="p">,</span>	<span class="cm">/* Disable Keyswitch Autorepeat */</span>
	<span class="n">HIL_CMD_EK1</span>	<span class="o">=</span> <span class="mh">0x3e</span><span class="p">,</span>	<span class="cm">/* Enable Keyswitch Autorepeat 1 */</span>
	<span class="n">HIL_CMD_EK2</span>	<span class="o">=</span> <span class="mh">0x3f</span><span class="p">,</span>	<span class="cm">/* Enable Keyswitch Autorepeat 2 */</span>
	<span class="n">HIL_CMD_PR1</span>	<span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span>	<span class="cm">/* Prompt1 */</span>  
	<span class="n">HIL_CMD_PR2</span>	<span class="o">=</span> <span class="mh">0x41</span><span class="p">,</span>	<span class="cm">/* Prompt2 */</span>
	<span class="n">HIL_CMD_PR3</span>	<span class="o">=</span> <span class="mh">0x42</span><span class="p">,</span>	<span class="cm">/* Prompt3 */</span>
	<span class="n">HIL_CMD_PR4</span>	<span class="o">=</span> <span class="mh">0x43</span><span class="p">,</span>	<span class="cm">/* Prompt4 */</span>
	<span class="n">HIL_CMD_PR5</span>	<span class="o">=</span> <span class="mh">0x44</span><span class="p">,</span>	<span class="cm">/* Prompt5 */</span>
	<span class="n">HIL_CMD_PR6</span>	<span class="o">=</span> <span class="mh">0x45</span><span class="p">,</span>	<span class="cm">/* Prompt6 */</span>
	<span class="n">HIL_CMD_PR7</span>	<span class="o">=</span> <span class="mh">0x46</span><span class="p">,</span>	<span class="cm">/* Prompt7 */</span>
	<span class="n">HIL_CMD_PRM</span>	<span class="o">=</span> <span class="mh">0x47</span><span class="p">,</span>	<span class="cm">/* Prompt (General Purpose) */</span>
	<span class="n">HIL_CMD_AK1</span>	<span class="o">=</span> <span class="mh">0x48</span><span class="p">,</span>	<span class="cm">/* Acknowledge1 */</span>  
	<span class="n">HIL_CMD_AK2</span>	<span class="o">=</span> <span class="mh">0x49</span><span class="p">,</span>	<span class="cm">/* Acknowledge2 */</span>
	<span class="n">HIL_CMD_AK3</span>	<span class="o">=</span> <span class="mh">0x4a</span><span class="p">,</span>	<span class="cm">/* Acknowledge3 */</span>
	<span class="n">HIL_CMD_AK4</span>	<span class="o">=</span> <span class="mh">0x4b</span><span class="p">,</span>	<span class="cm">/* Acknowledge4 */</span>
	<span class="n">HIL_CMD_AK5</span>	<span class="o">=</span> <span class="mh">0x4c</span><span class="p">,</span>	<span class="cm">/* Acknowledge5 */</span>
	<span class="n">HIL_CMD_AK6</span>	<span class="o">=</span> <span class="mh">0x4d</span><span class="p">,</span>	<span class="cm">/* Acknowledge6 */</span>
	<span class="n">HIL_CMD_AK7</span>	<span class="o">=</span> <span class="mh">0x4e</span><span class="p">,</span>	<span class="cm">/* Acknowledge7 */</span>
	<span class="n">HIL_CMD_ACK</span>	<span class="o">=</span> <span class="mh">0x4f</span><span class="p">,</span>	<span class="cm">/* Acknowledge (General Purpose) */</span>

	<span class="cm">/* 0x50 to 0x78 reserved for future use  */</span>
	<span class="cm">/* 0x80 to 0xEF device-specific commands */</span>
	<span class="cm">/* 0xf0 to 0xf9 reserved for future use  */</span>

	<span class="n">HIL_CMD_RIO</span>	<span class="o">=</span> <span class="mh">0xfa</span><span class="p">,</span>	<span class="cm">/* Register I/O Error */</span>
	<span class="n">HIL_CMD_SHR</span>	<span class="o">=</span> <span class="mh">0xfb</span><span class="p">,</span>	<span class="cm">/* System Hard Reset */</span>
	<span class="n">HIL_CMD_TER</span>	<span class="o">=</span> <span class="mh">0xfc</span><span class="p">,</span>	<span class="cm">/* Transmission Error */</span>
	<span class="n">HIL_CMD_CAE</span>	<span class="o">=</span> <span class="mh">0xfd</span><span class="p">,</span>	<span class="cm">/* Configuration Address Error */</span>
	<span class="n">HIL_CMD_DHR</span>	<span class="o">=</span> <span class="mh">0xfe</span><span class="p">,</span>	<span class="cm">/* Device Hard Reset */</span>

	<span class="cm">/* 0xff is prohibited from use. */</span>
<span class="p">};</span>


<span class="cm">/* </span>
<span class="cm"> * Response &quot;records&quot; to HIL commands</span>
<span class="cm"> */</span>

<span class="cm">/* Device ID byte </span>
<span class="cm"> */</span>
<span class="cp">#define HIL_IDD_DID_TYPE_MASK		0xe0	</span><span class="cm">/* Primary type bits */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_TYPE_KB_INTEGRAL	0xa0	</span><span class="cm">/* Integral keyboard */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_TYPE_KB_ITF		0xc0	</span><span class="cm">/* ITD keyboard */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_TYPE_KB_RSVD	0xe0	</span><span class="cm">/* Reserved keyboard type */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_TYPE_KB_LANG_MASK	0x1f	</span><span class="cm">/* Keyboard locale bits */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_KBLANG_USE_ESD	0x00	</span><span class="cm">/* Use ESD Locale instead */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_TYPE_ABS		0x80    </span><span class="cm">/* Absolute Positioners */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_ABS_RSVD1_MASK	0xf8	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_ABS_RSVD1		0x98</span>
<span class="cp">#define HIL_IDD_DID_ABS_TABLET_MASK	0xf8	</span><span class="cm">/* Tablets and digitizers */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_ABS_TABLET		0x90</span>
<span class="cp">#define HIL_IDD_DID_ABS_TSCREEN_MASK	0xfc	</span><span class="cm">/* Touch screens */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_ABS_TSCREEN		0x8c</span>
<span class="cp">#define HIL_IDD_DID_ABS_RSVD2_MASK	0xfc	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_ABS_RSVD2		0x88</span>
<span class="cp">#define HIL_IDD_DID_ABS_RSVD3_MASK	0xfc	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_ABS_RSVD3		0x80</span>
<span class="cp">#define HIL_IDD_DID_TYPE_REL		0x60    </span><span class="cm">/* Relative Positioners */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_REL_RSVD1_MASK	0xf0	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_REL_RSVD1		0x70</span>
<span class="cp">#define HIL_IDD_DID_REL_RSVD2_MASK	0xfc	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_REL_RSVD2		0x6c</span>
<span class="cp">#define HIL_IDD_DID_REL_MOUSE_MASK	0xfc	</span><span class="cm">/* Mouse */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_REL_MOUSE		0x68</span>
<span class="cp">#define HIL_IDD_DID_REL_QUAD_MASK	0xf8	</span><span class="cm">/* Other Quadrature Devices */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_REL_QUAD		0x60</span>
<span class="cp">#define HIL_IDD_DID_TYPE_CHAR		0x40    </span><span class="cm">/* Character Entry */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_CHAR_BARCODE_MASK	0xfc	</span><span class="cm">/* Barcode Reader */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_CHAR_BARCODE	0x5c</span>
<span class="cp">#define HIL_IDD_DID_CHAR_RSVD1_MASK	0xfc	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_CHAR_RSVD1		0x58</span>
<span class="cp">#define HIL_IDD_DID_CHAR_RSVD2_MASK	0xf8	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_CHAR_RSVD2		0x50</span>
<span class="cp">#define HIL_IDD_DID_CHAR_RSVD3_MASK	0xf0	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_CHAR_RSVD3		0x40</span>
<span class="cp">#define HIL_IDD_DID_TYPE_OTHER		0x20    </span><span class="cm">/* Miscellaneous */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_OTHER_RSVD1_MASK	0xf0	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_OTHER_RSVD1		0x30</span>
<span class="cp">#define HIL_IDD_DID_OTHER_BARCODE_MASK	0xfc	</span><span class="cm">/* Tone Generator */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_OTHER_BARCODE	0x2c</span>
<span class="cp">#define HIL_IDD_DID_OTHER_RSVD2_MASK	0xfc	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_OTHER_RSVD2		0x28</span>
<span class="cp">#define HIL_IDD_DID_OTHER_RSVD3_MASK	0xf8	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_DID_OTHER_RSVD3		0x20</span>
<span class="cp">#define HIL_IDD_DID_TYPE_KEYPAD		0x00	</span><span class="cm">/* Vectra Keyboard */</span><span class="cp"></span>

<span class="cm">/* IDD record header </span>
<span class="cm"> */</span>
<span class="cp">#define HIL_IDD_HEADER_AXSET_MASK	0x03    </span><span class="cm">/* Number of axis in a set */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_HEADER_RSC		0x04	</span><span class="cm">/* Supports RSC command */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_HEADER_EXD		0x08	</span><span class="cm">/* Supports EXD command */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_HEADER_IOD		0x10	</span><span class="cm">/* IOD byte to follow */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_HEADER_16BIT		0x20	</span><span class="cm">/* 16 (vs. 8) bit resolution */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_HEADER_ABS		0x40	</span><span class="cm">/* Reports Absolute Position */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_HEADER_2X_AXIS		0x80	</span><span class="cm">/* Two sets of 1-3 axis */</span><span class="cp"></span>

<span class="cm">/* I/O Descriptor</span>
<span class="cm"> */</span>
<span class="cp">#define HIL_IDD_IOD_NBUTTON_MASK	0x07	</span><span class="cm">/* Number of buttons */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_IOD_PROXIMITY		0x08	</span><span class="cm">/* Proximity in/out events */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_IOD_PROMPT_MASK		0x70	</span><span class="cm">/* Number of prompts/acks */</span><span class="cp"></span>
<span class="cp">#define HIL_IDD_IOD_PROMPT_SHIFT	4</span>
<span class="cp">#define HIL_IDD_IOD_PROMPT		0x80	</span><span class="cm">/* Generic prompt/ack */</span><span class="cp"></span>

<span class="cp">#define HIL_IDD_NUM_AXES_PER_SET(header_packet) \</span>
<span class="cp">((header_packet) &amp; HIL_IDD_HEADER_AXSET_MASK)</span>

<span class="cp">#define HIL_IDD_NUM_AXSETS(header_packet) \</span>
<span class="cp">(2 - !((header_packet) &amp; HIL_IDD_HEADER_2X_AXIS))</span>

<span class="cp">#define HIL_IDD_LEN(header_packet) \</span>
<span class="cp">((4 - !(header_packet &amp; HIL_IDD_HEADER_IOD) -			\</span>
<span class="cp">  2 * !(HIL_IDD_NUM_AXES_PER_SET(header_packet))) +		\</span>
<span class="cp">  2 * HIL_IDD_NUM_AXES_PER_SET(header_packet) *			\</span>
<span class="cp"> !!((header_packet) &amp; HIL_IDD_HEADER_ABS))</span>

<span class="cm">/* The following HIL_IDD_* macros assume you have an array of </span>
<span class="cm"> * packets and/or unpacked 8-bit data in the order that they </span>
<span class="cm"> * were received.</span>
<span class="cm"> */</span>

<span class="cp">#define HIL_IDD_AXIS_COUNTS_PER_M(header_ptr) \</span>
<span class="cp">(!(HIL_IDD_NUM_AXSETS(*(header_ptr))) ? -1 :			\</span>
<span class="cp">(((*(header_ptr + 1) &amp; HIL_PKT_DATA_MASK) +			\</span>
<span class="cp">  ((*(header_ptr + 2) &amp; HIL_PKT_DATA_MASK)) &lt;&lt; 8)		\</span>
<span class="cp">* ((*(header_ptr) &amp; HIL_IDD_HEADER_16BIT) ? 100 : 1)))</span>

<span class="cp">#define HIL_IDD_AXIS_MAX(header_ptr, __axnum) \</span>
<span class="cp">((!(*(header_ptr) &amp; HIL_IDD_HEADER_ABS) ||			\</span>
<span class="cp">  (HIL_IDD_NUM_AXES_PER_SET(*(header_ptr)) &lt;= __axnum)) ? 0 :	\</span>
<span class="cp"> ((HIL_PKT_DATA_MASK &amp; *((header_ptr) + 3 + 2 * __axnum)) +	\</span>
<span class="cp">  ((HIL_PKT_DATA_MASK &amp; *((header_ptr) + 4 + 2 * __axnum)) &lt;&lt; 8)))</span>

<span class="cp">#define HIL_IDD_IOD(header_ptr) \</span>
<span class="cp">(*(header_ptr + HIL_IDD_LEN((*header_ptr)) - 1))</span>

<span class="cp">#define HIL_IDD_HAS_GEN_PROMPT(header_ptr) \</span>
<span class="cp">((*header_ptr &amp; HIL_IDD_HEADER_IOD) &amp;&amp;				\</span>
<span class="cp"> (HIL_IDD_IOD(header_ptr) &amp; HIL_IDD_IOD_PROMPT))</span>

<span class="cp">#define HIL_IDD_HAS_GEN_PROXIMITY(header_ptr) \</span>
<span class="cp">((*header_ptr &amp; HIL_IDD_HEADER_IOD) &amp;&amp;				\</span>
<span class="cp"> (HIL_IDD_IOD(header_ptr) &amp; HIL_IDD_IOD_PROXIMITY))</span>

<span class="cp">#define HIL_IDD_NUM_BUTTONS(header_ptr) \</span>
<span class="cp">((*header_ptr &amp; HIL_IDD_HEADER_IOD) ?				\</span>
<span class="cp"> (HIL_IDD_IOD(header_ptr) &amp; HIL_IDD_IOD_NBUTTON_MASK) : 0)</span>

<span class="cp">#define HIL_IDD_NUM_PROMPTS(header_ptr) \</span>
<span class="cp">((*header_ptr &amp; HIL_IDD_HEADER_IOD) ?				\</span>
<span class="cp"> ((HIL_IDD_IOD(header_ptr) &amp; HIL_IDD_IOD_NPROMPT_MASK)		\</span>
<span class="cp">  &gt;&gt; HIL_IDD_IOD_PROMPT_SHIFT) : 0)</span>

<span class="cm">/* The response to HIL EXD commands -- the &quot;extended describe record&quot; */</span>
<span class="cp">#define	HIL_EXD_HEADER_WRG		0x03	</span><span class="cm">/* Supports type2 WRG */</span><span class="cp"></span>
<span class="cp">#define HIL_EXD_HEADER_WRG_TYPE1	0x01	</span><span class="cm">/* Supports type1 WRG */</span><span class="cp"></span>
<span class="cp">#define	HIL_EXD_HEADER_WRG_TYPE2	0x02	</span><span class="cm">/* Supports type2 WRG */</span><span class="cp"></span>
<span class="cp">#define	HIL_EXD_HEADER_RRG		0x04	</span><span class="cm">/* Supports RRG command */</span><span class="cp"></span>
<span class="cp">#define	HIL_EXD_HEADER_RNM		0x10	</span><span class="cm">/* Supports RNM command */</span><span class="cp"></span>
<span class="cp">#define HIL_EXD_HEADER_RST		0x20	</span><span class="cm">/* Supports RST command */</span><span class="cp"></span>
<span class="cp">#define HIL_EXD_HEADER_LOCALE		0x40	</span><span class="cm">/* Contains locale code */</span><span class="cp"></span>

<span class="cp">#define HIL_EXD_NUM_RRG(header_ptr) \</span>
<span class="cp">((*header_ptr &amp; HIL_EXD_HEADER_RRG) ? \</span>
<span class="cp"> (*(header_ptr + 1) &amp; HIL_PKT_DATA_MASK) : 0)</span>

<span class="cp">#define HIL_EXD_NUM_WWG(header_ptr) \</span>
<span class="cp">((*header_ptr &amp; HIL_EXD_HEADER_WRG) ?				\</span>
<span class="cp"> (*(header_ptr + 2 - !(*header_ptr &amp; HIL_EXD_HEADER_RRG)) &amp;	\</span>
<span class="cp">    HIL_PKT_DATA_MASK) : 0)</span>

<span class="cp">#define HIL_EXD_LEN(header_ptr) \</span>
<span class="cp">(!!(*header_ptr &amp; HIL_EXD_HEADER_RRG) +				\</span>
<span class="cp"> !!(*header_ptr &amp; HIL_EXD_HEADER_WRG) +				\</span>
<span class="cp"> !!(*header_ptr &amp; HIL_EXD_HEADER_LOCALE) +			\</span>
<span class="cp"> 2 * !!(*header_ptr &amp; HIL_EXD_HEADER_WRG_TYPE2) + 1)</span>

<span class="cp">#define HIL_EXD_LOCALE(header_ptr) \</span>
<span class="cp">(!(*header_ptr &amp; HIL_EXD_HEADER_LOCALE) ? -1 :			\</span>
<span class="cp"> (*(header_ptr + HIL_EXD_LEN(header_ptr) - 1) &amp; HIL_PKT_DATA_MASK))</span>

<span class="cp">#define HIL_EXD_WRG_TYPE2_LEN(header_ptr) \</span>
<span class="cp">(!(*header_ptr &amp; HIL_EXD_HEADER_WRG_TYPE2) ? -1	:			\</span>
<span class="cp"> (*(header_ptr + HIL_EXD_LEN(header_ptr) - 2 -                  	\</span>
<span class="cp">    !!(*header_ptr &amp; HIL_EXD_HEADER_LOCALE)) &amp; HIL_PKT_DATA_MASK) +	\</span>
<span class="cp"> ((*(header_ptr + HIL_EXD_LEN(header_ptr) - 1 -				\</span>
<span class="cp">     !!(*header_ptr &amp; HIL_EXD_HEADER_LOCALE)) &amp; HIL_PKT_DATA_MASK) &lt;&lt; 8))</span>

<span class="cm">/* Device locale codes. */</span> 

<span class="cm">/* Last defined locale code.  Everything above this is &quot;Reserved&quot;,</span>
<span class="cm">   and note that this same table applies to the Device ID Byte where </span>
<span class="cm">   keyboards may have a nationality code which is only 5 bits. */</span>
<span class="cp">#define HIL_LOCALE_MAX 0x1f</span>

<span class="cm">/* Map to hopefully useful strings.  I was trying to make these look</span>
<span class="cm">   like locale.aliases strings do; maybe that isn&#39;t the right table to</span>
<span class="cm">   emulate.  In either case, I didn&#39;t have much to work on. */</span>
<span class="cp">#define HIL_LOCALE_MAP \</span>
<span class="cp">&quot;&quot;,			</span><span class="cm">/* 0x00 Reserved */</span><span class="cp">		\</span>
<span class="cp">&quot;&quot;,			</span><span class="cm">/* 0x01 Reserved */</span><span class="cp">		\</span>
<span class="cp">&quot;&quot;,			</span><span class="cm">/* 0x02 Reserved */</span><span class="cp">		\</span>
<span class="cp">&quot;swiss.french&quot;,		</span><span class="cm">/* 0x03 Swiss/French */</span><span class="cp">		\</span>
<span class="cp">&quot;portuguese&quot;,		</span><span class="cm">/* 0x04 Portuguese */</span><span class="cp">		\</span>
<span class="cp">&quot;arabic&quot;,		</span><span class="cm">/* 0x05 Arabic */</span><span class="cp">		\</span>
<span class="cp">&quot;hebrew&quot;,		</span><span class="cm">/* 0x06 Hebrew */</span><span class="cp">		\</span>
<span class="cp">&quot;english.canadian&quot;,	</span><span class="cm">/* 0x07 Canadian English */</span><span class="cp">	\</span>
<span class="cp">&quot;turkish&quot;,		</span><span class="cm">/* 0x08 Turkish */</span><span class="cp">		\</span>
<span class="cp">&quot;greek&quot;,		</span><span class="cm">/* 0x09 Greek */</span><span class="cp">		\</span>
<span class="cp">&quot;thai&quot;,			</span><span class="cm">/* 0x0a Thai (Thailand) */</span><span class="cp">	\</span>
<span class="cp">&quot;italian&quot;,		</span><span class="cm">/* 0x0b Italian */</span><span class="cp">		\</span>
<span class="cp">&quot;korean&quot;,		</span><span class="cm">/* 0x0c Hangul (Korea) */</span><span class="cp">	\</span>
<span class="cp">&quot;dutch&quot;,		</span><span class="cm">/* 0x0d Dutch */</span><span class="cp">		\</span>
<span class="cp">&quot;swedish&quot;,		</span><span class="cm">/* 0x0e Swedish */</span><span class="cp">		\</span>
<span class="cp">&quot;german&quot;,		</span><span class="cm">/* 0x0f German */</span><span class="cp">		\</span>
<span class="cp">&quot;chinese&quot;,		</span><span class="cm">/* 0x10 Chinese-PRC */</span><span class="cp">		\</span>
<span class="cp">&quot;chinese&quot;,		</span><span class="cm">/* 0x11 Chinese-ROC */</span><span class="cp">		\</span>
<span class="cp">&quot;swiss.french&quot;,		</span><span class="cm">/* 0x12 Swiss/French II */</span><span class="cp">	\</span>
<span class="cp">&quot;spanish&quot;,		</span><span class="cm">/* 0x13 Spanish */</span><span class="cp">		\</span>
<span class="cp">&quot;swiss.german&quot;,		</span><span class="cm">/* 0x14 Swiss/German II */</span><span class="cp">	\</span>
<span class="cp">&quot;flemish&quot;,		</span><span class="cm">/* 0x15 Belgian (Flemish) */</span><span class="cp">	\</span>
<span class="cp">&quot;finnish&quot;,		</span><span class="cm">/* 0x16 Finnish	*/</span><span class="cp">		\</span>
<span class="cp">&quot;english.uk&quot;,		</span><span class="cm">/* 0x17 United Kingdom */</span><span class="cp">	\</span>
<span class="cp">&quot;french.canadian&quot;,	</span><span class="cm">/* 0x18 French/Canadian */</span><span class="cp">	\</span>
<span class="cp">&quot;swiss.german&quot;,		</span><span class="cm">/* 0x19 Swiss/German */</span><span class="cp">		\</span>
<span class="cp">&quot;norwegian&quot;,		</span><span class="cm">/* 0x1a Norwegian */</span><span class="cp">		\</span>
<span class="cp">&quot;french&quot;,		</span><span class="cm">/* 0x1b French */</span><span class="cp">		\</span>
<span class="cp">&quot;danish&quot;,		</span><span class="cm">/* 0x1c Danish */</span><span class="cp">		\</span>
<span class="cp">&quot;japanese&quot;,		</span><span class="cm">/* 0x1d Katakana */</span><span class="cp">		\</span>
<span class="cp">&quot;spanish&quot;,		</span><span class="cm">/* 0x1e Latin American/Spanish*/</span><span class="cp">\</span>
<span class="cp">&quot;english.us&quot;		</span><span class="cm">/* 0x1f United States */</span><span class="cp">	\</span>


<span class="cm">/* HIL keycodes */</span>
<span class="cp">#define HIL_KEYCODES_SET1_TBLSIZE 128</span>
<span class="cp">#define HIL_KEYCODES_SET1 	\</span>
<span class="cp">   KEY_5,		KEY_RESERVED,	KEY_RIGHTALT,	KEY_LEFTALT,	\</span>
<span class="cp">   KEY_RIGHTSHIFT,	KEY_LEFTSHIFT,	KEY_LEFTCTRL,	KEY_SYSRQ,	\</span>
<span class="cp">   KEY_KP4,		KEY_KP8,	KEY_KP5,	KEY_KP9,	\</span>
<span class="cp">   KEY_KP6,		KEY_KP7,	KEY_KPCOMMA,	KEY_KPENTER,	\</span>
<span class="cp">   KEY_KP1,		KEY_KPSLASH,	KEY_KP2,	KEY_KPPLUS,	\</span>
<span class="cp">   KEY_KP3,		KEY_KPASTERISK,	KEY_KP0,	KEY_KPMINUS,	\</span>
<span class="cp">   KEY_B,		KEY_V,		KEY_C,		KEY_X,		\</span>
<span class="cp">   KEY_Z,		KEY_RESERVED,	KEY_RESERVED,   KEY_ESC,	\</span>
<span class="cp">   KEY_6,		KEY_F10,	KEY_3,		KEY_F11,	\</span>
<span class="cp">   KEY_KPDOT,		KEY_F9,		KEY_TAB </span><span class="cm">/*KP*/</span><span class="cp">,	KEY_F12,	\</span>
<span class="cp">   KEY_H,		KEY_G,		KEY_F,		KEY_D,		\</span>
<span class="cp">   KEY_S,		KEY_A,		KEY_RESERVED,	KEY_CAPSLOCK,	\</span>
<span class="cp">   KEY_U,		KEY_Y,		KEY_T,		KEY_R,		\</span>
<span class="cp">   KEY_E,		KEY_W,		KEY_Q,		KEY_TAB,	\</span>
<span class="cp">   KEY_7,		KEY_6,		KEY_5,		KEY_4,		\</span>
<span class="cp">   KEY_3,		KEY_2,		KEY_1,		KEY_GRAVE,	\</span>
<span class="cp">   KEY_F13,		KEY_F14,	KEY_F15,	KEY_F16,	\</span>
<span class="cp">   KEY_F17,		KEY_F18,	KEY_F19,	KEY_F20,	\</span>
<span class="cp">   KEY_MENU,		KEY_F4,		KEY_F3,		KEY_F2,		\</span>
<span class="cp">   KEY_F1,		KEY_VOLUMEUP,	KEY_STOP,	KEY_SENDFILE,	\</span>
<span class="cp">   KEY_SYSRQ,		KEY_F5,		KEY_F6,		KEY_F7,		\</span>
<span class="cp">   KEY_F8,		KEY_VOLUMEDOWN,	KEY_DEL_EOL,	KEY_DEL_EOS,	\</span>
<span class="cp">   KEY_8,		KEY_9,		KEY_0,		KEY_MINUS,	\</span>
<span class="cp">   KEY_EQUAL,		KEY_BACKSPACE,	KEY_INS_LINE,	KEY_DEL_LINE,	\</span>
<span class="cp">   KEY_I,		KEY_O,		KEY_P,		KEY_LEFTBRACE,	\</span>
<span class="cp">   KEY_RIGHTBRACE,	KEY_BACKSLASH,	KEY_INSERT,	KEY_DELETE,	\</span>
<span class="cp">   KEY_J,		KEY_K,		KEY_L,		KEY_SEMICOLON,	\</span>
<span class="cp">   KEY_APOSTROPHE,	KEY_ENTER,	KEY_HOME,	KEY_PAGEUP,	\</span>
<span class="cp">   KEY_M,		KEY_COMMA,	KEY_DOT,	KEY_SLASH,	\</span>
<span class="cp">   KEY_BACKSLASH,	KEY_SELECT,	KEY_102ND,	KEY_PAGEDOWN,	\</span>
<span class="cp">   KEY_N,		KEY_SPACE,	KEY_NEXT,	KEY_RESERVED,	\</span>
<span class="cp">   KEY_LEFT,		KEY_DOWN,	KEY_UP,		KEY_RIGHT</span>


<span class="cp">#define HIL_KEYCODES_SET3_TBLSIZE 128</span>
<span class="cp">#define HIL_KEYCODES_SET3 	\</span>
<span class="cp">  KEY_RESERVED,	KEY_ESC,	KEY_1,		KEY_2,			\</span>
<span class="cp">  KEY_3,	KEY_4,		KEY_5,		KEY_6,			\</span>
<span class="cp">  KEY_7,	KEY_8,		KEY_9,		KEY_0,			\</span>
<span class="cp">  KEY_MINUS,	KEY_EQUAL,	KEY_BACKSPACE,	KEY_TAB,		\</span>
<span class="cp">  KEY_Q,	KEY_W,		KEY_E,		KEY_R,			\</span>
<span class="cp">  KEY_T,	KEY_Y,		KEY_U,		KEY_I,			\</span>
<span class="cp">  KEY_O,	KEY_P,		KEY_LEFTBRACE,	KEY_RIGHTBRACE,		\</span>
<span class="cp">  KEY_ENTER,	KEY_LEFTCTRL,	KEY_A,		KEY_S,			\</span>
<span class="cp">  KEY_D,	KEY_F,		KEY_G,		KEY_H,			\</span>
<span class="cp">  KEY_J,	KEY_K,		KEY_L,		KEY_SEMICOLON,		\</span>
<span class="cp">  KEY_APOSTROPHE,KEY_GRAVE,	KEY_LEFTSHIFT,	KEY_BACKSLASH,		\</span>
<span class="cp">  KEY_Z,	KEY_X,		KEY_C,		KEY_V,			\</span>
<span class="cp">  KEY_B,	KEY_N,		KEY_M,		KEY_COMMA,		\</span>
<span class="cp">  KEY_DOT,	KEY_SLASH,	KEY_RIGHTSHIFT,	KEY_KPASTERISK,		\</span>
<span class="cp">  KEY_LEFTALT,	KEY_SPACE,	KEY_CAPSLOCK,	KEY_F1,			\</span>
<span class="cp">  KEY_F2,	KEY_F3,		KEY_F4,		KEY_F5,			\</span>
<span class="cp">  KEY_F6,	KEY_F7,		KEY_F8,		KEY_F9,			\</span>
<span class="cp">  KEY_F10,	KEY_NUMLOCK,	KEY_SCROLLLOCK,	KEY_KP7,		\</span>
<span class="cp">  KEY_KP8,	KEY_KP9,	KEY_KPMINUS,	KEY_KP4,		\</span>
<span class="cp">  KEY_KP5,	KEY_KP6,	KEY_KPPLUS,	KEY_KP1,		\</span>
<span class="cp">  KEY_KP2,	KEY_KP3,	KEY_KP0,	KEY_KPDOT,		\</span>
<span class="cp">  KEY_SYSRQ,	KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,		\</span>
<span class="cp">  KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,		\</span>
<span class="cp">  KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,		\</span>
<span class="cp">  KEY_UP,	KEY_LEFT,	KEY_DOWN,	KEY_RIGHT,		\</span>
<span class="cp">  KEY_HOME,	KEY_PAGEUP,	KEY_END,	KEY_PAGEDOWN,		\</span>
<span class="cp">  KEY_INSERT,	KEY_DELETE,	KEY_102ND,	KEY_RESERVED,		\</span>
<span class="cp">  KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,		\</span>
<span class="cp">  KEY_F1,	KEY_F2,		KEY_F3,		KEY_F4,			\</span>
<span class="cp">  KEY_F5,	KEY_F6,		KEY_F7,		KEY_F8,			\</span>
<span class="cp">  KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,		\</span>
<span class="cp">  KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED,	KEY_RESERVED</span>


<span class="cm">/* Response to POL command, the &quot;poll record header&quot; */</span>

<span class="cp">#define HIL_POL_NUM_AXES_MASK	0x03	</span><span class="cm">/* Number of axis reported */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CTS		0x04	</span><span class="cm">/* Device ready to receive data */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_STATUS_PENDING	0x08	</span><span class="cm">/* Device has status to report */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_MASK	0x70	</span><span class="cm">/* Type of character data to follow */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_NONE	0x00	</span><span class="cm">/* No character data to follow */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_RSVD1	0x10	</span><span class="cm">/* Reserved Set 1 */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_ASCII	0x20	</span><span class="cm">/* U.S. ASCII */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_BINARY	0x30	</span><span class="cm">/* Binary data */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_SET1	0x40	</span><span class="cm">/* Keycode Set 1 */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_RSVD2	0x50	</span><span class="cm">/* Reserved Set 2 */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_SET2	0x60	</span><span class="cm">/* Keycode Set 2 */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_CHARTYPE_SET3	0x70	</span><span class="cm">/* Keycode Set 3 */</span><span class="cp"></span>
<span class="cp">#define HIL_POL_AXIS_ALT	0x80	</span><span class="cm">/* Data is from axis set 2 */</span><span class="cp"></span>


<span class="cp">#endif </span><span class="cm">/* _HIL_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
