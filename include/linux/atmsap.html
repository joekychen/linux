<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › atmsap.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>atmsap.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* atmsap.h - ATM Service Access Point addressing definitions */</span>

<span class="cm">/* Written 1995-1999 by Werner Almesberger, EPFL LRC/ICA */</span>


<span class="cp">#ifndef _LINUX_ATMSAP_H</span>
<span class="cp">#define _LINUX_ATMSAP_H</span>

<span class="cp">#include &lt;linux/atmapi.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * BEGIN_xx and END_xx markers are used for automatic generation of</span>
<span class="cm"> * documentation. Do not change them.</span>
<span class="cm"> */</span>


<span class="cm">/*</span>
<span class="cm"> * Layer 2 protocol identifiers</span>
<span class="cm"> */</span>

<span class="cm">/* BEGIN_L2 */</span>
<span class="cp">#define ATM_L2_NONE	0	</span><span class="cm">/* L2 not specified */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_ISO1745  0x01	</span><span class="cm">/* Basic mode ISO 1745 */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_Q291	0x02	</span><span class="cm">/* ITU-T Q.291 (Rec. I.441) */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_X25_LL	0x06	</span><span class="cm">/* ITU-T X.25, link layer */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_X25_ML	0x07	</span><span class="cm">/* ITU-T X.25, multilink */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_LAPB	0x08	</span><span class="cm">/* Extended LAPB, half-duplex (Rec. T.71) */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_HDLC_ARM	0x09	</span><span class="cm">/* HDLC ARM (ISO/IEC 4335) */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_HDLC_NRM	0x0a	</span><span class="cm">/* HDLC NRM (ISO/IEC 4335) */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_HDLC_ABM	0x0b	</span><span class="cm">/* HDLC ABM (ISO/IEC 4335) */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_ISO8802	0x0c	</span><span class="cm">/* LAN LLC (ISO/IEC 8802/2) */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_X75	0x0d	</span><span class="cm">/* ITU-T X.75, SLP */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_Q922	0x0e	</span><span class="cm">/* ITU-T Q.922 */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_USER	0x10	</span><span class="cm">/* user-specified */</span><span class="cp"></span>
<span class="cp">#define ATM_L2_ISO7776	0x11	</span><span class="cm">/* ISO 7776 DTE-DTE */</span><span class="cp"></span>
<span class="cm">/* END_L2 */</span>


<span class="cm">/*</span>
<span class="cm"> * Layer 3 protocol identifiers</span>
<span class="cm"> */</span>

<span class="cm">/* BEGIN_L3 */</span>
<span class="cp">#define ATM_L3_NONE	0	</span><span class="cm">/* L3 not specified */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_X25	0x06	</span><span class="cm">/* ITU-T X.25, packet layer */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_ISO8208	0x07	</span><span class="cm">/* ISO/IEC 8208 */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_X223	0x08	</span><span class="cm">/* ITU-T X.223 | ISO/IEC 8878 */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_ISO8473	0x09	</span><span class="cm">/* ITU-T X.233 | ISO/IEC 8473 */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_T70	0x0a	</span><span class="cm">/* ITU-T T.70 minimum network layer */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_TR9577	0x0b	</span><span class="cm">/* ISO/IEC TR 9577 */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_H310	0x0c	</span><span class="cm">/* ITU-T Recommendation H.310 */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_H321	0x0d	</span><span class="cm">/* ITU-T Recommendation H.321 */</span><span class="cp"></span>
<span class="cp">#define ATM_L3_USER	0x10	</span><span class="cm">/* user-specified */</span><span class="cp"></span>
<span class="cm">/* END_L3 */</span>


<span class="cm">/*</span>
<span class="cm"> * High layer identifiers</span>
<span class="cm"> */</span>

<span class="cm">/* BEGIN_HL */</span>
<span class="cp">#define ATM_HL_NONE	0	</span><span class="cm">/* HL not specified */</span><span class="cp"></span>
<span class="cp">#define ATM_HL_ISO	0x01	</span><span class="cm">/* ISO */</span><span class="cp"></span>
<span class="cp">#define ATM_HL_USER	0x02	</span><span class="cm">/* user-specific */</span><span class="cp"></span>
<span class="cp">#define ATM_HL_HLP	0x03	</span><span class="cm">/* high layer profile - UNI 3.0 only */</span><span class="cp"></span>
<span class="cp">#define ATM_HL_VENDOR	0x04	</span><span class="cm">/* vendor-specific application identifier */</span><span class="cp"></span>
<span class="cm">/* END_HL */</span>


<span class="cm">/*</span>
<span class="cm"> * ITU-T coded mode of operation</span>
<span class="cm"> */</span>

<span class="cm">/* BEGIN_IMD */</span>
<span class="cp">#define ATM_IMD_NONE	 0	</span><span class="cm">/* mode not specified */</span><span class="cp"></span>
<span class="cp">#define ATM_IMD_NORMAL	 1	</span><span class="cm">/* normal mode of operation */</span><span class="cp"></span>
<span class="cp">#define ATM_IMD_EXTENDED 2	</span><span class="cm">/* extended mode of operation */</span><span class="cp"></span>
<span class="cm">/* END_IMD */</span>

<span class="cm">/*</span>
<span class="cm"> * H.310 code points</span>
<span class="cm"> */</span>

<span class="cp">#define ATM_TT_NONE	0	</span><span class="cm">/* terminal type not specified */</span><span class="cp"></span>
<span class="cp">#define ATM_TT_RX	1	</span><span class="cm">/* receive only */</span><span class="cp"></span>
<span class="cp">#define ATM_TT_TX	2	</span><span class="cm">/* send only */</span><span class="cp"></span>
<span class="cp">#define ATM_TT_RXTX	3	</span><span class="cm">/* receive and send */</span><span class="cp"></span>

<span class="cp">#define ATM_MC_NONE	0	</span><span class="cm">/* no multiplexing */</span><span class="cp"></span>
<span class="cp">#define ATM_MC_TS	1	</span><span class="cm">/* transport stream (TS) */</span><span class="cp"></span>
<span class="cp">#define ATM_MC_TS_FEC	2	</span><span class="cm">/* transport stream with forward error corr. */</span><span class="cp"></span>
<span class="cp">#define ATM_MC_PS	3	</span><span class="cm">/* program stream (PS) */</span><span class="cp"></span>
<span class="cp">#define ATM_MC_PS_FEC	4	</span><span class="cm">/* program stream with forward error corr. */</span><span class="cp"></span>
<span class="cp">#define ATM_MC_H221	5	</span><span class="cm">/* ITU-T Rec. H.221 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * SAP structures</span>
<span class="cm"> */</span>

<span class="cp">#define ATM_MAX_HLI	8	</span><span class="cm">/* maximum high-layer information length */</span><span class="cp"></span>


<span class="k">struct</span> <span class="n">atm_blli</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">l2_proto</span><span class="p">;</span>	<span class="cm">/* layer 2 protocol */</span>
    <span class="k">union</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">mode</span><span class="p">;</span>	<span class="cm">/* mode of operation (ATM_IMD_xxx), 0 if */</span>
				<span class="cm">/* absent */</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">window</span><span class="p">;</span> <span class="cm">/* window size (k), 1-127 (0 to omit) */</span>
	<span class="p">}</span> <span class="n">itu</span><span class="p">;</span>			<span class="cm">/* ITU-T encoding */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">user</span><span class="p">;</span>	<span class="cm">/* user-specified l2 information */</span>
    <span class="p">}</span> <span class="n">l2</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">l3_proto</span><span class="p">;</span>	<span class="cm">/* layer 3 protocol */</span>
    <span class="k">union</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">mode</span><span class="p">;</span>	<span class="cm">/* mode of operation (ATM_IMD_xxx), 0 if */</span>
				<span class="cm">/* absent */</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">def_size</span><span class="p">;</span> <span class="cm">/* default packet size (log2), 4-12 (0 to */</span>
				    <span class="cm">/* omit) */</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">window</span><span class="p">;</span><span class="cm">/* packet window size, 1-127 (0 to omit) */</span>
	<span class="p">}</span> <span class="n">itu</span><span class="p">;</span>			<span class="cm">/* ITU-T encoding */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">user</span><span class="p">;</span>	<span class="cm">/* user specified l3 information */</span>
	<span class="k">struct</span> <span class="p">{</span>		      <span class="cm">/* if l3_proto = ATM_L3_H310 */</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">term_type</span><span class="p">;</span>  <span class="cm">/* terminal type */</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">fw_mpx_cap</span><span class="p">;</span> <span class="cm">/* forward multiplexing capability */</span>
				      <span class="cm">/* only if term_type != ATM_TT_NONE */</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">bw_mpx_cap</span><span class="p">;</span> <span class="cm">/* backward multiplexing capability */</span>
				      <span class="cm">/* only if term_type != ATM_TT_NONE */</span>
	<span class="p">}</span> <span class="n">h310</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>		  <span class="cm">/* if l3_proto = ATM_L3_TR9577 */</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">ipi</span><span class="p">;</span>	  <span class="cm">/* initial protocol id */</span>
	    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">snap</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span><span class="cm">/* IEEE 802.1 SNAP identifier */</span>
				  <span class="cm">/* (only if ipi == NLPID_IEEE802_1_SNAP) */</span>
	<span class="p">}</span> <span class="n">tr9577</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">l3</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__ATM_API_ALIGN</span><span class="p">;</span>


<span class="k">struct</span> <span class="n">atm_bhli</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">hl_type</span><span class="p">;</span>	<span class="cm">/* high layer information type */</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">hl_length</span><span class="p">;</span>	<span class="cm">/* length (only if hl_type == ATM_HL_USER || */</span>
				<span class="cm">/* hl_type == ATM_HL_ISO) */</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">hl_info</span><span class="p">[</span><span class="n">ATM_MAX_HLI</span><span class="p">];</span><span class="cm">/* high layer information */</span>
<span class="p">};</span>


<span class="cp">#define ATM_MAX_BLLI	3		</span><span class="cm">/* maximum number of BLLI elements */</span><span class="cp"></span>


<span class="k">struct</span> <span class="n">atm_sap</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">atm_bhli</span> <span class="n">bhli</span><span class="p">;</span>		<span class="cm">/* local SAP, high-layer information */</span>
	<span class="k">struct</span> <span class="n">atm_blli</span> <span class="n">blli</span><span class="p">[</span><span class="n">ATM_MAX_BLLI</span><span class="p">]</span> <span class="n">__ATM_API_ALIGN</span><span class="p">;</span>
					<span class="cm">/* local SAP, low-layer info */</span>
<span class="p">};</span>


<span class="k">static</span> <span class="n">__inline__</span> <span class="kt">int</span> <span class="nf">blli_in_use</span><span class="p">(</span><span class="k">struct</span> <span class="n">atm_blli</span> <span class="n">blli</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">blli</span><span class="p">.</span><span class="n">l2_proto</span> <span class="o">||</span> <span class="n">blli</span><span class="p">.</span><span class="n">l3_proto</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
