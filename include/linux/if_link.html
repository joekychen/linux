<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › if_link.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>if_link.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _LINUX_IF_LINK_H</span>
<span class="cp">#define _LINUX_IF_LINK_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;linux/netlink.h&gt;</span>

<span class="cm">/* This struct should be in sync with struct rtnl_link_stats64 */</span>
<span class="k">struct</span> <span class="n">rtnl_link_stats</span> <span class="p">{</span>
	<span class="n">__u32</span>	<span class="n">rx_packets</span><span class="p">;</span>		<span class="cm">/* total packets received	*/</span>
	<span class="n">__u32</span>	<span class="n">tx_packets</span><span class="p">;</span>		<span class="cm">/* total packets transmitted	*/</span>
	<span class="n">__u32</span>	<span class="n">rx_bytes</span><span class="p">;</span>		<span class="cm">/* total bytes received 	*/</span>
	<span class="n">__u32</span>	<span class="n">tx_bytes</span><span class="p">;</span>		<span class="cm">/* total bytes transmitted	*/</span>
	<span class="n">__u32</span>	<span class="n">rx_errors</span><span class="p">;</span>		<span class="cm">/* bad packets received		*/</span>
	<span class="n">__u32</span>	<span class="n">tx_errors</span><span class="p">;</span>		<span class="cm">/* packet transmit problems	*/</span>
	<span class="n">__u32</span>	<span class="n">rx_dropped</span><span class="p">;</span>		<span class="cm">/* no space in linux buffers	*/</span>
	<span class="n">__u32</span>	<span class="n">tx_dropped</span><span class="p">;</span>		<span class="cm">/* no space available in linux	*/</span>
	<span class="n">__u32</span>	<span class="n">multicast</span><span class="p">;</span>		<span class="cm">/* multicast packets received	*/</span>
	<span class="n">__u32</span>	<span class="n">collisions</span><span class="p">;</span>

	<span class="cm">/* detailed rx_errors: */</span>
	<span class="n">__u32</span>	<span class="n">rx_length_errors</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">rx_over_errors</span><span class="p">;</span>		<span class="cm">/* receiver ring buff overflow	*/</span>
	<span class="n">__u32</span>	<span class="n">rx_crc_errors</span><span class="p">;</span>		<span class="cm">/* recved pkt with crc error	*/</span>
	<span class="n">__u32</span>	<span class="n">rx_frame_errors</span><span class="p">;</span>	<span class="cm">/* recv&#39;d frame alignment error */</span>
	<span class="n">__u32</span>	<span class="n">rx_fifo_errors</span><span class="p">;</span>		<span class="cm">/* recv&#39;r fifo overrun		*/</span>
	<span class="n">__u32</span>	<span class="n">rx_missed_errors</span><span class="p">;</span>	<span class="cm">/* receiver missed packet	*/</span>

	<span class="cm">/* detailed tx_errors */</span>
	<span class="n">__u32</span>	<span class="n">tx_aborted_errors</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">tx_carrier_errors</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">tx_fifo_errors</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">tx_heartbeat_errors</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">tx_window_errors</span><span class="p">;</span>

	<span class="cm">/* for cslip etc */</span>
	<span class="n">__u32</span>	<span class="n">rx_compressed</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">tx_compressed</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* The main device statistics structure */</span>
<span class="k">struct</span> <span class="n">rtnl_link_stats64</span> <span class="p">{</span>
	<span class="n">__u64</span>	<span class="n">rx_packets</span><span class="p">;</span>		<span class="cm">/* total packets received	*/</span>
	<span class="n">__u64</span>	<span class="n">tx_packets</span><span class="p">;</span>		<span class="cm">/* total packets transmitted	*/</span>
	<span class="n">__u64</span>	<span class="n">rx_bytes</span><span class="p">;</span>		<span class="cm">/* total bytes received 	*/</span>
	<span class="n">__u64</span>	<span class="n">tx_bytes</span><span class="p">;</span>		<span class="cm">/* total bytes transmitted	*/</span>
	<span class="n">__u64</span>	<span class="n">rx_errors</span><span class="p">;</span>		<span class="cm">/* bad packets received		*/</span>
	<span class="n">__u64</span>	<span class="n">tx_errors</span><span class="p">;</span>		<span class="cm">/* packet transmit problems	*/</span>
	<span class="n">__u64</span>	<span class="n">rx_dropped</span><span class="p">;</span>		<span class="cm">/* no space in linux buffers	*/</span>
	<span class="n">__u64</span>	<span class="n">tx_dropped</span><span class="p">;</span>		<span class="cm">/* no space available in linux	*/</span>
	<span class="n">__u64</span>	<span class="n">multicast</span><span class="p">;</span>		<span class="cm">/* multicast packets received	*/</span>
	<span class="n">__u64</span>	<span class="n">collisions</span><span class="p">;</span>

	<span class="cm">/* detailed rx_errors: */</span>
	<span class="n">__u64</span>	<span class="n">rx_length_errors</span><span class="p">;</span>
	<span class="n">__u64</span>	<span class="n">rx_over_errors</span><span class="p">;</span>		<span class="cm">/* receiver ring buff overflow	*/</span>
	<span class="n">__u64</span>	<span class="n">rx_crc_errors</span><span class="p">;</span>		<span class="cm">/* recved pkt with crc error	*/</span>
	<span class="n">__u64</span>	<span class="n">rx_frame_errors</span><span class="p">;</span>	<span class="cm">/* recv&#39;d frame alignment error */</span>
	<span class="n">__u64</span>	<span class="n">rx_fifo_errors</span><span class="p">;</span>		<span class="cm">/* recv&#39;r fifo overrun		*/</span>
	<span class="n">__u64</span>	<span class="n">rx_missed_errors</span><span class="p">;</span>	<span class="cm">/* receiver missed packet	*/</span>

	<span class="cm">/* detailed tx_errors */</span>
	<span class="n">__u64</span>	<span class="n">tx_aborted_errors</span><span class="p">;</span>
	<span class="n">__u64</span>	<span class="n">tx_carrier_errors</span><span class="p">;</span>
	<span class="n">__u64</span>	<span class="n">tx_fifo_errors</span><span class="p">;</span>
	<span class="n">__u64</span>	<span class="n">tx_heartbeat_errors</span><span class="p">;</span>
	<span class="n">__u64</span>	<span class="n">tx_window_errors</span><span class="p">;</span>

	<span class="cm">/* for cslip etc */</span>
	<span class="n">__u64</span>	<span class="n">rx_compressed</span><span class="p">;</span>
	<span class="n">__u64</span>	<span class="n">tx_compressed</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* The struct should be in sync with struct ifmap */</span>
<span class="k">struct</span> <span class="n">rtnl_link_ifmap</span> <span class="p">{</span>
	<span class="n">__u64</span>	<span class="n">mem_start</span><span class="p">;</span>
	<span class="n">__u64</span>	<span class="n">mem_end</span><span class="p">;</span>
	<span class="n">__u64</span>	<span class="n">base_addr</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">irq</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">dma</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">port</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * IFLA_AF_SPEC</span>
<span class="cm"> *   Contains nested attributes for address family specific attributes.</span>
<span class="cm"> *   Each address family may create a attribute with the address family</span>
<span class="cm"> *   number as type and create its own attribute structure in it.</span>
<span class="cm"> *</span>
<span class="cm"> *   Example:</span>
<span class="cm"> *   [IFLA_AF_SPEC] = {</span>
<span class="cm"> *       [AF_INET] = {</span>
<span class="cm"> *           [IFLA_INET_CONF] = ...,</span>
<span class="cm"> *       },</span>
<span class="cm"> *       [AF_INET6] = {</span>
<span class="cm"> *           [IFLA_INET6_FLAGS] = ...,</span>
<span class="cm"> *           [IFLA_INET6_CONF] = ...,</span>
<span class="cm"> *       }</span>
<span class="cm"> *   }</span>
<span class="cm"> */</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_ADDRESS</span><span class="p">,</span>
	<span class="n">IFLA_BROADCAST</span><span class="p">,</span>
	<span class="n">IFLA_IFNAME</span><span class="p">,</span>
	<span class="n">IFLA_MTU</span><span class="p">,</span>
	<span class="n">IFLA_LINK</span><span class="p">,</span>
	<span class="n">IFLA_QDISC</span><span class="p">,</span>
	<span class="n">IFLA_STATS</span><span class="p">,</span>
	<span class="n">IFLA_COST</span><span class="p">,</span>
<span class="cp">#define IFLA_COST IFLA_COST</span>
	<span class="n">IFLA_PRIORITY</span><span class="p">,</span>
<span class="cp">#define IFLA_PRIORITY IFLA_PRIORITY</span>
	<span class="n">IFLA_MASTER</span><span class="p">,</span>
<span class="cp">#define IFLA_MASTER IFLA_MASTER</span>
	<span class="n">IFLA_WIRELESS</span><span class="p">,</span>		<span class="cm">/* Wireless Extension event - see wireless.h */</span>
<span class="cp">#define IFLA_WIRELESS IFLA_WIRELESS</span>
	<span class="n">IFLA_PROTINFO</span><span class="p">,</span>		<span class="cm">/* Protocol specific information for a link */</span>
<span class="cp">#define IFLA_PROTINFO IFLA_PROTINFO</span>
	<span class="n">IFLA_TXQLEN</span><span class="p">,</span>
<span class="cp">#define IFLA_TXQLEN IFLA_TXQLEN</span>
	<span class="n">IFLA_MAP</span><span class="p">,</span>
<span class="cp">#define IFLA_MAP IFLA_MAP</span>
	<span class="n">IFLA_WEIGHT</span><span class="p">,</span>
<span class="cp">#define IFLA_WEIGHT IFLA_WEIGHT</span>
	<span class="n">IFLA_OPERSTATE</span><span class="p">,</span>
	<span class="n">IFLA_LINKMODE</span><span class="p">,</span>
	<span class="n">IFLA_LINKINFO</span><span class="p">,</span>
<span class="cp">#define IFLA_LINKINFO IFLA_LINKINFO</span>
	<span class="n">IFLA_NET_NS_PID</span><span class="p">,</span>
	<span class="n">IFLA_IFALIAS</span><span class="p">,</span>
	<span class="n">IFLA_NUM_VF</span><span class="p">,</span>		<span class="cm">/* Number of VFs if device is SR-IOV PF */</span>
	<span class="n">IFLA_VFINFO_LIST</span><span class="p">,</span>
	<span class="n">IFLA_STATS64</span><span class="p">,</span>
	<span class="n">IFLA_VF_PORTS</span><span class="p">,</span>
	<span class="n">IFLA_PORT_SELF</span><span class="p">,</span>
	<span class="n">IFLA_AF_SPEC</span><span class="p">,</span>
	<span class="n">IFLA_GROUP</span><span class="p">,</span>		<span class="cm">/* Group the device belongs to */</span>
	<span class="n">IFLA_NET_NS_FD</span><span class="p">,</span>
	<span class="n">IFLA_EXT_MASK</span><span class="p">,</span>		<span class="cm">/* Extended info mask, VFs, etc */</span>
	<span class="n">IFLA_PROMISCUITY</span><span class="p">,</span>	<span class="cm">/* Promiscuity count: &gt; 0 means acts PROMISC */</span>
<span class="cp">#define IFLA_PROMISCUITY IFLA_PROMISCUITY</span>
	<span class="n">__IFLA_MAX</span>
<span class="p">};</span>


<span class="cp">#define IFLA_MAX (__IFLA_MAX - 1)</span>

<span class="cm">/* backwards compatibility for userspace */</span>
<span class="cp">#ifndef __KERNEL__</span>
<span class="cp">#define IFLA_RTA(r)  ((struct rtattr*)(((char*)(r)) + NLMSG_ALIGN(sizeof(struct ifinfomsg))))</span>
<span class="cp">#define IFLA_PAYLOAD(n) NLMSG_PAYLOAD(n,sizeof(struct ifinfomsg))</span>
<span class="cp">#endif</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_INET_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_INET_CONF</span><span class="p">,</span>
	<span class="n">__IFLA_INET_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define IFLA_INET_MAX (__IFLA_INET_MAX - 1)</span>

<span class="cm">/* ifi_flags.</span>

<span class="cm">   IFF_* flags.</span>

<span class="cm">   The only change is:</span>
<span class="cm">   IFF_LOOPBACK, IFF_BROADCAST and IFF_POINTOPOINT are</span>
<span class="cm">   more not changeable by user. They describe link media</span>
<span class="cm">   characteristics and set by device driver.</span>

<span class="cm">   Comments:</span>
<span class="cm">   - Combination IFF_BROADCAST|IFF_POINTOPOINT is invalid</span>
<span class="cm">   - If neither of these three flags are set;</span>
<span class="cm">     the interface is NBMA.</span>

<span class="cm">   - IFF_MULTICAST does not mean anything special:</span>
<span class="cm">   multicasts can be used on all not-NBMA links.</span>
<span class="cm">   IFF_MULTICAST means that this media uses special encapsulation</span>
<span class="cm">   for multicast frames. Apparently, all IFF_POINTOPOINT and</span>
<span class="cm">   IFF_BROADCAST devices are able to use multicasts too.</span>
<span class="cm"> */</span>

<span class="cm">/* IFLA_LINK.</span>
<span class="cm">   For usual devices it is equal ifi_index.</span>
<span class="cm">   If it is a &quot;virtual interface&quot; (f.e. tunnel), ifi_link</span>
<span class="cm">   can point to real physical interface (f.e. for bandwidth calculations),</span>
<span class="cm">   or maybe 0, what means, that real media is unknown (usual</span>
<span class="cm">   for IPIP tunnels, when route to endpoint is allowed to change)</span>
<span class="cm"> */</span>

<span class="cm">/* Subtype attributes for IFLA_PROTINFO */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_INET6_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_INET6_FLAGS</span><span class="p">,</span>	<span class="cm">/* link flags			*/</span>
	<span class="n">IFLA_INET6_CONF</span><span class="p">,</span>	<span class="cm">/* sysctl parameters		*/</span>
	<span class="n">IFLA_INET6_STATS</span><span class="p">,</span>	<span class="cm">/* statistics			*/</span>
	<span class="n">IFLA_INET6_MCAST</span><span class="p">,</span>	<span class="cm">/* MC things. What of them?	*/</span>
	<span class="n">IFLA_INET6_CACHEINFO</span><span class="p">,</span>	<span class="cm">/* time values and max reasm size */</span>
	<span class="n">IFLA_INET6_ICMP6STATS</span><span class="p">,</span>	<span class="cm">/* statistics (icmpv6)		*/</span>
	<span class="n">__IFLA_INET6_MAX</span>
<span class="p">};</span>

<span class="cp">#define IFLA_INET6_MAX	(__IFLA_INET6_MAX - 1)</span>

<span class="k">struct</span> <span class="n">ifla_cacheinfo</span> <span class="p">{</span>
	<span class="n">__u32</span>	<span class="n">max_reasm_len</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">tstamp</span><span class="p">;</span>		<span class="cm">/* ipv6InterfaceTable updated timestamp */</span>
	<span class="n">__u32</span>	<span class="n">reachable_time</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">retrans_time</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_INFO_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_INFO_KIND</span><span class="p">,</span>
	<span class="n">IFLA_INFO_DATA</span><span class="p">,</span>
	<span class="n">IFLA_INFO_XSTATS</span><span class="p">,</span>
	<span class="n">__IFLA_INFO_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define IFLA_INFO_MAX	(__IFLA_INFO_MAX - 1)</span>

<span class="cm">/* VLAN section */</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_VLAN_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_VLAN_ID</span><span class="p">,</span>
	<span class="n">IFLA_VLAN_FLAGS</span><span class="p">,</span>
	<span class="n">IFLA_VLAN_EGRESS_QOS</span><span class="p">,</span>
	<span class="n">IFLA_VLAN_INGRESS_QOS</span><span class="p">,</span>
	<span class="n">__IFLA_VLAN_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define IFLA_VLAN_MAX	(__IFLA_VLAN_MAX - 1)</span>

<span class="k">struct</span> <span class="n">ifla_vlan_flags</span> <span class="p">{</span>
	<span class="n">__u32</span>	<span class="n">flags</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">mask</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_VLAN_QOS_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_VLAN_QOS_MAPPING</span><span class="p">,</span>
	<span class="n">__IFLA_VLAN_QOS_MAX</span>
<span class="p">};</span>

<span class="cp">#define IFLA_VLAN_QOS_MAX	(__IFLA_VLAN_QOS_MAX - 1)</span>

<span class="k">struct</span> <span class="n">ifla_vlan_qos_mapping</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">from</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">to</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* MACVLAN section */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_MACVLAN_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_MACVLAN_MODE</span><span class="p">,</span>
	<span class="n">IFLA_MACVLAN_FLAGS</span><span class="p">,</span>
	<span class="n">__IFLA_MACVLAN_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define IFLA_MACVLAN_MAX (__IFLA_MACVLAN_MAX - 1)</span>

<span class="k">enum</span> <span class="n">macvlan_mode</span> <span class="p">{</span>
	<span class="n">MACVLAN_MODE_PRIVATE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="cm">/* don&#39;t talk to other macvlans */</span>
	<span class="n">MACVLAN_MODE_VEPA</span>    <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="cm">/* talk to other ports through ext bridge */</span>
	<span class="n">MACVLAN_MODE_BRIDGE</span>  <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="cm">/* talk to bridge ports directly */</span>
	<span class="n">MACVLAN_MODE_PASSTHRU</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span><span class="cm">/* take over the underlying device */</span>
<span class="p">};</span>

<span class="cp">#define MACVLAN_FLAG_NOPROMISC	1</span>

<span class="cm">/* SR-IOV virtual function management section */</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_VF_INFO_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_VF_INFO</span><span class="p">,</span>
	<span class="n">__IFLA_VF_INFO_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define IFLA_VF_INFO_MAX (__IFLA_VF_INFO_MAX - 1)</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_VF_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_VF_MAC</span><span class="p">,</span>		<span class="cm">/* Hardware queue specific attributes */</span>
	<span class="n">IFLA_VF_VLAN</span><span class="p">,</span>
	<span class="n">IFLA_VF_TX_RATE</span><span class="p">,</span>	<span class="cm">/* TX Bandwidth Allocation */</span>
	<span class="n">IFLA_VF_SPOOFCHK</span><span class="p">,</span>	<span class="cm">/* Spoof Checking on/off switch */</span>
	<span class="n">__IFLA_VF_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define IFLA_VF_MAX (__IFLA_VF_MAX - 1)</span>

<span class="k">struct</span> <span class="n">ifla_vf_mac</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">vf</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">mac</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span> <span class="cm">/* MAX_ADDR_LEN */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ifla_vf_vlan</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">vf</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">vlan</span><span class="p">;</span> <span class="cm">/* 0 - 4095, 0 disables VLAN filter */</span>
	<span class="n">__u32</span> <span class="n">qos</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ifla_vf_tx_rate</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">vf</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">rate</span><span class="p">;</span> <span class="cm">/* Max TX bandwidth in Mbps, 0 disables throttling */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ifla_vf_spoofchk</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">vf</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">setting</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#ifdef __KERNEL__</span>

<span class="cm">/* We don&#39;t want this structure exposed to user space */</span>
<span class="k">struct</span> <span class="n">ifla_vf_info</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">vf</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">mac</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u32</span> <span class="n">vlan</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">qos</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">tx_rate</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">spoofchk</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif</span>

<span class="cm">/* VF ports management section</span>
<span class="cm"> *</span>
<span class="cm"> *	Nested layout of set/get msg is:</span>
<span class="cm"> *</span>
<span class="cm"> *		[IFLA_NUM_VF]</span>
<span class="cm"> *		[IFLA_VF_PORTS]</span>
<span class="cm"> *			[IFLA_VF_PORT]</span>
<span class="cm"> *				[IFLA_PORT_*], ...</span>
<span class="cm"> *			[IFLA_VF_PORT]</span>
<span class="cm"> *				[IFLA_PORT_*], ...</span>
<span class="cm"> *			...</span>
<span class="cm"> *		[IFLA_PORT_SELF]</span>
<span class="cm"> *			[IFLA_PORT_*], ...</span>
<span class="cm"> */</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_VF_PORT_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_VF_PORT</span><span class="p">,</span>			<span class="cm">/* nest */</span>
	<span class="n">__IFLA_VF_PORT_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define IFLA_VF_PORT_MAX (__IFLA_VF_PORT_MAX - 1)</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">IFLA_PORT_UNSPEC</span><span class="p">,</span>
	<span class="n">IFLA_PORT_VF</span><span class="p">,</span>			<span class="cm">/* __u32 */</span>
	<span class="n">IFLA_PORT_PROFILE</span><span class="p">,</span>		<span class="cm">/* string */</span>
	<span class="n">IFLA_PORT_VSI_TYPE</span><span class="p">,</span>		<span class="cm">/* 802.1Qbg (pre-)standard VDP */</span>
	<span class="n">IFLA_PORT_INSTANCE_UUID</span><span class="p">,</span>	<span class="cm">/* binary UUID */</span>
	<span class="n">IFLA_PORT_HOST_UUID</span><span class="p">,</span>		<span class="cm">/* binary UUID */</span>
	<span class="n">IFLA_PORT_REQUEST</span><span class="p">,</span>		<span class="cm">/* __u8 */</span>
	<span class="n">IFLA_PORT_RESPONSE</span><span class="p">,</span>		<span class="cm">/* __u16, output only */</span>
	<span class="n">__IFLA_PORT_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define IFLA_PORT_MAX (__IFLA_PORT_MAX - 1)</span>

<span class="cp">#define PORT_PROFILE_MAX	40</span>
<span class="cp">#define PORT_UUID_MAX		16</span>
<span class="cp">#define PORT_SELF_VF		-1</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">PORT_REQUEST_PREASSOCIATE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">PORT_REQUEST_PREASSOCIATE_RR</span><span class="p">,</span>
	<span class="n">PORT_REQUEST_ASSOCIATE</span><span class="p">,</span>
	<span class="n">PORT_REQUEST_DISASSOCIATE</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">PORT_VDP_RESPONSE_SUCCESS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">PORT_VDP_RESPONSE_INVALID_FORMAT</span><span class="p">,</span>
	<span class="n">PORT_VDP_RESPONSE_INSUFFICIENT_RESOURCES</span><span class="p">,</span>
	<span class="n">PORT_VDP_RESPONSE_UNUSED_VTID</span><span class="p">,</span>
	<span class="n">PORT_VDP_RESPONSE_VTID_VIOLATION</span><span class="p">,</span>
	<span class="n">PORT_VDP_RESPONSE_VTID_VERSION_VIOALTION</span><span class="p">,</span>
	<span class="n">PORT_VDP_RESPONSE_OUT_OF_SYNC</span><span class="p">,</span>
	<span class="cm">/* 0x08-0xFF reserved for future VDP use */</span>
	<span class="n">PORT_PROFILE_RESPONSE_SUCCESS</span> <span class="o">=</span> <span class="mh">0x100</span><span class="p">,</span>
	<span class="n">PORT_PROFILE_RESPONSE_INPROGRESS</span><span class="p">,</span>
	<span class="n">PORT_PROFILE_RESPONSE_INVALID</span><span class="p">,</span>
	<span class="n">PORT_PROFILE_RESPONSE_BADSTATE</span><span class="p">,</span>
	<span class="n">PORT_PROFILE_RESPONSE_INSUFFICIENT_RESOURCES</span><span class="p">,</span>
	<span class="n">PORT_PROFILE_RESPONSE_ERROR</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ifla_port_vsi</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">vsi_mgr_id</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">vsi_type_id</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__u8</span> <span class="n">vsi_type_version</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* _LINUX_IF_LINK_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
