<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › dvb › audio.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>audio.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * audio.h</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2000 Ralph  Metzler &lt;ralph@convergence.de&gt;</span>
<span class="cm"> *                  &amp; Marcus Metzler &lt;marcus@convergence.de&gt;</span>
<span class="cm"> *                    for convergence integrated media GmbH</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or</span>
<span class="cm"> * modify it under the terms of the GNU General Lesser Public License</span>
<span class="cm"> * as published by the Free Software Foundation; either version 2.1</span>
<span class="cm"> * of the License, or (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU Lesser General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _DVBAUDIO_H_</span>
<span class="cp">#define _DVBAUDIO_H_</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">AUDIO_SOURCE_DEMUX</span><span class="p">,</span> <span class="cm">/* Select the demux as the main source */</span>
	<span class="n">AUDIO_SOURCE_MEMORY</span> <span class="cm">/* Select internal memory as the main source */</span>
<span class="p">}</span> <span class="n">audio_stream_source_t</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">AUDIO_STOPPED</span><span class="p">,</span>      <span class="cm">/* Device is stopped */</span>
	<span class="n">AUDIO_PLAYING</span><span class="p">,</span>      <span class="cm">/* Device is currently playing */</span>
	<span class="n">AUDIO_PAUSED</span>        <span class="cm">/* Device is paused */</span>
<span class="p">}</span> <span class="n">audio_play_state_t</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">AUDIO_STEREO</span><span class="p">,</span>
	<span class="n">AUDIO_MONO_LEFT</span><span class="p">,</span>
	<span class="n">AUDIO_MONO_RIGHT</span><span class="p">,</span>
	<span class="n">AUDIO_MONO</span><span class="p">,</span>
	<span class="n">AUDIO_STEREO_SWAPPED</span>
<span class="p">}</span> <span class="n">audio_channel_select_t</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">audio_mixer</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">volume_left</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">volume_right</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>what else do we need? bass, pass-through, ...</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span> <span class="n">audio_mixer_t</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">audio_status</span> <span class="p">{</span>
	<span class="kt">int</span>                    <span class="n">AV_sync_state</span><span class="p">;</span>  <span class="cm">/* sync audio and video? */</span>
	<span class="kt">int</span>                    <span class="n">mute_state</span><span class="p">;</span>     <span class="cm">/* audio is muted */</span>
	<span class="n">audio_play_state_t</span>     <span class="n">play_state</span><span class="p">;</span>     <span class="cm">/* current playback state */</span>
	<span class="n">audio_stream_source_t</span>  <span class="n">stream_source</span><span class="p">;</span>  <span class="cm">/* current stream source */</span>
	<span class="n">audio_channel_select_t</span> <span class="n">channel_select</span><span class="p">;</span> <span class="cm">/* currently selected channel */</span>
	<span class="kt">int</span>                    <span class="n">bypass_mode</span><span class="p">;</span>    <span class="cm">/* pass on audio data to */</span>
	<span class="n">audio_mixer_t</span>	       <span class="n">mixer_state</span><span class="p">;</span>    <span class="cm">/* current mixer state */</span>
<span class="p">}</span> <span class="n">audio_status_t</span><span class="p">;</span>                              <span class="cm">/* separate decoder hardware */</span>


<span class="k">typedef</span>
<span class="k">struct</span> <span class="n">audio_karaoke</span> <span class="p">{</span>  <span class="cm">/* if Vocal1 or Vocal2 are non-zero, they get mixed  */</span>
	<span class="kt">int</span> <span class="n">vocal1</span><span class="p">;</span>    <span class="cm">/* into left and right t at 70% each */</span>
	<span class="kt">int</span> <span class="n">vocal2</span><span class="p">;</span>    <span class="cm">/* if both, Vocal1 and Vocal2 are non-zero, Vocal1 gets*/</span>
	<span class="kt">int</span> <span class="n">melody</span><span class="p">;</span>    <span class="cm">/* mixed into the left channel and */</span>
		       <span class="cm">/* Vocal2 into the right channel at 100% each. */</span>
		       <span class="cm">/* if Melody is non-zero, the melody channel gets mixed*/</span>
<span class="p">}</span> <span class="n">audio_karaoke_t</span><span class="p">;</span>     <span class="cm">/* into left and right  */</span>


<span class="k">typedef</span> <span class="n">__u16</span> <span class="n">audio_attributes_t</span><span class="p">;</span>
<span class="cm">/*   bits: descr. */</span>
<span class="cm">/*   15-13 audio coding mode (0=ac3, 2=mpeg1, 3=mpeg2ext, 4=LPCM, 6=DTS, */</span>
<span class="cm">/*   12    multichannel extension */</span>
<span class="cm">/*   11-10 audio type (0=not spec, 1=language included) */</span>
<span class="cm">/*    9- 8 audio application mode (0=not spec, 1=karaoke, 2=surround) */</span>
<span class="cm">/*    7- 6 Quantization / DRC (mpeg audio: 1=DRC exists)(lpcm: 0=16bit,  */</span>
<span class="cm">/*    5- 4 Sample frequency fs (0=48kHz, 1=96kHz) */</span>
<span class="cm">/*    2- 0 number of audio channels (n+1 channels) */</span>


<span class="cm">/* for GET_CAPABILITIES and SET_FORMAT, the latter should only set one bit */</span>
<span class="cp">#define AUDIO_CAP_DTS    1</span>
<span class="cp">#define AUDIO_CAP_LPCM   2</span>
<span class="cp">#define AUDIO_CAP_MP1    4</span>
<span class="cp">#define AUDIO_CAP_MP2    8</span>
<span class="cp">#define AUDIO_CAP_MP3   16</span>
<span class="cp">#define AUDIO_CAP_AAC   32</span>
<span class="cp">#define AUDIO_CAP_OGG   64</span>
<span class="cp">#define AUDIO_CAP_SDDS 128</span>
<span class="cp">#define AUDIO_CAP_AC3  256</span>

<span class="cp">#define AUDIO_STOP                 _IO(&#39;o&#39;, 1)</span>
<span class="cp">#define AUDIO_PLAY                 _IO(&#39;o&#39;, 2)</span>
<span class="cp">#define AUDIO_PAUSE                _IO(&#39;o&#39;, 3)</span>
<span class="cp">#define AUDIO_CONTINUE             _IO(&#39;o&#39;, 4)</span>
<span class="cp">#define AUDIO_SELECT_SOURCE        _IO(&#39;o&#39;, 5)</span>
<span class="cp">#define AUDIO_SET_MUTE             _IO(&#39;o&#39;, 6)</span>
<span class="cp">#define AUDIO_SET_AV_SYNC          _IO(&#39;o&#39;, 7)</span>
<span class="cp">#define AUDIO_SET_BYPASS_MODE      _IO(&#39;o&#39;, 8)</span>
<span class="cp">#define AUDIO_CHANNEL_SELECT       _IO(&#39;o&#39;, 9)</span>
<span class="cp">#define AUDIO_GET_STATUS           _IOR(&#39;o&#39;, 10, audio_status_t)</span>

<span class="cp">#define AUDIO_GET_CAPABILITIES     _IOR(&#39;o&#39;, 11, unsigned int)</span>
<span class="cp">#define AUDIO_CLEAR_BUFFER         _IO(&#39;o&#39;,  12)</span>
<span class="cp">#define AUDIO_SET_ID               _IO(&#39;o&#39;, 13)</span>
<span class="cp">#define AUDIO_SET_MIXER            _IOW(&#39;o&#39;, 14, audio_mixer_t)</span>
<span class="cp">#define AUDIO_SET_STREAMTYPE       _IO(&#39;o&#39;, 15)</span>
<span class="cp">#define AUDIO_SET_EXT_ID           _IO(&#39;o&#39;, 16)</span>
<span class="cp">#define AUDIO_SET_ATTRIBUTES       _IOW(&#39;o&#39;, 17, audio_attributes_t)</span>
<span class="cp">#define AUDIO_SET_KARAOKE          _IOW(&#39;o&#39;, 18, audio_karaoke_t)</span>

<span class="cm">/**</span>
<span class="cm"> * AUDIO_GET_PTS</span>
<span class="cm"> *</span>
<span class="cm"> * Read the 33 bit presentation time stamp as defined</span>
<span class="cm"> * in ITU T-REC-H.222.0 / ISO/IEC 13818-1.</span>
<span class="cm"> *</span>
<span class="cm"> * The PTS should belong to the currently played</span>
<span class="cm"> * frame if possible, but may also be a value close to it</span>
<span class="cm"> * like the PTS of the last decoded frame or the last PTS</span>
<span class="cm"> * extracted by the PES parser.</span>
<span class="cm"> */</span>
<span class="cp">#define AUDIO_GET_PTS              _IOR(&#39;o&#39;, 19, __u64)</span>
<span class="cp">#define AUDIO_BILINGUAL_CHANNEL_SELECT _IO(&#39;o&#39;, 20)</span>

<span class="cp">#endif </span><span class="cm">/* _DVBAUDIO_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
