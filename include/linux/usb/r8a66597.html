<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › usb › r8a66597.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>r8a66597.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * R8A66597 driver platform data</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2009  Renesas Solutions Corp.</span>
<span class="cm"> *</span>
<span class="cm"> * Author : Yoshihiro Shimoda &lt;yoshihiro.shimoda.uh@renesas.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; version 2 of the License.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __LINUX_USB_R8A66597_H</span>
<span class="cp">#define __LINUX_USB_R8A66597_H</span>

<span class="cp">#define R8A66597_PLATDATA_XTAL_12MHZ	0x01</span>
<span class="cp">#define R8A66597_PLATDATA_XTAL_24MHZ	0x02</span>
<span class="cp">#define R8A66597_PLATDATA_XTAL_48MHZ	0x03</span>

<span class="k">struct</span> <span class="n">r8a66597_platdata</span> <span class="p">{</span>
	<span class="cm">/* This callback can control port power instead of DVSTCTR register. */</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">port_power</span><span class="p">)(</span><span class="kt">int</span> <span class="n">port</span><span class="p">,</span> <span class="kt">int</span> <span class="n">power</span><span class="p">);</span>

	<span class="cm">/* This parameter is for BUSWAIT */</span>
	<span class="n">u16</span>		<span class="n">buswait</span><span class="p">;</span>

	<span class="cm">/* set one = on chip controller, set zero = external controller */</span>
	<span class="kt">unsigned</span>	<span class="n">on_chip</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="cm">/* (external controller only) set R8A66597_PLATDATA_XTAL_nnMHZ */</span>
	<span class="kt">unsigned</span>	<span class="n">xtal</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>

	<span class="cm">/* set one = 3.3V, set zero = 1.5V */</span>
	<span class="kt">unsigned</span>	<span class="n">vif</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="cm">/* set one = big endian, set zero = little endian */</span>
	<span class="kt">unsigned</span>	<span class="n">endian</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="cm">/* (external controller only) set one = WR0_N shorted to WR1_N */</span>
	<span class="kt">unsigned</span>	<span class="n">wr0_shorted_to_wr1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="cm">/* set one = using SUDMAC */</span>
	<span class="kt">unsigned</span>	<span class="n">sudmac</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Register definitions */</span>
<span class="cp">#define SYSCFG0		0x00</span>
<span class="cp">#define SYSCFG1		0x02</span>
<span class="cp">#define SYSSTS0		0x04</span>
<span class="cp">#define SYSSTS1		0x06</span>
<span class="cp">#define DVSTCTR0	0x08</span>
<span class="cp">#define DVSTCTR1	0x0A</span>
<span class="cp">#define TESTMODE	0x0C</span>
<span class="cp">#define PINCFG		0x0E</span>
<span class="cp">#define DMA0CFG		0x10</span>
<span class="cp">#define DMA1CFG		0x12</span>
<span class="cp">#define CFIFO		0x14</span>
<span class="cp">#define D0FIFO		0x18</span>
<span class="cp">#define D1FIFO		0x1C</span>
<span class="cp">#define CFIFOSEL	0x20</span>
<span class="cp">#define CFIFOCTR	0x22</span>
<span class="cp">#define CFIFOSIE	0x24</span>
<span class="cp">#define D0FIFOSEL	0x28</span>
<span class="cp">#define D0FIFOCTR	0x2A</span>
<span class="cp">#define D1FIFOSEL	0x2C</span>
<span class="cp">#define D1FIFOCTR	0x2E</span>
<span class="cp">#define INTENB0		0x30</span>
<span class="cp">#define INTENB1		0x32</span>
<span class="cp">#define INTENB2		0x34</span>
<span class="cp">#define BRDYENB		0x36</span>
<span class="cp">#define NRDYENB		0x38</span>
<span class="cp">#define BEMPENB		0x3A</span>
<span class="cp">#define SOFCFG		0x3C</span>
<span class="cp">#define INTSTS0		0x40</span>
<span class="cp">#define INTSTS1		0x42</span>
<span class="cp">#define INTSTS2		0x44</span>
<span class="cp">#define BRDYSTS		0x46</span>
<span class="cp">#define NRDYSTS		0x48</span>
<span class="cp">#define BEMPSTS		0x4A</span>
<span class="cp">#define FRMNUM		0x4C</span>
<span class="cp">#define UFRMNUM		0x4E</span>
<span class="cp">#define USBADDR		0x50</span>
<span class="cp">#define USBREQ		0x54</span>
<span class="cp">#define USBVAL		0x56</span>
<span class="cp">#define USBINDX		0x58</span>
<span class="cp">#define USBLENG		0x5A</span>
<span class="cp">#define DCPCFG		0x5C</span>
<span class="cp">#define DCPMAXP		0x5E</span>
<span class="cp">#define DCPCTR		0x60</span>
<span class="cp">#define PIPESEL		0x64</span>
<span class="cp">#define PIPECFG		0x68</span>
<span class="cp">#define PIPEBUF		0x6A</span>
<span class="cp">#define PIPEMAXP	0x6C</span>
<span class="cp">#define PIPEPERI	0x6E</span>
<span class="cp">#define PIPE1CTR	0x70</span>
<span class="cp">#define PIPE2CTR	0x72</span>
<span class="cp">#define PIPE3CTR	0x74</span>
<span class="cp">#define PIPE4CTR	0x76</span>
<span class="cp">#define PIPE5CTR	0x78</span>
<span class="cp">#define PIPE6CTR	0x7A</span>
<span class="cp">#define PIPE7CTR	0x7C</span>
<span class="cp">#define PIPE8CTR	0x7E</span>
<span class="cp">#define PIPE9CTR	0x80</span>
<span class="cp">#define PIPE1TRE	0x90</span>
<span class="cp">#define PIPE1TRN	0x92</span>
<span class="cp">#define PIPE2TRE	0x94</span>
<span class="cp">#define PIPE2TRN	0x96</span>
<span class="cp">#define PIPE3TRE	0x98</span>
<span class="cp">#define PIPE3TRN	0x9A</span>
<span class="cp">#define PIPE4TRE	0x9C</span>
<span class="cp">#define	PIPE4TRN	0x9E</span>
<span class="cp">#define	PIPE5TRE	0xA0</span>
<span class="cp">#define	PIPE5TRN	0xA2</span>
<span class="cp">#define DEVADD0		0xD0</span>
<span class="cp">#define DEVADD1		0xD2</span>
<span class="cp">#define DEVADD2		0xD4</span>
<span class="cp">#define DEVADD3		0xD6</span>
<span class="cp">#define DEVADD4		0xD8</span>
<span class="cp">#define DEVADD5		0xDA</span>
<span class="cp">#define DEVADD6		0xDC</span>
<span class="cp">#define DEVADD7		0xDE</span>
<span class="cp">#define DEVADD8		0xE0</span>
<span class="cp">#define DEVADD9		0xE2</span>
<span class="cp">#define DEVADDA		0xE4</span>

<span class="cm">/* System Configuration Control Register */</span>
<span class="cp">#define	XTAL		0xC000	</span><span class="cm">/* b15-14: Crystal selection */</span><span class="cp"></span>
<span class="cp">#define	  XTAL48	 0x8000	  </span><span class="cm">/* 48MHz */</span><span class="cp"></span>
<span class="cp">#define	  XTAL24	 0x4000	  </span><span class="cm">/* 24MHz */</span><span class="cp"></span>
<span class="cp">#define	  XTAL12	 0x0000	  </span><span class="cm">/* 12MHz */</span><span class="cp"></span>
<span class="cp">#define	XCKE		0x2000	</span><span class="cm">/* b13: External clock enable */</span><span class="cp"></span>
<span class="cp">#define	PLLC		0x0800	</span><span class="cm">/* b11: PLL control */</span><span class="cp"></span>
<span class="cp">#define	SCKE		0x0400	</span><span class="cm">/* b10: USB clock enable */</span><span class="cp"></span>
<span class="cp">#define	PCSDIS		0x0200	</span><span class="cm">/* b9: not CS wakeup */</span><span class="cp"></span>
<span class="cp">#define	LPSME		0x0100	</span><span class="cm">/* b8: Low power sleep mode */</span><span class="cp"></span>
<span class="cp">#define	HSE		0x0080	</span><span class="cm">/* b7: Hi-speed enable */</span><span class="cp"></span>
<span class="cp">#define	DCFM		0x0040	</span><span class="cm">/* b6: Controller function select  */</span><span class="cp"></span>
<span class="cp">#define	DRPD		0x0020	</span><span class="cm">/* b5: D+/- pull down control */</span><span class="cp"></span>
<span class="cp">#define	DPRPU		0x0010	</span><span class="cm">/* b4: D+ pull up control */</span><span class="cp"></span>
<span class="cp">#define	USBE		0x0001	</span><span class="cm">/* b0: USB module operation enable */</span><span class="cp"></span>

<span class="cm">/* System Configuration Status Register */</span>
<span class="cp">#define	OVCBIT		0x8000	</span><span class="cm">/* b15-14: Over-current bit */</span><span class="cp"></span>
<span class="cp">#define	OVCMON		0xC000	</span><span class="cm">/* b15-14: Over-current monitor */</span><span class="cp"></span>
<span class="cp">#define	SOFEA		0x0020	</span><span class="cm">/* b5: SOF monitor */</span><span class="cp"></span>
<span class="cp">#define	IDMON		0x0004	</span><span class="cm">/* b3: ID-pin monitor */</span><span class="cp"></span>
<span class="cp">#define	LNST		0x0003	</span><span class="cm">/* b1-0: D+, D- line status */</span><span class="cp"></span>
<span class="cp">#define	  SE1		 0x0003	  </span><span class="cm">/* SE1 */</span><span class="cp"></span>
<span class="cp">#define	  FS_KSTS	 0x0002	  </span><span class="cm">/* Full-Speed K State */</span><span class="cp"></span>
<span class="cp">#define	  FS_JSTS	 0x0001	  </span><span class="cm">/* Full-Speed J State */</span><span class="cp"></span>
<span class="cp">#define	  LS_JSTS	 0x0002	  </span><span class="cm">/* Low-Speed J State */</span><span class="cp"></span>
<span class="cp">#define	  LS_KSTS	 0x0001	  </span><span class="cm">/* Low-Speed K State */</span><span class="cp"></span>
<span class="cp">#define	  SE0		 0x0000	  </span><span class="cm">/* SE0 */</span><span class="cp"></span>

<span class="cm">/* Device State Control Register */</span>
<span class="cp">#define	EXTLP0		0x0400	</span><span class="cm">/* b10: External port */</span><span class="cp"></span>
<span class="cp">#define	VBOUT		0x0200	</span><span class="cm">/* b9: VBUS output */</span><span class="cp"></span>
<span class="cp">#define	WKUP		0x0100	</span><span class="cm">/* b8: Remote wakeup */</span><span class="cp"></span>
<span class="cp">#define	RWUPE		0x0080	</span><span class="cm">/* b7: Remote wakeup sense */</span><span class="cp"></span>
<span class="cp">#define	USBRST		0x0040	</span><span class="cm">/* b6: USB reset enable */</span><span class="cp"></span>
<span class="cp">#define	RESUME		0x0020	</span><span class="cm">/* b5: Resume enable */</span><span class="cp"></span>
<span class="cp">#define	UACT		0x0010	</span><span class="cm">/* b4: USB bus enable */</span><span class="cp"></span>
<span class="cp">#define	RHST		0x0007	</span><span class="cm">/* b1-0: Reset handshake status */</span><span class="cp"></span>
<span class="cp">#define	  HSPROC	 0x0004	  </span><span class="cm">/* HS handshake is processing */</span><span class="cp"></span>
<span class="cp">#define	  HSMODE	 0x0003	  </span><span class="cm">/* Hi-Speed mode */</span><span class="cp"></span>
<span class="cp">#define	  FSMODE	 0x0002	  </span><span class="cm">/* Full-Speed mode */</span><span class="cp"></span>
<span class="cp">#define	  LSMODE	 0x0001	  </span><span class="cm">/* Low-Speed mode */</span><span class="cp"></span>
<span class="cp">#define	  UNDECID	 0x0000	  </span><span class="cm">/* Undecided */</span><span class="cp"></span>

<span class="cm">/* Test Mode Register */</span>
<span class="cp">#define	UTST			0x000F	</span><span class="cm">/* b3-0: Test select */</span><span class="cp"></span>
<span class="cp">#define	  H_TST_PACKET		 0x000C	  </span><span class="cm">/* HOST TEST Packet */</span><span class="cp"></span>
<span class="cp">#define	  H_TST_SE0_NAK		 0x000B	  </span><span class="cm">/* HOST TEST SE0 NAK */</span><span class="cp"></span>
<span class="cp">#define	  H_TST_K		 0x000A	  </span><span class="cm">/* HOST TEST K */</span><span class="cp"></span>
<span class="cp">#define	  H_TST_J		 0x0009	  </span><span class="cm">/* HOST TEST J */</span><span class="cp"></span>
<span class="cp">#define	  H_TST_NORMAL		 0x0000	  </span><span class="cm">/* HOST Normal Mode */</span><span class="cp"></span>
<span class="cp">#define	  P_TST_PACKET		 0x0004	  </span><span class="cm">/* PERI TEST Packet */</span><span class="cp"></span>
<span class="cp">#define	  P_TST_SE0_NAK		 0x0003	  </span><span class="cm">/* PERI TEST SE0 NAK */</span><span class="cp"></span>
<span class="cp">#define	  P_TST_K		 0x0002	  </span><span class="cm">/* PERI TEST K */</span><span class="cp"></span>
<span class="cp">#define	  P_TST_J		 0x0001	  </span><span class="cm">/* PERI TEST J */</span><span class="cp"></span>
<span class="cp">#define	  P_TST_NORMAL		 0x0000	  </span><span class="cm">/* PERI Normal Mode */</span><span class="cp"></span>

<span class="cm">/* Data Pin Configuration Register */</span>
<span class="cp">#define	LDRV			0x8000	</span><span class="cm">/* b15: Drive Current Adjust */</span><span class="cp"></span>
<span class="cp">#define	  VIF1			  0x0000		</span><span class="cm">/* VIF = 1.8V */</span><span class="cp"></span>
<span class="cp">#define	  VIF3			  0x8000		</span><span class="cm">/* VIF = 3.3V */</span><span class="cp"></span>
<span class="cp">#define	INTA			0x0001	</span><span class="cm">/* b1: USB INT-pin active */</span><span class="cp"></span>

<span class="cm">/* DMAx Pin Configuration Register */</span>
<span class="cp">#define	DREQA			0x4000	</span><span class="cm">/* b14: Dreq active select */</span><span class="cp"></span>
<span class="cp">#define	BURST			0x2000	</span><span class="cm">/* b13: Burst mode */</span><span class="cp"></span>
<span class="cp">#define	DACKA			0x0400	</span><span class="cm">/* b10: Dack active select */</span><span class="cp"></span>
<span class="cp">#define	DFORM			0x0380	</span><span class="cm">/* b9-7: DMA mode select */</span><span class="cp"></span>
<span class="cp">#define	  CPU_ADR_RD_WR		 0x0000	  </span><span class="cm">/* Address + RD/WR mode (CPU bus) */</span><span class="cp"></span>
<span class="cp">#define	  CPU_DACK_RD_WR	 0x0100	  </span><span class="cm">/* DACK + RD/WR mode (CPU bus) */</span><span class="cp"></span>
<span class="cp">#define	  CPU_DACK_ONLY		 0x0180	  </span><span class="cm">/* DACK only mode (CPU bus) */</span><span class="cp"></span>
<span class="cp">#define	  SPLIT_DACK_ONLY	 0x0200	  </span><span class="cm">/* DACK only mode (SPLIT bus) */</span><span class="cp"></span>
<span class="cp">#define	DENDA			0x0040	</span><span class="cm">/* b6: Dend active select */</span><span class="cp"></span>
<span class="cp">#define	PKTM			0x0020	</span><span class="cm">/* b5: Packet mode */</span><span class="cp"></span>
<span class="cp">#define	DENDE			0x0010	</span><span class="cm">/* b4: Dend enable */</span><span class="cp"></span>
<span class="cp">#define	OBUS			0x0004	</span><span class="cm">/* b2: OUTbus mode */</span><span class="cp"></span>

<span class="cm">/* CFIFO/DxFIFO Port Select Register */</span>
<span class="cp">#define	RCNT		0x8000	</span><span class="cm">/* b15: Read count mode */</span><span class="cp"></span>
<span class="cp">#define	REW		0x4000	</span><span class="cm">/* b14: Buffer rewind */</span><span class="cp"></span>
<span class="cp">#define	DCLRM		0x2000	</span><span class="cm">/* b13: DMA buffer clear mode */</span><span class="cp"></span>
<span class="cp">#define	DREQE		0x1000	</span><span class="cm">/* b12: DREQ output enable */</span><span class="cp"></span>
<span class="cp">#define	  MBW_8		 0x0000	  </span><span class="cm">/*  8bit */</span><span class="cp"></span>
<span class="cp">#define	  MBW_16	 0x0400	  </span><span class="cm">/* 16bit */</span><span class="cp"></span>
<span class="cp">#define	  MBW_32	 0x0800   </span><span class="cm">/* 32bit */</span><span class="cp"></span>
<span class="cp">#define	BIGEND		0x0100	</span><span class="cm">/* b8: Big endian mode */</span><span class="cp"></span>
<span class="cp">#define	  BYTE_LITTLE	 0x0000		</span><span class="cm">/* little dendian */</span><span class="cp"></span>
<span class="cp">#define	  BYTE_BIG	 0x0100		</span><span class="cm">/* big endifan */</span><span class="cp"></span>
<span class="cp">#define	ISEL		0x0020	</span><span class="cm">/* b5: DCP FIFO port direction select */</span><span class="cp"></span>
<span class="cp">#define	CURPIPE		0x000F	</span><span class="cm">/* b2-0: PIPE select */</span><span class="cp"></span>

<span class="cm">/* CFIFO/DxFIFO Port Control Register */</span>
<span class="cp">#define	BVAL		0x8000	</span><span class="cm">/* b15: Buffer valid flag */</span><span class="cp"></span>
<span class="cp">#define	BCLR		0x4000	</span><span class="cm">/* b14: Buffer clear */</span><span class="cp"></span>
<span class="cp">#define	FRDY		0x2000	</span><span class="cm">/* b13: FIFO ready */</span><span class="cp"></span>
<span class="cp">#define	DTLN		0x0FFF	</span><span class="cm">/* b11-0: FIFO received data length */</span><span class="cp"></span>

<span class="cm">/* Interrupt Enable Register 0 */</span>
<span class="cp">#define	VBSE	0x8000	</span><span class="cm">/* b15: VBUS interrupt */</span><span class="cp"></span>
<span class="cp">#define	RSME	0x4000	</span><span class="cm">/* b14: Resume interrupt */</span><span class="cp"></span>
<span class="cp">#define	SOFE	0x2000	</span><span class="cm">/* b13: Frame update interrupt */</span><span class="cp"></span>
<span class="cp">#define	DVSE	0x1000	</span><span class="cm">/* b12: Device state transition interrupt */</span><span class="cp"></span>
<span class="cp">#define	CTRE	0x0800	</span><span class="cm">/* b11: Control transfer stage transition interrupt */</span><span class="cp"></span>
<span class="cp">#define	BEMPE	0x0400	</span><span class="cm">/* b10: Buffer empty interrupt */</span><span class="cp"></span>
<span class="cp">#define	NRDYE	0x0200	</span><span class="cm">/* b9: Buffer not ready interrupt */</span><span class="cp"></span>
<span class="cp">#define	BRDYE	0x0100	</span><span class="cm">/* b8: Buffer ready interrupt */</span><span class="cp"></span>

<span class="cm">/* Interrupt Enable Register 1 */</span>
<span class="cp">#define	OVRCRE		0x8000	</span><span class="cm">/* b15: Over-current interrupt */</span><span class="cp"></span>
<span class="cp">#define	BCHGE		0x4000	</span><span class="cm">/* b14: USB us chenge interrupt */</span><span class="cp"></span>
<span class="cp">#define	DTCHE		0x1000	</span><span class="cm">/* b12: Detach sense interrupt */</span><span class="cp"></span>
<span class="cp">#define	ATTCHE		0x0800	</span><span class="cm">/* b11: Attach sense interrupt */</span><span class="cp"></span>
<span class="cp">#define	EOFERRE		0x0040	</span><span class="cm">/* b6: EOF error interrupt */</span><span class="cp"></span>
<span class="cp">#define	SIGNE		0x0020	</span><span class="cm">/* b5: SETUP IGNORE interrupt */</span><span class="cp"></span>
<span class="cp">#define	SACKE		0x0010	</span><span class="cm">/* b4: SETUP ACK interrupt */</span><span class="cp"></span>

<span class="cm">/* BRDY Interrupt Enable/Status Register */</span>
<span class="cp">#define	BRDY9		0x0200	</span><span class="cm">/* b9: PIPE9 */</span><span class="cp"></span>
<span class="cp">#define	BRDY8		0x0100	</span><span class="cm">/* b8: PIPE8 */</span><span class="cp"></span>
<span class="cp">#define	BRDY7		0x0080	</span><span class="cm">/* b7: PIPE7 */</span><span class="cp"></span>
<span class="cp">#define	BRDY6		0x0040	</span><span class="cm">/* b6: PIPE6 */</span><span class="cp"></span>
<span class="cp">#define	BRDY5		0x0020	</span><span class="cm">/* b5: PIPE5 */</span><span class="cp"></span>
<span class="cp">#define	BRDY4		0x0010	</span><span class="cm">/* b4: PIPE4 */</span><span class="cp"></span>
<span class="cp">#define	BRDY3		0x0008	</span><span class="cm">/* b3: PIPE3 */</span><span class="cp"></span>
<span class="cp">#define	BRDY2		0x0004	</span><span class="cm">/* b2: PIPE2 */</span><span class="cp"></span>
<span class="cp">#define	BRDY1		0x0002	</span><span class="cm">/* b1: PIPE1 */</span><span class="cp"></span>
<span class="cp">#define	BRDY0		0x0001	</span><span class="cm">/* b1: PIPE0 */</span><span class="cp"></span>

<span class="cm">/* NRDY Interrupt Enable/Status Register */</span>
<span class="cp">#define	NRDY9		0x0200	</span><span class="cm">/* b9: PIPE9 */</span><span class="cp"></span>
<span class="cp">#define	NRDY8		0x0100	</span><span class="cm">/* b8: PIPE8 */</span><span class="cp"></span>
<span class="cp">#define	NRDY7		0x0080	</span><span class="cm">/* b7: PIPE7 */</span><span class="cp"></span>
<span class="cp">#define	NRDY6		0x0040	</span><span class="cm">/* b6: PIPE6 */</span><span class="cp"></span>
<span class="cp">#define	NRDY5		0x0020	</span><span class="cm">/* b5: PIPE5 */</span><span class="cp"></span>
<span class="cp">#define	NRDY4		0x0010	</span><span class="cm">/* b4: PIPE4 */</span><span class="cp"></span>
<span class="cp">#define	NRDY3		0x0008	</span><span class="cm">/* b3: PIPE3 */</span><span class="cp"></span>
<span class="cp">#define	NRDY2		0x0004	</span><span class="cm">/* b2: PIPE2 */</span><span class="cp"></span>
<span class="cp">#define	NRDY1		0x0002	</span><span class="cm">/* b1: PIPE1 */</span><span class="cp"></span>
<span class="cp">#define	NRDY0		0x0001	</span><span class="cm">/* b1: PIPE0 */</span><span class="cp"></span>

<span class="cm">/* BEMP Interrupt Enable/Status Register */</span>
<span class="cp">#define	BEMP9		0x0200	</span><span class="cm">/* b9: PIPE9 */</span><span class="cp"></span>
<span class="cp">#define	BEMP8		0x0100	</span><span class="cm">/* b8: PIPE8 */</span><span class="cp"></span>
<span class="cp">#define	BEMP7		0x0080	</span><span class="cm">/* b7: PIPE7 */</span><span class="cp"></span>
<span class="cp">#define	BEMP6		0x0040	</span><span class="cm">/* b6: PIPE6 */</span><span class="cp"></span>
<span class="cp">#define	BEMP5		0x0020	</span><span class="cm">/* b5: PIPE5 */</span><span class="cp"></span>
<span class="cp">#define	BEMP4		0x0010	</span><span class="cm">/* b4: PIPE4 */</span><span class="cp"></span>
<span class="cp">#define	BEMP3		0x0008	</span><span class="cm">/* b3: PIPE3 */</span><span class="cp"></span>
<span class="cp">#define	BEMP2		0x0004	</span><span class="cm">/* b2: PIPE2 */</span><span class="cp"></span>
<span class="cp">#define	BEMP1		0x0002	</span><span class="cm">/* b1: PIPE1 */</span><span class="cp"></span>
<span class="cp">#define	BEMP0		0x0001	</span><span class="cm">/* b0: PIPE0 */</span><span class="cp"></span>

<span class="cm">/* SOF Pin Configuration Register */</span>
<span class="cp">#define	TRNENSEL	0x0100	</span><span class="cm">/* b8: Select transaction enable period */</span><span class="cp"></span>
<span class="cp">#define	BRDYM		0x0040	</span><span class="cm">/* b6: BRDY clear timing */</span><span class="cp"></span>
<span class="cp">#define	INTL		0x0020	</span><span class="cm">/* b5: Interrupt sense select */</span><span class="cp"></span>
<span class="cp">#define	EDGESTS		0x0010	</span><span class="cm">/* b4:  */</span><span class="cp"></span>
<span class="cp">#define	SOFMODE		0x000C	</span><span class="cm">/* b3-2: SOF pin select */</span><span class="cp"></span>
<span class="cp">#define	  SOF_125US	 0x0008	  </span><span class="cm">/* SOF OUT 125us Frame Signal */</span><span class="cp"></span>
<span class="cp">#define	  SOF_1MS	 0x0004	  </span><span class="cm">/* SOF OUT 1ms Frame Signal */</span><span class="cp"></span>
<span class="cp">#define	  SOF_DISABLE	 0x0000	  </span><span class="cm">/* SOF OUT Disable */</span><span class="cp"></span>

<span class="cm">/* Interrupt Status Register 0 */</span>
<span class="cp">#define	VBINT	0x8000	</span><span class="cm">/* b15: VBUS interrupt */</span><span class="cp"></span>
<span class="cp">#define	RESM	0x4000	</span><span class="cm">/* b14: Resume interrupt */</span><span class="cp"></span>
<span class="cp">#define	SOFR	0x2000	</span><span class="cm">/* b13: SOF frame update interrupt */</span><span class="cp"></span>
<span class="cp">#define	DVST	0x1000	</span><span class="cm">/* b12: Device state transition interrupt */</span><span class="cp"></span>
<span class="cp">#define	CTRT	0x0800	</span><span class="cm">/* b11: Control transfer stage transition interrupt */</span><span class="cp"></span>
<span class="cp">#define	BEMP	0x0400	</span><span class="cm">/* b10: Buffer empty interrupt */</span><span class="cp"></span>
<span class="cp">#define	NRDY	0x0200	</span><span class="cm">/* b9: Buffer not ready interrupt */</span><span class="cp"></span>
<span class="cp">#define	BRDY	0x0100	</span><span class="cm">/* b8: Buffer ready interrupt */</span><span class="cp"></span>
<span class="cp">#define	VBSTS	0x0080	</span><span class="cm">/* b7: VBUS input port */</span><span class="cp"></span>
<span class="cp">#define	DVSQ	0x0070	</span><span class="cm">/* b6-4: Device state */</span><span class="cp"></span>
<span class="cp">#define	  DS_SPD_CNFG	 0x0070	  </span><span class="cm">/* Suspend Configured */</span><span class="cp"></span>
<span class="cp">#define	  DS_SPD_ADDR	 0x0060	  </span><span class="cm">/* Suspend Address */</span><span class="cp"></span>
<span class="cp">#define	  DS_SPD_DFLT	 0x0050	  </span><span class="cm">/* Suspend Default */</span><span class="cp"></span>
<span class="cp">#define	  DS_SPD_POWR	 0x0040	  </span><span class="cm">/* Suspend Powered */</span><span class="cp"></span>
<span class="cp">#define	  DS_SUSP	 0x0040	  </span><span class="cm">/* Suspend */</span><span class="cp"></span>
<span class="cp">#define	  DS_CNFG	 0x0030	  </span><span class="cm">/* Configured */</span><span class="cp"></span>
<span class="cp">#define	  DS_ADDS	 0x0020	  </span><span class="cm">/* Address */</span><span class="cp"></span>
<span class="cp">#define	  DS_DFLT	 0x0010	  </span><span class="cm">/* Default */</span><span class="cp"></span>
<span class="cp">#define	  DS_POWR	 0x0000	  </span><span class="cm">/* Powered */</span><span class="cp"></span>
<span class="cp">#define	DVSQS		0x0030	</span><span class="cm">/* b5-4: Device state */</span><span class="cp"></span>
<span class="cp">#define	VALID		0x0008	</span><span class="cm">/* b3: Setup packet detected flag */</span><span class="cp"></span>
<span class="cp">#define	CTSQ		0x0007	</span><span class="cm">/* b2-0: Control transfer stage */</span><span class="cp"></span>
<span class="cp">#define	  CS_SQER	 0x0006	  </span><span class="cm">/* Sequence error */</span><span class="cp"></span>
<span class="cp">#define	  CS_WRND	 0x0005	  </span><span class="cm">/* Control write nodata status stage */</span><span class="cp"></span>
<span class="cp">#define	  CS_WRSS	 0x0004	  </span><span class="cm">/* Control write status stage */</span><span class="cp"></span>
<span class="cp">#define	  CS_WRDS	 0x0003	  </span><span class="cm">/* Control write data stage */</span><span class="cp"></span>
<span class="cp">#define	  CS_RDSS	 0x0002	  </span><span class="cm">/* Control read status stage */</span><span class="cp"></span>
<span class="cp">#define	  CS_RDDS	 0x0001	  </span><span class="cm">/* Control read data stage */</span><span class="cp"></span>
<span class="cp">#define	  CS_IDST	 0x0000	  </span><span class="cm">/* Idle or setup stage */</span><span class="cp"></span>

<span class="cm">/* Interrupt Status Register 1 */</span>
<span class="cp">#define	OVRCR		0x8000	</span><span class="cm">/* b15: Over-current interrupt */</span><span class="cp"></span>
<span class="cp">#define	BCHG		0x4000	</span><span class="cm">/* b14: USB bus chenge interrupt */</span><span class="cp"></span>
<span class="cp">#define	DTCH		0x1000	</span><span class="cm">/* b12: Detach sense interrupt */</span><span class="cp"></span>
<span class="cp">#define	ATTCH		0x0800	</span><span class="cm">/* b11: Attach sense interrupt */</span><span class="cp"></span>
<span class="cp">#define	EOFERR		0x0040	</span><span class="cm">/* b6: EOF-error interrupt */</span><span class="cp"></span>
<span class="cp">#define	SIGN		0x0020	</span><span class="cm">/* b5: Setup ignore interrupt */</span><span class="cp"></span>
<span class="cp">#define	SACK		0x0010	</span><span class="cm">/* b4: Setup acknowledge interrupt */</span><span class="cp"></span>

<span class="cm">/* Frame Number Register */</span>
<span class="cp">#define	OVRN		0x8000	</span><span class="cm">/* b15: Overrun error */</span><span class="cp"></span>
<span class="cp">#define	CRCE		0x4000	</span><span class="cm">/* b14: Received data error */</span><span class="cp"></span>
<span class="cp">#define	FRNM		0x07FF	</span><span class="cm">/* b10-0: Frame number */</span><span class="cp"></span>

<span class="cm">/* Micro Frame Number Register */</span>
<span class="cp">#define	UFRNM		0x0007	</span><span class="cm">/* b2-0: Micro frame number */</span><span class="cp"></span>

<span class="cm">/* Default Control Pipe Maxpacket Size Register */</span>
<span class="cm">/* Pipe Maxpacket Size Register */</span>
<span class="cp">#define	DEVSEL	0xF000	</span><span class="cm">/* b15-14: Device address select */</span><span class="cp"></span>
<span class="cp">#define	MAXP	0x007F	</span><span class="cm">/* b6-0: Maxpacket size of default control pipe */</span><span class="cp"></span>

<span class="cm">/* Default Control Pipe Control Register */</span>
<span class="cp">#define	BSTS		0x8000	</span><span class="cm">/* b15: Buffer status */</span><span class="cp"></span>
<span class="cp">#define	SUREQ		0x4000	</span><span class="cm">/* b14: Send USB request  */</span><span class="cp"></span>
<span class="cp">#define	CSCLR		0x2000	</span><span class="cm">/* b13: complete-split status clear */</span><span class="cp"></span>
<span class="cp">#define	CSSTS		0x1000	</span><span class="cm">/* b12: complete-split status */</span><span class="cp"></span>
<span class="cp">#define	SUREQCLR	0x0800	</span><span class="cm">/* b11: stop setup request */</span><span class="cp"></span>
<span class="cp">#define	SQCLR		0x0100	</span><span class="cm">/* b8: Sequence toggle bit clear */</span><span class="cp"></span>
<span class="cp">#define	SQSET		0x0080	</span><span class="cm">/* b7: Sequence toggle bit set */</span><span class="cp"></span>
<span class="cp">#define	SQMON		0x0040	</span><span class="cm">/* b6: Sequence toggle bit monitor */</span><span class="cp"></span>
<span class="cp">#define	PBUSY		0x0020	</span><span class="cm">/* b5: pipe busy */</span><span class="cp"></span>
<span class="cp">#define	PINGE		0x0010	</span><span class="cm">/* b4: ping enable */</span><span class="cp"></span>
<span class="cp">#define	CCPL		0x0004	</span><span class="cm">/* b2: Enable control transfer complete */</span><span class="cp"></span>
<span class="cp">#define	PID		0x0003	</span><span class="cm">/* b1-0: Response PID */</span><span class="cp"></span>
<span class="cp">#define	  PID_STALL11	 0x0003	  </span><span class="cm">/* STALL */</span><span class="cp"></span>
<span class="cp">#define	  PID_STALL	 0x0002	  </span><span class="cm">/* STALL */</span><span class="cp"></span>
<span class="cp">#define	  PID_BUF	 0x0001	  </span><span class="cm">/* BUF */</span><span class="cp"></span>
<span class="cp">#define	  PID_NAK	 0x0000	  </span><span class="cm">/* NAK */</span><span class="cp"></span>

<span class="cm">/* Pipe Window Select Register */</span>
<span class="cp">#define	PIPENM		0x0007	</span><span class="cm">/* b2-0: Pipe select */</span><span class="cp"></span>

<span class="cm">/* Pipe Configuration Register */</span>
<span class="cp">#define	R8A66597_TYP	0xC000	</span><span class="cm">/* b15-14: Transfer type */</span><span class="cp"></span>
<span class="cp">#define	  R8A66597_ISO	 0xC000		  </span><span class="cm">/* Isochronous */</span><span class="cp"></span>
<span class="cp">#define	  R8A66597_INT	 0x8000		  </span><span class="cm">/* Interrupt */</span><span class="cp"></span>
<span class="cp">#define	  R8A66597_BULK	 0x4000		  </span><span class="cm">/* Bulk */</span><span class="cp"></span>
<span class="cp">#define	R8A66597_BFRE	0x0400	</span><span class="cm">/* b10: Buffer ready interrupt mode select */</span><span class="cp"></span>
<span class="cp">#define	R8A66597_DBLB	0x0200	</span><span class="cm">/* b9: Double buffer mode select */</span><span class="cp"></span>
<span class="cp">#define	R8A66597_CNTMD	0x0100	</span><span class="cm">/* b8: Continuous transfer mode select */</span><span class="cp"></span>
<span class="cp">#define	R8A66597_SHTNAK	0x0080	</span><span class="cm">/* b7: Transfer end NAK */</span><span class="cp"></span>
<span class="cp">#define	R8A66597_DIR	0x0010	</span><span class="cm">/* b4: Transfer direction select */</span><span class="cp"></span>
<span class="cp">#define	R8A66597_EPNUM	0x000F	</span><span class="cm">/* b3-0: Eendpoint number select */</span><span class="cp"></span>

<span class="cm">/* Pipe Buffer Configuration Register */</span>
<span class="cp">#define	BUFSIZE		0x7C00	</span><span class="cm">/* b14-10: Pipe buffer size */</span><span class="cp"></span>
<span class="cp">#define	BUFNMB		0x007F	</span><span class="cm">/* b6-0: Pipe buffer number */</span><span class="cp"></span>
<span class="cp">#define	PIPE0BUF	256</span>
<span class="cp">#define	PIPExBUF	64</span>

<span class="cm">/* Pipe Maxpacket Size Register */</span>
<span class="cp">#define	MXPS		0x07FF	</span><span class="cm">/* b10-0: Maxpacket size */</span><span class="cp"></span>

<span class="cm">/* Pipe Cycle Configuration Register */</span>
<span class="cp">#define	IFIS	0x1000	</span><span class="cm">/* b12: Isochronous in-buffer flush mode select */</span><span class="cp"></span>
<span class="cp">#define	IITV	0x0007	</span><span class="cm">/* b2-0: Isochronous interval */</span><span class="cp"></span>

<span class="cm">/* Pipex Control Register */</span>
<span class="cp">#define	BSTS	0x8000	</span><span class="cm">/* b15: Buffer status */</span><span class="cp"></span>
<span class="cp">#define	INBUFM	0x4000	</span><span class="cm">/* b14: IN buffer monitor (Only for PIPE1 to 5) */</span><span class="cp"></span>
<span class="cp">#define	CSCLR	0x2000	</span><span class="cm">/* b13: complete-split status clear */</span><span class="cp"></span>
<span class="cp">#define	CSSTS	0x1000	</span><span class="cm">/* b12: complete-split status */</span><span class="cp"></span>
<span class="cp">#define	ATREPM	0x0400	</span><span class="cm">/* b10: Auto repeat mode */</span><span class="cp"></span>
<span class="cp">#define	ACLRM	0x0200	</span><span class="cm">/* b9: Out buffer auto clear mode */</span><span class="cp"></span>
<span class="cp">#define	SQCLR	0x0100	</span><span class="cm">/* b8: Sequence toggle bit clear */</span><span class="cp"></span>
<span class="cp">#define	SQSET	0x0080	</span><span class="cm">/* b7: Sequence toggle bit set */</span><span class="cp"></span>
<span class="cp">#define	SQMON	0x0040	</span><span class="cm">/* b6: Sequence toggle bit monitor */</span><span class="cp"></span>
<span class="cp">#define	PBUSY	0x0020	</span><span class="cm">/* b5: pipe busy */</span><span class="cp"></span>
<span class="cp">#define	PID	0x0003	</span><span class="cm">/* b1-0: Response PID */</span><span class="cp"></span>

<span class="cm">/* PIPExTRE */</span>
<span class="cp">#define	TRENB		0x0200	</span><span class="cm">/* b9: Transaction counter enable */</span><span class="cp"></span>
<span class="cp">#define	TRCLR		0x0100	</span><span class="cm">/* b8: Transaction counter clear */</span><span class="cp"></span>

<span class="cm">/* PIPExTRN */</span>
<span class="cp">#define	TRNCNT		0xFFFF	</span><span class="cm">/* b15-0: Transaction counter */</span><span class="cp"></span>

<span class="cm">/* DEVADDx */</span>
<span class="cp">#define	UPPHUB		0x7800</span>
<span class="cp">#define	HUBPORT		0x0700</span>
<span class="cp">#define	USBSPD		0x00C0</span>
<span class="cp">#define	RTPORT		0x0001</span>

<span class="cm">/* SUDMAC registers */</span>
<span class="cp">#define CH0CFG		0x00</span>
<span class="cp">#define CH1CFG		0x04</span>
<span class="cp">#define CH0BA		0x10</span>
<span class="cp">#define CH1BA		0x14</span>
<span class="cp">#define CH0BBC		0x18</span>
<span class="cp">#define CH1BBC		0x1C</span>
<span class="cp">#define CH0CA		0x20</span>
<span class="cp">#define CH1CA		0x24</span>
<span class="cp">#define CH0CBC		0x28</span>
<span class="cp">#define CH1CBC		0x2C</span>
<span class="cp">#define CH0DEN		0x30</span>
<span class="cp">#define CH1DEN		0x34</span>
<span class="cp">#define DSTSCLR		0x38</span>
<span class="cp">#define DBUFCTRL	0x3C</span>
<span class="cp">#define DINTCTRL	0x40</span>
<span class="cp">#define DINTSTS		0x44</span>
<span class="cp">#define DINTSTSCLR	0x48</span>
<span class="cp">#define CH0SHCTRL	0x50</span>
<span class="cp">#define CH1SHCTRL	0x54</span>

<span class="cm">/* SUDMAC Configuration Registers */</span>
<span class="cp">#define SENDBUFM	0x1000 </span><span class="cm">/* b12: Transmit Buffer Mode */</span><span class="cp"></span>
<span class="cp">#define RCVENDM		0x0100 </span><span class="cm">/* b8: Receive Data Transfer End Mode */</span><span class="cp"></span>
<span class="cp">#define LBA_WAIT	0x0030 </span><span class="cm">/* b5-4: Local Bus Access Wait */</span><span class="cp"></span>

<span class="cm">/* DMA Enable Registers */</span>
<span class="cp">#define DEN		0x0001 </span><span class="cm">/* b1: DMA Transfer Enable */</span><span class="cp"></span>

<span class="cm">/* DMA Status Clear Register */</span>
<span class="cp">#define CH1STCLR	0x0002 </span><span class="cm">/* b2: Ch1 DMA Status Clear */</span><span class="cp"></span>
<span class="cp">#define CH0STCLR	0x0001 </span><span class="cm">/* b1: Ch0 DMA Status Clear */</span><span class="cp"></span>

<span class="cm">/* DMA Buffer Control Register */</span>
<span class="cp">#define CH1BUFW		0x0200 </span><span class="cm">/* b9: Ch1 DMA Buffer Data Transfer Enable */</span><span class="cp"></span>
<span class="cp">#define CH0BUFW		0x0100 </span><span class="cm">/* b8: Ch0 DMA Buffer Data Transfer Enable */</span><span class="cp"></span>
<span class="cp">#define CH1BUFS		0x0002 </span><span class="cm">/* b2: Ch1 DMA Buffer Data Status */</span><span class="cp"></span>
<span class="cp">#define CH0BUFS		0x0001 </span><span class="cm">/* b1: Ch0 DMA Buffer Data Status */</span><span class="cp"></span>

<span class="cm">/* DMA Interrupt Control Register */</span>
<span class="cp">#define CH1ERRE		0x0200 </span><span class="cm">/* b9: Ch1 SHwy Res Err Detect Int Enable */</span><span class="cp"></span>
<span class="cp">#define CH0ERRE		0x0100 </span><span class="cm">/* b8: Ch0 SHwy Res Err Detect Int Enable */</span><span class="cp"></span>
<span class="cp">#define CH1ENDE		0x0002 </span><span class="cm">/* b2: Ch1 DMA Transfer End Int Enable */</span><span class="cp"></span>
<span class="cp">#define CH0ENDE		0x0001 </span><span class="cm">/* b1: Ch0 DMA Transfer End Int Enable */</span><span class="cp"></span>

<span class="cm">/* DMA Interrupt Status Register */</span>
<span class="cp">#define CH1ERRS		0x0200 </span><span class="cm">/* b9: Ch1 SHwy Res Err Detect Int Status */</span><span class="cp"></span>
<span class="cp">#define CH0ERRS		0x0100 </span><span class="cm">/* b8: Ch0 SHwy Res Err Detect Int Status */</span><span class="cp"></span>
<span class="cp">#define CH1ENDS		0x0002 </span><span class="cm">/* b2: Ch1 DMA Transfer End Int Status */</span><span class="cp"></span>
<span class="cp">#define CH0ENDS		0x0001 </span><span class="cm">/* b1: Ch0 DMA Transfer End Int Status */</span><span class="cp"></span>

<span class="cm">/* DMA Interrupt Status Clear Register */</span>
<span class="cp">#define CH1ERRC		0x0200 </span><span class="cm">/* b9: Ch1 SHwy Res Err Detect Int Stat Clear */</span><span class="cp"></span>
<span class="cp">#define CH0ERRC		0x0100 </span><span class="cm">/* b8: Ch0 SHwy Res Err Detect Int Stat Clear */</span><span class="cp"></span>
<span class="cp">#define CH1ENDC		0x0002 </span><span class="cm">/* b2: Ch1 DMA Transfer End Int Stat Clear */</span><span class="cp"></span>
<span class="cp">#define CH0ENDC		0x0001 </span><span class="cm">/* b1: Ch0 DMA Transfer End Int Stat Clear */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* __LINUX_USB_R8A66597_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
