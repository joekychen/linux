<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › caif › caif_socket.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>caif_socket.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* linux/caif_socket.h</span>
<span class="cm"> * CAIF Definitions for CAIF socket and network layer</span>
<span class="cm"> * Copyright (C) ST-Ericsson AB 2010</span>
<span class="cm"> * Author:	 Sjur Brendeland/ sjur.brandeland@stericsson.com</span>
<span class="cm"> * License terms: GNU General Public License (GPL) version 2</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _LINUX_CAIF_SOCKET_H</span>
<span class="cp">#define _LINUX_CAIF_SOCKET_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;linux/socket.h&gt;</span>

<span class="cm">/**</span>
<span class="cm"> * enum caif_link_selector -    Physical Link Selection.</span>
<span class="cm"> * @CAIF_LINK_HIGH_BANDW:	Physical interface for high-bandwidth</span>
<span class="cm"> *				traffic.</span>
<span class="cm"> * @CAIF_LINK_LOW_LATENCY:	Physical interface for low-latency</span>
<span class="cm"> *				traffic.</span>
<span class="cm"> *</span>
<span class="cm"> * CAIF Link Layers can register their link properties.</span>
<span class="cm"> * This enum is used for choosing between CAIF Link Layers when</span>
<span class="cm"> * setting up CAIF Channels when multiple CAIF Link Layers exists.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">caif_link_selector</span> <span class="p">{</span>
	<span class="n">CAIF_LINK_HIGH_BANDW</span><span class="p">,</span>
	<span class="n">CAIF_LINK_LOW_LATENCY</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum caif_channel_priority - CAIF channel priorities.</span>
<span class="cm"> *</span>
<span class="cm"> * @CAIF_PRIO_MIN:	Min priority for a channel.</span>
<span class="cm"> * @CAIF_PRIO_LOW:	Low-priority channel.</span>
<span class="cm"> * @CAIF_PRIO_NORMAL:	Normal/default priority level.</span>
<span class="cm"> * @CAIF_PRIO_HIGH:	High priority level</span>
<span class="cm"> * @CAIF_PRIO_MAX:	Max priority for channel</span>
<span class="cm"> *</span>
<span class="cm"> * Priority can be set on CAIF Channels in order to</span>
<span class="cm"> * prioritize between traffic on different CAIF Channels.</span>
<span class="cm"> * These priority levels are recommended, but the priority value</span>
<span class="cm"> * is not restricted to the values defined in this enum, any value</span>
<span class="cm"> * between CAIF_PRIO_MIN and CAIF_PRIO_MAX could be used.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">caif_channel_priority</span> <span class="p">{</span>
	<span class="n">CAIF_PRIO_MIN</span>	 <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">CAIF_PRIO_LOW</span>	 <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">CAIF_PRIO_NORMAL</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span>
	<span class="n">CAIF_PRIO_HIGH</span>	 <span class="o">=</span> <span class="mh">0x14</span><span class="p">,</span>
	<span class="n">CAIF_PRIO_MAX</span>	 <span class="o">=</span> <span class="mh">0x1F</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum caif_protocol_type  -	CAIF Channel type.</span>
<span class="cm"> * @CAIFPROTO_AT:		Classic AT channel.</span>
<span class="cm"> * @CAIFPROTO_DATAGRAM:	Datagram channel.</span>
<span class="cm"> * @CAIFPROTO_DATAGRAM_LOOP:	Datagram loopback channel, used for testing.</span>
<span class="cm"> * @CAIFPROTO_UTIL:		Utility (Psock) channel.</span>
<span class="cm"> * @CAIFPROTO_RFM:		Remote File Manager</span>
<span class="cm"> * @CAIFPROTO_DEBUG:		Debug link</span>
<span class="cm"> *</span>
<span class="cm"> * This enum defines the CAIF Channel type to be used. This defines</span>
<span class="cm"> * the service to connect to on the modem.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">caif_protocol_type</span> <span class="p">{</span>
	<span class="n">CAIFPROTO_AT</span><span class="p">,</span>
	<span class="n">CAIFPROTO_DATAGRAM</span><span class="p">,</span>
	<span class="n">CAIFPROTO_DATAGRAM_LOOP</span><span class="p">,</span>
	<span class="n">CAIFPROTO_UTIL</span><span class="p">,</span>
	<span class="n">CAIFPROTO_RFM</span><span class="p">,</span>
	<span class="n">CAIFPROTO_DEBUG</span><span class="p">,</span>
	<span class="n">_CAIFPROTO_MAX</span>
<span class="p">};</span>
<span class="cp">#define	CAIFPROTO_MAX _CAIFPROTO_MAX</span>

<span class="cm">/**</span>
<span class="cm"> * enum caif_at_type - AT Service Endpoint</span>
<span class="cm"> * @CAIF_ATTYPE_PLAIN:	     Connects to a plain vanilla AT channel.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">caif_at_type</span> <span class="p">{</span>
	<span class="n">CAIF_ATTYPE_PLAIN</span> <span class="o">=</span> <span class="mi">2</span>
<span class="p">};</span>
 <span class="cm">/**</span>
<span class="cm"> * enum caif_debug_type - Content selection for debug connection</span>
<span class="cm"> * @CAIF_DEBUG_TRACE_INTERACTIVE: Connection will contain</span>
<span class="cm"> *				both trace and interactive debug.</span>
<span class="cm"> * @CAIF_DEBUG_TRACE:		Connection contains trace only.</span>
<span class="cm"> * @CAIF_DEBUG_INTERACTIVE:	Connection to interactive debug.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">caif_debug_type</span> <span class="p">{</span>
	<span class="n">CAIF_DEBUG_TRACE_INTERACTIVE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">CAIF_DEBUG_TRACE</span><span class="p">,</span>
	<span class="n">CAIF_DEBUG_INTERACTIVE</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum caif_debug_service - Debug Service Endpoint</span>
<span class="cm"> * @CAIF_RADIO_DEBUG_SERVICE:	Debug service on the Radio sub-system</span>
<span class="cm"> * @CAIF_APP_DEBUG_SERVICE:	Debug for the applications sub-system</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">caif_debug_service</span> <span class="p">{</span>
	<span class="n">CAIF_RADIO_DEBUG_SERVICE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">CAIF_APP_DEBUG_SERVICE</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct sockaddr_caif - the sockaddr structure for CAIF sockets.</span>
<span class="cm"> * @family:		     Address family number, must be AF_CAIF.</span>
<span class="cm"> * @u:			     Union of address data &#39;switched&#39; by family.</span>
<span class="cm"> * :</span>
<span class="cm"> * @u.at:                    Applies when family = CAIFPROTO_AT.</span>
<span class="cm"> *</span>
<span class="cm"> * @u.at.type:               Type of AT link to set up (enum caif_at_type).</span>
<span class="cm"> *</span>
<span class="cm"> * @u.util:                  Applies when family = CAIFPROTO_UTIL</span>
<span class="cm"> *</span>
<span class="cm"> * @u.util.service:          Utility service name.</span>
<span class="cm"> *</span>
<span class="cm"> * @u.dgm:                   Applies when family = CAIFPROTO_DATAGRAM</span>
<span class="cm"> *</span>
<span class="cm"> * @u.dgm.connection_id:     Datagram connection id.</span>
<span class="cm"> *</span>
<span class="cm"> * @u.dgm.nsapi:             NSAPI of the PDP-Context.</span>
<span class="cm"> *</span>
<span class="cm"> * @u.rfm:                   Applies when family = CAIFPROTO_RFM</span>
<span class="cm"> *</span>
<span class="cm"> * @u.rfm.connection_id:     Connection ID for RFM.</span>
<span class="cm"> *</span>
<span class="cm"> * @u.rfm.volume:            Volume to mount.</span>
<span class="cm"> *</span>
<span class="cm"> * @u.dbg:		      Applies when family = CAIFPROTO_DEBUG.</span>
<span class="cm"> *</span>
<span class="cm"> * @u.dbg.type:			     Type of debug connection to set up</span>
<span class="cm"> *			      (caif_debug_type).</span>
<span class="cm"> *</span>
<span class="cm"> * @u.dbg.service:	      Service sub-system to connect (caif_debug_service</span>
<span class="cm"> * Description:</span>
<span class="cm"> * This structure holds the connect parameters used for setting up a</span>
<span class="cm"> * CAIF Channel. It defines the service to connect to on the modem.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">sockaddr_caif</span> <span class="p">{</span>
	<span class="n">__kernel_sa_family_t</span>  <span class="n">family</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">__u8</span>  <span class="n">type</span><span class="p">;</span>		<span class="cm">/* type: enum caif_at_type */</span>
		<span class="p">}</span> <span class="n">at</span><span class="p">;</span>				<span class="cm">/* CAIFPROTO_AT */</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">char</span>	  <span class="n">service</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">util</span><span class="p">;</span>				<span class="cm">/* CAIFPROTO_UTIL */</span>
		<span class="k">union</span> <span class="p">{</span>
			<span class="n">__u32</span> <span class="n">connection_id</span><span class="p">;</span>
			<span class="n">__u8</span>  <span class="n">nsapi</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">dgm</span><span class="p">;</span>				<span class="cm">/* CAIFPROTO_DATAGRAM(_LOOP)*/</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">__u32</span> <span class="n">connection_id</span><span class="p">;</span>
			<span class="kt">char</span>	  <span class="n">volume</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">rfm</span><span class="p">;</span>				<span class="cm">/* CAIFPROTO_RFM */</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">__u8</span>  <span class="n">type</span><span class="p">;</span>		<span class="cm">/* type:enum caif_debug_type */</span>
			<span class="n">__u8</span>  <span class="n">service</span><span class="p">;</span>		<span class="cm">/* service:caif_debug_service */</span>
		<span class="p">}</span> <span class="n">dbg</span><span class="p">;</span>				<span class="cm">/* CAIFPROTO_DEBUG */</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum caif_socket_opts - CAIF option values for getsockopt and setsockopt.</span>
<span class="cm"> *</span>
<span class="cm"> * @CAIFSO_LINK_SELECT:		Selector used if multiple CAIF Link layers are</span>
<span class="cm"> *				available. Either a high bandwidth</span>
<span class="cm"> *				link can be selected (CAIF_LINK_HIGH_BANDW) or</span>
<span class="cm"> *				or a low latency link (CAIF_LINK_LOW_LATENCY).</span>
<span class="cm"> *                              This option is of type __u32.</span>
<span class="cm"> *				Alternatively SO_BINDTODEVICE can be used.</span>
<span class="cm"> *</span>
<span class="cm"> * @CAIFSO_REQ_PARAM:		Used to set the request parameters for a</span>
<span class="cm"> *				utility channel. (maximum 256 bytes). This</span>
<span class="cm"> *				option must be set before connecting.</span>
<span class="cm"> *</span>
<span class="cm"> * @CAIFSO_RSP_PARAM:		Gets the response parameters for a utility</span>
<span class="cm"> *				channel. (maximum 256 bytes). This option</span>
<span class="cm"> *				is valid after a successful connect.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> * This enum defines the CAIF Socket options to be used on a socket</span>
<span class="cm"> * of type PF_CAIF.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">caif_socket_opts</span> <span class="p">{</span>
	<span class="n">CAIFSO_LINK_SELECT</span>	<span class="o">=</span> <span class="mi">127</span><span class="p">,</span>
	<span class="n">CAIFSO_REQ_PARAM</span>	<span class="o">=</span> <span class="mi">128</span><span class="p">,</span>
	<span class="n">CAIFSO_RSP_PARAM</span>	<span class="o">=</span> <span class="mi">129</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* _LINUX_CAIF_SOCKET_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
