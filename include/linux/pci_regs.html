<!DOCTYPE html>
<html><head><title>joekychen/linux » include › linux › pci_regs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>pci_regs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *	pci_regs.h</span>
<span class="cm"> *</span>
<span class="cm"> *	PCI standard defines</span>
<span class="cm"> *	Copyright 1994, Drew Eckhardt</span>
<span class="cm"> *	Copyright 1997--1999 Martin Mares &lt;mj@ucw.cz&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *	For more information, please consult the following manuals (look at</span>
<span class="cm"> *	http://www.pcisig.com/ for how to get them):</span>
<span class="cm"> *</span>
<span class="cm"> *	PCI BIOS Specification</span>
<span class="cm"> *	PCI Local Bus Specification</span>
<span class="cm"> *	PCI to PCI Bridge Specification</span>
<span class="cm"> *	PCI System Design Guide</span>
<span class="cm"> *</span>
<span class="cm"> * 	For hypertransport information, please consult the following manuals</span>
<span class="cm"> * 	from http://www.hypertransport.org</span>
<span class="cm"> *</span>
<span class="cm"> *	The Hypertransport I/O Link Specification</span>
<span class="cm"> */</span>

<span class="cp">#ifndef LINUX_PCI_REGS_H</span>
<span class="cp">#define LINUX_PCI_REGS_H</span>

<span class="cm">/*</span>
<span class="cm"> * Under PCI, each device has 256 bytes of configuration address space,</span>
<span class="cm"> * of which the first 64 bytes are standardized as follows:</span>
<span class="cm"> */</span>
<span class="cp">#define PCI_VENDOR_ID		0x00	</span><span class="cm">/* 16 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_DEVICE_ID		0x02	</span><span class="cm">/* 16 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_COMMAND		0x04	</span><span class="cm">/* 16 bits */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_IO		0x1	</span><span class="cm">/* Enable response in I/O space */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_MEMORY	0x2	</span><span class="cm">/* Enable response in Memory space */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_MASTER	0x4	</span><span class="cm">/* Enable bus mastering */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_SPECIAL	0x8	</span><span class="cm">/* Enable response to special cycles */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_INVALIDATE	0x10	</span><span class="cm">/* Use memory write and invalidate */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_VGA_PALETTE 0x20	</span><span class="cm">/* Enable palette snooping */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_PARITY	0x40	</span><span class="cm">/* Enable parity checking */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_WAIT 	0x80	</span><span class="cm">/* Enable address/data stepping */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_SERR	0x100	</span><span class="cm">/* Enable SERR */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_FAST_BACK	0x200	</span><span class="cm">/* Enable back-to-back writes */</span><span class="cp"></span>
<span class="cp">#define  PCI_COMMAND_INTX_DISABLE 0x400 </span><span class="cm">/* INTx Emulation Disable */</span><span class="cp"></span>

<span class="cp">#define PCI_STATUS		0x06	</span><span class="cm">/* 16 bits */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_INTERRUPT	0x08	</span><span class="cm">/* Interrupt status */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_CAP_LIST	0x10	</span><span class="cm">/* Support Capability List */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_66MHZ	0x20	</span><span class="cm">/* Support 66 Mhz PCI 2.1 bus */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_UDF		0x40	</span><span class="cm">/* Support User Definable Features [obsolete] */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_FAST_BACK	0x80	</span><span class="cm">/* Accept fast-back to back */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_PARITY	0x100	</span><span class="cm">/* Detected parity error */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_DEVSEL_MASK	0x600	</span><span class="cm">/* DEVSEL timing */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_DEVSEL_FAST		0x000</span>
<span class="cp">#define  PCI_STATUS_DEVSEL_MEDIUM	0x200</span>
<span class="cp">#define  PCI_STATUS_DEVSEL_SLOW		0x400</span>
<span class="cp">#define  PCI_STATUS_SIG_TARGET_ABORT	0x800 </span><span class="cm">/* Set on target abort */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_REC_TARGET_ABORT	0x1000 </span><span class="cm">/* Master ack of &quot; */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_REC_MASTER_ABORT	0x2000 </span><span class="cm">/* Set on master abort */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_SIG_SYSTEM_ERROR	0x4000 </span><span class="cm">/* Set when we drive SERR */</span><span class="cp"></span>
<span class="cp">#define  PCI_STATUS_DETECTED_PARITY	0x8000 </span><span class="cm">/* Set on parity error */</span><span class="cp"></span>

<span class="cp">#define PCI_CLASS_REVISION	0x08	</span><span class="cm">/* High 24 bits are class, low 8 revision */</span><span class="cp"></span>
<span class="cp">#define PCI_REVISION_ID		0x08	</span><span class="cm">/* Revision ID */</span><span class="cp"></span>
<span class="cp">#define PCI_CLASS_PROG		0x09	</span><span class="cm">/* Reg. Level Programming Interface */</span><span class="cp"></span>
<span class="cp">#define PCI_CLASS_DEVICE	0x0a	</span><span class="cm">/* Device class */</span><span class="cp"></span>

<span class="cp">#define PCI_CACHE_LINE_SIZE	0x0c	</span><span class="cm">/* 8 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_LATENCY_TIMER	0x0d	</span><span class="cm">/* 8 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_HEADER_TYPE		0x0e	</span><span class="cm">/* 8 bits */</span><span class="cp"></span>
<span class="cp">#define  PCI_HEADER_TYPE_NORMAL		0</span>
<span class="cp">#define  PCI_HEADER_TYPE_BRIDGE		1</span>
<span class="cp">#define  PCI_HEADER_TYPE_CARDBUS	2</span>

<span class="cp">#define PCI_BIST		0x0f	</span><span class="cm">/* 8 bits */</span><span class="cp"></span>
<span class="cp">#define  PCI_BIST_CODE_MASK	0x0f	</span><span class="cm">/* Return result */</span><span class="cp"></span>
<span class="cp">#define  PCI_BIST_START		0x40	</span><span class="cm">/* 1 to start BIST, 2 secs or less */</span><span class="cp"></span>
<span class="cp">#define  PCI_BIST_CAPABLE	0x80	</span><span class="cm">/* 1 if BIST capable */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Base addresses specify locations in memory or I/O space.</span>
<span class="cm"> * Decoded size can be determined by writing a value of</span>
<span class="cm"> * 0xffffffff to the register, and reading it back.  Only</span>
<span class="cm"> * 1 bits are decoded.</span>
<span class="cm"> */</span>
<span class="cp">#define PCI_BASE_ADDRESS_0	0x10	</span><span class="cm">/* 32 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_BASE_ADDRESS_1	0x14	</span><span class="cm">/* 32 bits [htype 0,1 only] */</span><span class="cp"></span>
<span class="cp">#define PCI_BASE_ADDRESS_2	0x18	</span><span class="cm">/* 32 bits [htype 0 only] */</span><span class="cp"></span>
<span class="cp">#define PCI_BASE_ADDRESS_3	0x1c	</span><span class="cm">/* 32 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_BASE_ADDRESS_4	0x20	</span><span class="cm">/* 32 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_BASE_ADDRESS_5	0x24	</span><span class="cm">/* 32 bits */</span><span class="cp"></span>
<span class="cp">#define  PCI_BASE_ADDRESS_SPACE		0x01	</span><span class="cm">/* 0 = memory, 1 = I/O */</span><span class="cp"></span>
<span class="cp">#define  PCI_BASE_ADDRESS_SPACE_IO	0x01</span>
<span class="cp">#define  PCI_BASE_ADDRESS_SPACE_MEMORY	0x00</span>
<span class="cp">#define  PCI_BASE_ADDRESS_MEM_TYPE_MASK	0x06</span>
<span class="cp">#define  PCI_BASE_ADDRESS_MEM_TYPE_32	0x00	</span><span class="cm">/* 32 bit address */</span><span class="cp"></span>
<span class="cp">#define  PCI_BASE_ADDRESS_MEM_TYPE_1M	0x02	</span><span class="cm">/* Below 1M [obsolete] */</span><span class="cp"></span>
<span class="cp">#define  PCI_BASE_ADDRESS_MEM_TYPE_64	0x04	</span><span class="cm">/* 64 bit address */</span><span class="cp"></span>
<span class="cp">#define  PCI_BASE_ADDRESS_MEM_PREFETCH	0x08	</span><span class="cm">/* prefetchable? */</span><span class="cp"></span>
<span class="cp">#define  PCI_BASE_ADDRESS_MEM_MASK	(~0x0fUL)</span>
<span class="cp">#define  PCI_BASE_ADDRESS_IO_MASK	(~0x03UL)</span>
<span class="cm">/* bit 1 is reserved if address_space = 1 */</span>

<span class="cm">/* Header type 0 (normal devices) */</span>
<span class="cp">#define PCI_CARDBUS_CIS		0x28</span>
<span class="cp">#define PCI_SUBSYSTEM_VENDOR_ID	0x2c</span>
<span class="cp">#define PCI_SUBSYSTEM_ID	0x2e</span>
<span class="cp">#define PCI_ROM_ADDRESS		0x30	</span><span class="cm">/* Bits 31..11 are address, 10..1 reserved */</span><span class="cp"></span>
<span class="cp">#define  PCI_ROM_ADDRESS_ENABLE	0x01</span>
<span class="cp">#define PCI_ROM_ADDRESS_MASK	(~0x7ffUL)</span>

<span class="cp">#define PCI_CAPABILITY_LIST	0x34	</span><span class="cm">/* Offset of first capability list entry */</span><span class="cp"></span>

<span class="cm">/* 0x35-0x3b are reserved */</span>
<span class="cp">#define PCI_INTERRUPT_LINE	0x3c	</span><span class="cm">/* 8 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_INTERRUPT_PIN	0x3d	</span><span class="cm">/* 8 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_MIN_GNT		0x3e	</span><span class="cm">/* 8 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_MAX_LAT		0x3f	</span><span class="cm">/* 8 bits */</span><span class="cp"></span>

<span class="cm">/* Header type 1 (PCI-to-PCI bridges) */</span>
<span class="cp">#define PCI_PRIMARY_BUS		0x18	</span><span class="cm">/* Primary bus number */</span><span class="cp"></span>
<span class="cp">#define PCI_SECONDARY_BUS	0x19	</span><span class="cm">/* Secondary bus number */</span><span class="cp"></span>
<span class="cp">#define PCI_SUBORDINATE_BUS	0x1a	</span><span class="cm">/* Highest bus number behind the bridge */</span><span class="cp"></span>
<span class="cp">#define PCI_SEC_LATENCY_TIMER	0x1b	</span><span class="cm">/* Latency timer for secondary interface */</span><span class="cp"></span>
<span class="cp">#define PCI_IO_BASE		0x1c	</span><span class="cm">/* I/O range behind the bridge */</span><span class="cp"></span>
<span class="cp">#define PCI_IO_LIMIT		0x1d</span>
<span class="cp">#define  PCI_IO_RANGE_TYPE_MASK	0x0fUL	</span><span class="cm">/* I/O bridging type */</span><span class="cp"></span>
<span class="cp">#define  PCI_IO_RANGE_TYPE_16	0x00</span>
<span class="cp">#define  PCI_IO_RANGE_TYPE_32	0x01</span>
<span class="cp">#define  PCI_IO_RANGE_MASK	(~0x0fUL)</span>
<span class="cp">#define PCI_SEC_STATUS		0x1e	</span><span class="cm">/* Secondary status register, only bit 14 used */</span><span class="cp"></span>
<span class="cp">#define PCI_MEMORY_BASE		0x20	</span><span class="cm">/* Memory range behind */</span><span class="cp"></span>
<span class="cp">#define PCI_MEMORY_LIMIT	0x22</span>
<span class="cp">#define  PCI_MEMORY_RANGE_TYPE_MASK 0x0fUL</span>
<span class="cp">#define  PCI_MEMORY_RANGE_MASK	(~0x0fUL)</span>
<span class="cp">#define PCI_PREF_MEMORY_BASE	0x24	</span><span class="cm">/* Prefetchable memory range behind */</span><span class="cp"></span>
<span class="cp">#define PCI_PREF_MEMORY_LIMIT	0x26</span>
<span class="cp">#define  PCI_PREF_RANGE_TYPE_MASK 0x0fUL</span>
<span class="cp">#define  PCI_PREF_RANGE_TYPE_32	0x00</span>
<span class="cp">#define  PCI_PREF_RANGE_TYPE_64	0x01</span>
<span class="cp">#define  PCI_PREF_RANGE_MASK	(~0x0fUL)</span>
<span class="cp">#define PCI_PREF_BASE_UPPER32	0x28	</span><span class="cm">/* Upper half of prefetchable memory range */</span><span class="cp"></span>
<span class="cp">#define PCI_PREF_LIMIT_UPPER32	0x2c</span>
<span class="cp">#define PCI_IO_BASE_UPPER16	0x30	</span><span class="cm">/* Upper half of I/O addresses */</span><span class="cp"></span>
<span class="cp">#define PCI_IO_LIMIT_UPPER16	0x32</span>
<span class="cm">/* 0x34 same as for htype 0 */</span>
<span class="cm">/* 0x35-0x3b is reserved */</span>
<span class="cp">#define PCI_ROM_ADDRESS1	0x38	</span><span class="cm">/* Same as PCI_ROM_ADDRESS, but for htype 1 */</span><span class="cp"></span>
<span class="cm">/* 0x3c-0x3d are same as for htype 0 */</span>
<span class="cp">#define PCI_BRIDGE_CONTROL	0x3e</span>
<span class="cp">#define  PCI_BRIDGE_CTL_PARITY	0x01	</span><span class="cm">/* Enable parity detection on secondary interface */</span><span class="cp"></span>
<span class="cp">#define  PCI_BRIDGE_CTL_SERR	0x02	</span><span class="cm">/* The same for SERR forwarding */</span><span class="cp"></span>
<span class="cp">#define  PCI_BRIDGE_CTL_ISA	0x04	</span><span class="cm">/* Enable ISA mode */</span><span class="cp"></span>
<span class="cp">#define  PCI_BRIDGE_CTL_VGA	0x08	</span><span class="cm">/* Forward VGA addresses */</span><span class="cp"></span>
<span class="cp">#define  PCI_BRIDGE_CTL_MASTER_ABORT	0x20  </span><span class="cm">/* Report master aborts */</span><span class="cp"></span>
<span class="cp">#define  PCI_BRIDGE_CTL_BUS_RESET	0x40	</span><span class="cm">/* Secondary bus reset */</span><span class="cp"></span>
<span class="cp">#define  PCI_BRIDGE_CTL_FAST_BACK	0x80	</span><span class="cm">/* Fast Back2Back enabled on secondary interface */</span><span class="cp"></span>

<span class="cm">/* Header type 2 (CardBus bridges) */</span>
<span class="cp">#define PCI_CB_CAPABILITY_LIST	0x14</span>
<span class="cm">/* 0x15 reserved */</span>
<span class="cp">#define PCI_CB_SEC_STATUS	0x16	</span><span class="cm">/* Secondary status */</span><span class="cp"></span>
<span class="cp">#define PCI_CB_PRIMARY_BUS	0x18	</span><span class="cm">/* PCI bus number */</span><span class="cp"></span>
<span class="cp">#define PCI_CB_CARD_BUS		0x19	</span><span class="cm">/* CardBus bus number */</span><span class="cp"></span>
<span class="cp">#define PCI_CB_SUBORDINATE_BUS	0x1a	</span><span class="cm">/* Subordinate bus number */</span><span class="cp"></span>
<span class="cp">#define PCI_CB_LATENCY_TIMER	0x1b	</span><span class="cm">/* CardBus latency timer */</span><span class="cp"></span>
<span class="cp">#define PCI_CB_MEMORY_BASE_0	0x1c</span>
<span class="cp">#define PCI_CB_MEMORY_LIMIT_0	0x20</span>
<span class="cp">#define PCI_CB_MEMORY_BASE_1	0x24</span>
<span class="cp">#define PCI_CB_MEMORY_LIMIT_1	0x28</span>
<span class="cp">#define PCI_CB_IO_BASE_0	0x2c</span>
<span class="cp">#define PCI_CB_IO_BASE_0_HI	0x2e</span>
<span class="cp">#define PCI_CB_IO_LIMIT_0	0x30</span>
<span class="cp">#define PCI_CB_IO_LIMIT_0_HI	0x32</span>
<span class="cp">#define PCI_CB_IO_BASE_1	0x34</span>
<span class="cp">#define PCI_CB_IO_BASE_1_HI	0x36</span>
<span class="cp">#define PCI_CB_IO_LIMIT_1	0x38</span>
<span class="cp">#define PCI_CB_IO_LIMIT_1_HI	0x3a</span>
<span class="cp">#define  PCI_CB_IO_RANGE_MASK	(~0x03UL)</span>
<span class="cm">/* 0x3c-0x3d are same as for htype 0 */</span>
<span class="cp">#define PCI_CB_BRIDGE_CONTROL	0x3e</span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_PARITY	0x01	</span><span class="cm">/* Similar to standard bridge control register */</span><span class="cp"></span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_SERR		0x02</span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_ISA		0x04</span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_VGA		0x08</span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_MASTER_ABORT	0x20</span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_CB_RESET	0x40	</span><span class="cm">/* CardBus reset */</span><span class="cp"></span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_16BIT_INT	0x80	</span><span class="cm">/* Enable interrupt for 16-bit cards */</span><span class="cp"></span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_PREFETCH_MEM0 0x100	</span><span class="cm">/* Prefetch enable for both memory regions */</span><span class="cp"></span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_PREFETCH_MEM1 0x200</span>
<span class="cp">#define  PCI_CB_BRIDGE_CTL_POST_WRITES	0x400</span>
<span class="cp">#define PCI_CB_SUBSYSTEM_VENDOR_ID	0x40</span>
<span class="cp">#define PCI_CB_SUBSYSTEM_ID		0x42</span>
<span class="cp">#define PCI_CB_LEGACY_MODE_BASE		0x44	</span><span class="cm">/* 16-bit PC Card legacy mode base address (ExCa) */</span><span class="cp"></span>
<span class="cm">/* 0x48-0x7f reserved */</span>

<span class="cm">/* Capability lists */</span>

<span class="cp">#define PCI_CAP_LIST_ID		0	</span><span class="cm">/* Capability ID */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_PM		0x01	</span><span class="cm">/* Power Management */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_AGP		0x02	</span><span class="cm">/* Accelerated Graphics Port */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_VPD		0x03	</span><span class="cm">/* Vital Product Data */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_SLOTID	0x04	</span><span class="cm">/* Slot Identification */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_MSI		0x05	</span><span class="cm">/* Message Signalled Interrupts */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_CHSWP	0x06	</span><span class="cm">/* CompactPCI HotSwap */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_PCIX	0x07	</span><span class="cm">/* PCI-X */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_HT		0x08	</span><span class="cm">/* HyperTransport */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_VNDR	0x09	</span><span class="cm">/* Vendor specific */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_DBG		0x0A	</span><span class="cm">/* Debug port */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_CCRC	0x0B	</span><span class="cm">/* CompactPCI Central Resource Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_SHPC 	0x0C	</span><span class="cm">/* PCI Standard Hot-Plug Controller */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_SSVID	0x0D	</span><span class="cm">/* Bridge subsystem vendor/device ID */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_AGP3	0x0E	</span><span class="cm">/* AGP Target PCI-PCI bridge */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_EXP 	0x10	</span><span class="cm">/* PCI Express */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_MSIX	0x11	</span><span class="cm">/* MSI-X */</span><span class="cp"></span>
<span class="cp">#define  PCI_CAP_ID_AF		0x13	</span><span class="cm">/* PCI Advanced Features */</span><span class="cp"></span>
<span class="cp">#define PCI_CAP_LIST_NEXT	1	</span><span class="cm">/* Next capability in the list */</span><span class="cp"></span>
<span class="cp">#define PCI_CAP_FLAGS		2	</span><span class="cm">/* Capability defined flags (16 bits) */</span><span class="cp"></span>
<span class="cp">#define PCI_CAP_SIZEOF		4</span>

<span class="cm">/* Power Management Registers */</span>

<span class="cp">#define PCI_PM_PMC		2	</span><span class="cm">/* PM Capabilities Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_VER_MASK	0x0007	</span><span class="cm">/* Version */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME_CLOCK	0x0008	</span><span class="cm">/* PME clock required */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_RESERVED    0x0010  </span><span class="cm">/* Reserved field */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_DSI		0x0020	</span><span class="cm">/* Device specific initialization */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_AUX_POWER	0x01C0	</span><span class="cm">/* Auxiliary power support mask */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_D1		0x0200	</span><span class="cm">/* D1 power state support */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_D2		0x0400	</span><span class="cm">/* D2 power state support */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME		0x0800	</span><span class="cm">/* PME pin supported */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME_MASK	0xF800	</span><span class="cm">/* PME Mask of all supported states */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME_D0	0x0800	</span><span class="cm">/* PME# from D0 */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME_D1	0x1000	</span><span class="cm">/* PME# from D1 */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME_D2	0x2000	</span><span class="cm">/* PME# from D2 */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME_D3	0x4000	</span><span class="cm">/* PME# from D3 (hot) */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME_D3cold	0x8000	</span><span class="cm">/* PME# from D3 (cold) */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CAP_PME_SHIFT	11	</span><span class="cm">/* Start of the PME Mask in PMC */</span><span class="cp"></span>
<span class="cp">#define PCI_PM_CTRL		4	</span><span class="cm">/* PM control and status register */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CTRL_STATE_MASK	0x0003	</span><span class="cm">/* Current power state (D0 to D3) */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CTRL_NO_SOFT_RESET	0x0008	</span><span class="cm">/* No reset for D3hot-&gt;D0 */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CTRL_PME_ENABLE	0x0100	</span><span class="cm">/* PME pin enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CTRL_DATA_SEL_MASK	0x1e00	</span><span class="cm">/* Data select (??) */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CTRL_DATA_SCALE_MASK	0x6000	</span><span class="cm">/* Data scale (??) */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_CTRL_PME_STATUS	0x8000	</span><span class="cm">/* PME pin status */</span><span class="cp"></span>
<span class="cp">#define PCI_PM_PPB_EXTENSIONS	6	</span><span class="cm">/* PPB support extensions (??) */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_PPB_B2_B3	0x40	</span><span class="cm">/* Stop clock when in D3hot (??) */</span><span class="cp"></span>
<span class="cp">#define  PCI_PM_BPCC_ENABLE	0x80	</span><span class="cm">/* Bus power/clock control enable (??) */</span><span class="cp"></span>
<span class="cp">#define PCI_PM_DATA_REGISTER	7	</span><span class="cm">/* (??) */</span><span class="cp"></span>
<span class="cp">#define PCI_PM_SIZEOF		8</span>

<span class="cm">/* AGP registers */</span>

<span class="cp">#define PCI_AGP_VERSION		2	</span><span class="cm">/* BCD version number */</span><span class="cp"></span>
<span class="cp">#define PCI_AGP_RFU		3	</span><span class="cm">/* Rest of capability flags */</span><span class="cp"></span>
<span class="cp">#define PCI_AGP_STATUS		4	</span><span class="cm">/* Status register */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_STATUS_RQ_MASK	0xff000000	</span><span class="cm">/* Maximum number of requests - 1 */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_STATUS_SBA	0x0200	</span><span class="cm">/* Sideband addressing supported */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_STATUS_64BIT	0x0020	</span><span class="cm">/* 64-bit addressing supported */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_STATUS_FW	0x0010	</span><span class="cm">/* FW transfers supported */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_STATUS_RATE4	0x0004	</span><span class="cm">/* 4x transfer rate supported */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_STATUS_RATE2	0x0002	</span><span class="cm">/* 2x transfer rate supported */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_STATUS_RATE1	0x0001	</span><span class="cm">/* 1x transfer rate supported */</span><span class="cp"></span>
<span class="cp">#define PCI_AGP_COMMAND		8	</span><span class="cm">/* Control register */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_COMMAND_RQ_MASK 0xff000000  </span><span class="cm">/* Master: Maximum number of requests */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_COMMAND_SBA	0x0200	</span><span class="cm">/* Sideband addressing enabled */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_COMMAND_AGP	0x0100	</span><span class="cm">/* Allow processing of AGP transactions */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_COMMAND_64BIT	0x0020 	</span><span class="cm">/* Allow processing of 64-bit addresses */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_COMMAND_FW	0x0010 	</span><span class="cm">/* Force FW transfers */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_COMMAND_RATE4	0x0004	</span><span class="cm">/* Use 4x rate */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_COMMAND_RATE2	0x0002	</span><span class="cm">/* Use 2x rate */</span><span class="cp"></span>
<span class="cp">#define  PCI_AGP_COMMAND_RATE1	0x0001	</span><span class="cm">/* Use 1x rate */</span><span class="cp"></span>
<span class="cp">#define PCI_AGP_SIZEOF		12</span>

<span class="cm">/* Vital Product Data */</span>

<span class="cp">#define PCI_VPD_ADDR		2	</span><span class="cm">/* Address to access (15 bits!) */</span><span class="cp"></span>
<span class="cp">#define  PCI_VPD_ADDR_MASK	0x7fff	</span><span class="cm">/* Address mask */</span><span class="cp"></span>
<span class="cp">#define  PCI_VPD_ADDR_F		0x8000	</span><span class="cm">/* Write 0, 1 indicates completion */</span><span class="cp"></span>
<span class="cp">#define PCI_VPD_DATA		4	</span><span class="cm">/* 32-bits of data returned here */</span><span class="cp"></span>

<span class="cm">/* Slot Identification */</span>

<span class="cp">#define PCI_SID_ESR		2	</span><span class="cm">/* Expansion Slot Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_SID_ESR_NSLOTS	0x1f	</span><span class="cm">/* Number of expansion slots available */</span><span class="cp"></span>
<span class="cp">#define  PCI_SID_ESR_FIC	0x20	</span><span class="cm">/* First In Chassis Flag */</span><span class="cp"></span>
<span class="cp">#define PCI_SID_CHASSIS_NR	3	</span><span class="cm">/* Chassis Number */</span><span class="cp"></span>

<span class="cm">/* Message Signalled Interrupts registers */</span>

<span class="cp">#define PCI_MSI_FLAGS		2	</span><span class="cm">/* Various flags */</span><span class="cp"></span>
<span class="cp">#define  PCI_MSI_FLAGS_64BIT	0x80	</span><span class="cm">/* 64-bit addresses allowed */</span><span class="cp"></span>
<span class="cp">#define  PCI_MSI_FLAGS_QSIZE	0x70	</span><span class="cm">/* Message queue size configured */</span><span class="cp"></span>
<span class="cp">#define  PCI_MSI_FLAGS_QMASK	0x0e	</span><span class="cm">/* Maximum queue size available */</span><span class="cp"></span>
<span class="cp">#define  PCI_MSI_FLAGS_ENABLE	0x01	</span><span class="cm">/* MSI feature enabled */</span><span class="cp"></span>
<span class="cp">#define  PCI_MSI_FLAGS_MASKBIT	0x100	</span><span class="cm">/* 64-bit mask bits allowed */</span><span class="cp"></span>
<span class="cp">#define PCI_MSI_RFU		3	</span><span class="cm">/* Rest of capability flags */</span><span class="cp"></span>
<span class="cp">#define PCI_MSI_ADDRESS_LO	4	</span><span class="cm">/* Lower 32 bits */</span><span class="cp"></span>
<span class="cp">#define PCI_MSI_ADDRESS_HI	8	</span><span class="cm">/* Upper 32 bits (if PCI_MSI_FLAGS_64BIT set) */</span><span class="cp"></span>
<span class="cp">#define PCI_MSI_DATA_32		8	</span><span class="cm">/* 16 bits of data for 32-bit devices */</span><span class="cp"></span>
<span class="cp">#define PCI_MSI_MASK_32		12	</span><span class="cm">/* Mask bits register for 32-bit devices */</span><span class="cp"></span>
<span class="cp">#define PCI_MSI_DATA_64		12	</span><span class="cm">/* 16 bits of data for 64-bit devices */</span><span class="cp"></span>
<span class="cp">#define PCI_MSI_MASK_64		16	</span><span class="cm">/* Mask bits register for 64-bit devices */</span><span class="cp"></span>

<span class="cm">/* MSI-X registers */</span>
<span class="cp">#define PCI_MSIX_FLAGS		2</span>
<span class="cp">#define  PCI_MSIX_FLAGS_QSIZE	0x7FF</span>
<span class="cp">#define  PCI_MSIX_FLAGS_ENABLE	(1 &lt;&lt; 15)</span>
<span class="cp">#define  PCI_MSIX_FLAGS_MASKALL	(1 &lt;&lt; 14)</span>
<span class="cp">#define PCI_MSIX_TABLE		4</span>
<span class="cp">#define PCI_MSIX_PBA		8</span>
<span class="cp">#define  PCI_MSIX_FLAGS_BIRMASK	(7 &lt;&lt; 0)</span>

<span class="cm">/* MSI-X entry&#39;s format */</span>
<span class="cp">#define PCI_MSIX_ENTRY_SIZE		16</span>
<span class="cp">#define  PCI_MSIX_ENTRY_LOWER_ADDR	0</span>
<span class="cp">#define  PCI_MSIX_ENTRY_UPPER_ADDR	4</span>
<span class="cp">#define  PCI_MSIX_ENTRY_DATA		8</span>
<span class="cp">#define  PCI_MSIX_ENTRY_VECTOR_CTRL	12</span>
<span class="cp">#define   PCI_MSIX_ENTRY_CTRL_MASKBIT	1</span>

<span class="cm">/* CompactPCI Hotswap Register */</span>

<span class="cp">#define PCI_CHSWP_CSR		2	</span><span class="cm">/* Control and Status Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_CHSWP_DHA		0x01	</span><span class="cm">/* Device Hiding Arm */</span><span class="cp"></span>
<span class="cp">#define  PCI_CHSWP_EIM		0x02	</span><span class="cm">/* ENUM# Signal Mask */</span><span class="cp"></span>
<span class="cp">#define  PCI_CHSWP_PIE		0x04	</span><span class="cm">/* Pending Insert or Extract */</span><span class="cp"></span>
<span class="cp">#define  PCI_CHSWP_LOO		0x08	</span><span class="cm">/* LED On / Off */</span><span class="cp"></span>
<span class="cp">#define  PCI_CHSWP_PI		0x30	</span><span class="cm">/* Programming Interface */</span><span class="cp"></span>
<span class="cp">#define  PCI_CHSWP_EXT		0x40	</span><span class="cm">/* ENUM# status - extraction */</span><span class="cp"></span>
<span class="cp">#define  PCI_CHSWP_INS		0x80	</span><span class="cm">/* ENUM# status - insertion */</span><span class="cp"></span>

<span class="cm">/* PCI Advanced Feature registers */</span>

<span class="cp">#define PCI_AF_LENGTH		2</span>
<span class="cp">#define PCI_AF_CAP		3</span>
<span class="cp">#define  PCI_AF_CAP_TP		0x01</span>
<span class="cp">#define  PCI_AF_CAP_FLR		0x02</span>
<span class="cp">#define PCI_AF_CTRL		4</span>
<span class="cp">#define  PCI_AF_CTRL_FLR	0x01</span>
<span class="cp">#define PCI_AF_STATUS		5</span>
<span class="cp">#define  PCI_AF_STATUS_TP	0x01</span>

<span class="cm">/* PCI-X registers */</span>

<span class="cp">#define PCI_X_CMD		2	</span><span class="cm">/* Modes &amp; Features */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_DPERR_E	0x0001	</span><span class="cm">/* Data Parity Error Recovery Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_ERO		0x0002	</span><span class="cm">/* Enable Relaxed Ordering */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_READ_512	0x0000	</span><span class="cm">/* 512 byte maximum read byte count */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_READ_1K	0x0004	</span><span class="cm">/* 1Kbyte maximum read byte count */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_READ_2K	0x0008	</span><span class="cm">/* 2Kbyte maximum read byte count */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_READ_4K	0x000c	</span><span class="cm">/* 4Kbyte maximum read byte count */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_MAX_READ	0x000c	</span><span class="cm">/* Max Memory Read Byte Count */</span><span class="cp"></span>
				<span class="cm">/* Max # of outstanding split transactions */</span>
<span class="cp">#define  PCI_X_CMD_SPLIT_1	0x0000	</span><span class="cm">/* Max 1 */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_SPLIT_2	0x0010	</span><span class="cm">/* Max 2 */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_SPLIT_3	0x0020	</span><span class="cm">/* Max 3 */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_SPLIT_4	0x0030	</span><span class="cm">/* Max 4 */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_SPLIT_8	0x0040	</span><span class="cm">/* Max 8 */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_SPLIT_12	0x0050	</span><span class="cm">/* Max 12 */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_SPLIT_16	0x0060	</span><span class="cm">/* Max 16 */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_SPLIT_32	0x0070	</span><span class="cm">/* Max 32 */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_MAX_SPLIT	0x0070	</span><span class="cm">/* Max Outstanding Split Transactions */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_CMD_VERSION(x) 	(((x) &gt;&gt; 12) &amp; 3) </span><span class="cm">/* Version */</span><span class="cp"></span>
<span class="cp">#define PCI_X_STATUS		4	</span><span class="cm">/* PCI-X capabilities */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_DEVFN	0x000000ff	</span><span class="cm">/* A copy of devfn */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_BUS	0x0000ff00	</span><span class="cm">/* A copy of bus nr */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_64BIT	0x00010000	</span><span class="cm">/* 64-bit device */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_133MHZ	0x00020000	</span><span class="cm">/* 133 MHz capable */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_SPL_DISC	0x00040000	</span><span class="cm">/* Split Completion Discarded */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_UNX_SPL	0x00080000	</span><span class="cm">/* Unexpected Split Completion */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_COMPLEX	0x00100000	</span><span class="cm">/* Device Complexity */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_MAX_READ	0x00600000	</span><span class="cm">/* Designed Max Memory Read Count */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_MAX_SPLIT	0x03800000	</span><span class="cm">/* Designed Max Outstanding Split Transactions */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_MAX_CUM	0x1c000000	</span><span class="cm">/* Designed Max Cumulative Read Size */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_SPL_ERR	0x20000000	</span><span class="cm">/* Rcvd Split Completion Error Msg */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_266MHZ	0x40000000	</span><span class="cm">/* 266 MHz capable */</span><span class="cp"></span>
<span class="cp">#define  PCI_X_STATUS_533MHZ	0x80000000	</span><span class="cm">/* 533 MHz capable */</span><span class="cp"></span>

<span class="cm">/* PCI Bridge Subsystem ID registers */</span>

<span class="cp">#define PCI_SSVID_VENDOR_ID     4	</span><span class="cm">/* PCI-Bridge subsystem vendor id register */</span><span class="cp"></span>
<span class="cp">#define PCI_SSVID_DEVICE_ID     6	</span><span class="cm">/* PCI-Bridge subsystem device id register */</span><span class="cp"></span>

<span class="cm">/* PCI Express capability registers */</span>

<span class="cp">#define PCI_EXP_FLAGS		2	</span><span class="cm">/* Capabilities register */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_FLAGS_VERS	0x000f	</span><span class="cm">/* Capability version */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_FLAGS_TYPE	0x00f0	</span><span class="cm">/* Device/Port type */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_ENDPOINT	0x0	</span><span class="cm">/* Express Endpoint */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_LEG_END	0x1	</span><span class="cm">/* Legacy Endpoint */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_ROOT_PORT 0x4	</span><span class="cm">/* Root Port */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_UPSTREAM	0x5	</span><span class="cm">/* Upstream Port */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_DOWNSTREAM 0x6	</span><span class="cm">/* Downstream Port */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_PCI_BRIDGE 0x7	</span><span class="cm">/* PCI/PCI-X Bridge */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_PCIE_BRIDGE 0x8	</span><span class="cm">/* PCI/PCI-X to PCIE Bridge */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_RC_END	0x9	</span><span class="cm">/* Root Complex Integrated Endpoint */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_TYPE_RC_EC	0xa	</span><span class="cm">/* Root Complex Event Collector */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_FLAGS_SLOT	0x0100	</span><span class="cm">/* Slot implemented */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_FLAGS_IRQ	0x3e00	</span><span class="cm">/* Interrupt message number */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_DEVCAP		4	</span><span class="cm">/* Device capabilities */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_PAYLOAD	0x07	</span><span class="cm">/* Max_Payload_Size */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_PHANTOM	0x18	</span><span class="cm">/* Phantom functions */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_EXT_TAG	0x20	</span><span class="cm">/* Extended tags */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_L0S	0x1c0	</span><span class="cm">/* L0s Acceptable Latency */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_L1	0xe00	</span><span class="cm">/* L1 Acceptable Latency */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_ATN_BUT	0x1000	</span><span class="cm">/* Attention Button Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_ATN_IND	0x2000	</span><span class="cm">/* Attention Indicator Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_PWR_IND	0x4000	</span><span class="cm">/* Power Indicator Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_RBER	0x8000	</span><span class="cm">/* Role-Based Error Reporting */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_PWR_VAL	0x3fc0000 </span><span class="cm">/* Slot Power Limit Value */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_PWR_SCL	0xc000000 </span><span class="cm">/* Slot Power Limit Scale */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP_FLR     0x10000000 </span><span class="cm">/* Function Level Reset */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_DEVCTL		8	</span><span class="cm">/* Device Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_CERE	0x0001	</span><span class="cm">/* Correctable Error Reporting En. */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_NFERE	0x0002	</span><span class="cm">/* Non-Fatal Error Reporting Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_FERE	0x0004	</span><span class="cm">/* Fatal Error Reporting Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_URRE	0x0008	</span><span class="cm">/* Unsupported Request Reporting En. */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_RELAX_EN 0x0010 </span><span class="cm">/* Enable relaxed ordering */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_PAYLOAD	0x00e0	</span><span class="cm">/* Max_Payload_Size */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_EXT_TAG	0x0100	</span><span class="cm">/* Extended Tag Field Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_PHANTOM	0x0200	</span><span class="cm">/* Phantom Functions Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_AUX_PME	0x0400	</span><span class="cm">/* Auxiliary Power PM Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_NOSNOOP_EN 0x0800  </span><span class="cm">/* Enable No Snoop */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_READRQ	0x7000	</span><span class="cm">/* Max_Read_Request_Size */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL_BCR_FLR 0x8000  </span><span class="cm">/* Bridge Configuration Retry / FLR */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_DEVSTA		10	</span><span class="cm">/* Device Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVSTA_CED	0x01	</span><span class="cm">/* Correctable Error Detected */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVSTA_NFED	0x02	</span><span class="cm">/* Non-Fatal Error Detected */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVSTA_FED	0x04	</span><span class="cm">/* Fatal Error Detected */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVSTA_URD	0x08	</span><span class="cm">/* Unsupported Request Detected */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVSTA_AUXPD	0x10	</span><span class="cm">/* AUX Power Detected */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVSTA_TRPND	0x20	</span><span class="cm">/* Transactions Pending */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_LNKCAP		12	</span><span class="cm">/* Link Capabilities */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_SLS	0x0000000f </span><span class="cm">/* Supported Link Speeds */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_MLW	0x000003f0 </span><span class="cm">/* Maximum Link Width */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_ASPMS	0x00000c00 </span><span class="cm">/* ASPM Support */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_L0SEL	0x00007000 </span><span class="cm">/* L0s Exit Latency */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_L1EL	0x00038000 </span><span class="cm">/* L1 Exit Latency */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_CLKPM	0x00040000 </span><span class="cm">/* L1 Clock Power Management */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_SDERC	0x00080000 </span><span class="cm">/* Surprise Down Error Reporting Capable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_DLLLARC	0x00100000 </span><span class="cm">/* Data Link Layer Link Active Reporting Capable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_LBNC	0x00200000 </span><span class="cm">/* Link Bandwidth Notification Capability */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCAP_PN	0xff000000 </span><span class="cm">/* Port Number */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_LNKCTL		16	</span><span class="cm">/* Link Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_ASPMC	0x0003	</span><span class="cm">/* ASPM Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_RCB	0x0008	</span><span class="cm">/* Read Completion Boundary */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_LD	0x0010	</span><span class="cm">/* Link Disable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_RL	0x0020	</span><span class="cm">/* Retrain Link */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_CCC	0x0040	</span><span class="cm">/* Common Clock Configuration */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_ES	0x0080	</span><span class="cm">/* Extended Synch */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_CLKREQ_EN 0x100	</span><span class="cm">/* Enable clkreq */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_HAWD	0x0200	</span><span class="cm">/* Hardware Autonomous Width Disable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_LBMIE	0x0400	</span><span class="cm">/* Link Bandwidth Management Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKCTL_LABIE	0x0800	</span><span class="cm">/* Lnk Autonomous Bandwidth Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_LNKSTA		18	</span><span class="cm">/* Link Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_CLS	0x000f	</span><span class="cm">/* Current Link Speed */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_CLS_2_5GB 0x01	</span><span class="cm">/* Current Link Speed 2.5GT/s */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_CLS_5_0GB 0x02	</span><span class="cm">/* Current Link Speed 5.0GT/s */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_NLW	0x03f0	</span><span class="cm">/* Nogotiated Link Width */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_NLW_SHIFT 4	</span><span class="cm">/* start of NLW mask in link status */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_LT	0x0800	</span><span class="cm">/* Link Training */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_SLC	0x1000	</span><span class="cm">/* Slot Clock Configuration */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_DLLLA	0x2000	</span><span class="cm">/* Data Link Layer Link Active */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_LBMS	0x4000	</span><span class="cm">/* Link Bandwidth Management Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LNKSTA_LABS	0x8000	</span><span class="cm">/* Link Autonomous Bandwidth Status */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_SLTCAP		20	</span><span class="cm">/* Slot Capabilities */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_ABP	0x00000001 </span><span class="cm">/* Attention Button Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_PCP	0x00000002 </span><span class="cm">/* Power Controller Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_MRLSP	0x00000004 </span><span class="cm">/* MRL Sensor Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_AIP	0x00000008 </span><span class="cm">/* Attention Indicator Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_PIP	0x00000010 </span><span class="cm">/* Power Indicator Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_HPS	0x00000020 </span><span class="cm">/* Hot-Plug Surprise */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_HPC	0x00000040 </span><span class="cm">/* Hot-Plug Capable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_SPLV	0x00007f80 </span><span class="cm">/* Slot Power Limit Value */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_SPLS	0x00018000 </span><span class="cm">/* Slot Power Limit Scale */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_EIP	0x00020000 </span><span class="cm">/* Electromechanical Interlock Present */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_NCCS	0x00040000 </span><span class="cm">/* No Command Completed Support */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCAP_PSN	0xfff80000 </span><span class="cm">/* Physical Slot Number */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_SLTCTL		24	</span><span class="cm">/* Slot Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_ABPE	0x0001	</span><span class="cm">/* Attention Button Pressed Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_PFDE	0x0002	</span><span class="cm">/* Power Fault Detected Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_MRLSCE	0x0004	</span><span class="cm">/* MRL Sensor Changed Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_PDCE	0x0008	</span><span class="cm">/* Presence Detect Changed Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_CCIE	0x0010	</span><span class="cm">/* Command Completed Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_HPIE	0x0020	</span><span class="cm">/* Hot-Plug Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_AIC	0x00c0	</span><span class="cm">/* Attention Indicator Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_PIC	0x0300	</span><span class="cm">/* Power Indicator Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_PCC	0x0400	</span><span class="cm">/* Power Controller Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_EIC	0x0800	</span><span class="cm">/* Electromechanical Interlock Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTCTL_DLLSCE	0x1000	</span><span class="cm">/* Data Link Layer State Changed Enable */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_SLTSTA		26	</span><span class="cm">/* Slot Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_ABP	0x0001	</span><span class="cm">/* Attention Button Pressed */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_PFD	0x0002	</span><span class="cm">/* Power Fault Detected */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_MRLSC	0x0004	</span><span class="cm">/* MRL Sensor Changed */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_PDC	0x0008	</span><span class="cm">/* Presence Detect Changed */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_CC	0x0010	</span><span class="cm">/* Command Completed */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_MRLSS	0x0020	</span><span class="cm">/* MRL Sensor State */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_PDS	0x0040	</span><span class="cm">/* Presence Detect State */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_EIS	0x0080	</span><span class="cm">/* Electromechanical Interlock Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_SLTSTA_DLLSC	0x0100	</span><span class="cm">/* Data Link Layer State Changed */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_RTCTL		28	</span><span class="cm">/* Root Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_RTCTL_SECEE	0x01	</span><span class="cm">/* System Error on Correctable Error */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_RTCTL_SENFEE	0x02	</span><span class="cm">/* System Error on Non-Fatal Error */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_RTCTL_SEFEE	0x04	</span><span class="cm">/* System Error on Fatal Error */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_RTCTL_PMEIE	0x08	</span><span class="cm">/* PME Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_RTCTL_CRSSVE	0x10	</span><span class="cm">/* CRS Software Visibility Enable */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_RTCAP		30	</span><span class="cm">/* Root Capabilities */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_RTSTA		32	</span><span class="cm">/* Root Status */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_RTSTA_PME	0x10000 </span><span class="cm">/* PME status */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_RTSTA_PENDING	0x20000 </span><span class="cm">/* PME pending */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_DEVCAP2		36	</span><span class="cm">/* Device Capabilities 2 */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP2_ARI	0x20	</span><span class="cm">/* Alternative Routing-ID */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCAP2_LTR	0x800	</span><span class="cm">/* Latency tolerance reporting */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_OBFF_MASK	0xc0000 </span><span class="cm">/* OBFF support mechanism */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_OBFF_MSG	0x40000 </span><span class="cm">/* New message signaling */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_OBFF_WAKE	0x80000 </span><span class="cm">/* Re-use WAKE# for OBFF */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_DEVCTL2		40	</span><span class="cm">/* Device Control 2 */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_DEVCTL2_ARI	0x20	</span><span class="cm">/* Alternative Routing-ID */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_IDO_REQ_EN	0x100	</span><span class="cm">/* ID-based ordering request enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_IDO_CMP_EN	0x200	</span><span class="cm">/* ID-based ordering completion enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_LTR_EN		0x400	</span><span class="cm">/* Latency tolerance reporting */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_OBFF_MSGA_EN	0x2000	</span><span class="cm">/* OBFF enable with Message type A */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_OBFF_MSGB_EN	0x4000	</span><span class="cm">/* OBFF enable with Message type B */</span><span class="cp"></span>
<span class="cp">#define  PCI_EXP_OBFF_WAKE_EN	0x6000	</span><span class="cm">/* OBFF using WAKE# signaling */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_LNKCTL2		48	</span><span class="cm">/* Link Control 2 */</span><span class="cp"></span>
<span class="cp">#define PCI_EXP_SLTCTL2		56	</span><span class="cm">/* Slot Control 2 */</span><span class="cp"></span>

<span class="cm">/* Extended Capabilities (PCI-X 2.0 and Express) */</span>
<span class="cp">#define PCI_EXT_CAP_ID(header)		(header &amp; 0x0000ffff)</span>
<span class="cp">#define PCI_EXT_CAP_VER(header)		((header &gt;&gt; 16) &amp; 0xf)</span>
<span class="cp">#define PCI_EXT_CAP_NEXT(header)	((header &gt;&gt; 20) &amp; 0xffc)</span>

<span class="cp">#define PCI_EXT_CAP_ID_ERR	1</span>
<span class="cp">#define PCI_EXT_CAP_ID_VC	2</span>
<span class="cp">#define PCI_EXT_CAP_ID_DSN	3</span>
<span class="cp">#define PCI_EXT_CAP_ID_PWR	4</span>
<span class="cp">#define PCI_EXT_CAP_ID_VNDR	11</span>
<span class="cp">#define PCI_EXT_CAP_ID_ACS	13</span>
<span class="cp">#define PCI_EXT_CAP_ID_ARI	14</span>
<span class="cp">#define PCI_EXT_CAP_ID_ATS	15</span>
<span class="cp">#define PCI_EXT_CAP_ID_SRIOV	16</span>
<span class="cp">#define PCI_EXT_CAP_ID_PRI	19</span>
<span class="cp">#define PCI_EXT_CAP_ID_LTR	24</span>
<span class="cp">#define PCI_EXT_CAP_ID_PASID	27</span>

<span class="cm">/* Advanced Error Reporting */</span>
<span class="cp">#define PCI_ERR_UNCOR_STATUS	4	</span><span class="cm">/* Uncorrectable Error Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_TRAIN	0x00000001	</span><span class="cm">/* Training */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_DLP	0x00000010	</span><span class="cm">/* Data Link Protocol */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_POISON_TLP	0x00001000	</span><span class="cm">/* Poisoned TLP */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_FCP	0x00002000	</span><span class="cm">/* Flow Control Protocol */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_COMP_TIME	0x00004000	</span><span class="cm">/* Completion Timeout */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_COMP_ABORT	0x00008000	</span><span class="cm">/* Completer Abort */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_UNX_COMP	0x00010000	</span><span class="cm">/* Unexpected Completion */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_RX_OVER	0x00020000	</span><span class="cm">/* Receiver Overflow */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_MALF_TLP	0x00040000	</span><span class="cm">/* Malformed TLP */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_ECRC	0x00080000	</span><span class="cm">/* ECRC Error Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_UNC_UNSUP	0x00100000	</span><span class="cm">/* Unsupported Request */</span><span class="cp"></span>
<span class="cp">#define PCI_ERR_UNCOR_MASK	8	</span><span class="cm">/* Uncorrectable Error Mask */</span><span class="cp"></span>
	<span class="cm">/* Same bits as above */</span>
<span class="cp">#define PCI_ERR_UNCOR_SEVER	12	</span><span class="cm">/* Uncorrectable Error Severity */</span><span class="cp"></span>
	<span class="cm">/* Same bits as above */</span>
<span class="cp">#define PCI_ERR_COR_STATUS	16	</span><span class="cm">/* Correctable Error Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_COR_RCVR	0x00000001	</span><span class="cm">/* Receiver Error Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_COR_BAD_TLP	0x00000040	</span><span class="cm">/* Bad TLP Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_COR_BAD_DLLP	0x00000080	</span><span class="cm">/* Bad DLLP Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_COR_REP_ROLL	0x00000100	</span><span class="cm">/* REPLAY_NUM Rollover */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_COR_REP_TIMER	0x00001000	</span><span class="cm">/* Replay Timer Timeout */</span><span class="cp"></span>
<span class="cp">#define PCI_ERR_COR_MASK	20	</span><span class="cm">/* Correctable Error Mask */</span><span class="cp"></span>
	<span class="cm">/* Same bits as above */</span>
<span class="cp">#define PCI_ERR_CAP		24	</span><span class="cm">/* Advanced Error Capabilities */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_CAP_FEP(x)	((x) &amp; 31)	</span><span class="cm">/* First Error Pointer */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_CAP_ECRC_GENC	0x00000020	</span><span class="cm">/* ECRC Generation Capable */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_CAP_ECRC_GENE	0x00000040	</span><span class="cm">/* ECRC Generation Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_CAP_ECRC_CHKC	0x00000080	</span><span class="cm">/* ECRC Check Capable */</span><span class="cp"></span>
<span class="cp">#define  PCI_ERR_CAP_ECRC_CHKE	0x00000100	</span><span class="cm">/* ECRC Check Enable */</span><span class="cp"></span>
<span class="cp">#define PCI_ERR_HEADER_LOG	28	</span><span class="cm">/* Header Log Register (16 bytes) */</span><span class="cp"></span>
<span class="cp">#define PCI_ERR_ROOT_COMMAND	44	</span><span class="cm">/* Root Error Command */</span><span class="cp"></span>
<span class="cm">/* Correctable Err Reporting Enable */</span>
<span class="cp">#define PCI_ERR_ROOT_CMD_COR_EN		0x00000001</span>
<span class="cm">/* Non-fatal Err Reporting Enable */</span>
<span class="cp">#define PCI_ERR_ROOT_CMD_NONFATAL_EN	0x00000002</span>
<span class="cm">/* Fatal Err Reporting Enable */</span>
<span class="cp">#define PCI_ERR_ROOT_CMD_FATAL_EN	0x00000004</span>
<span class="cp">#define PCI_ERR_ROOT_STATUS	48</span>
<span class="cp">#define PCI_ERR_ROOT_COR_RCV		0x00000001	</span><span class="cm">/* ERR_COR Received */</span><span class="cp"></span>
<span class="cm">/* Multi ERR_COR Received */</span>
<span class="cp">#define PCI_ERR_ROOT_MULTI_COR_RCV	0x00000002</span>
<span class="cm">/* ERR_FATAL/NONFATAL Recevied */</span>
<span class="cp">#define PCI_ERR_ROOT_UNCOR_RCV		0x00000004</span>
<span class="cm">/* Multi ERR_FATAL/NONFATAL Recevied */</span>
<span class="cp">#define PCI_ERR_ROOT_MULTI_UNCOR_RCV	0x00000008</span>
<span class="cp">#define PCI_ERR_ROOT_FIRST_FATAL	0x00000010	</span><span class="cm">/* First Fatal */</span><span class="cp"></span>
<span class="cp">#define PCI_ERR_ROOT_NONFATAL_RCV	0x00000020	</span><span class="cm">/* Non-Fatal Received */</span><span class="cp"></span>
<span class="cp">#define PCI_ERR_ROOT_FATAL_RCV		0x00000040	</span><span class="cm">/* Fatal Received */</span><span class="cp"></span>
<span class="cp">#define PCI_ERR_ROOT_ERR_SRC	52	</span><span class="cm">/* Error Source Identification */</span><span class="cp"></span>

<span class="cm">/* Virtual Channel */</span>
<span class="cp">#define PCI_VC_PORT_REG1	4</span>
<span class="cp">#define PCI_VC_PORT_REG2	8</span>
<span class="cp">#define PCI_VC_PORT_CTRL	12</span>
<span class="cp">#define PCI_VC_PORT_STATUS	14</span>
<span class="cp">#define PCI_VC_RES_CAP		16</span>
<span class="cp">#define PCI_VC_RES_CTRL		20</span>
<span class="cp">#define PCI_VC_RES_STATUS	26</span>

<span class="cm">/* Power Budgeting */</span>
<span class="cp">#define PCI_PWR_DSR		4	</span><span class="cm">/* Data Select Register */</span><span class="cp"></span>
<span class="cp">#define PCI_PWR_DATA		8	</span><span class="cm">/* Data Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_PWR_DATA_BASE(x)	((x) &amp; 0xff)	    </span><span class="cm">/* Base Power */</span><span class="cp"></span>
<span class="cp">#define  PCI_PWR_DATA_SCALE(x)	(((x) &gt;&gt; 8) &amp; 3)    </span><span class="cm">/* Data Scale */</span><span class="cp"></span>
<span class="cp">#define  PCI_PWR_DATA_PM_SUB(x)	(((x) &gt;&gt; 10) &amp; 7)   </span><span class="cm">/* PM Sub State */</span><span class="cp"></span>
<span class="cp">#define  PCI_PWR_DATA_PM_STATE(x) (((x) &gt;&gt; 13) &amp; 3) </span><span class="cm">/* PM State */</span><span class="cp"></span>
<span class="cp">#define  PCI_PWR_DATA_TYPE(x)	(((x) &gt;&gt; 15) &amp; 7)   </span><span class="cm">/* Type */</span><span class="cp"></span>
<span class="cp">#define  PCI_PWR_DATA_RAIL(x)	(((x) &gt;&gt; 18) &amp; 7)   </span><span class="cm">/* Power Rail */</span><span class="cp"></span>
<span class="cp">#define PCI_PWR_CAP		12	</span><span class="cm">/* Capability */</span><span class="cp"></span>
<span class="cp">#define  PCI_PWR_CAP_BUDGET(x)	((x) &amp; 1)	</span><span class="cm">/* Included in system budget */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Hypertransport sub capability types</span>
<span class="cm"> *</span>
<span class="cm"> * Unfortunately there are both 3 bit and 5 bit capability types defined</span>
<span class="cm"> * in the HT spec, catering for that is a little messy. You probably don&#39;t</span>
<span class="cm"> * want to use these directly, just use pci_find_ht_capability() and it</span>
<span class="cm"> * will do the right thing for you.</span>
<span class="cm"> */</span>
<span class="cp">#define HT_3BIT_CAP_MASK	0xE0</span>
<span class="cp">#define HT_CAPTYPE_SLAVE	0x00	</span><span class="cm">/* Slave/Primary link configuration */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_HOST		0x20	</span><span class="cm">/* Host/Secondary link configuration */</span><span class="cp"></span>

<span class="cp">#define HT_5BIT_CAP_MASK	0xF8</span>
<span class="cp">#define HT_CAPTYPE_IRQ		0x80	</span><span class="cm">/* IRQ Configuration */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_REMAPPING_40	0xA0	</span><span class="cm">/* 40 bit address remapping */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_REMAPPING_64 0xA2	</span><span class="cm">/* 64 bit address remapping */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_UNITID_CLUMP	0x90	</span><span class="cm">/* Unit ID clumping */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_EXTCONF	0x98	</span><span class="cm">/* Extended Configuration Space Access */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_MSI_MAPPING	0xA8	</span><span class="cm">/* MSI Mapping Capability */</span><span class="cp"></span>
<span class="cp">#define  HT_MSI_FLAGS		0x02		</span><span class="cm">/* Offset to flags */</span><span class="cp"></span>
<span class="cp">#define  HT_MSI_FLAGS_ENABLE	0x1		</span><span class="cm">/* Mapping enable */</span><span class="cp"></span>
<span class="cp">#define  HT_MSI_FLAGS_FIXED	0x2		</span><span class="cm">/* Fixed mapping only */</span><span class="cp"></span>
<span class="cp">#define  HT_MSI_FIXED_ADDR	0x00000000FEE00000ULL	</span><span class="cm">/* Fixed addr */</span><span class="cp"></span>
<span class="cp">#define  HT_MSI_ADDR_LO		0x04		</span><span class="cm">/* Offset to low addr bits */</span><span class="cp"></span>
<span class="cp">#define  HT_MSI_ADDR_LO_MASK	0xFFF00000	</span><span class="cm">/* Low address bit mask */</span><span class="cp"></span>
<span class="cp">#define  HT_MSI_ADDR_HI		0x08		</span><span class="cm">/* Offset to high addr bits */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_DIRECT_ROUTE	0xB0	</span><span class="cm">/* Direct routing configuration */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_VCSET	0xB8	</span><span class="cm">/* Virtual Channel configuration */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_ERROR_RETRY	0xC0	</span><span class="cm">/* Retry on error configuration */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_GEN3		0xD0	</span><span class="cm">/* Generation 3 hypertransport configuration */</span><span class="cp"></span>
<span class="cp">#define HT_CAPTYPE_PM		0xE0	</span><span class="cm">/* Hypertransport powermanagement configuration */</span><span class="cp"></span>

<span class="cm">/* Alternative Routing-ID Interpretation */</span>
<span class="cp">#define PCI_ARI_CAP		0x04	</span><span class="cm">/* ARI Capability Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_ARI_CAP_MFVC	0x0001	</span><span class="cm">/* MFVC Function Groups Capability */</span><span class="cp"></span>
<span class="cp">#define  PCI_ARI_CAP_ACS	0x0002	</span><span class="cm">/* ACS Function Groups Capability */</span><span class="cp"></span>
<span class="cp">#define  PCI_ARI_CAP_NFN(x)	(((x) &gt;&gt; 8) &amp; 0xff) </span><span class="cm">/* Next Function Number */</span><span class="cp"></span>
<span class="cp">#define PCI_ARI_CTRL		0x06	</span><span class="cm">/* ARI Control Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_ARI_CTRL_MFVC	0x0001	</span><span class="cm">/* MFVC Function Groups Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_ARI_CTRL_ACS	0x0002	</span><span class="cm">/* ACS Function Groups Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_ARI_CTRL_FG(x)	(((x) &gt;&gt; 4) &amp; 7) </span><span class="cm">/* Function Group */</span><span class="cp"></span>

<span class="cm">/* Address Translation Service */</span>
<span class="cp">#define PCI_ATS_CAP		0x04	</span><span class="cm">/* ATS Capability Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_ATS_CAP_QDEP(x)	((x) &amp; 0x1f)	</span><span class="cm">/* Invalidate Queue Depth */</span><span class="cp"></span>
<span class="cp">#define  PCI_ATS_MAX_QDEP	32	</span><span class="cm">/* Max Invalidate Queue Depth */</span><span class="cp"></span>
<span class="cp">#define PCI_ATS_CTRL		0x06	</span><span class="cm">/* ATS Control Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_ATS_CTRL_ENABLE	0x8000	</span><span class="cm">/* ATS Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_ATS_CTRL_STU(x)	((x) &amp; 0x1f)	</span><span class="cm">/* Smallest Translation Unit */</span><span class="cp"></span>
<span class="cp">#define  PCI_ATS_MIN_STU	12	</span><span class="cm">/* shift of minimum STU block */</span><span class="cp"></span>

<span class="cm">/* Page Request Interface */</span>
<span class="cp">#define PCI_PRI_CTRL		0x04	</span><span class="cm">/* PRI control register */</span><span class="cp"></span>
<span class="cp">#define  PCI_PRI_CTRL_ENABLE	0x01	</span><span class="cm">/* Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_PRI_CTRL_RESET	0x02	</span><span class="cm">/* Reset */</span><span class="cp"></span>
<span class="cp">#define PCI_PRI_STATUS		0x06	</span><span class="cm">/* PRI status register */</span><span class="cp"></span>
<span class="cp">#define  PCI_PRI_STATUS_RF	0x001	</span><span class="cm">/* Response Failure */</span><span class="cp"></span>
<span class="cp">#define  PCI_PRI_STATUS_UPRGI	0x002	</span><span class="cm">/* Unexpected PRG index */</span><span class="cp"></span>
<span class="cp">#define  PCI_PRI_STATUS_STOPPED	0x100	</span><span class="cm">/* PRI Stopped */</span><span class="cp"></span>
<span class="cp">#define PCI_PRI_MAX_REQ		0x08	</span><span class="cm">/* PRI max reqs supported */</span><span class="cp"></span>
<span class="cp">#define PCI_PRI_ALLOC_REQ	0x0c	</span><span class="cm">/* PRI max reqs allowed */</span><span class="cp"></span>

<span class="cm">/* PASID capability */</span>
<span class="cp">#define PCI_PASID_CAP		0x04    </span><span class="cm">/* PASID feature register */</span><span class="cp"></span>
<span class="cp">#define  PCI_PASID_CAP_EXEC	0x02	</span><span class="cm">/* Exec permissions Supported */</span><span class="cp"></span>
<span class="cp">#define  PCI_PASID_CAP_PRIV	0x04	</span><span class="cm">/* Priviledge Mode Supported */</span><span class="cp"></span>
<span class="cp">#define PCI_PASID_CTRL		0x06    </span><span class="cm">/* PASID control register */</span><span class="cp"></span>
<span class="cp">#define  PCI_PASID_CTRL_ENABLE	0x01	</span><span class="cm">/* Enable bit */</span><span class="cp"></span>
<span class="cp">#define  PCI_PASID_CTRL_EXEC	0x02	</span><span class="cm">/* Exec permissions Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_PASID_CTRL_PRIV	0x04	</span><span class="cm">/* Priviledge Mode Enable */</span><span class="cp"></span>

<span class="cm">/* Single Root I/O Virtualization */</span>
<span class="cp">#define PCI_SRIOV_CAP		0x04	</span><span class="cm">/* SR-IOV Capabilities */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_CAP_VFM	0x01	</span><span class="cm">/* VF Migration Capable */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_CAP_INTR(x)	((x) &gt;&gt; 21) </span><span class="cm">/* Interrupt Message Number */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_CTRL		0x08	</span><span class="cm">/* SR-IOV Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_CTRL_VFE	0x01	</span><span class="cm">/* VF Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_CTRL_VFM	0x02	</span><span class="cm">/* VF Migration Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_CTRL_INTR	0x04	</span><span class="cm">/* VF Migration Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_CTRL_MSE	0x08	</span><span class="cm">/* VF Memory Space Enable */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_CTRL_ARI	0x10	</span><span class="cm">/* ARI Capable Hierarchy */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_STATUS	0x0a	</span><span class="cm">/* SR-IOV Status */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_STATUS_VFM	0x01	</span><span class="cm">/* VF Migration Status */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_INITIAL_VF	0x0c	</span><span class="cm">/* Initial VFs */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_TOTAL_VF	0x0e	</span><span class="cm">/* Total VFs */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_NUM_VF	0x10	</span><span class="cm">/* Number of VFs */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_FUNC_LINK	0x12	</span><span class="cm">/* Function Dependency Link */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_VF_OFFSET	0x14	</span><span class="cm">/* First VF Offset */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_VF_STRIDE	0x16	</span><span class="cm">/* Following VF Stride */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_VF_DID	0x1a	</span><span class="cm">/* VF Device ID */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_SUP_PGSIZE	0x1c	</span><span class="cm">/* Supported Page Sizes */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_SYS_PGSIZE	0x20	</span><span class="cm">/* System Page Size */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_BAR		0x24	</span><span class="cm">/* VF BAR0 */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_NUM_BARS	6	</span><span class="cm">/* Number of VF BARs */</span><span class="cp"></span>
<span class="cp">#define PCI_SRIOV_VFM		0x3c	</span><span class="cm">/* VF Migration State Array Offset*/</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_VFM_BIR(x)	((x) &amp; 7)	</span><span class="cm">/* State BIR */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_VFM_OFFSET(x) ((x) &amp; ~7)	</span><span class="cm">/* State Offset */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_VFM_UA	0x0	</span><span class="cm">/* Inactive.Unavailable */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_VFM_MI	0x1	</span><span class="cm">/* Dormant.MigrateIn */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_VFM_MO	0x2	</span><span class="cm">/* Active.MigrateOut */</span><span class="cp"></span>
<span class="cp">#define  PCI_SRIOV_VFM_AV	0x3	</span><span class="cm">/* Active.Available */</span><span class="cp"></span>

<span class="cp">#define PCI_LTR_MAX_SNOOP_LAT	0x4</span>
<span class="cp">#define PCI_LTR_MAX_NOSNOOP_LAT	0x6</span>
<span class="cp">#define  PCI_LTR_VALUE_MASK	0x000003ff</span>
<span class="cp">#define  PCI_LTR_SCALE_MASK	0x00001c00</span>
<span class="cp">#define  PCI_LTR_SCALE_SHIFT	10</span>

<span class="cm">/* Access Control Service */</span>
<span class="cp">#define PCI_ACS_CAP		0x04	</span><span class="cm">/* ACS Capability Register */</span><span class="cp"></span>
<span class="cp">#define  PCI_ACS_SV		0x01	</span><span class="cm">/* Source Validation */</span><span class="cp"></span>
<span class="cp">#define  PCI_ACS_TB		0x02	</span><span class="cm">/* Translation Blocking */</span><span class="cp"></span>
<span class="cp">#define  PCI_ACS_RR		0x04	</span><span class="cm">/* P2P Request Redirect */</span><span class="cp"></span>
<span class="cp">#define  PCI_ACS_CR		0x08	</span><span class="cm">/* P2P Completion Redirect */</span><span class="cp"></span>
<span class="cp">#define  PCI_ACS_UF		0x10	</span><span class="cm">/* Upstream Forwarding */</span><span class="cp"></span>
<span class="cp">#define  PCI_ACS_EC		0x20	</span><span class="cm">/* P2P Egress Control */</span><span class="cp"></span>
<span class="cp">#define  PCI_ACS_DT		0x40	</span><span class="cm">/* Direct Translated P2P */</span><span class="cp"></span>
<span class="cp">#define PCI_ACS_CTRL		0x06	</span><span class="cm">/* ACS Control Register */</span><span class="cp"></span>
<span class="cp">#define PCI_ACS_EGRESS_CTL_V	0x08	</span><span class="cm">/* ACS Egress Control Vector */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* LINUX_PCI_REGS_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
