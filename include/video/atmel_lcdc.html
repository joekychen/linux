<!DOCTYPE html>
<html><head><title>joekychen/linux » include › video › atmel_lcdc.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>atmel_lcdc.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Header file for AT91/AT32 LCD Controller</span>
<span class="cm"> *</span>
<span class="cm"> *  Data structure and register user interface</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2007 Atmel Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __ATMEL_LCDC_H__</span>
<span class="cp">#define __ATMEL_LCDC_H__</span>

<span class="cp">#include &lt;linux/workqueue.h&gt;</span>

<span class="cm">/* Way LCD wires are connected to the chip:</span>
<span class="cm"> * Some Atmel chips use BGR color mode (instead of standard RGB)</span>
<span class="cm"> * A swapped wiring onboard can bring to RGB mode.</span>
<span class="cm"> */</span>
<span class="cp">#define ATMEL_LCDC_WIRING_BGR	0</span>
<span class="cp">#define ATMEL_LCDC_WIRING_RGB	1</span>
<span class="cp">#define ATMEL_LCDC_WIRING_RGB555	2</span>


 <span class="cm">/* LCD Controller info data structure, stored in device platform_data */</span>
<span class="k">struct</span> <span class="n">atmel_lcdfb_info</span> <span class="p">{</span>
	<span class="n">spinlock_t</span>		<span class="n">lock</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fb_info</span>		<span class="o">*</span><span class="n">info</span><span class="p">;</span>
	<span class="kt">void</span> <span class="n">__iomem</span>		<span class="o">*</span><span class="n">mmio</span><span class="p">;</span>
	<span class="kt">int</span>			<span class="n">irq_base</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">work_struct</span>	<span class="n">task</span><span class="p">;</span>

	<span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">guard_time</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> 		<span class="n">smem_len</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">platform_device</span>	<span class="o">*</span><span class="n">pdev</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">clk</span>		<span class="o">*</span><span class="n">bus_clk</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">clk</span>		<span class="o">*</span><span class="n">lcdc_clk</span><span class="p">;</span>

<span class="cp">#ifdef CONFIG_BACKLIGHT_ATMEL_LCDC</span>
	<span class="k">struct</span> <span class="n">backlight_device</span>	<span class="o">*</span><span class="n">backlight</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">bl_power</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">bool</span>			<span class="n">lcdcon_is_backlight</span><span class="p">;</span>
	<span class="n">bool</span>			<span class="n">lcdcon_pol_negative</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">saved_lcdcon</span><span class="p">;</span>

	<span class="n">u8</span>			<span class="n">default_bpp</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">lcd_wiring_mode</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">default_lcdcon2</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">default_dmacon</span><span class="p">;</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">atmel_lcdfb_power_control</span><span class="p">)(</span><span class="kt">int</span> <span class="n">on</span><span class="p">);</span>
	<span class="k">struct</span> <span class="n">fb_monspecs</span>	<span class="o">*</span><span class="n">default_monspecs</span><span class="p">;</span>
	<span class="n">u32</span>			<span class="n">pseudo_palette</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define ATMEL_LCDC_DMABADDR1	0x00</span>
<span class="cp">#define ATMEL_LCDC_DMABADDR2	0x04</span>
<span class="cp">#define ATMEL_LCDC_DMAFRMPT1	0x08</span>
<span class="cp">#define ATMEL_LCDC_DMAFRMPT2	0x0c</span>
<span class="cp">#define ATMEL_LCDC_DMAFRMADD1	0x10</span>
<span class="cp">#define ATMEL_LCDC_DMAFRMADD2	0x14</span>

<span class="cp">#define ATMEL_LCDC_DMAFRMCFG	0x18</span>
<span class="cp">#define	ATMEL_LCDC_FRSIZE	(0x7fffff &lt;&lt;  0)</span>
<span class="cp">#define	ATMEL_LCDC_BLENGTH_OFFSET	24</span>
<span class="cp">#define	ATMEL_LCDC_BLENGTH	(0x7f     &lt;&lt; ATMEL_LCDC_BLENGTH_OFFSET)</span>

<span class="cp">#define ATMEL_LCDC_DMACON	0x1c</span>
<span class="cp">#define	ATMEL_LCDC_DMAEN	(0x1 &lt;&lt; 0)</span>
<span class="cp">#define	ATMEL_LCDC_DMARST	(0x1 &lt;&lt; 1)</span>
<span class="cp">#define	ATMEL_LCDC_DMABUSY	(0x1 &lt;&lt; 2)</span>
<span class="cp">#define		ATMEL_LCDC_DMAUPDT	(0x1 &lt;&lt; 3)</span>
<span class="cp">#define		ATMEL_LCDC_DMA2DEN	(0x1 &lt;&lt; 4)</span>

<span class="cp">#define ATMEL_LCDC_DMA2DCFG	0x20</span>
<span class="cp">#define		ATMEL_LCDC_ADDRINC_OFFSET	0</span>
<span class="cp">#define		ATMEL_LCDC_ADDRINC		(0xffff)</span>
<span class="cp">#define		ATMEL_LCDC_PIXELOFF_OFFSET	24</span>
<span class="cp">#define		ATMEL_LCDC_PIXELOFF		(0x1f &lt;&lt; 24)</span>

<span class="cp">#define ATMEL_LCDC_LCDCON1	0x0800</span>
<span class="cp">#define	ATMEL_LCDC_BYPASS	(1     &lt;&lt;  0)</span>
<span class="cp">#define	ATMEL_LCDC_CLKVAL_OFFSET	12</span>
<span class="cp">#define	ATMEL_LCDC_CLKVAL	(0x1ff &lt;&lt; ATMEL_LCDC_CLKVAL_OFFSET)</span>
<span class="cp">#define	ATMEL_LCDC_LINCNT	(0x7ff &lt;&lt; 21)</span>

<span class="cp">#define ATMEL_LCDC_LCDCON2	0x0804</span>
<span class="cp">#define	ATMEL_LCDC_DISTYPE	(3 &lt;&lt; 0)</span>
<span class="cp">#define		ATMEL_LCDC_DISTYPE_STNMONO	(0 &lt;&lt; 0)</span>
<span class="cp">#define		ATMEL_LCDC_DISTYPE_STNCOLOR	(1 &lt;&lt; 0)</span>
<span class="cp">#define		ATMEL_LCDC_DISTYPE_TFT		(2 &lt;&lt; 0)</span>
<span class="cp">#define	ATMEL_LCDC_SCANMOD	(1 &lt;&lt; 2)</span>
<span class="cp">#define		ATMEL_LCDC_SCANMOD_SINGLE	(0 &lt;&lt; 2)</span>
<span class="cp">#define		ATMEL_LCDC_SCANMOD_DUAL		(1 &lt;&lt; 2)</span>
<span class="cp">#define	ATMEL_LCDC_IFWIDTH	(3 &lt;&lt; 3)</span>
<span class="cp">#define		ATMEL_LCDC_IFWIDTH_4		(0 &lt;&lt; 3)</span>
<span class="cp">#define		ATMEL_LCDC_IFWIDTH_8		(1 &lt;&lt; 3)</span>
<span class="cp">#define		ATMEL_LCDC_IFWIDTH_16		(2 &lt;&lt; 3)</span>
<span class="cp">#define	ATMEL_LCDC_PIXELSIZE	(7 &lt;&lt; 5)</span>
<span class="cp">#define		ATMEL_LCDC_PIXELSIZE_1		(0 &lt;&lt; 5)</span>
<span class="cp">#define		ATMEL_LCDC_PIXELSIZE_2		(1 &lt;&lt; 5)</span>
<span class="cp">#define		ATMEL_LCDC_PIXELSIZE_4		(2 &lt;&lt; 5)</span>
<span class="cp">#define		ATMEL_LCDC_PIXELSIZE_8		(3 &lt;&lt; 5)</span>
<span class="cp">#define		ATMEL_LCDC_PIXELSIZE_16		(4 &lt;&lt; 5)</span>
<span class="cp">#define		ATMEL_LCDC_PIXELSIZE_24		(5 &lt;&lt; 5)</span>
<span class="cp">#define		ATMEL_LCDC_PIXELSIZE_32		(6 &lt;&lt; 5)</span>
<span class="cp">#define	ATMEL_LCDC_INVVD	(1 &lt;&lt; 8)</span>
<span class="cp">#define		ATMEL_LCDC_INVVD_NORMAL		(0 &lt;&lt; 8)</span>
<span class="cp">#define		ATMEL_LCDC_INVVD_INVERTED	(1 &lt;&lt; 8)</span>
<span class="cp">#define	ATMEL_LCDC_INVFRAME	(1 &lt;&lt; 9 )</span>
<span class="cp">#define		ATMEL_LCDC_INVFRAME_NORMAL	(0 &lt;&lt; 9)</span>
<span class="cp">#define		ATMEL_LCDC_INVFRAME_INVERTED	(1 &lt;&lt; 9)</span>
<span class="cp">#define	ATMEL_LCDC_INVLINE	(1 &lt;&lt; 10)</span>
<span class="cp">#define		ATMEL_LCDC_INVLINE_NORMAL	(0 &lt;&lt; 10)</span>
<span class="cp">#define		ATMEL_LCDC_INVLINE_INVERTED	(1 &lt;&lt; 10)</span>
<span class="cp">#define	ATMEL_LCDC_INVCLK	(1 &lt;&lt; 11)</span>
<span class="cp">#define		ATMEL_LCDC_INVCLK_NORMAL	(0 &lt;&lt; 11)</span>
<span class="cp">#define		ATMEL_LCDC_INVCLK_INVERTED	(1 &lt;&lt; 11)</span>
<span class="cp">#define	ATMEL_LCDC_INVDVAL	(1 &lt;&lt; 12)</span>
<span class="cp">#define		ATMEL_LCDC_INVDVAL_NORMAL	(0 &lt;&lt; 12)</span>
<span class="cp">#define		ATMEL_LCDC_INVDVAL_INVERTED	(1 &lt;&lt; 12)</span>
<span class="cp">#define	ATMEL_LCDC_CLKMOD	(1 &lt;&lt; 15)</span>
<span class="cp">#define		ATMEL_LCDC_CLKMOD_ACTIVEDISPLAY	(0 &lt;&lt; 15)</span>
<span class="cp">#define		ATMEL_LCDC_CLKMOD_ALWAYSACTIVE	(1 &lt;&lt; 15)</span>
<span class="cp">#define	ATMEL_LCDC_MEMOR	(1 &lt;&lt; 31)</span>
<span class="cp">#define		ATMEL_LCDC_MEMOR_BIG		(0 &lt;&lt; 31)</span>
<span class="cp">#define		ATMEL_LCDC_MEMOR_LITTLE		(1 &lt;&lt; 31)</span>

<span class="cp">#define ATMEL_LCDC_TIM1		0x0808</span>
<span class="cp">#define	ATMEL_LCDC_VFP		(0xffU &lt;&lt;  0)</span>
<span class="cp">#define	ATMEL_LCDC_VBP_OFFSET		8</span>
<span class="cp">#define	ATMEL_LCDC_VBP		(0xffU &lt;&lt;  ATMEL_LCDC_VBP_OFFSET)</span>
<span class="cp">#define	ATMEL_LCDC_VPW_OFFSET		16</span>
<span class="cp">#define	ATMEL_LCDC_VPW		(0x3fU &lt;&lt; ATMEL_LCDC_VPW_OFFSET)</span>
<span class="cp">#define	ATMEL_LCDC_VHDLY_OFFSET		24</span>
<span class="cp">#define	ATMEL_LCDC_VHDLY	(0xfU  &lt;&lt; ATMEL_LCDC_VHDLY_OFFSET)</span>

<span class="cp">#define ATMEL_LCDC_TIM2		0x080c</span>
<span class="cp">#define	ATMEL_LCDC_HBP		(0xffU  &lt;&lt;  0)</span>
<span class="cp">#define	ATMEL_LCDC_HPW_OFFSET		8</span>
<span class="cp">#define	ATMEL_LCDC_HPW		(0x3fU  &lt;&lt;  ATMEL_LCDC_HPW_OFFSET)</span>
<span class="cp">#define	ATMEL_LCDC_HFP_OFFSET		21</span>
<span class="cp">#define	ATMEL_LCDC_HFP		(0x7ffU &lt;&lt; ATMEL_LCDC_HFP_OFFSET)</span>

<span class="cp">#define ATMEL_LCDC_LCDFRMCFG	0x0810</span>
<span class="cp">#define	ATMEL_LCDC_LINEVAL	(0x7ff &lt;&lt;  0)</span>
<span class="cp">#define	ATMEL_LCDC_HOZVAL_OFFSET	21</span>
<span class="cp">#define	ATMEL_LCDC_HOZVAL	(0x7ff &lt;&lt; ATMEL_LCDC_HOZVAL_OFFSET)</span>

<span class="cp">#define ATMEL_LCDC_FIFO		0x0814</span>
<span class="cp">#define	ATMEL_LCDC_FIFOTH	(0xffff)</span>

<span class="cp">#define ATMEL_LCDC_MVAL		0x0818</span>

<span class="cp">#define ATMEL_LCDC_DP1_2	0x081c</span>
<span class="cp">#define ATMEL_LCDC_DP4_7	0x0820</span>
<span class="cp">#define ATMEL_LCDC_DP3_5	0x0824</span>
<span class="cp">#define ATMEL_LCDC_DP2_3	0x0828</span>
<span class="cp">#define ATMEL_LCDC_DP5_7	0x082c</span>
<span class="cp">#define ATMEL_LCDC_DP3_4	0x0830</span>
<span class="cp">#define ATMEL_LCDC_DP4_5	0x0834</span>
<span class="cp">#define ATMEL_LCDC_DP6_7	0x0838</span>
<span class="cp">#define	ATMEL_LCDC_DP1_2_VAL	(0xff)</span>
<span class="cp">#define	ATMEL_LCDC_DP4_7_VAL	(0xfffffff)</span>
<span class="cp">#define	ATMEL_LCDC_DP3_5_VAL	(0xfffff)</span>
<span class="cp">#define	ATMEL_LCDC_DP2_3_VAL	(0xfff)</span>
<span class="cp">#define	ATMEL_LCDC_DP5_7_VAL	(0xfffffff)</span>
<span class="cp">#define	ATMEL_LCDC_DP3_4_VAL	(0xffff)</span>
<span class="cp">#define	ATMEL_LCDC_DP4_5_VAL	(0xfffff)</span>
<span class="cp">#define	ATMEL_LCDC_DP6_7_VAL	(0xfffffff)</span>

<span class="cp">#define ATMEL_LCDC_PWRCON	0x083c</span>
<span class="cp">#define	ATMEL_LCDC_PWR		(1    &lt;&lt;  0)</span>
<span class="cp">#define	ATMEL_LCDC_GUARDT_OFFSET	1</span>
<span class="cp">#define	ATMEL_LCDC_GUARDT	(0x7f &lt;&lt;  ATMEL_LCDC_GUARDT_OFFSET)</span>
<span class="cp">#define	ATMEL_LCDC_BUSY		(1    &lt;&lt; 31)</span>

<span class="cp">#define ATMEL_LCDC_CONTRAST_CTR	0x0840</span>
<span class="cp">#define	ATMEL_LCDC_PS		(3 &lt;&lt; 0)</span>
<span class="cp">#define		ATMEL_LCDC_PS_DIV1		(0 &lt;&lt; 0)</span>
<span class="cp">#define		ATMEL_LCDC_PS_DIV2		(1 &lt;&lt; 0)</span>
<span class="cp">#define		ATMEL_LCDC_PS_DIV4		(2 &lt;&lt; 0)</span>
<span class="cp">#define		ATMEL_LCDC_PS_DIV8		(3 &lt;&lt; 0)</span>
<span class="cp">#define	ATMEL_LCDC_POL		(1 &lt;&lt; 2)</span>
<span class="cp">#define		ATMEL_LCDC_POL_NEGATIVE		(0 &lt;&lt; 2)</span>
<span class="cp">#define		ATMEL_LCDC_POL_POSITIVE		(1 &lt;&lt; 2)</span>
<span class="cp">#define	ATMEL_LCDC_ENA		(1 &lt;&lt; 3)</span>
<span class="cp">#define		ATMEL_LCDC_ENA_PWMDISABLE	(0 &lt;&lt; 3)</span>
<span class="cp">#define		ATMEL_LCDC_ENA_PWMENABLE	(1 &lt;&lt; 3)</span>

<span class="cp">#define ATMEL_LCDC_CONTRAST_VAL	0x0844</span>
<span class="cp">#define	ATMEL_LCDC_CVAL	(0xff)</span>

<span class="cp">#define ATMEL_LCDC_IER		0x0848</span>
<span class="cp">#define ATMEL_LCDC_IDR		0x084c</span>
<span class="cp">#define ATMEL_LCDC_IMR		0x0850</span>
<span class="cp">#define ATMEL_LCDC_ISR		0x0854</span>
<span class="cp">#define ATMEL_LCDC_ICR		0x0858</span>
<span class="cp">#define	ATMEL_LCDC_LNI		(1 &lt;&lt; 0)</span>
<span class="cp">#define	ATMEL_LCDC_LSTLNI	(1 &lt;&lt; 1)</span>
<span class="cp">#define	ATMEL_LCDC_EOFI		(1 &lt;&lt; 2)</span>
<span class="cp">#define	ATMEL_LCDC_UFLWI	(1 &lt;&lt; 4)</span>
<span class="cp">#define	ATMEL_LCDC_OWRI		(1 &lt;&lt; 5)</span>
<span class="cp">#define	ATMEL_LCDC_MERI		(1 &lt;&lt; 6)</span>

<span class="cp">#define ATMEL_LCDC_LUT(n)	(0x0c00 + ((n)*4))</span>

<span class="cp">#endif </span><span class="cm">/* __ATMEL_LCDC_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
