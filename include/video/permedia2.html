<!DOCTYPE html>
<html><head><title>joekychen/linux » include › video › permedia2.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>permedia2.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Permedia2 framebuffer driver definitions.</span>
<span class="cm"> * Copyright (c) 1998-2000 Ilario Nardinocchi (nardinoc@CS.UniBO.IT)</span>
<span class="cm"> * --------------------------------------------------------------------------</span>
<span class="cm"> * $Id: pm2fb.h,v 1.26 2000/09/19 00:11:53 illo Exp $</span>
<span class="cm"> * --------------------------------------------------------------------------</span>
<span class="cm"> * This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm"> * License.  See the file COPYING in the main directory of this archive</span>
<span class="cm"> * for more details.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef PM2FB_H</span>
<span class="cp">#define PM2FB_H</span>

<span class="cp">#define PM2_REFERENCE_CLOCK	14318			</span><span class="cm">/* in KHz */</span><span class="cp"></span>
<span class="cp">#define PM2_MAX_PIXCLOCK	230000			</span><span class="cm">/* in KHz */</span><span class="cp"></span>
<span class="cp">#define PM2_REGS_SIZE		0x10000</span>

<span class="cp">#define PM2TAG(r) (u32 )(((r)-0x8000)&gt;&gt;3)</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> * Permedia2 registers used in the framebuffer</span>
<span class="cm"> *****************************************************************************/</span>
 
<span class="cp">#define PM2R_RESET_STATUS				0x0000</span>
<span class="cp">#define PM2R_IN_FIFO_SPACE				0x0018</span>
<span class="cp">#define PM2R_OUT_FIFO_WORDS				0x0020</span>
<span class="cp">#define PM2R_APERTURE_ONE				0x0050</span>
<span class="cp">#define PM2R_APERTURE_TWO				0x0058</span>
<span class="cp">#define PM2R_FIFO_DISCON				0x0068</span>
<span class="cp">#define PM2R_CHIP_CONFIG				0x0070</span>

<span class="cp">#define PM2R_REBOOT					0x1000</span>
<span class="cp">#define PM2R_MEM_CONTROL				0x1040</span>
<span class="cp">#define PM2R_BOOT_ADDRESS				0x1080</span>
<span class="cp">#define PM2R_MEM_CONFIG					0x10c0</span>
<span class="cp">#define PM2R_BYPASS_WRITE_MASK				0x1100</span>
<span class="cp">#define PM2R_FRAMEBUFFER_WRITE_MASK			0x1140</span>

<span class="cp">#define PM2R_OUT_FIFO					0x2000</span>

<span class="cp">#define PM2R_SCREEN_BASE				0x3000</span>
<span class="cp">#define PM2R_SCREEN_STRIDE				0x3008</span>
<span class="cp">#define PM2R_H_TOTAL					0x3010</span>
<span class="cp">#define PM2R_HG_END					0x3018</span>
<span class="cp">#define PM2R_HB_END					0x3020</span>
<span class="cp">#define PM2R_HS_START					0x3028</span>
<span class="cp">#define PM2R_HS_END					0x3030</span>
<span class="cp">#define PM2R_V_TOTAL					0x3038</span>
<span class="cp">#define PM2R_VB_END					0x3040</span>
<span class="cp">#define PM2R_VS_START					0x3048</span>
<span class="cp">#define PM2R_VS_END					0x3050</span>
<span class="cp">#define PM2R_VIDEO_CONTROL				0x3058</span>
<span class="cp">#define PM2R_LINE_COUNT					0x3070</span>
<span class="cp">#define PM2R_FIFO_CONTROL				0x3078</span>

<span class="cp">#define PM2R_RD_PALETTE_WRITE_ADDRESS			0x4000</span>
<span class="cp">#define PM2R_RD_PALETTE_DATA				0x4008</span>
<span class="cp">#define PM2R_RD_PIXEL_MASK				0x4010</span>
<span class="cp">#define PM2R_RD_PALETTE_READ_ADDRESS			0x4018</span>
<span class="cp">#define PM2R_RD_CURSOR_COLOR_ADDRESS		        0x4020</span>
<span class="cp">#define PM2R_RD_CURSOR_COLOR_DATA		        0x4028</span>
<span class="cp">#define PM2R_RD_INDEXED_DATA				0x4050</span>
<span class="cp">#define PM2R_RD_CURSOR_DATA				0x4058</span>
<span class="cp">#define PM2R_RD_CURSOR_X_LSB				0x4060</span>
<span class="cp">#define PM2R_RD_CURSOR_X_MSB				0x4068</span>
<span class="cp">#define PM2R_RD_CURSOR_Y_LSB				0x4070</span>
<span class="cp">#define PM2R_RD_CURSOR_Y_MSB				0x4078</span>

<span class="cp">#define PM2R_START_X_DOM				0x8000</span>
<span class="cp">#define PM2R_D_X_DOM					0x8008</span>
<span class="cp">#define PM2R_START_X_SUB				0x8010</span>
<span class="cp">#define PM2R_D_X_SUB					0x8018</span>
<span class="cp">#define PM2R_START_Y					0x8020</span>
<span class="cp">#define PM2R_D_Y					0x8028</span>
<span class="cp">#define PM2R_COUNT					0x8030</span>
<span class="cp">#define PM2R_RENDER					0x8038</span>
<span class="cp">#define PM2R_BIT_MASK_PATTERN				0x8068</span>
<span class="cp">#define PM2R_RASTERIZER_MODE				0x80a0</span>
<span class="cp">#define PM2R_RECTANGLE_ORIGIN				0x80d0</span>
<span class="cp">#define PM2R_RECTANGLE_SIZE				0x80d8</span>
<span class="cp">#define PM2R_PACKED_DATA_LIMITS				0x8150</span>
<span class="cp">#define PM2R_SCISSOR_MODE				0x8180</span>
<span class="cp">#define PM2R_SCISSOR_MIN_XY				0x8188</span>
<span class="cp">#define PM2R_SCISSOR_MAX_XY				0x8190</span>
<span class="cp">#define PM2R_SCREEN_SIZE				0x8198</span>
<span class="cp">#define PM2R_AREA_STIPPLE_MODE				0x81a0</span>
<span class="cp">#define PM2R_WINDOW_ORIGIN				0x81c8</span>
<span class="cp">#define PM2R_TEXTURE_ADDRESS_MODE			0x8380</span>
<span class="cp">#define PM2R_TEXTURE_MAP_FORMAT				0x8588</span>
<span class="cp">#define PM2R_TEXTURE_DATA_FORMAT			0x8590</span>
<span class="cp">#define PM2R_TEXTURE_READ_MODE				0x8670</span>
<span class="cp">#define PM2R_TEXEL_LUT_MODE				0x8678</span>
<span class="cp">#define PM2R_TEXTURE_COLOR_MODE				0x8680</span>
<span class="cp">#define PM2R_FOG_MODE					0x8690</span>
<span class="cp">#define PM2R_TEXEL0					0x8760</span>
<span class="cp">#define PM2R_COLOR_DDA_MODE				0x87e0</span>
<span class="cp">#define PM2R_CONSTANT_COLOR				0x87e8</span>
<span class="cp">#define PM2R_ALPHA_BLEND_MODE				0x8810</span>
<span class="cp">#define PM2R_DITHER_MODE				0x8818</span>
<span class="cp">#define PM2R_FB_SOFT_WRITE_MASK				0x8820</span>
<span class="cp">#define PM2R_LOGICAL_OP_MODE				0x8828</span>
<span class="cp">#define PM2R_LB_READ_MODE				0x8880</span>
<span class="cp">#define PM2R_LB_READ_FORMAT				0x8888</span>
<span class="cp">#define PM2R_LB_SOURCE_OFFSET				0x8890</span>
<span class="cp">#define PM2R_LB_WINDOW_BASE				0x88b8</span>
<span class="cp">#define PM2R_LB_WRITE_FORMAT				0x88c8</span>
<span class="cp">#define PM2R_STENCIL_MODE				0x8988</span>
<span class="cp">#define PM2R_DEPTH_MODE					0x89a0</span>
<span class="cp">#define PM2R_FB_READ_MODE				0x8a80</span>
<span class="cp">#define PM2R_FB_SOURCE_OFFSET				0x8a88</span>
<span class="cp">#define PM2R_FB_PIXEL_OFFSET				0x8a90</span>
<span class="cp">#define PM2R_FB_WINDOW_BASE				0x8ab0</span>
<span class="cp">#define PM2R_FB_WRITE_MODE				0x8ab8</span>
<span class="cp">#define PM2R_FB_HARD_WRITE_MASK				0x8ac0</span>
<span class="cp">#define PM2R_FB_BLOCK_COLOR				0x8ac8</span>
<span class="cp">#define PM2R_FB_READ_PIXEL				0x8ad0</span>
<span class="cp">#define PM2R_FILTER_MODE				0x8c00</span>
<span class="cp">#define PM2R_SYNC					0x8c40</span>
<span class="cp">#define PM2R_YUV_MODE					0x8f00</span>
<span class="cp">#define PM2R_STATISTICS_MODE				0x8c08</span>
<span class="cp">#define PM2R_FB_SOURCE_DELTA				0x8d88</span>
<span class="cp">#define PM2R_CONFIG					0x8d90</span>
<span class="cp">#define PM2R_DELTA_MODE					0x9300</span>

<span class="cm">/* Permedia2v */</span>
<span class="cp">#define PM2VR_RD_INDEX_LOW				0x4020</span>
<span class="cp">#define PM2VR_RD_INDEX_HIGH				0x4028</span>
<span class="cp">#define PM2VR_RD_INDEXED_DATA				0x4030</span>

<span class="cm">/* Permedia2 RAMDAC indexed registers */</span>
<span class="cp">#define PM2I_RD_CURSOR_CONTROL				0x06</span>
<span class="cp">#define PM2I_RD_COLOR_MODE				0x18</span>
<span class="cp">#define PM2I_RD_MODE_CONTROL				0x19</span>
<span class="cp">#define PM2I_RD_MISC_CONTROL				0x1e</span>
<span class="cp">#define PM2I_RD_PIXEL_CLOCK_A1				0x20</span>
<span class="cp">#define PM2I_RD_PIXEL_CLOCK_A2				0x21</span>
<span class="cp">#define PM2I_RD_PIXEL_CLOCK_A3				0x22</span>
<span class="cp">#define PM2I_RD_PIXEL_CLOCK_STATUS			0x29</span>
<span class="cp">#define PM2I_RD_MEMORY_CLOCK_1				0x30</span>
<span class="cp">#define PM2I_RD_MEMORY_CLOCK_2				0x31</span>
<span class="cp">#define PM2I_RD_MEMORY_CLOCK_3				0x32</span>
<span class="cp">#define PM2I_RD_MEMORY_CLOCK_STATUS			0x33</span>
<span class="cp">#define PM2I_RD_COLOR_KEY_CONTROL			0x40</span>
<span class="cp">#define PM2I_RD_OVERLAY_KEY				0x41</span>
<span class="cp">#define PM2I_RD_RED_KEY					0x42</span>
<span class="cp">#define PM2I_RD_GREEN_KEY				0x43</span>
<span class="cp">#define PM2I_RD_BLUE_KEY				0x44</span>

<span class="cm">/* Permedia2v extensions */</span>
<span class="cp">#define PM2VI_RD_MISC_CONTROL				0x000</span>
<span class="cp">#define PM2VI_RD_SYNC_CONTROL				0x001</span>
<span class="cp">#define PM2VI_RD_DAC_CONTROL				0x002</span>
<span class="cp">#define PM2VI_RD_PIXEL_SIZE				0x003</span>
<span class="cp">#define PM2VI_RD_COLOR_FORMAT				0x004</span>
<span class="cp">#define PM2VI_RD_CURSOR_MODE				0x005</span>
<span class="cp">#define PM2VI_RD_CURSOR_X_LOW				0x007</span>
<span class="cp">#define PM2VI_RD_CURSOR_X_HIGH				0x008</span>
<span class="cp">#define PM2VI_RD_CURSOR_Y_LOW				0x009</span>
<span class="cp">#define PM2VI_RD_CURSOR_Y_HIGH				0x00A</span>
<span class="cp">#define PM2VI_RD_CURSOR_X_HOT				0x00B</span>
<span class="cp">#define PM2VI_RD_CURSOR_Y_HOT				0x00C</span>
<span class="cp">#define PM2VI_RD_OVERLAY_KEY				0x00D</span>
<span class="cp">#define PM2VI_RD_CLK0_PRESCALE				0x201</span>
<span class="cp">#define PM2VI_RD_CLK0_FEEDBACK				0x202</span>
<span class="cp">#define PM2VI_RD_CLK0_POSTSCALE				0x203</span>
<span class="cp">#define PM2VI_RD_CLK1_PRESCALE				0x204</span>
<span class="cp">#define PM2VI_RD_CLK1_FEEDBACK				0x205</span>
<span class="cp">#define PM2VI_RD_CLK1_POSTSCALE				0x206</span>
<span class="cp">#define PM2VI_RD_MCLK_CONTROL				0x20D</span>
<span class="cp">#define PM2VI_RD_MCLK_PRESCALE				0x20E</span>
<span class="cp">#define PM2VI_RD_MCLK_FEEDBACK				0x20F</span>
<span class="cp">#define PM2VI_RD_MCLK_POSTSCALE				0x210</span>
<span class="cp">#define PM2VI_RD_CURSOR_PALETTE				0x303</span>
<span class="cp">#define PM2VI_RD_CURSOR_PATTERN				0x400</span>

<span class="cm">/* Fields and flags */</span>
<span class="cp">#define PM2F_RENDER_AREASTIPPLE				(1L&lt;&lt;0)</span>
<span class="cp">#define PM2F_RENDER_FASTFILL				(1L&lt;&lt;3)</span>
<span class="cp">#define PM2F_RENDER_PRIMITIVE_MASK			(3L&lt;&lt;6)</span>
<span class="cp">#define PM2F_RENDER_LINE				0</span>
<span class="cp">#define PM2F_RENDER_TRAPEZOID				(1L&lt;&lt;6)</span>
<span class="cp">#define PM2F_RENDER_POINT				(2L&lt;&lt;6)</span>
<span class="cp">#define PM2F_RENDER_RECTANGLE				(3L&lt;&lt;6)</span>
<span class="cp">#define PM2F_RENDER_SYNC_ON_BIT_MASK			(1L&lt;&lt;11)</span>
<span class="cp">#define PM2F_RENDER_TEXTURE_ENABLE			(1L&lt;&lt;13)</span>
<span class="cp">#define PM2F_SYNCHRONIZATION				(1L&lt;&lt;10)</span>
<span class="cp">#define PM2F_PLL_LOCKED					0x10</span>
<span class="cp">#define PM2F_BEING_RESET				(1L&lt;&lt;31)</span>
<span class="cp">#define PM2F_DATATYPE_COLOR				0x8000</span>
<span class="cp">#define PM2F_VGA_ENABLE					0x02</span>
<span class="cp">#define PM2F_VGA_FIXED					0x04</span>
<span class="cp">#define PM2F_FB_WRITE_ENABLE				0x01</span>
<span class="cp">#define PM2F_FB_READ_SOURCE_ENABLE			0x0200</span>
<span class="cp">#define PM2F_RD_PALETTE_WIDTH_8				0x02</span>
<span class="cp">#define PM2F_PART_PROD_MASK				0x01ff</span>
<span class="cp">#define PM2F_SCREEN_SCISSOR_ENABLE			0x02</span>
<span class="cp">#define PM2F_DATA_64_ENABLE				0x00010000</span>
<span class="cp">#define PM2F_BLANK_LOW					0x02</span>
<span class="cp">#define PM2F_HSYNC_MASK					0x18</span>
<span class="cp">#define PM2F_VSYNC_MASK					0x60</span>
<span class="cp">#define PM2F_HSYNC_ACT_HIGH				0x08</span>
<span class="cp">#define PM2F_HSYNC_FORCED_LOW				0x10</span>
<span class="cp">#define PM2F_HSYNC_ACT_LOW				0x18</span>
<span class="cp">#define PM2F_VSYNC_ACT_HIGH				0x20</span>
<span class="cp">#define PM2F_VSYNC_FORCED_LOW				0x40</span>
<span class="cp">#define PM2F_VSYNC_ACT_LOW				0x60</span>
<span class="cp">#define PM2F_LINE_DOUBLE				0x04</span>
<span class="cp">#define PM2F_VIDEO_ENABLE				0x01</span>
<span class="cp">#define PM2F_RD_PIXELFORMAT_SVGA			0x01</span>
<span class="cp">#define PM2F_RD_PIXELFORMAT_RGB232OFFSET		0x02</span>
<span class="cp">#define PM2F_RD_PIXELFORMAT_RGBA2321			0x03</span>
<span class="cp">#define PM2F_RD_PIXELFORMAT_RGBA5551			0x04</span>
<span class="cp">#define PM2F_RD_PIXELFORMAT_RGBA4444			0x05</span>
<span class="cp">#define PM2F_RD_PIXELFORMAT_RGB565			0x06</span>
<span class="cp">#define PM2F_RD_PIXELFORMAT_RGBA8888			0x08</span>
<span class="cp">#define PM2F_RD_PIXELFORMAT_RGB888			0x09</span>
<span class="cp">#define PM2F_RD_GUI_ACTIVE				0x10</span>
<span class="cp">#define PM2F_RD_COLOR_MODE_RGB				0x20</span>
<span class="cp">#define PM2F_DELTA_ORDER_RGB				(1L&lt;&lt;18)</span>
<span class="cp">#define PM2F_RD_TRUECOLOR				0x80</span>
<span class="cp">#define PM2F_NO_ALPHA_BUFFER				0x10</span>
<span class="cp">#define PM2F_TEXTEL_SIZE_16				0x00080000</span>
<span class="cp">#define PM2F_TEXTEL_SIZE_32				0x00100000</span>
<span class="cp">#define PM2F_TEXTEL_SIZE_4				0x00180000</span>
<span class="cp">#define PM2F_TEXTEL_SIZE_24				0x00200000</span>
<span class="cp">#define PM2F_INCREASE_X					(1L&lt;&lt;21)</span>
<span class="cp">#define PM2F_INCREASE_Y					(1L&lt;&lt;22)</span>
<span class="cp">#define PM2F_CONFIG_FB_WRITE_ENABLE			(1L&lt;&lt;3)</span>
<span class="cp">#define PM2F_CONFIG_FB_PACKED_DATA			(1L&lt;&lt;2)</span>
<span class="cp">#define PM2F_CONFIG_FB_READ_DEST_ENABLE			(1L&lt;&lt;1)</span>
<span class="cp">#define PM2F_CONFIG_FB_READ_SOURCE_ENABLE		(1L&lt;&lt;0)</span>
<span class="cp">#define PM2F_COLOR_KEY_TEST_OFF				(1L&lt;&lt;4)</span>
<span class="cp">#define PM2F_MEM_CONFIG_RAM_MASK			(3L&lt;&lt;29)</span>
<span class="cp">#define PM2F_MEM_BANKS_1				0L</span>
<span class="cp">#define PM2F_MEM_BANKS_2				(1L&lt;&lt;29)</span>
<span class="cp">#define PM2F_MEM_BANKS_3				(2L&lt;&lt;29)</span>
<span class="cp">#define PM2F_MEM_BANKS_4				(3L&lt;&lt;29)</span>
<span class="cp">#define PM2F_APERTURE_STANDARD				0</span>
<span class="cp">#define PM2F_APERTURE_BYTESWAP				1</span>
<span class="cp">#define PM2F_APERTURE_HALFWORDSWAP			2</span>
<span class="cp">#define PM2F_CURSORMODE_CURSOR_ENABLE			(1 &lt;&lt; 0)</span>
<span class="cp">#define PM2F_CURSORMODE_TYPE_X				(1 &lt;&lt; 4)</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">PM2_TYPE_PERMEDIA2</span><span class="p">,</span>
	<span class="n">PM2_TYPE_PERMEDIA2V</span>
<span class="p">}</span> <span class="n">pm2type_t</span><span class="p">;</span>

<span class="cp">#endif </span><span class="cm">/* PM2FB_H */</span><span class="cp"></span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> * That&#39;s all folks!</span>
<span class="cm"> *****************************************************************************/</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
