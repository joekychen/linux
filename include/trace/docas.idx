d | events |  | 40 items |  | Paul E. McKenney | paul.mckenney@linaro.org | 1339040607 |  | rcu: Update RCU_FAST_NO_HZ tracing for lazy callbacks  In the current code, a short dyntick-idle interval (where there is at least one non-lazy callback on the CPU) and a long dyntick-idle interval (where there are only lazy callbacks on the CPU) are traced identically, which can be less than helpful.  This commit therefore emits different event traces in these two cases.  Signed-off-by: Paul E. McKenney <paul.mckenney@linaro.org> Signed-off-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com> Tested-by: Heiko Carstens <heiko.carstens@de.ibm.com> Tested-by: Pascal Chapperon <pascal.chapperon@wanadoo.fr>
f | ftrace.h | s | 21K | 680 | Andrew Vagin | avagin@openvz.org | 1317719274 |  | perf: Fix counter of ftrace events  Each event adds some points to its counters. By default it adds 1, and a number of points may be transmited in event's parameters.  E.g. sched:sched_stat_runtime adds how long process has been running.  But this functionality was broken by v2.6.31-rc5-392-gf413cdb and now the event's parameters doesn't affect on a number of points.  TP_perf_assign isn't defined, so __perf_count(c) isn't executed and __count is always equal to 1.  Signed-off-by: Andrew Vagin <avagin@openvz.org> Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Link: http://lkml.kernel.org/r/1317052535-1765247-2-git-send-email-avagin@openvz.org Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | define_trace.h | s | 3.0K | 90 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103955 |  | Revert "tracing: Include module.h in define_trace.h"  This reverts commit 3a9f987b3141f086de27832514aad9f50a53f754.  With all the files that are real modules now having module.h explicitly called out for inclusion, and no reliance on any implicit presence of module.h assumed, we should no longer need this workaround.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | syscall.h | s | 1.8K | 48 | Li Zefan | lizf@cn.fujitsu.com | 1277759564 |  | tracing: Use a global field list for all syscall exit events  All syscall exit events have the same fields.  The kernel size drops 2.5K:     text    data     bss     dec     hex filename 7018612 2034376 7251132 16304120         f8c7f8 vmlinux.o.orig 7018612 2031888 7251132 16301632         f8be40 vmlinux.o  Signed-off-by: Li Zefan <lizf@cn.fujitsu.com> LKML-Reference: <4BFA3746.8070100@cn.fujitsu.com> Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
