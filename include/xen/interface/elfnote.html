<!DOCTYPE html>
<html><head><title>joekychen/linux » include › xen › interface › elfnote.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>elfnote.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> * elfnote.h</span>
<span class="cm"> *</span>
<span class="cm"> * Definitions used for the Xen ELF notes.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2006, Ian Campbell, XenSource Ltd.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __XEN_PUBLIC_ELFNOTE_H__</span>
<span class="cp">#define __XEN_PUBLIC_ELFNOTE_H__</span>

<span class="cm">/*</span>
<span class="cm"> * The notes should live in a SHT_NOTE segment and have &quot;Xen&quot; in the</span>
<span class="cm"> * name field.</span>
<span class="cm"> *</span>
<span class="cm"> * Numeric types are either 4 or 8 bytes depending on the content of</span>
<span class="cm"> * the desc field.</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY indicated the fields in the legacy __xen_guest string which</span>
<span class="cm"> * this a note type replaces.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * NAME=VALUE pair (string).</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: FEATURES and PAE</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_INFO           0</span>

<span class="cm">/*</span>
<span class="cm"> * The virtual address of the entry point (numeric).</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: VIRT_ENTRY</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_ENTRY          1</span>

<span class="cm">/* The virtual address of the hypercall transfer page (numeric).</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: HYPERCALL_PAGE. (n.b. legacy value is a physical page</span>
<span class="cm"> * number not a virtual address)</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_HYPERCALL_PAGE 2</span>

<span class="cm">/* The virtual address where the kernel image should be mapped (numeric).</span>
<span class="cm"> *</span>
<span class="cm"> * Defaults to 0.</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: VIRT_BASE</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_VIRT_BASE      3</span>

<span class="cm">/*</span>
<span class="cm"> * The offset of the ELF paddr field from the acutal required</span>
<span class="cm"> * pseudo-physical address (numeric).</span>
<span class="cm"> *</span>
<span class="cm"> * This is used to maintain backwards compatibility with older kernels</span>
<span class="cm"> * which wrote __PAGE_OFFSET into that field. This field defaults to 0</span>
<span class="cm"> * if not present.</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: ELF_PADDR_OFFSET. (n.b. legacy default is VIRT_BASE)</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_PADDR_OFFSET   4</span>

<span class="cm">/*</span>
<span class="cm"> * The version of Xen that we work with (string).</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: XEN_VER</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_XEN_VERSION    5</span>

<span class="cm">/*</span>
<span class="cm"> * The name of the guest operating system (string).</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: GUEST_OS</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_GUEST_OS       6</span>

<span class="cm">/*</span>
<span class="cm"> * The version of the guest operating system (string).</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: GUEST_VER</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_GUEST_VERSION  7</span>

<span class="cm">/*</span>
<span class="cm"> * The loader type (string).</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: LOADER</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_LOADER         8</span>

<span class="cm">/*</span>
<span class="cm"> * The kernel supports PAE (x86/32 only, string = &quot;yes&quot; or &quot;no&quot;).</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: PAE (n.b. The legacy interface included a provision to</span>
<span class="cm"> * indicate &#39;extended-cr3&#39; support allowing L3 page tables to be</span>
<span class="cm"> * placed above 4G. It is assumed that any kernel new enough to use</span>
<span class="cm"> * these ELF notes will include this and therefore &quot;yes&quot; here is</span>
<span class="cm"> * equivalent to &quot;yes[entended-cr3]&quot; in the __xen_guest interface.</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_PAE_MODE       9</span>

<span class="cm">/*</span>
<span class="cm"> * The features supported/required by this kernel (string).</span>
<span class="cm"> *</span>
<span class="cm"> * The string must consist of a list of feature names (as given in</span>
<span class="cm"> * features.h, without the &quot;XENFEAT_&quot; prefix) separated by &#39;|&#39;</span>
<span class="cm"> * characters. If a feature is required for the kernel to function</span>
<span class="cm"> * then the feature name must be preceded by a &#39;!&#39; character.</span>
<span class="cm"> *</span>
<span class="cm"> * LEGACY: FEATURES</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_FEATURES      10</span>

<span class="cm">/*</span>
<span class="cm"> * The kernel requires the symbol table to be loaded (string = &quot;yes&quot; or &quot;no&quot;)</span>
<span class="cm"> * LEGACY: BSD_SYMTAB (n.b. The legacy treated the presence or absence</span>
<span class="cm"> * of this string as a boolean flag rather than requiring &quot;yes&quot; or</span>
<span class="cm"> * &quot;no&quot;.</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_BSD_SYMTAB    11</span>

<span class="cm">/*</span>
<span class="cm"> * The lowest address the hypervisor hole can begin at (numeric).</span>
<span class="cm"> *</span>
<span class="cm"> * This must not be set higher than HYPERVISOR_VIRT_START. Its presence</span>
<span class="cm"> * also indicates to the hypervisor that the kernel can deal with the</span>
<span class="cm"> * hole starting at a higher address.</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_HV_START_LOW  12</span>

<span class="cm">/*</span>
<span class="cm"> * List of maddr_t-sized mask/value pairs describing how to recognize</span>
<span class="cm"> * (non-present) L1 page table entries carrying valid MFNs (numeric).</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_L1_MFN_VALID  13</span>

<span class="cm">/*</span>
<span class="cm"> * Whether or not the guest supports cooperative suspend cancellation.</span>
<span class="cm"> */</span>
<span class="cp">#define XEN_ELFNOTE_SUSPEND_CANCEL 14</span>

<span class="cp">#endif </span><span class="cm">/* __XEN_PUBLIC_ELFNOTE_H__ */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Local variables:</span>
<span class="cm"> * mode: C</span>
<span class="cm"> * c-set-style: &quot;BSD&quot;</span>
<span class="cm"> * c-basic-offset: 4</span>
<span class="cm"> * tab-width: 4</span>
<span class="cm"> * indent-tabs-mode: nil</span>
<span class="cm"> * End:</span>
<span class="cm"> */</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
