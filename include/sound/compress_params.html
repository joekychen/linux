<!DOCTYPE html>
<html><head><title>joekychen/linux » include › sound › compress_params.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>compress_params.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  compress_params.h - codec types and parameters for compressed data</span>
<span class="cm"> *  streaming interface</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2011 Intel Corporation</span>
<span class="cm"> *  Authors:	Pierre-Louis Bossart &lt;pierre-louis.bossart@linux.intel.com&gt;</span>
<span class="cm"> *              Vinod Koul &lt;vinod.koul@linux.intel.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> *  it under the terms of the GNU General Public License as published by</span>
<span class="cm"> *  the Free Software Foundation; version 2 of the License.</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> *  WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> *  General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> *  You should have received a copy of the GNU General Public License along</span>
<span class="cm"> *  with this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> *  59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.</span>
<span class="cm"> *</span>
<span class="cm"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm"> *</span>
<span class="cm"> * The definitions in this file are derived from the OpenMAX AL version 1.1</span>
<span class="cm"> * and OpenMAX IL v 1.1.2 header files which contain the copyright notice below.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2007-2010 The Khronos Group Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining</span>
<span class="cm"> * a copy of this software and/or associated documentation files (the</span>
<span class="cm"> * &quot;Materials &quot;), to deal in the Materials without restriction, including</span>
<span class="cm"> * without limitation the rights to use, copy, modify, merge, publish,</span>
<span class="cm"> * distribute, sublicense, and/or sell copies of the Materials, and to</span>
<span class="cm"> * permit persons to whom the Materials are furnished to do so, subject to</span>
<span class="cm"> * the following conditions:</span>
<span class="cm"> *</span>
<span class="cm"> * The above copyright notice and this permission notice shall be included</span>
<span class="cm"> * in all copies or substantial portions of the Materials.</span>
<span class="cm"> *</span>
<span class="cm"> * THE MATERIALS ARE PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS</span>
<span class="cm"> * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.</span>
<span class="cm"> * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY</span>
<span class="cm"> * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,</span>
<span class="cm"> * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE</span>
<span class="cm"> * MATERIALS OR THE USE OR OTHER DEALINGS IN THE MATERIALS.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __SND_COMPRESS_PARAMS_H</span>
<span class="cp">#define __SND_COMPRESS_PARAMS_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/* AUDIO CODECS SUPPORTED */</span>
<span class="cp">#define MAX_NUM_CODECS 32</span>
<span class="cp">#define MAX_NUM_CODEC_DESCRIPTORS 32</span>
<span class="cp">#define MAX_NUM_BITRATES 32</span>

<span class="cm">/* Codecs are listed linearly to allow for extensibility */</span>
<span class="cp">#define SND_AUDIOCODEC_PCM                   ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOCODEC_MP3                   ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOCODEC_AMR                   ((__u32) 0x00000003)</span>
<span class="cp">#define SND_AUDIOCODEC_AMRWB                 ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOCODEC_AMRWBPLUS             ((__u32) 0x00000005)</span>
<span class="cp">#define SND_AUDIOCODEC_AAC                   ((__u32) 0x00000006)</span>
<span class="cp">#define SND_AUDIOCODEC_WMA                   ((__u32) 0x00000007)</span>
<span class="cp">#define SND_AUDIOCODEC_REAL                  ((__u32) 0x00000008)</span>
<span class="cp">#define SND_AUDIOCODEC_VORBIS                ((__u32) 0x00000009)</span>
<span class="cp">#define SND_AUDIOCODEC_FLAC                  ((__u32) 0x0000000A)</span>
<span class="cp">#define SND_AUDIOCODEC_IEC61937              ((__u32) 0x0000000B)</span>
<span class="cp">#define SND_AUDIOCODEC_G723_1                ((__u32) 0x0000000C)</span>
<span class="cp">#define SND_AUDIOCODEC_G729                  ((__u32) 0x0000000D)</span>

<span class="cm">/*</span>
<span class="cm"> * Profile and modes are listed with bit masks. This allows for a</span>
<span class="cm"> * more compact representation of fields that will not evolve</span>
<span class="cm"> * (in contrast to the list of codecs)</span>
<span class="cm"> */</span>

<span class="cp">#define SND_AUDIOPROFILE_PCM                 ((__u32) 0x00000001)</span>

<span class="cm">/* MP3 modes are only useful for encoders */</span>
<span class="cp">#define SND_AUDIOCHANMODE_MP3_MONO           ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOCHANMODE_MP3_STEREO         ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOCHANMODE_MP3_JOINTSTEREO    ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOCHANMODE_MP3_DUAL           ((__u32) 0x00000008)</span>

<span class="cp">#define SND_AUDIOPROFILE_AMR                 ((__u32) 0x00000001)</span>

<span class="cm">/* AMR modes are only useful for encoders */</span>
<span class="cp">#define SND_AUDIOMODE_AMR_DTX_OFF            ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_AMR_VAD1               ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOMODE_AMR_VAD2               ((__u32) 0x00000004)</span>

<span class="cp">#define SND_AUDIOSTREAMFORMAT_UNDEFINED	     ((__u32) 0x00000000)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_CONFORMANCE    ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_IF1            ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_IF2            ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_FSF            ((__u32) 0x00000008)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_RTPPAYLOAD     ((__u32) 0x00000010)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_ITU            ((__u32) 0x00000020)</span>

<span class="cp">#define SND_AUDIOPROFILE_AMRWB               ((__u32) 0x00000001)</span>

<span class="cm">/* AMRWB modes are only useful for encoders */</span>
<span class="cp">#define SND_AUDIOMODE_AMRWB_DTX_OFF          ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_AMRWB_VAD1             ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOMODE_AMRWB_VAD2             ((__u32) 0x00000004)</span>

<span class="cp">#define SND_AUDIOPROFILE_AMRWBPLUS           ((__u32) 0x00000001)</span>

<span class="cp">#define SND_AUDIOPROFILE_AAC                 ((__u32) 0x00000001)</span>

<span class="cm">/* AAC modes are required for encoders and decoders */</span>
<span class="cp">#define SND_AUDIOMODE_AAC_MAIN               ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_LC                 ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_SSR                ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_LTP                ((__u32) 0x00000008)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_HE                 ((__u32) 0x00000010)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_SCALABLE           ((__u32) 0x00000020)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_ERLC               ((__u32) 0x00000040)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_LD                 ((__u32) 0x00000080)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_HE_PS              ((__u32) 0x00000100)</span>
<span class="cp">#define SND_AUDIOMODE_AAC_HE_MPS             ((__u32) 0x00000200)</span>

<span class="cm">/* AAC formats are required for encoders and decoders */</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_MP2ADTS        ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_MP4ADTS        ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_MP4LOAS        ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_MP4LATM        ((__u32) 0x00000008)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_ADIF           ((__u32) 0x00000010)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_MP4FF          ((__u32) 0x00000020)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_RAW            ((__u32) 0x00000040)</span>

<span class="cp">#define SND_AUDIOPROFILE_WMA7                ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOPROFILE_WMA8                ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOPROFILE_WMA9                ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOPROFILE_WMA10               ((__u32) 0x00000008)</span>

<span class="cp">#define SND_AUDIOMODE_WMA_LEVEL1             ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_WMA_LEVEL2             ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOMODE_WMA_LEVEL3             ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOMODE_WMA_LEVEL4             ((__u32) 0x00000008)</span>
<span class="cp">#define SND_AUDIOMODE_WMAPRO_LEVELM0         ((__u32) 0x00000010)</span>
<span class="cp">#define SND_AUDIOMODE_WMAPRO_LEVELM1         ((__u32) 0x00000020)</span>
<span class="cp">#define SND_AUDIOMODE_WMAPRO_LEVELM2         ((__u32) 0x00000040)</span>
<span class="cp">#define SND_AUDIOMODE_WMAPRO_LEVELM3         ((__u32) 0x00000080)</span>

<span class="cp">#define SND_AUDIOSTREAMFORMAT_WMA_ASF        ((__u32) 0x00000001)</span>
<span class="cm">/*</span>
<span class="cm"> * Some implementations strip the ASF header and only send ASF packets</span>
<span class="cm"> * to the DSP</span>
<span class="cm"> */</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_WMA_NOASF_HDR  ((__u32) 0x00000002)</span>

<span class="cp">#define SND_AUDIOPROFILE_REALAUDIO           ((__u32) 0x00000001)</span>

<span class="cp">#define SND_AUDIOMODE_REALAUDIO_G2           ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_REALAUDIO_8            ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOMODE_REALAUDIO_10           ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOMODE_REALAUDIO_SURROUND     ((__u32) 0x00000008)</span>

<span class="cp">#define SND_AUDIOPROFILE_VORBIS              ((__u32) 0x00000001)</span>

<span class="cp">#define SND_AUDIOMODE_VORBIS                 ((__u32) 0x00000001)</span>

<span class="cp">#define SND_AUDIOPROFILE_FLAC                ((__u32) 0x00000001)</span>

<span class="cm">/*</span>
<span class="cm"> * Define quality levels for FLAC encoders, from LEVEL0 (fast)</span>
<span class="cm"> * to LEVEL8 (best)</span>
<span class="cm"> */</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL0            ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL1            ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL2            ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL3            ((__u32) 0x00000008)</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL4            ((__u32) 0x00000010)</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL5            ((__u32) 0x00000020)</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL6            ((__u32) 0x00000040)</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL7            ((__u32) 0x00000080)</span>
<span class="cp">#define SND_AUDIOMODE_FLAC_LEVEL8            ((__u32) 0x00000100)</span>

<span class="cp">#define SND_AUDIOSTREAMFORMAT_FLAC           ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOSTREAMFORMAT_FLAC_OGG       ((__u32) 0x00000002)</span>

<span class="cm">/* IEC61937 payloads without CUVP and preambles */</span>
<span class="cp">#define SND_AUDIOPROFILE_IEC61937            ((__u32) 0x00000001)</span>
<span class="cm">/* IEC61937 with S/PDIF preambles+CUVP bits in 32-bit containers */</span>
<span class="cp">#define SND_AUDIOPROFILE_IEC61937_SPDIF      ((__u32) 0x00000002)</span>

<span class="cm">/*</span>
<span class="cm"> * IEC modes are mandatory for decoders. Format autodetection</span>
<span class="cm"> * will only happen on the DSP side with mode 0. The PCM mode should</span>
<span class="cm"> * not be used, the PCM codec should be used instead.</span>
<span class="cm"> */</span>
<span class="cp">#define SND_AUDIOMODE_IEC_REF_STREAM_HEADER  ((__u32) 0x00000000)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_LPCM		     ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_AC3		     ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_MPEG1		     ((__u32) 0x00000004)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_MP3		     ((__u32) 0x00000008)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_MPEG2		     ((__u32) 0x00000010)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_AACLC		     ((__u32) 0x00000020)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_DTS		     ((__u32) 0x00000040)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_ATRAC		     ((__u32) 0x00000080)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_SACD		     ((__u32) 0x00000100)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_EAC3		     ((__u32) 0x00000200)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_DTS_HD	     ((__u32) 0x00000400)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_MLP		     ((__u32) 0x00000800)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_DST		     ((__u32) 0x00001000)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_WMAPRO	     ((__u32) 0x00002000)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_REF_CXT            ((__u32) 0x00004000)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_HE_AAC	     ((__u32) 0x00008000)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_HE_AAC2	     ((__u32) 0x00010000)</span>
<span class="cp">#define SND_AUDIOMODE_IEC_MPEG_SURROUND	     ((__u32) 0x00020000)</span>

<span class="cp">#define SND_AUDIOPROFILE_G723_1              ((__u32) 0x00000001)</span>

<span class="cp">#define SND_AUDIOMODE_G723_1_ANNEX_A         ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_G723_1_ANNEX_B         ((__u32) 0x00000002)</span>
<span class="cp">#define SND_AUDIOMODE_G723_1_ANNEX_C         ((__u32) 0x00000004)</span>

<span class="cp">#define SND_AUDIOPROFILE_G729                ((__u32) 0x00000001)</span>

<span class="cp">#define SND_AUDIOMODE_G729_ANNEX_A           ((__u32) 0x00000001)</span>
<span class="cp">#define SND_AUDIOMODE_G729_ANNEX_B           ((__u32) 0x00000002)</span>

<span class="cm">/* &lt;FIXME: multichannel encoders aren&#39;t supported for now. Would need</span>
<span class="cm">   an additional definition of channel arrangement&gt; */</span>

<span class="cm">/* VBR/CBR definitions */</span>
<span class="cp">#define SND_RATECONTROLMODE_CONSTANTBITRATE  ((__u32) 0x00000001)</span>
<span class="cp">#define SND_RATECONTROLMODE_VARIABLEBITRATE  ((__u32) 0x00000002)</span>

<span class="cm">/* Encoder options */</span>

<span class="k">struct</span> <span class="n">snd_enc_wma</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">super_block_align</span><span class="p">;</span> <span class="cm">/* WMA Type-specific data */</span>
<span class="p">};</span>


<span class="cm">/**</span>
<span class="cm"> * struct snd_enc_vorbis</span>
<span class="cm"> * @quality: Sets encoding quality to n, between -1 (low) and 10 (high).</span>
<span class="cm"> * In the default mode of operation, the quality level is 3.</span>
<span class="cm"> * Normal quality range is 0 - 10.</span>
<span class="cm"> * @managed: Boolean. Set  bitrate  management  mode. This turns off the</span>
<span class="cm"> * normal VBR encoding, but allows hard or soft bitrate constraints to be</span>
<span class="cm"> * enforced by the encoder. This mode can be slower, and may also be</span>
<span class="cm"> * lower quality. It is primarily useful for streaming.</span>
<span class="cm"> * @max_bit_rate: Enabled only if managed is TRUE</span>
<span class="cm"> * @min_bit_rate: Enabled only if managed is TRUE</span>
<span class="cm"> * @downmix: Boolean. Downmix input from stereo to mono (has no effect on</span>
<span class="cm"> * non-stereo streams). Useful for lower-bitrate encoding.</span>
<span class="cm"> *</span>
<span class="cm"> * These options were extracted from the OpenMAX IL spec and Gstreamer vorbisenc</span>
<span class="cm"> * properties</span>
<span class="cm"> *</span>
<span class="cm"> * For best quality users should specify VBR mode and set quality levels.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">snd_enc_vorbis</span> <span class="p">{</span>
	<span class="n">__s32</span> <span class="n">quality</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">managed</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">max_bit_rate</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">min_bit_rate</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">downmix</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/**</span>
<span class="cm"> * struct snd_enc_real</span>
<span class="cm"> * @quant_bits: number of coupling quantization bits in the stream</span>
<span class="cm"> * @start_region: coupling start region in the stream</span>
<span class="cm"> * @num_regions: number of regions value</span>
<span class="cm"> *</span>
<span class="cm"> * These options were extracted from the OpenMAX IL spec</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">snd_enc_real</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">quant_bits</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">start_region</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">num_regions</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct snd_enc_flac</span>
<span class="cm"> * @num: serial number, valid only for OGG formats</span>
<span class="cm"> *	needs to be set by application</span>
<span class="cm"> * @gain: Add replay gain tags</span>
<span class="cm"> *</span>
<span class="cm"> * These options were extracted from the FLAC online documentation</span>
<span class="cm"> * at http://flac.sourceforge.net/documentation_tools_flac.html</span>
<span class="cm"> *</span>
<span class="cm"> * To make the API simpler, it is assumed that the user will select quality</span>
<span class="cm"> * profiles. Additional options that affect encoding quality and speed can</span>
<span class="cm"> * be added at a later stage if needed.</span>
<span class="cm"> *</span>
<span class="cm"> * By default the Subset format is used by encoders.</span>
<span class="cm"> *</span>
<span class="cm"> * TAGS such as pictures, etc, cannot be handled by an offloaded encoder and are</span>
<span class="cm"> * not supported in this API.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">snd_enc_flac</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">num</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">gain</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">snd_enc_generic</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">bw</span><span class="p">;</span>	<span class="cm">/* encoder bandwidth */</span>
	<span class="n">__s32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">15</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">snd_codec_options</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">snd_enc_wma</span> <span class="n">wma</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">snd_enc_vorbis</span> <span class="n">vorbis</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">snd_enc_real</span> <span class="n">real</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">snd_enc_flac</span> <span class="n">flac</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">snd_enc_generic</span> <span class="n">generic</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/** struct snd_codec_desc - description of codec capabilities</span>
<span class="cm"> * @max_ch: Maximum number of audio channels</span>
<span class="cm"> * @sample_rates: Sampling rates in Hz, use SNDRV_PCM_RATE_xxx for this</span>
<span class="cm"> * @bit_rate: Indexed array containing supported bit rates</span>
<span class="cm"> * @num_bitrates: Number of valid values in bit_rate array</span>
<span class="cm"> * @rate_control: value is specified by SND_RATECONTROLMODE defines.</span>
<span class="cm"> * @profiles: Supported profiles. See SND_AUDIOPROFILE defines.</span>
<span class="cm"> * @modes: Supported modes. See SND_AUDIOMODE defines</span>
<span class="cm"> * @formats: Supported formats. See SND_AUDIOSTREAMFORMAT defines</span>
<span class="cm"> * @min_buffer: Minimum buffer size handled by codec implementation</span>
<span class="cm"> * @reserved: reserved for future use</span>
<span class="cm"> *</span>
<span class="cm"> * This structure provides a scalar value for profiles, modes and stream</span>
<span class="cm"> * format fields.</span>
<span class="cm"> * If an implementation supports multiple combinations, they will be listed as</span>
<span class="cm"> * codecs with different descriptors, for example there would be 2 descriptors</span>
<span class="cm"> * for AAC-RAW and AAC-ADTS.</span>
<span class="cm"> * This entails some redundancy but makes it easier to avoid invalid</span>
<span class="cm"> * configurations.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">snd_codec_desc</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">max_ch</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">sample_rates</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">bit_rate</span><span class="p">[</span><span class="n">MAX_NUM_BITRATES</span><span class="p">];</span>
	<span class="n">__u32</span> <span class="n">num_bitrates</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">rate_control</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">profiles</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">modes</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">formats</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">min_buffer</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">15</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/** struct snd_codec</span>
<span class="cm"> * @id: Identifies the supported audio encoder/decoder.</span>
<span class="cm"> *		See SND_AUDIOCODEC macros.</span>
<span class="cm"> * @ch_in: Number of input audio channels</span>
<span class="cm"> * @ch_out: Number of output channels. In case of contradiction between</span>
<span class="cm"> *		this field and the channelMode field, the channelMode field</span>
<span class="cm"> *		overrides.</span>
<span class="cm"> * @sample_rate: Audio sample rate of input data</span>
<span class="cm"> * @bit_rate: Bitrate of encoded data. May be ignored by decoders</span>
<span class="cm"> * @rate_control: Encoding rate control. See SND_RATECONTROLMODE defines.</span>
<span class="cm"> *               Encoders may rely on profiles for quality levels.</span>
<span class="cm"> *		 May be ignored by decoders.</span>
<span class="cm"> * @profile: Mandatory for encoders, can be mandatory for specific</span>
<span class="cm"> *		decoders as well. See SND_AUDIOPROFILE defines.</span>
<span class="cm"> * @level: Supported level (Only used by WMA at the moment)</span>
<span class="cm"> * @ch_mode: Channel mode for encoder. See SND_AUDIOCHANMODE defines</span>
<span class="cm"> * @format: Format of encoded bistream. Mandatory when defined.</span>
<span class="cm"> *		See SND_AUDIOSTREAMFORMAT defines.</span>
<span class="cm"> * @align: Block alignment in bytes of an audio sample.</span>
<span class="cm"> *		Only required for PCM or IEC formats.</span>
<span class="cm"> * @options: encoder-specific settings</span>
<span class="cm"> * @reserved: reserved for future use</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">snd_codec</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">id</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">ch_in</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">ch_out</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">sample_rate</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">bit_rate</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">rate_control</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">profile</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">level</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">ch_mode</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">format</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">align</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">snd_codec_options</span> <span class="n">options</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
