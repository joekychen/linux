<!DOCTYPE html>
<html><head><title>joekychen/linux » include › sound › emux_synth.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>emux_synth.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef __SOUND_EMUX_SYNTH_H</span>
<span class="cp">#define __SOUND_EMUX_SYNTH_H</span>

<span class="cm">/*</span>
<span class="cm"> *  Defines for the Emu-series WaveTable chip</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2000 Takashi Iwai &lt;tiwai@suse.de&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *   This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> *   it under the terms of the GNU General Public License as published by</span>
<span class="cm"> *   the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> *   (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> *   This program is distributed in the hope that it will be useful,</span>
<span class="cm"> *   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> *   GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> *   You should have received a copy of the GNU General Public License</span>
<span class="cm"> *   along with this program; if not, write to the Free Software</span>
<span class="cm"> *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA</span>
<span class="cm"> */</span>

<span class="cp">#include &quot;seq_kernel.h&quot;</span>
<span class="cp">#include &quot;seq_device.h&quot;</span>
<span class="cp">#include &quot;soundfont.h&quot;</span>
<span class="cp">#include &quot;seq_midi_emul.h&quot;</span>
<span class="cp">#ifdef CONFIG_SND_SEQUENCER_OSS</span>
<span class="cp">#include &quot;seq_oss.h&quot;</span>
<span class="cp">#endif</span>
<span class="cp">#include &quot;emux_legacy.h&quot;</span>
<span class="cp">#include &quot;seq_virmidi.h&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * compile flags</span>
<span class="cm"> */</span>
<span class="cp">#define SNDRV_EMUX_USE_RAW_EFFECT</span>

<span class="k">struct</span> <span class="n">snd_emux</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">snd_emux_port</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">snd_emux_voice</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">snd_emux_effect_table</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * operators</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">snd_emux_operators</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">module</span> <span class="o">*</span><span class="n">owner</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">get_voice</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span>
					    <span class="k">struct</span> <span class="n">snd_emux_port</span> <span class="o">*</span><span class="n">port</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">prepare</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="o">*</span><span class="n">vp</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">trigger</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="o">*</span><span class="n">vp</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">release</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="o">*</span><span class="n">vp</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">update</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="o">*</span><span class="n">vp</span><span class="p">,</span> <span class="kt">int</span> <span class="n">update</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">terminate</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="o">*</span><span class="n">vp</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">free_voice</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="o">*</span><span class="n">vp</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">reset</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ch</span><span class="p">);</span>
	<span class="cm">/* the first parameters are struct snd_emux */</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">sample_new</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="k">struct</span> <span class="n">snd_sf_sample</span> <span class="o">*</span><span class="n">sp</span><span class="p">,</span>
			  <span class="k">struct</span> <span class="n">snd_util_memhdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">,</span>
			  <span class="k">const</span> <span class="kt">void</span> <span class="n">__user</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">long</span> <span class="n">count</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">sample_free</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="k">struct</span> <span class="n">snd_sf_sample</span> <span class="o">*</span><span class="n">sp</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">snd_util_memhdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">sample_reset</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">load_fx</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="kt">int</span> <span class="n">type</span><span class="p">,</span> <span class="kt">int</span> <span class="n">arg</span><span class="p">,</span>
		       <span class="k">const</span> <span class="kt">void</span> <span class="n">__user</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">long</span> <span class="n">count</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">sysex</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">,</span> <span class="kt">int</span> <span class="n">parsed</span><span class="p">,</span>
		      <span class="k">struct</span> <span class="n">snd_midi_channel_set</span> <span class="o">*</span><span class="n">chset</span><span class="p">);</span>
<span class="cp">#ifdef CONFIG_SND_SEQUENCER_OSS</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">oss_ioctl</span><span class="p">)(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cmd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p2</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * constant values</span>
<span class="cm"> */</span>
<span class="cp">#define SNDRV_EMUX_MAX_PORTS		32	</span><span class="cm">/* max # of sequencer ports */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_MAX_VOICES		64	</span><span class="cm">/* max # of voices */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_MAX_MULTI_VOICES	16	</span><span class="cm">/* max # of playable voices</span>
<span class="cm">						 * simultineously</span>
<span class="cm">						 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * flags</span>
<span class="cm"> */</span>
<span class="cp">#define SNDRV_EMUX_ACCEPT_ROM		(1&lt;&lt;0)</span>

<span class="cm">/*</span>
<span class="cm"> * emuX wavetable</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">snd_emux</span> <span class="p">{</span>

	<span class="k">struct</span> <span class="n">snd_card</span> <span class="o">*</span><span class="n">card</span><span class="p">;</span>	<span class="cm">/* assigned card */</span>

	<span class="cm">/* following should be initialized before registration */</span>
	<span class="kt">int</span> <span class="n">max_voices</span><span class="p">;</span>		<span class="cm">/* Number of voices */</span>
	<span class="kt">int</span> <span class="n">mem_size</span><span class="p">;</span>		<span class="cm">/* memory size (in byte) */</span>
	<span class="kt">int</span> <span class="n">num_ports</span><span class="p">;</span>		<span class="cm">/* number of ports to be created */</span>
	<span class="kt">int</span> <span class="n">pitch_shift</span><span class="p">;</span>	<span class="cm">/* pitch shift value (for Emu10k1) */</span>
	<span class="k">struct</span> <span class="n">snd_emux_operators</span> <span class="n">ops</span><span class="p">;</span>	<span class="cm">/* operators */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">hw</span><span class="p">;</span>		<span class="cm">/* hardware */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">flags</span><span class="p">;</span>	<span class="cm">/* other conditions */</span>
	<span class="kt">int</span> <span class="n">midi_ports</span><span class="p">;</span>		<span class="cm">/* number of virtual midi devices */</span>
	<span class="kt">int</span> <span class="n">midi_devidx</span><span class="p">;</span>	<span class="cm">/* device offset of virtual midi */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">linear_panning</span><span class="o">:</span> <span class="mi">1</span><span class="p">;</span> <span class="cm">/* panning is linear (sbawe = 1, emu10k1 = 0) */</span>
	<span class="kt">int</span> <span class="n">hwdep_idx</span><span class="p">;</span>		<span class="cm">/* hwdep device index */</span>
	<span class="k">struct</span> <span class="n">snd_hwdep</span> <span class="o">*</span><span class="n">hwdep</span><span class="p">;</span>	<span class="cm">/* hwdep device */</span>

	<span class="cm">/* private */</span>
	<span class="kt">int</span> <span class="n">num_voices</span><span class="p">;</span>		<span class="cm">/* current number of voices */</span>
	<span class="k">struct</span> <span class="n">snd_sf_list</span> <span class="o">*</span><span class="n">sflist</span><span class="p">;</span>	<span class="cm">/* root of SoundFont list */</span>
	<span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="o">*</span><span class="n">voices</span><span class="p">;</span>	<span class="cm">/* Voices (EMU &#39;channel&#39;) */</span>
	<span class="kt">int</span> <span class="n">use_time</span><span class="p">;</span>	<span class="cm">/* allocation counter */</span>
	<span class="n">spinlock_t</span> <span class="n">voice_lock</span><span class="p">;</span>	<span class="cm">/* Lock for voice access */</span>
	<span class="k">struct</span> <span class="n">mutex</span> <span class="n">register_mutex</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">client</span><span class="p">;</span>		<span class="cm">/* For the sequencer client */</span>
	<span class="kt">int</span> <span class="n">ports</span><span class="p">[</span><span class="n">SNDRV_EMUX_MAX_PORTS</span><span class="p">];</span>	<span class="cm">/* The ports for this device */</span>
	<span class="k">struct</span> <span class="n">snd_emux_port</span> <span class="o">*</span><span class="n">portptrs</span><span class="p">[</span><span class="n">SNDRV_EMUX_MAX_PORTS</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">used</span><span class="p">;</span>	<span class="cm">/* use counter */</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>	<span class="cm">/* name of the device (internal) */</span>
	<span class="k">struct</span> <span class="n">snd_rawmidi</span> <span class="o">**</span><span class="n">vmidi</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timer_list</span> <span class="n">tlist</span><span class="p">;</span>	<span class="cm">/* for pending note-offs */</span>
	<span class="kt">int</span> <span class="n">timer_active</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">snd_util_memhdr</span> <span class="o">*</span><span class="n">memhdr</span><span class="p">;</span>	<span class="cm">/* memory chunk information */</span>

<span class="cp">#ifdef CONFIG_PROC_FS</span>
	<span class="k">struct</span> <span class="n">snd_info_entry</span> <span class="o">*</span><span class="n">proc</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_SND_SEQUENCER_OSS</span>
	<span class="k">struct</span> <span class="n">snd_seq_device</span> <span class="o">*</span><span class="n">oss_synth</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * sequencer port information</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">snd_emux_port</span> <span class="p">{</span>

	<span class="k">struct</span> <span class="n">snd_midi_channel_set</span> <span class="n">chset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">;</span>

	<span class="kt">char</span> <span class="n">port_mode</span><span class="p">;</span>			<span class="cm">/* operation mode */</span>
	<span class="kt">int</span> <span class="n">volume_atten</span><span class="p">;</span>		<span class="cm">/* emuX raw attenuation */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">drum_flags</span><span class="p">;</span>	<span class="cm">/* drum bitmaps */</span>
	<span class="kt">int</span> <span class="n">ctrls</span><span class="p">[</span><span class="n">EMUX_MD_END</span><span class="p">];</span>		<span class="cm">/* control parameters */</span>
<span class="cp">#ifdef SNDRV_EMUX_USE_RAW_EFFECT</span>
	<span class="k">struct</span> <span class="n">snd_emux_effect_table</span> <span class="o">*</span><span class="n">effect</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef CONFIG_SND_SEQUENCER_OSS</span>
	<span class="k">struct</span> <span class="n">snd_seq_oss_arg</span> <span class="o">*</span><span class="n">oss_arg</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="cm">/* port_mode */</span>
<span class="cp">#define SNDRV_EMUX_PORT_MODE_MIDI		0	</span><span class="cm">/* normal MIDI port */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_PORT_MODE_OSS_SYNTH	1	</span><span class="cm">/* OSS synth port */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_PORT_MODE_OSS_MIDI	2	</span><span class="cm">/* OSS multi channel synth port */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * A structure to keep track of each hardware voice</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">snd_emux_voice</span> <span class="p">{</span>
	<span class="kt">int</span>  <span class="n">ch</span><span class="p">;</span>		<span class="cm">/* Hardware channel number */</span>

	<span class="kt">int</span>  <span class="n">state</span><span class="p">;</span>		<span class="cm">/* status */</span>
<span class="cp">#define SNDRV_EMUX_ST_OFF		0x00	</span><span class="cm">/* Not playing, and inactive */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_ST_ON		0x01	</span><span class="cm">/* Note on */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_ST_RELEASED 	(0x02|SNDRV_EMUX_ST_ON)	</span><span class="cm">/* Note released */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_ST_SUSTAINED	(0x04|SNDRV_EMUX_ST_ON)	</span><span class="cm">/* Note sustained */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_ST_STANDBY	(0x08|SNDRV_EMUX_ST_ON)	</span><span class="cm">/* Waiting to be triggered */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_ST_PENDING 	(0x10|SNDRV_EMUX_ST_ON)	</span><span class="cm">/* Note will be released */</span><span class="cp"></span>
<span class="cp">#define SNDRV_EMUX_ST_LOCKED		0x100	</span><span class="cm">/* Not accessible */</span><span class="cp"></span>

	<span class="kt">unsigned</span> <span class="kt">int</span>  <span class="n">time</span><span class="p">;</span>	<span class="cm">/* An allocation time */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">note</span><span class="p">;</span>	<span class="cm">/* Note currently assigned to this voice */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">key</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">velocity</span><span class="p">;</span>	<span class="cm">/* Velocity of current note */</span>

	<span class="k">struct</span> <span class="n">snd_sf_zone</span> <span class="o">*</span><span class="n">zone</span><span class="p">;</span>	<span class="cm">/* Zone assigned to this note */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">block</span><span class="p">;</span>		<span class="cm">/* sample block pointer (optional) */</span>
	<span class="k">struct</span> <span class="n">snd_midi_channel</span> <span class="o">*</span><span class="n">chan</span><span class="p">;</span>	<span class="cm">/* Midi channel for this note */</span>
	<span class="k">struct</span> <span class="n">snd_emux_port</span> <span class="o">*</span><span class="n">port</span><span class="p">;</span>	<span class="cm">/* associated port */</span>
	<span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">;</span>	<span class="cm">/* assigned root info */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">hw</span><span class="p">;</span>		<span class="cm">/* hardware pointer (emu8000 or emu10k1) */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ontime</span><span class="p">;</span>	<span class="cm">/* jiffies at note triggered */</span>
	
	<span class="cm">/* Emu8k/Emu10k1 registers */</span>
	<span class="k">struct</span> <span class="n">soundfont_voice_info</span> <span class="n">reg</span><span class="p">;</span>

	<span class="cm">/* additional registers */</span>
	<span class="kt">int</span> <span class="n">avol</span><span class="p">;</span>		<span class="cm">/* volume attenuation */</span>
	<span class="kt">int</span> <span class="n">acutoff</span><span class="p">;</span>		<span class="cm">/* cutoff target */</span>
	<span class="kt">int</span> <span class="n">apitch</span><span class="p">;</span>		<span class="cm">/* pitch offset */</span>
	<span class="kt">int</span> <span class="n">apan</span><span class="p">;</span>		<span class="cm">/* pan/aux pair */</span>
	<span class="kt">int</span> <span class="n">aaux</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ptarget</span><span class="p">;</span>		<span class="cm">/* pitch target */</span>
	<span class="kt">int</span> <span class="n">vtarget</span><span class="p">;</span>		<span class="cm">/* volume target */</span>
	<span class="kt">int</span> <span class="n">ftarget</span><span class="p">;</span>		<span class="cm">/* filter target */</span>

<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * update flags (can be combined)</span>
<span class="cm"> */</span>
<span class="cp">#define SNDRV_EMUX_UPDATE_VOLUME		(1&lt;&lt;0)</span>
<span class="cp">#define SNDRV_EMUX_UPDATE_PITCH		(1&lt;&lt;1)</span>
<span class="cp">#define SNDRV_EMUX_UPDATE_PAN		(1&lt;&lt;2)</span>
<span class="cp">#define SNDRV_EMUX_UPDATE_FMMOD		(1&lt;&lt;3)</span>
<span class="cp">#define SNDRV_EMUX_UPDATE_TREMFREQ	(1&lt;&lt;4)</span>
<span class="cp">#define SNDRV_EMUX_UPDATE_FM2FRQ2		(1&lt;&lt;5)</span>
<span class="cp">#define SNDRV_EMUX_UPDATE_Q		(1&lt;&lt;6)</span>


<span class="cp">#ifdef SNDRV_EMUX_USE_RAW_EFFECT</span>
<span class="cm">/*</span>
<span class="cm"> * effect table</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">snd_emux_effect_table</span> <span class="p">{</span>
	<span class="cm">/* Emu8000 specific effects */</span>
	<span class="kt">short</span> <span class="n">val</span><span class="p">[</span><span class="n">EMUX_NUM_EFFECTS</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">flag</span><span class="p">[</span><span class="n">EMUX_NUM_EFFECTS</span><span class="p">];</span>
<span class="p">};</span>
<span class="cp">#endif </span><span class="cm">/* SNDRV_EMUX_USE_RAW_EFFECT */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * prototypes - interface to Emu10k1 and Emu8k routines</span>
<span class="cm"> */</span>
<span class="kt">int</span> <span class="n">snd_emux_new</span><span class="p">(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">**</span><span class="n">remu</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">snd_emux_register</span><span class="p">(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="k">struct</span> <span class="n">snd_card</span> <span class="o">*</span><span class="n">card</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">snd_emux_free</span><span class="p">(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * exported functions</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">snd_emux_terminate_all</span><span class="p">(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">snd_emux_lock_voice</span><span class="p">(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="kt">int</span> <span class="n">voice</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">snd_emux_unlock_voice</span><span class="p">(</span><span class="k">struct</span> <span class="n">snd_emux</span> <span class="o">*</span><span class="n">emu</span><span class="p">,</span> <span class="kt">int</span> <span class="n">voice</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* __SOUND_EMUX_SYNTH_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
