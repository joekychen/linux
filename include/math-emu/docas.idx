f | soft-fp.h | s | 5.1K | 176 | Kumar Gala | galak@kernel.crashing.org | 1221577297 |  | math-emu: Add support for reporting exact invalid exception  Some architectures (like powerpc) provide status information on the exact type of invalid exception.  This is pretty straight forward as we already report invalid exceptions via FP_SET_EXCEPTION.  We add new flags (FP_EX_INVALID_*) the architecture code can define if it wants the exact invalid exception reported.  We had to split out the INF/INF and 0/0 cases for divide to allow reporting the two invalid forms properly.  Signed-off-by: Kumar Gala <galak@kernel.crashing.org> Acked-by: David S. Miller <davem@davemloft.net>
f | op-1.h | s | 9.2K | 262 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | single.h | s | 3.8K | 98 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | quad.h | s | 6.5K | 176 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | op-common.h | s | 25K | 826 | Mikael Pettersson | mikpe@it.uu.se | 1279676714 |  | math-emu: correct test for downshifting fraction in _FP_FROM_INT()  The kernel's math-emu code contains a macro _FP_FROM_INT() which is used to convert an integer to a raw normalized floating-point value. It does this basically in three steps:  1. Compute the exponent from the number of leading zero bits. 2. Downshift large fractions to put the MSB in the right position    for normalized fractions. 3. Upshift small fractions to put the MSB in the right position.  There is an boundary error in step 2, causing a fraction with its MSB exactly one bit above the normalized MSB position to not be downshifted.  This results in a non-normalized raw float, which when packed becomes a massively inaccurate representation for that input.  The impact of this depends on a number of arch-specific factors, but it is known to have broken emulation of FXTOD instructions on UltraSPARC III, which was originally reported as GCC bug 44631 <http://gcc.gnu.org/bugzilla/show_bug.cgi?id=44631>.  Any arch which uses math-emu to emulate conversions from integers to same-size floats may be affected.  The fix is simple: the exponent comparison used to determine if the fraction should be downshifted must be "<=" not "<".  I'm sending a kernel module to test this as a reply to this message. There are also SPARC user-space test cases in the GCC bug entry.  Signed-off-by: Mikael Pettersson <mikpe@it.uu.se> Signed-off-by: David S. Miller <davem@davemloft.net>
f | double.h | s | 6.2K | 171 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | op-2.h | s | 19K | 559 | Kumar Gala | galak@kernel.crashing.org | 1221577297 |  | math-emu: Fix compiler warnings  Fix warnings of the form: arch/powerpc/math-emu/fsubs.c:15: warning: 'R_f1' may be used uninitialized in this function arch/powerpc/math-emu/fsubs.c:15: warning: 'R_f0' may be used uninitialized in this function  Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
f | op-4.h | s | 23K | 640 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | op-8.h | s | 3.8K | 97 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
