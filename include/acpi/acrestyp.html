<!DOCTYPE html>
<html><head><title>joekychen/linux » include › acpi › acrestyp.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>acrestyp.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Name: acrestyp.h - Defines, types, and structures for resource descriptors</span>
<span class="cm"> *</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2000 - 2011, Intel Corp.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source and binary forms, with or without</span>
<span class="cm"> * modification, are permitted provided that the following conditions</span>
<span class="cm"> * are met:</span>
<span class="cm"> * 1. Redistributions of source code must retain the above copyright</span>
<span class="cm"> *    notice, this list of conditions, and the following disclaimer,</span>
<span class="cm"> *    without modification.</span>
<span class="cm"> * 2. Redistributions in binary form must reproduce at minimum a disclaimer</span>
<span class="cm"> *    substantially similar to the &quot;NO WARRANTY&quot; disclaimer below</span>
<span class="cm"> *    (&quot;Disclaimer&quot;) and any redistribution must be conditioned upon</span>
<span class="cm"> *    including a substantially similar Disclaimer requirement for further</span>
<span class="cm"> *    binary redistribution.</span>
<span class="cm"> * 3. Neither the names of the above-listed copyright holders nor the names</span>
<span class="cm"> *    of any contributors may be used to endorse or promote products derived</span>
<span class="cm"> *    from this software without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Alternatively, this software may be distributed under the terms of the</span>
<span class="cm"> * GNU General Public License (&quot;GPL&quot;) version 2 as published by the Free</span>
<span class="cm"> * Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * NO WARRANTY</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<span class="cm"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<span class="cm"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR</span>
<span class="cm"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<span class="cm"> * HOLDERS OR CONTRIBUTORS BE LIABLE FOR SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<span class="cm"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</span>
<span class="cm"> * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span>
<span class="cm"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</span>
<span class="cm"> * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span>
<span class="cm"> * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span>
<span class="cm"> * POSSIBILITY OF SUCH DAMAGES.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ACRESTYP_H__</span>
<span class="cp">#define __ACRESTYP_H__</span>

<span class="cm">/*</span>
<span class="cm"> * Definitions for Resource Attributes</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="n">u16</span> <span class="n">acpi_rs_length</span><span class="p">;</span>	<span class="cm">/* Resource Length field is fixed at 16 bits */</span>
<span class="k">typedef</span> <span class="n">u32</span> <span class="n">acpi_rsdesc_size</span><span class="p">;</span>	<span class="cm">/* Max Resource Descriptor size is (Length+3) = (64_k-1)+3 */</span>

<span class="cm">/*</span>
<span class="cm"> * Memory Attributes</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_READ_ONLY_MEMORY           (u8) 0x00</span>
<span class="cp">#define ACPI_READ_WRITE_MEMORY          (u8) 0x01</span>

<span class="cp">#define ACPI_NON_CACHEABLE_MEMORY       (u8) 0x00</span>
<span class="cp">#define ACPI_CACHABLE_MEMORY            (u8) 0x01</span>
<span class="cp">#define ACPI_WRITE_COMBINING_MEMORY     (u8) 0x02</span>
<span class="cp">#define ACPI_PREFETCHABLE_MEMORY        (u8) 0x03</span>

<span class="cm">/*! [Begin] no source code translation */</span>
<span class="cm">/*</span>
<span class="cm"> * IO Attributes</span>
<span class="cm"> * The ISA IO ranges are:     n000-n0FFh,  n400-n4FFh, n800-n8FFh, nC00-nCFFh.</span>
<span class="cm"> * The non-ISA IO ranges are: n100-n3FFh,  n500-n7FFh, n900-nBFFh, nCD0-nFFFh.</span>
<span class="cm"> */</span>
<span class="cm">/*! [End] no source code translation !*/</span>

<span class="cp">#define ACPI_NON_ISA_ONLY_RANGES        (u8) 0x01</span>
<span class="cp">#define ACPI_ISA_ONLY_RANGES            (u8) 0x02</span>
<span class="cp">#define ACPI_ENTIRE_RANGE               (ACPI_NON_ISA_ONLY_RANGES | ACPI_ISA_ONLY_RANGES)</span>

<span class="cm">/* Type of translation - 1=Sparse, 0=Dense */</span>

<span class="cp">#define ACPI_SPARSE_TRANSLATION         (u8) 0x01</span>

<span class="cm">/*</span>
<span class="cm"> * IO Port Descriptor Decode</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_DECODE_10                  (u8) 0x00	</span><span class="cm">/* 10-bit IO address decode */</span><span class="cp"></span>
<span class="cp">#define ACPI_DECODE_16                  (u8) 0x01	</span><span class="cm">/* 16-bit IO address decode */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Interrupt attributes - used in multiple descriptors</span>
<span class="cm"> */</span>

<span class="cm">/* Triggering */</span>

<span class="cp">#define ACPI_LEVEL_SENSITIVE            (u8) 0x00</span>
<span class="cp">#define ACPI_EDGE_SENSITIVE             (u8) 0x01</span>

<span class="cm">/* Polarity */</span>

<span class="cp">#define ACPI_ACTIVE_HIGH                (u8) 0x00</span>
<span class="cp">#define ACPI_ACTIVE_LOW                 (u8) 0x01</span>
<span class="cp">#define ACPI_ACTIVE_BOTH                (u8) 0x02</span>

<span class="cm">/* Sharing */</span>

<span class="cp">#define ACPI_EXCLUSIVE                  (u8) 0x00</span>
<span class="cp">#define ACPI_SHARED                     (u8) 0x01</span>
<span class="cp">#define ACPI_EXCLUSIVE_AND_WAKE         (u8) 0x02</span>
<span class="cp">#define ACPI_SHARED_AND_WAKE            (u8) 0x03</span>

<span class="cm">/*</span>
<span class="cm"> * DMA Attributes</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_COMPATIBILITY              (u8) 0x00</span>
<span class="cp">#define ACPI_TYPE_A                     (u8) 0x01</span>
<span class="cp">#define ACPI_TYPE_B                     (u8) 0x02</span>
<span class="cp">#define ACPI_TYPE_F                     (u8) 0x03</span>

<span class="cp">#define ACPI_NOT_BUS_MASTER             (u8) 0x00</span>
<span class="cp">#define ACPI_BUS_MASTER                 (u8) 0x01</span>

<span class="cp">#define ACPI_TRANSFER_8                 (u8) 0x00</span>
<span class="cp">#define ACPI_TRANSFER_8_16              (u8) 0x01</span>
<span class="cp">#define ACPI_TRANSFER_16                (u8) 0x02</span>

<span class="cm">/*</span>
<span class="cm"> * Start Dependent Functions Priority definitions</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_GOOD_CONFIGURATION         (u8) 0x00</span>
<span class="cp">#define ACPI_ACCEPTABLE_CONFIGURATION   (u8) 0x01</span>
<span class="cp">#define ACPI_SUB_OPTIMAL_CONFIGURATION  (u8) 0x02</span>

<span class="cm">/*</span>
<span class="cm"> * 16, 32 and 64-bit Address Descriptor resource types</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_MEMORY_RANGE               (u8) 0x00</span>
<span class="cp">#define ACPI_IO_RANGE                   (u8) 0x01</span>
<span class="cp">#define ACPI_BUS_NUMBER_RANGE           (u8) 0x02</span>

<span class="cp">#define ACPI_ADDRESS_NOT_FIXED          (u8) 0x00</span>
<span class="cp">#define ACPI_ADDRESS_FIXED              (u8) 0x01</span>

<span class="cp">#define ACPI_POS_DECODE                 (u8) 0x00</span>
<span class="cp">#define ACPI_SUB_DECODE                 (u8) 0x01</span>

<span class="cm">/* Producer/Consumer */</span>

<span class="cp">#define ACPI_PRODUCER                   (u8) 0x00</span>
<span class="cp">#define ACPI_CONSUMER                   (u8) 0x01</span>

<span class="cm">/*</span>
<span class="cm"> * If possible, pack the following structures to byte alignment</span>
<span class="cm"> */</span>
<span class="cp">#ifndef ACPI_MISALIGNMENT_NOT_SUPPORTED</span>
<span class="cp">#pragma pack(1)</span>
<span class="cp">#endif</span>

<span class="cm">/* UUID data structures for use in vendor-defined resource descriptors */</span>

<span class="k">struct</span> <span class="n">acpi_uuid</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="n">ACPI_UUID_LENGTH</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_vendor_uuid</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">subtype</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="n">ACPI_UUID_LENGTH</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Structures used to describe device resources</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_resource_irq</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">descriptor_length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">triggering</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">polarity</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sharable</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">interrupt_count</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">interrupts</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_dma</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bus_master</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">transfer</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">channel_count</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">channels</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_start_dependent</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">descriptor_length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">compatibility_priority</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">performance_robustness</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The END_DEPENDENT_FUNCTIONS_RESOURCE struct is not</span>
<span class="cm"> * needed because it has no fields</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">acpi_resource_io</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">io_decode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">alignment</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">address_length</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">minimum</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">maximum</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_fixed_io</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">address</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">address_length</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_fixed_dma</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">request_lines</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">channels</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">width</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Values for Width field above */</span>

<span class="cp">#define ACPI_DMA_WIDTH8                         0</span>
<span class="cp">#define ACPI_DMA_WIDTH16                        1</span>
<span class="cp">#define ACPI_DMA_WIDTH32                        2</span>
<span class="cp">#define ACPI_DMA_WIDTH64                        3</span>
<span class="cp">#define ACPI_DMA_WIDTH128                       4</span>
<span class="cp">#define ACPI_DMA_WIDTH256                       5</span>

<span class="k">struct</span> <span class="n">acpi_resource_vendor</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">byte_length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">byte_data</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* Vendor resource with UUID info (introduced in ACPI 3.0) */</span>

<span class="k">struct</span> <span class="n">acpi_resource_vendor_typed</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">byte_length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">uuid_subtype</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">uuid</span><span class="p">[</span><span class="n">ACPI_UUID_LENGTH</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">byte_data</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_end_tag</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">checksum</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_memory24</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">write_protect</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">minimum</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">maximum</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">alignment</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">address_length</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_memory32</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">write_protect</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">minimum</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">maximum</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">alignment</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">address_length</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_fixed_memory32</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">write_protect</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">address</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">address_length</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_memory_attribute</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">write_protect</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">caching</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">range_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">translation</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_io_attribute</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">range_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">translation</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">translation_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">acpi_resource_attribute</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_memory_attribute</span> <span class="n">mem</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_io_attribute</span> <span class="n">io</span><span class="p">;</span>

	<span class="cm">/* Used for the *word_space macros */</span>

	<span class="n">u8</span> <span class="n">type_specific</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_source</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">index</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">string_length</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">string_ptr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Fields common to all address descriptors, 16/32/64 bit */</span>

<span class="cp">#define ACPI_RESOURCE_ADDRESS_COMMON \</span>
<span class="cp">	u8                                      resource_type; \</span>
<span class="cp">	u8                                      producer_consumer; \</span>
<span class="cp">	u8                                      decode; \</span>
<span class="cp">	u8                                      min_address_fixed; \</span>
<span class="cp">	u8                                      max_address_fixed; \</span>
<span class="cp">	union acpi_resource_attribute           info;</span>

<span class="k">struct</span> <span class="n">acpi_resource_address</span> <span class="p">{</span>
<span class="n">ACPI_RESOURCE_ADDRESS_COMMON</span><span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_address16</span> <span class="p">{</span>
	<span class="n">ACPI_RESOURCE_ADDRESS_COMMON</span> <span class="n">u16</span> <span class="n">granularity</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">minimum</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">maximum</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">translation_offset</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">address_length</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_source</span> <span class="n">resource_source</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_address32</span> <span class="p">{</span>
	<span class="n">ACPI_RESOURCE_ADDRESS_COMMON</span> <span class="n">u32</span> <span class="n">granularity</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">minimum</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">maximum</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">translation_offset</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">address_length</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_source</span> <span class="n">resource_source</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_address64</span> <span class="p">{</span>
	<span class="n">ACPI_RESOURCE_ADDRESS_COMMON</span> <span class="n">u64</span> <span class="n">granularity</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">minimum</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">maximum</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">translation_offset</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">address_length</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_source</span> <span class="n">resource_source</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_extended_address64</span> <span class="p">{</span>
	<span class="n">ACPI_RESOURCE_ADDRESS_COMMON</span> <span class="n">u8</span> <span class="n">revision_iD</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">granularity</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">minimum</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">maximum</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">translation_offset</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">address_length</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">type_specific</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_extended_irq</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">producer_consumer</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">triggering</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">polarity</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sharable</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">interrupt_count</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_source</span> <span class="n">resource_source</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">interrupts</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_generic_register</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">space_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bit_width</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bit_offset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">access_size</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">address</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_resource_gpio</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">revision_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">connection_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">producer_consumer</span><span class="p">;</span>	<span class="cm">/* For values, see Producer/Consumer above */</span>
	<span class="n">u8</span> <span class="n">pin_config</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sharable</span><span class="p">;</span>		<span class="cm">/* For values, see Interrupt Attributes above */</span>
	<span class="n">u8</span> <span class="n">io_restriction</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">triggering</span><span class="p">;</span>		<span class="cm">/* For values, see Interrupt Attributes above */</span>
	<span class="n">u8</span> <span class="n">polarity</span><span class="p">;</span>		<span class="cm">/* For values, see Interrupt Attributes above */</span>
	<span class="n">u16</span> <span class="n">drive_strength</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">debounce_timeout</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">pin_table_length</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">vendor_length</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_source</span> <span class="n">resource_source</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">pin_table</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">vendor_data</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Values for GPIO connection_type field above */</span>

<span class="cp">#define ACPI_RESOURCE_GPIO_TYPE_INT             0</span>
<span class="cp">#define ACPI_RESOURCE_GPIO_TYPE_IO              1</span>

<span class="cm">/* Values for pin_config field above */</span>

<span class="cp">#define ACPI_PIN_CONFIG_DEFAULT                 0</span>
<span class="cp">#define ACPI_PIN_CONFIG_PULLUP                  1</span>
<span class="cp">#define ACPI_PIN_CONFIG_PULLDOWN                2</span>
<span class="cp">#define ACPI_PIN_CONFIG_NOPULL                  3</span>

<span class="cm">/* Values for io_restriction field above */</span>

<span class="cp">#define ACPI_IO_RESTRICT_NONE                   0</span>
<span class="cp">#define ACPI_IO_RESTRICT_INPUT                  1</span>
<span class="cp">#define ACPI_IO_RESTRICT_OUTPUT                 2</span>
<span class="cp">#define ACPI_IO_RESTRICT_NONE_PRESERVE          3</span>

<span class="cm">/* Common structure for I2C, SPI, and UART serial descriptors */</span>

<span class="cp">#define ACPI_RESOURCE_SERIAL_COMMON \</span>
<span class="cp">	u8                                      revision_id; \</span>
<span class="cp">	u8                                      type; \</span>
<span class="cp">	u8                                      producer_consumer;   </span><span class="cm">/* For values, see Producer/Consumer above */</span><span class="cp">\</span>
<span class="cp">	u8                                      slave_mode; \</span>
<span class="cp">	u8                                      type_revision_id; \</span>
<span class="cp">	u16                                     type_data_length; \</span>
<span class="cp">	u16                                     vendor_length; \</span>
<span class="cp">	struct acpi_resource_source             resource_source; \</span>
<span class="cp">	u8                                      *vendor_data;</span>

<span class="k">struct</span> <span class="n">acpi_resource_common_serialbus</span> <span class="p">{</span>
<span class="n">ACPI_RESOURCE_SERIAL_COMMON</span><span class="p">};</span>

<span class="cm">/* Values for the Type field above */</span>

<span class="cp">#define ACPI_RESOURCE_SERIAL_TYPE_I2C           1</span>
<span class="cp">#define ACPI_RESOURCE_SERIAL_TYPE_SPI           2</span>
<span class="cp">#define ACPI_RESOURCE_SERIAL_TYPE_UART          3</span>

<span class="cm">/* Values for slave_mode field above */</span>

<span class="cp">#define ACPI_CONTROLLER_INITIATED               0</span>
<span class="cp">#define ACPI_DEVICE_INITIATED                   1</span>

<span class="k">struct</span> <span class="n">acpi_resource_i2c_serialbus</span> <span class="p">{</span>
	<span class="n">ACPI_RESOURCE_SERIAL_COMMON</span> <span class="n">u8</span> <span class="n">access_mode</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">slave_address</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">connection_speed</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Values for access_mode field above */</span>

<span class="cp">#define ACPI_I2C_7BIT_MODE                      0</span>
<span class="cp">#define ACPI_I2C_10BIT_MODE                     1</span>

<span class="k">struct</span> <span class="n">acpi_resource_spi_serialbus</span> <span class="p">{</span>
	<span class="n">ACPI_RESOURCE_SERIAL_COMMON</span> <span class="n">u8</span> <span class="n">wire_mode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">device_polarity</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data_bit_length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">clock_phase</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">clock_polarity</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">device_selection</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">connection_speed</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Values for wire_mode field above */</span>

<span class="cp">#define ACPI_SPI_4WIRE_MODE                     0</span>
<span class="cp">#define ACPI_SPI_3WIRE_MODE                     1</span>

<span class="cm">/* Values for device_polarity field above */</span>

<span class="cp">#define ACPI_SPI_ACTIVE_LOW                     0</span>
<span class="cp">#define ACPI_SPI_ACTIVE_HIGH                    1</span>

<span class="cm">/* Values for clock_phase field above */</span>

<span class="cp">#define ACPI_SPI_FIRST_PHASE                    0</span>
<span class="cp">#define ACPI_SPI_SECOND_PHASE                   1</span>

<span class="cm">/* Values for clock_polarity field above */</span>

<span class="cp">#define ACPI_SPI_START_LOW                      0</span>
<span class="cp">#define ACPI_SPI_START_HIGH                     1</span>

<span class="k">struct</span> <span class="n">acpi_resource_uart_serialbus</span> <span class="p">{</span>
	<span class="n">ACPI_RESOURCE_SERIAL_COMMON</span> <span class="n">u8</span> <span class="n">endian</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data_bits</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">stop_bits</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flow_control</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">parity</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">lines_enabled</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">rx_fifo_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tx_fifo_size</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">default_baud_rate</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Values for Endian field above */</span>

<span class="cp">#define ACPI_UART_LITTLE_ENDIAN                 0</span>
<span class="cp">#define ACPI_UART_BIG_ENDIAN                    1</span>

<span class="cm">/* Values for data_bits field above */</span>

<span class="cp">#define ACPI_UART_5_DATA_BITS                   0</span>
<span class="cp">#define ACPI_UART_6_DATA_BITS                   1</span>
<span class="cp">#define ACPI_UART_7_DATA_BITS                   2</span>
<span class="cp">#define ACPI_UART_8_DATA_BITS                   3</span>
<span class="cp">#define ACPI_UART_9_DATA_BITS                   4</span>

<span class="cm">/* Values for stop_bits field above */</span>

<span class="cp">#define ACPI_UART_NO_STOP_BITS                  0</span>
<span class="cp">#define ACPI_UART_1_STOP_BIT                    1</span>
<span class="cp">#define ACPI_UART_1P5_STOP_BITS                 2</span>
<span class="cp">#define ACPI_UART_2_STOP_BITS                   3</span>

<span class="cm">/* Values for flow_control field above */</span>

<span class="cp">#define ACPI_UART_FLOW_CONTROL_NONE             0</span>
<span class="cp">#define ACPI_UART_FLOW_CONTROL_HW               1</span>
<span class="cp">#define ACPI_UART_FLOW_CONTROL_XON_XOFF         2</span>

<span class="cm">/* Values for Parity field above */</span>

<span class="cp">#define ACPI_UART_PARITY_NONE                   0</span>
<span class="cp">#define ACPI_UART_PARITY_EVEN                   1</span>
<span class="cp">#define ACPI_UART_PARITY_ODD                    2</span>
<span class="cp">#define ACPI_UART_PARITY_MARK                   3</span>
<span class="cp">#define ACPI_UART_PARITY_SPACE                  4</span>

<span class="cm">/* Values for lines_enabled bitfield above */</span>

<span class="cp">#define ACPI_UART_CARRIER_DETECT                (1&lt;&lt;2)</span>
<span class="cp">#define ACPI_UART_RING_INDICATOR                (1&lt;&lt;3)</span>
<span class="cp">#define ACPI_UART_DATA_SET_READY                (1&lt;&lt;4)</span>
<span class="cp">#define ACPI_UART_DATA_TERMINAL_READY           (1&lt;&lt;5)</span>
<span class="cp">#define ACPI_UART_CLEAR_TO_SEND                 (1&lt;&lt;6)</span>
<span class="cp">#define ACPI_UART_REQUEST_TO_SEND               (1&lt;&lt;7)</span>

<span class="cm">/* ACPI_RESOURCE_TYPEs */</span>

<span class="cp">#define ACPI_RESOURCE_TYPE_IRQ                  0</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_DMA                  1</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_START_DEPENDENT      2</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_END_DEPENDENT        3</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_IO                   4</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_FIXED_IO             5</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_VENDOR               6</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_END_TAG              7</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_MEMORY24             8</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_MEMORY32             9</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_FIXED_MEMORY32       10</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_ADDRESS16            11</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_ADDRESS32            12</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_ADDRESS64            13</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_EXTENDED_ADDRESS64   14	</span><span class="cm">/* ACPI 3.0 */</span><span class="cp"></span>
<span class="cp">#define ACPI_RESOURCE_TYPE_EXTENDED_IRQ         15</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_GENERIC_REGISTER     16</span>
<span class="cp">#define ACPI_RESOURCE_TYPE_GPIO                 17	</span><span class="cm">/* ACPI 5.0 */</span><span class="cp"></span>
<span class="cp">#define ACPI_RESOURCE_TYPE_FIXED_DMA            18	</span><span class="cm">/* ACPI 5.0 */</span><span class="cp"></span>
<span class="cp">#define ACPI_RESOURCE_TYPE_SERIAL_BUS           19	</span><span class="cm">/* ACPI 5.0 */</span><span class="cp"></span>
<span class="cp">#define ACPI_RESOURCE_TYPE_MAX                  19</span>

<span class="cm">/* Master union for resource descriptors */</span>

<span class="k">union</span> <span class="n">acpi_resource_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_resource_irq</span> <span class="n">irq</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_dma</span> <span class="n">dma</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_start_dependent</span> <span class="n">start_dpf</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_io</span> <span class="n">io</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_fixed_io</span> <span class="n">fixed_io</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_fixed_dma</span> <span class="n">fixed_dma</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_vendor</span> <span class="n">vendor</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_vendor_typed</span> <span class="n">vendor_typed</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_end_tag</span> <span class="n">end_tag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_memory24</span> <span class="n">memory24</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_memory32</span> <span class="n">memory32</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_fixed_memory32</span> <span class="n">fixed_memory32</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_address16</span> <span class="n">address16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_address32</span> <span class="n">address32</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_address64</span> <span class="n">address64</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_extended_address64</span> <span class="n">ext_address64</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_extended_irq</span> <span class="n">extended_irq</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_generic_register</span> <span class="n">generic_reg</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_gpio</span> <span class="n">gpio</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_i2c_serialbus</span> <span class="n">i2c_serial_bus</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_spi_serialbus</span> <span class="n">spi_serial_bus</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_uart_serialbus</span> <span class="n">uart_serial_bus</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_resource_common_serialbus</span> <span class="n">common_serial_bus</span><span class="p">;</span>

	<span class="cm">/* Common fields */</span>

	<span class="k">struct</span> <span class="n">acpi_resource_address</span> <span class="n">address</span><span class="p">;</span>	<span class="cm">/* Common 16/32/64 address fields */</span>
<span class="p">};</span>

<span class="cm">/* Common resource header */</span>

<span class="k">struct</span> <span class="n">acpi_resource</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">acpi_resource_data</span> <span class="n">data</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* restore default alignment */</span>

<span class="cp">#pragma pack()</span>

<span class="cp">#define ACPI_RS_SIZE_NO_DATA                8	</span><span class="cm">/* Id + Length fields */</span><span class="cp"></span>
<span class="cp">#define ACPI_RS_SIZE_MIN                    (u32) ACPI_ROUND_UP_TO_NATIVE_WORD (12)</span>
<span class="cp">#define ACPI_RS_SIZE(type)                  (u32) (ACPI_RS_SIZE_NO_DATA + sizeof (type))</span>

<span class="cp">#define ACPI_NEXT_RESOURCE(res)             (struct acpi_resource *)((u8 *) res + res-&gt;length)</span>

<span class="k">struct</span> <span class="n">acpi_pci_routing_table</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pin</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">address</span><span class="p">;</span>		<span class="cm">/* here for 64-bit alignment */</span>
	<span class="n">u32</span> <span class="n">source_index</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">source</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>		<span class="cm">/* pad to 64 bits so sizeof() works in all cases */</span>
<span class="p">};</span>

<span class="cp">#endif				</span><span class="cm">/* __ACRESTYP_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
