<!DOCTYPE html>
<html><head><title>joekychen/linux » include › acpi › actbl.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>actbl.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Name: actbl.h - Basic ACPI Table Definitions</span>
<span class="cm"> *</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2000 - 2011, Intel Corp.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source and binary forms, with or without</span>
<span class="cm"> * modification, are permitted provided that the following conditions</span>
<span class="cm"> * are met:</span>
<span class="cm"> * 1. Redistributions of source code must retain the above copyright</span>
<span class="cm"> *    notice, this list of conditions, and the following disclaimer,</span>
<span class="cm"> *    without modification.</span>
<span class="cm"> * 2. Redistributions in binary form must reproduce at minimum a disclaimer</span>
<span class="cm"> *    substantially similar to the &quot;NO WARRANTY&quot; disclaimer below</span>
<span class="cm"> *    (&quot;Disclaimer&quot;) and any redistribution must be conditioned upon</span>
<span class="cm"> *    including a substantially similar Disclaimer requirement for further</span>
<span class="cm"> *    binary redistribution.</span>
<span class="cm"> * 3. Neither the names of the above-listed copyright holders nor the names</span>
<span class="cm"> *    of any contributors may be used to endorse or promote products derived</span>
<span class="cm"> *    from this software without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Alternatively, this software may be distributed under the terms of the</span>
<span class="cm"> * GNU General Public License (&quot;GPL&quot;) version 2 as published by the Free</span>
<span class="cm"> * Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * NO WARRANTY</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<span class="cm"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<span class="cm"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR</span>
<span class="cm"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<span class="cm"> * HOLDERS OR CONTRIBUTORS BE LIABLE FOR SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<span class="cm"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</span>
<span class="cm"> * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span>
<span class="cm"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</span>
<span class="cm"> * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span>
<span class="cm"> * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span>
<span class="cm"> * POSSIBILITY OF SUCH DAMAGES.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ACTBL_H__</span>
<span class="cp">#define __ACTBL_H__</span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Fundamental ACPI tables</span>
<span class="cm"> *</span>
<span class="cm"> * This file contains definitions for the ACPI tables that are directly consumed</span>
<span class="cm"> * by ACPICA. All other tables are consumed by the OS-dependent ACPI-related</span>
<span class="cm"> * device drivers and other OS support code.</span>
<span class="cm"> *</span>
<span class="cm"> * The RSDP and FACS do not use the common ACPI table header. All other ACPI</span>
<span class="cm"> * tables use the header.</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> * Values for description table header signatures for tables defined in this</span>
<span class="cm"> * file. Useful because they make it more difficult to inadvertently type in</span>
<span class="cm"> * the wrong signature.</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_SIG_DSDT           &quot;DSDT&quot;	</span><span class="cm">/* Differentiated System Description Table */</span><span class="cp"></span>
<span class="cp">#define ACPI_SIG_FADT           &quot;FACP&quot;	</span><span class="cm">/* Fixed ACPI Description Table */</span><span class="cp"></span>
<span class="cp">#define ACPI_SIG_FACS           &quot;FACS&quot;	</span><span class="cm">/* Firmware ACPI Control Structure */</span><span class="cp"></span>
<span class="cp">#define ACPI_SIG_PSDT           &quot;PSDT&quot;	</span><span class="cm">/* Persistent System Description Table */</span><span class="cp"></span>
<span class="cp">#define ACPI_SIG_RSDP           &quot;RSD PTR &quot;	</span><span class="cm">/* Root System Description Pointer */</span><span class="cp"></span>
<span class="cp">#define ACPI_SIG_RSDT           &quot;RSDT&quot;	</span><span class="cm">/* Root System Description Table */</span><span class="cp"></span>
<span class="cp">#define ACPI_SIG_XSDT           &quot;XSDT&quot;	</span><span class="cm">/* Extended  System Description Table */</span><span class="cp"></span>
<span class="cp">#define ACPI_SIG_SSDT           &quot;SSDT&quot;	</span><span class="cm">/* Secondary System Description Table */</span><span class="cp"></span>
<span class="cp">#define ACPI_RSDP_NAME          &quot;RSDP&quot;	</span><span class="cm">/* Short name for RSDP, not signature */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * All tables and structures must be byte-packed to match the ACPI</span>
<span class="cm"> * specification, since the tables are provided by the system BIOS</span>
<span class="cm"> */</span>
<span class="cp">#pragma pack(1)</span>

<span class="cm">/*</span>
<span class="cm"> * Note about bitfields: The u8 type is used for bitfields in ACPI tables.</span>
<span class="cm"> * This is the only type that is even remotely portable. Anything else is not</span>
<span class="cm"> * portable, so do not use any other bitfield types.</span>
<span class="cm"> */</span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Master ACPI Table Header. This common header is used by all ACPI tables</span>
<span class="cm"> * except the RSDP and FACS.</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="k">struct</span> <span class="n">acpi_table_header</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">signature</span><span class="p">[</span><span class="n">ACPI_NAME_SIZE</span><span class="p">];</span>	<span class="cm">/* ASCII table signature */</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>		<span class="cm">/* Length of table in bytes, including this header */</span>
	<span class="n">u8</span> <span class="n">revision</span><span class="p">;</span>		<span class="cm">/* ACPI Specification minor version # */</span>
	<span class="n">u8</span> <span class="n">checksum</span><span class="p">;</span>		<span class="cm">/* To make sum of entire table == 0 */</span>
	<span class="kt">char</span> <span class="n">oem_id</span><span class="p">[</span><span class="n">ACPI_OEM_ID_SIZE</span><span class="p">];</span>	<span class="cm">/* ASCII OEM identification */</span>
	<span class="kt">char</span> <span class="n">oem_table_id</span><span class="p">[</span><span class="n">ACPI_OEM_TABLE_ID_SIZE</span><span class="p">];</span>	<span class="cm">/* ASCII OEM table identification */</span>
	<span class="n">u32</span> <span class="n">oem_revision</span><span class="p">;</span>	<span class="cm">/* OEM revision number */</span>
	<span class="kt">char</span> <span class="n">asl_compiler_id</span><span class="p">[</span><span class="n">ACPI_NAME_SIZE</span><span class="p">];</span>	<span class="cm">/* ASCII ASL compiler vendor ID */</span>
	<span class="n">u32</span> <span class="n">asl_compiler_revision</span><span class="p">;</span>	<span class="cm">/* ASL compiler version */</span>
<span class="p">};</span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * GAS - Generic Address Structure (ACPI 2.0+)</span>
<span class="cm"> *</span>
<span class="cm"> * Note: Since this structure is used in the ACPI tables, it is byte aligned.</span>
<span class="cm"> * If misaliged access is not supported by the hardware, accesses to the</span>
<span class="cm"> * 64-bit Address field must be performed with care.</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">space_id</span><span class="p">;</span>		<span class="cm">/* Address space where struct or register exists */</span>
	<span class="n">u8</span> <span class="n">bit_width</span><span class="p">;</span>		<span class="cm">/* Size in bits of given register */</span>
	<span class="n">u8</span> <span class="n">bit_offset</span><span class="p">;</span>		<span class="cm">/* Bit offset within the register */</span>
	<span class="n">u8</span> <span class="n">access_width</span><span class="p">;</span>	<span class="cm">/* Minimum Access size (ACPI 3.0) */</span>
	<span class="n">u64</span> <span class="n">address</span><span class="p">;</span>		<span class="cm">/* 64-bit address of struct or register */</span>
<span class="p">};</span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * RSDP - Root System Description Pointer (Signature is &quot;RSD PTR &quot;)</span>
<span class="cm"> *        Version 2</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="k">struct</span> <span class="n">acpi_table_rsdp</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">signature</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/* ACPI signature, contains &quot;RSD PTR &quot; */</span>
	<span class="n">u8</span> <span class="n">checksum</span><span class="p">;</span>		<span class="cm">/* ACPI 1.0 checksum */</span>
	<span class="kt">char</span> <span class="n">oem_id</span><span class="p">[</span><span class="n">ACPI_OEM_ID_SIZE</span><span class="p">];</span>	<span class="cm">/* OEM identification */</span>
	<span class="n">u8</span> <span class="n">revision</span><span class="p">;</span>		<span class="cm">/* Must be (0) for ACPI 1.0 or (2) for ACPI 2.0+ */</span>
	<span class="n">u32</span> <span class="n">rsdt_physical_address</span><span class="p">;</span>	<span class="cm">/* 32-bit physical address of the RSDT */</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>		<span class="cm">/* Table length in bytes, including header (ACPI 2.0+) */</span>
	<span class="n">u64</span> <span class="n">xsdt_physical_address</span><span class="p">;</span>	<span class="cm">/* 64-bit physical address of the XSDT (ACPI 2.0+) */</span>
	<span class="n">u8</span> <span class="n">extended_checksum</span><span class="p">;</span>	<span class="cm">/* Checksum of entire table (ACPI 2.0+) */</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>		<span class="cm">/* Reserved, must be zero */</span>
<span class="p">};</span>

<span class="cp">#define ACPI_RSDP_REV0_SIZE     20	</span><span class="cm">/* Size of original ACPI 1.0 RSDP */</span><span class="cp"></span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * RSDT/XSDT - Root System Description Tables</span>
<span class="cm"> *             Version 1 (both)</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="k">struct</span> <span class="n">acpi_table_rsdt</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_table_header</span> <span class="n">header</span><span class="p">;</span>	<span class="cm">/* Common ACPI table header */</span>
	<span class="n">u32</span> <span class="n">table_offset_entry</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>	<span class="cm">/* Array of pointers to ACPI tables */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_table_xsdt</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_table_header</span> <span class="n">header</span><span class="p">;</span>	<span class="cm">/* Common ACPI table header */</span>
	<span class="n">u64</span> <span class="n">table_offset_entry</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>	<span class="cm">/* Array of pointers to ACPI tables */</span>
<span class="p">};</span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * FACS - Firmware ACPI Control Structure (FACS)</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="k">struct</span> <span class="n">acpi_table_facs</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">signature</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>	<span class="cm">/* ASCII table signature */</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>		<span class="cm">/* Length of structure, in bytes */</span>
	<span class="n">u32</span> <span class="n">hardware_signature</span><span class="p">;</span>	<span class="cm">/* Hardware configuration signature */</span>
	<span class="n">u32</span> <span class="n">firmware_waking_vector</span><span class="p">;</span>	<span class="cm">/* 32-bit physical address of the Firmware Waking Vector */</span>
	<span class="n">u32</span> <span class="n">global_lock</span><span class="p">;</span>	<span class="cm">/* Global Lock for shared hardware resources */</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">xfirmware_waking_vector</span><span class="p">;</span>	<span class="cm">/* 64-bit version of the Firmware Waking Vector (ACPI 2.0+) */</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">;</span>		<span class="cm">/* Version of this table (ACPI 2.0+) */</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>		<span class="cm">/* Reserved, must be zero */</span>
	<span class="n">u32</span> <span class="n">ospm_flags</span><span class="p">;</span>		<span class="cm">/* Flags to be set by OSPM (ACPI 4.0) */</span>
	<span class="n">u8</span> <span class="n">reserved1</span><span class="p">[</span><span class="mi">24</span><span class="p">];</span>	<span class="cm">/* Reserved, must be zero */</span>
<span class="p">};</span>

<span class="cm">/* Masks for global_lock flag field above */</span>

<span class="cp">#define ACPI_GLOCK_PENDING          (1)	</span><span class="cm">/* 00: Pending global lock ownership */</span><span class="cp"></span>
<span class="cp">#define ACPI_GLOCK_OWNED            (1&lt;&lt;1)	</span><span class="cm">/* 01: Global lock is owned */</span><span class="cp"></span>

<span class="cm">/* Masks for Flags field above  */</span>

<span class="cp">#define ACPI_FACS_S4_BIOS_PRESENT   (1)	</span><span class="cm">/* 00: S4BIOS support is present */</span><span class="cp"></span>
<span class="cp">#define ACPI_FACS_64BIT_WAKE        (1&lt;&lt;1)	</span><span class="cm">/* 01: 64-bit wake vector supported (ACPI 4.0) */</span><span class="cp"></span>

<span class="cm">/* Masks for ospm_flags field above */</span>

<span class="cp">#define ACPI_FACS_64BIT_ENVIRONMENT (1)	</span><span class="cm">/* 00: 64-bit wake environment is required (ACPI 4.0) */</span><span class="cp"></span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * FADT - Fixed ACPI Description Table (Signature &quot;FACP&quot;)</span>
<span class="cm"> *        Version 4</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="cm">/* Fields common to all versions of the FADT */</span>

<span class="k">struct</span> <span class="n">acpi_table_fadt</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_table_header</span> <span class="n">header</span><span class="p">;</span>	<span class="cm">/* Common ACPI table header */</span>
	<span class="n">u32</span> <span class="n">facs</span><span class="p">;</span>		<span class="cm">/* 32-bit physical address of FACS */</span>
	<span class="n">u32</span> <span class="n">dsdt</span><span class="p">;</span>		<span class="cm">/* 32-bit physical address of DSDT */</span>
	<span class="n">u8</span> <span class="n">model</span><span class="p">;</span>		<span class="cm">/* System Interrupt Model (ACPI 1.0) - not used in ACPI 2.0+ */</span>
	<span class="n">u8</span> <span class="n">preferred_profile</span><span class="p">;</span>	<span class="cm">/* Conveys preferred power management profile to OSPM. */</span>
	<span class="n">u16</span> <span class="n">sci_interrupt</span><span class="p">;</span>	<span class="cm">/* System vector of SCI interrupt */</span>
	<span class="n">u32</span> <span class="n">smi_command</span><span class="p">;</span>	<span class="cm">/* 32-bit Port address of SMI command port */</span>
	<span class="n">u8</span> <span class="n">acpi_enable</span><span class="p">;</span>		<span class="cm">/* Value to write to smi_cmd to enable ACPI */</span>
	<span class="n">u8</span> <span class="n">acpi_disable</span><span class="p">;</span>	<span class="cm">/* Value to write to smi_cmd to disable ACPI */</span>
	<span class="n">u8</span> <span class="n">S4bios_request</span><span class="p">;</span>	<span class="cm">/* Value to write to SMI CMD to enter S4BIOS state */</span>
	<span class="n">u8</span> <span class="n">pstate_control</span><span class="p">;</span>	<span class="cm">/* Processor performance state control */</span>
	<span class="n">u32</span> <span class="n">pm1a_event_block</span><span class="p">;</span>	<span class="cm">/* 32-bit Port address of Power Mgt 1a Event Reg Blk */</span>
	<span class="n">u32</span> <span class="n">pm1b_event_block</span><span class="p">;</span>	<span class="cm">/* 32-bit Port address of Power Mgt 1b Event Reg Blk */</span>
	<span class="n">u32</span> <span class="n">pm1a_control_block</span><span class="p">;</span>	<span class="cm">/* 32-bit Port address of Power Mgt 1a Control Reg Blk */</span>
	<span class="n">u32</span> <span class="n">pm1b_control_block</span><span class="p">;</span>	<span class="cm">/* 32-bit Port address of Power Mgt 1b Control Reg Blk */</span>
	<span class="n">u32</span> <span class="n">pm2_control_block</span><span class="p">;</span>	<span class="cm">/* 32-bit Port address of Power Mgt 2 Control Reg Blk */</span>
	<span class="n">u32</span> <span class="n">pm_timer_block</span><span class="p">;</span>	<span class="cm">/* 32-bit Port address of Power Mgt Timer Ctrl Reg Blk */</span>
	<span class="n">u32</span> <span class="n">gpe0_block</span><span class="p">;</span>		<span class="cm">/* 32-bit Port address of General Purpose Event 0 Reg Blk */</span>
	<span class="n">u32</span> <span class="n">gpe1_block</span><span class="p">;</span>		<span class="cm">/* 32-bit Port address of General Purpose Event 1 Reg Blk */</span>
	<span class="n">u8</span> <span class="n">pm1_event_length</span><span class="p">;</span>	<span class="cm">/* Byte Length of ports at pm1x_event_block */</span>
	<span class="n">u8</span> <span class="n">pm1_control_length</span><span class="p">;</span>	<span class="cm">/* Byte Length of ports at pm1x_control_block */</span>
	<span class="n">u8</span> <span class="n">pm2_control_length</span><span class="p">;</span>	<span class="cm">/* Byte Length of ports at pm2_control_block */</span>
	<span class="n">u8</span> <span class="n">pm_timer_length</span><span class="p">;</span>	<span class="cm">/* Byte Length of ports at pm_timer_block */</span>
	<span class="n">u8</span> <span class="n">gpe0_block_length</span><span class="p">;</span>	<span class="cm">/* Byte Length of ports at gpe0_block */</span>
	<span class="n">u8</span> <span class="n">gpe1_block_length</span><span class="p">;</span>	<span class="cm">/* Byte Length of ports at gpe1_block */</span>
	<span class="n">u8</span> <span class="n">gpe1_base</span><span class="p">;</span>		<span class="cm">/* Offset in GPE number space where GPE1 events start */</span>
	<span class="n">u8</span> <span class="n">cst_control</span><span class="p">;</span>		<span class="cm">/* Support for the _CST object and C States change notification */</span>
	<span class="n">u16</span> <span class="n">C2latency</span><span class="p">;</span>		<span class="cm">/* Worst case HW latency to enter/exit C2 state */</span>
	<span class="n">u16</span> <span class="n">C3latency</span><span class="p">;</span>		<span class="cm">/* Worst case HW latency to enter/exit C3 state */</span>
	<span class="n">u16</span> <span class="n">flush_size</span><span class="p">;</span>		<span class="cm">/* Processor&#39;s memory cache line width, in bytes */</span>
	<span class="n">u16</span> <span class="n">flush_stride</span><span class="p">;</span>	<span class="cm">/* Number of flush strides that need to be read */</span>
	<span class="n">u8</span> <span class="n">duty_offset</span><span class="p">;</span>		<span class="cm">/* Processor duty cycle index in processor&#39;s P_CNT reg */</span>
	<span class="n">u8</span> <span class="n">duty_width</span><span class="p">;</span>		<span class="cm">/* Processor duty cycle value bit width in P_CNT register */</span>
	<span class="n">u8</span> <span class="n">day_alarm</span><span class="p">;</span>		<span class="cm">/* Index to day-of-month alarm in RTC CMOS RAM */</span>
	<span class="n">u8</span> <span class="n">month_alarm</span><span class="p">;</span>		<span class="cm">/* Index to month-of-year alarm in RTC CMOS RAM */</span>
	<span class="n">u8</span> <span class="n">century</span><span class="p">;</span>		<span class="cm">/* Index to century in RTC CMOS RAM */</span>
	<span class="n">u16</span> <span class="n">boot_flags</span><span class="p">;</span>		<span class="cm">/* IA-PC Boot Architecture Flags (see below for individual flags) */</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>		<span class="cm">/* Reserved, must be zero */</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>		<span class="cm">/* Miscellaneous flag bits (see below for individual flags) */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">reset_register</span><span class="p">;</span>	<span class="cm">/* 64-bit address of the Reset register */</span>
	<span class="n">u8</span> <span class="n">reset_value</span><span class="p">;</span>		<span class="cm">/* Value to write to the reset_register port to reset the system */</span>
	<span class="n">u8</span> <span class="n">reserved4</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>	<span class="cm">/* Reserved, must be zero */</span>
	<span class="n">u64</span> <span class="n">Xfacs</span><span class="p">;</span>		<span class="cm">/* 64-bit physical address of FACS */</span>
	<span class="n">u64</span> <span class="n">Xdsdt</span><span class="p">;</span>		<span class="cm">/* 64-bit physical address of DSDT */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">xpm1a_event_block</span><span class="p">;</span>	<span class="cm">/* 64-bit Extended Power Mgt 1a Event Reg Blk address */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">xpm1b_event_block</span><span class="p">;</span>	<span class="cm">/* 64-bit Extended Power Mgt 1b Event Reg Blk address */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">xpm1a_control_block</span><span class="p">;</span>	<span class="cm">/* 64-bit Extended Power Mgt 1a Control Reg Blk address */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">xpm1b_control_block</span><span class="p">;</span>	<span class="cm">/* 64-bit Extended Power Mgt 1b Control Reg Blk address */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">xpm2_control_block</span><span class="p">;</span>	<span class="cm">/* 64-bit Extended Power Mgt 2 Control Reg Blk address */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">xpm_timer_block</span><span class="p">;</span>	<span class="cm">/* 64-bit Extended Power Mgt Timer Ctrl Reg Blk address */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">xgpe0_block</span><span class="p">;</span>	<span class="cm">/* 64-bit Extended General Purpose Event 0 Reg Blk address */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">xgpe1_block</span><span class="p">;</span>	<span class="cm">/* 64-bit Extended General Purpose Event 1 Reg Blk address */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">sleep_control</span><span class="p">;</span>	<span class="cm">/* 64-bit Sleep Control register */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">sleep_status</span><span class="p">;</span>	<span class="cm">/* 64-bit Sleep Status register */</span>
<span class="p">};</span>

<span class="cm">/* Masks for FADT Boot Architecture Flags (boot_flags) */</span>

<span class="cp">#define ACPI_FADT_LEGACY_DEVICES    (1)  	</span><span class="cm">/* 00: [V2] System has LPC or ISA bus devices */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_8042              (1&lt;&lt;1)	</span><span class="cm">/* 01: [V3] System has an 8042 controller on port 60/64 */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_NO_VGA            (1&lt;&lt;2)	</span><span class="cm">/* 02: [V4] It is not safe to probe for VGA hardware */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_NO_MSI            (1&lt;&lt;3)	</span><span class="cm">/* 03: [V4] Message Signaled Interrupts (MSI) must not be enabled */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_NO_ASPM           (1&lt;&lt;4)	</span><span class="cm">/* 04: [V4] PCIe ASPM control must not be enabled */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_NO_CMOS_RTC       (1&lt;&lt;5)	</span><span class="cm">/* 05: [V5] No CMOS real-time clock present */</span><span class="cp"></span>

<span class="cp">#define FADT2_REVISION_ID               3</span>

<span class="cm">/* Masks for FADT flags */</span>

<span class="cp">#define ACPI_FADT_WBINVD            (1)	</span><span class="cm">/* 00: [V1] The wbinvd instruction works properly */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_WBINVD_FLUSH      (1&lt;&lt;1)	</span><span class="cm">/* 01: [V1] wbinvd flushes but does not invalidate caches */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_C1_SUPPORTED      (1&lt;&lt;2)	</span><span class="cm">/* 02: [V1] All processors support C1 state */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_C2_MP_SUPPORTED   (1&lt;&lt;3)	</span><span class="cm">/* 03: [V1] C2 state works on MP system */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_POWER_BUTTON      (1&lt;&lt;4)	</span><span class="cm">/* 04: [V1] Power button is handled as a control method device */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_SLEEP_BUTTON      (1&lt;&lt;5)	</span><span class="cm">/* 05: [V1] Sleep button is handled as a control method device */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_FIXED_RTC         (1&lt;&lt;6)	</span><span class="cm">/* 06: [V1] RTC wakeup status not in fixed register space */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_S4_RTC_WAKE       (1&lt;&lt;7)	</span><span class="cm">/* 07: [V1] RTC alarm can wake system from S4 */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_32BIT_TIMER       (1&lt;&lt;8)	</span><span class="cm">/* 08: [V1] ACPI timer width is 32-bit (0=24-bit) */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_DOCKING_SUPPORTED (1&lt;&lt;9)	</span><span class="cm">/* 09: [V1] Docking supported */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_RESET_REGISTER    (1&lt;&lt;10)	</span><span class="cm">/* 10: [V2] System reset via the FADT RESET_REG supported */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_SEALED_CASE       (1&lt;&lt;11)	</span><span class="cm">/* 11: [V3] No internal expansion capabilities and case is sealed */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_HEADLESS          (1&lt;&lt;12)	</span><span class="cm">/* 12: [V3] No local video capabilities or local input devices */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_SLEEP_TYPE        (1&lt;&lt;13)	</span><span class="cm">/* 13: [V3] Must execute native instruction after writing  SLP_TYPx register */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_PCI_EXPRESS_WAKE  (1&lt;&lt;14)	</span><span class="cm">/* 14: [V4] System supports PCIEXP_WAKE (STS/EN) bits (ACPI 3.0) */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_PLATFORM_CLOCK    (1&lt;&lt;15)	</span><span class="cm">/* 15: [V4] OSPM should use platform-provided timer (ACPI 3.0) */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_S4_RTC_VALID      (1&lt;&lt;16)	</span><span class="cm">/* 16: [V4] Contents of RTC_STS valid after S4 wake (ACPI 3.0) */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_REMOTE_POWER_ON   (1&lt;&lt;17)	</span><span class="cm">/* 17: [V4] System is compatible with remote power on (ACPI 3.0) */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_APIC_CLUSTER      (1&lt;&lt;18)	</span><span class="cm">/* 18: [V4] All local APICs must use cluster model (ACPI 3.0) */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_APIC_PHYSICAL     (1&lt;&lt;19)	</span><span class="cm">/* 19: [V4] All local x_aPICs must use physical dest mode (ACPI 3.0) */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_HW_REDUCED        (1&lt;&lt;20)	</span><span class="cm">/* 20: [V5] ACPI hardware is not implemented (ACPI 5.0) */</span><span class="cp"></span>
<span class="cp">#define ACPI_FADT_LOW_POWER_S0      (1&lt;&lt;21)	</span><span class="cm">/* 21: [V5] S0 power savings are equal or better than S3 (ACPI 5.0) */</span><span class="cp"></span>

<span class="cm">/* Values for preferred_profile (Preferred Power Management Profiles) */</span>

<span class="k">enum</span> <span class="n">acpi_prefered_pm_profiles</span> <span class="p">{</span>
	<span class="n">PM_UNSPECIFIED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">PM_DESKTOP</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">PM_MOBILE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">PM_WORKSTATION</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">PM_ENTERPRISE_SERVER</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">PM_SOHO_SERVER</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">PM_APPLIANCE_PC</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">PM_PERFORMANCE_SERVER</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">PM_TABLET</span> <span class="o">=</span> <span class="mi">8</span>
<span class="p">};</span>

<span class="cm">/* Values for sleep_status and sleep_control registers (V5 FADT) */</span>

<span class="cp">#define ACPI_X_WAKE_STATUS          0x80</span>
<span class="cp">#define ACPI_X_SLEEP_TYPE_MASK      0x1C</span>
<span class="cp">#define ACPI_X_SLEEP_TYPE_POSITION  0x02</span>
<span class="cp">#define ACPI_X_SLEEP_ENABLE         0x20</span>

<span class="cm">/* Reset to default packing */</span>

<span class="cp">#pragma pack()</span>

<span class="cp">#define ACPI_FADT_OFFSET(f)             (u16) ACPI_OFFSET (struct acpi_table_fadt, f)</span>

<span class="cm">/*</span>
<span class="cm"> * Internal table-related structures</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">acpi_name_union</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">integer</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">ascii</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* Internal ACPI Table Descriptor. One per ACPI table. */</span>

<span class="k">struct</span> <span class="n">acpi_table_desc</span> <span class="p">{</span>
	<span class="n">acpi_physical_address</span> <span class="n">address</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_table_header</span> <span class="o">*</span><span class="n">pointer</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>		<span class="cm">/* Length fixed at 32 bits */</span>
	<span class="k">union</span> <span class="n">acpi_name_union</span> <span class="n">signature</span><span class="p">;</span>
	<span class="n">acpi_owner_id</span> <span class="n">owner_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Masks for Flags field above */</span>

<span class="cp">#define ACPI_TABLE_ORIGIN_UNKNOWN       (0)</span>
<span class="cp">#define ACPI_TABLE_ORIGIN_MAPPED        (1)</span>
<span class="cp">#define ACPI_TABLE_ORIGIN_ALLOCATED     (2)</span>
<span class="cp">#define ACPI_TABLE_ORIGIN_OVERRIDE      (4)</span>
<span class="cp">#define ACPI_TABLE_ORIGIN_MASK          (7)</span>
<span class="cp">#define ACPI_TABLE_IS_LOADED            (8)</span>

<span class="cm">/*</span>
<span class="cm"> * Get the remaining ACPI tables</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;acpi/actbl1.h&gt;</span>
<span class="cp">#include &lt;acpi/actbl2.h&gt;</span>
<span class="cp">#include &lt;acpi/actbl3.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * Sizes of the various flavors of FADT. We need to look closely</span>
<span class="cm"> * at the FADT length because the version number essentially tells</span>
<span class="cm"> * us nothing because of many BIOS bugs where the version does not</span>
<span class="cm"> * match the expected length. In other words, the length of the</span>
<span class="cm"> * FADT is the bottom line as to what the version really is.</span>
<span class="cm"> *</span>
<span class="cm"> * For reference, the values below are as follows:</span>
<span class="cm"> *     FADT V1  size: 0x074</span>
<span class="cm"> *     FADT V2  size: 0x084</span>
<span class="cm"> *     FADT V3  size: 0x0F4</span>
<span class="cm"> *     FADT V4  size: 0x0F4</span>
<span class="cm"> *     FADT V5  size: 0x10C</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_FADT_V1_SIZE       (u32) (ACPI_FADT_OFFSET (flags) + 4)</span>
<span class="cp">#define ACPI_FADT_V2_SIZE       (u32) (ACPI_FADT_OFFSET (reserved4[0]) + 3)</span>
<span class="cp">#define ACPI_FADT_V3_SIZE       (u32) (ACPI_FADT_OFFSET (sleep_control))</span>
<span class="cp">#define ACPI_FADT_V5_SIZE       (u32) (sizeof (struct acpi_table_fadt))</span>

<span class="cp">#endif				</span><span class="cm">/* __ACTBL_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
