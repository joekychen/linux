f | ubi-user.h | s | 15K | 379 | Artem Bityutskiy | artem.bityutskiy@linux.intel.com | 1337534759 |  | UBI: amend commentaries WRT dtype  Richard removed the "dtype" hint, but few commentaries were left and this patch removes them. I've also added a better description about the "dtype" field in the ubi-user.h for people who may ever wonder what was that dtype thing about.  This patch also adds an important note that it is better to use value "3" for the "dtype" field.  Signed-off-by: Artem Bityutskiy <artem.bityutskiy@linux.intel.com>
f | mtd-abi.h | s | 9.2K | 254 | Artem Bityutskiy | Artem.Bityutskiy@linux.intel.com | 1326133116 |  | mtd: document that MEMWRITE ioctl is NAND-specific  Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@linux.intel.com> Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | mtd-user.h | s | 1.2K | 29 | Brian Norris | computersforpeace@gmail.com | 1287959844 |  | mtd: nand: expand nand_ecc_layout, deprecate ioctl ECCGETLAYOUT  struct nand_ecclayout is too small for many new chips; OOB regions can be as large as 448 bytes and may increase more in the future. Thus, copying that struct to user-space with the ECCGETLAYOUT ioctl is not a good idea; the ioctl would have to be updated every time there's a change to the current largest size.  Instead, the old nand_ecclayout is renamed to nand_ecclayout_user and a new struct nand_ecclayout is created that can accomodate larger sizes and expand without affecting the user-space. struct nand_ecclayout can still be used in board drivers without modification -- at least for now.  A new function is provided to convert from the new to the old in order to allow the deprecated ioctl to continue to work with truncated data. Perhaps the ioctl, the conversion process, and the struct nand_ecclayout_user can be removed altogether in the future.  Note: There are comments in nand/davinci_nand.c::nand_davinci_probe() regarding this issue; this driver (and maybe others) can be updated to account for extra space. All kernel drivers can use the expanded nand_ecclayout as a drop-in replacement and ignore its benefits.  Signed-off-by: Brian Norris <computersforpeace@gmail.com> Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com> Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | nftl-user.h | s | 2.0K | 72 | David Woodhouse | David.Woodhouse@intel.com | 1281297500 |  | mtd: Update copyright notices  Signed-off-by: David Woodhouse <dwmw2@infradead.org>
f | inftl-user.h | s | 1.5K | 72 | Arnd Bergmann | arnd@arndb.de | 1238087657 |  | make MTD headers use strict integer types  The MTD headers traditionally use stdint types rather than the kernel integer types. This converts them to do the same as all the others.  Cc: David Woodhouse <dwmw2@infradead.org> Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: H. Peter Anvin <hpa@linux.intel.com> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | Kbuild | g | 117B |  | Artem Bityutskiy | Artem.Bityutskiy@nokia.com | 1244219498 |  | Kill jffs2-user.h  This file does not define any kernel-userspace API, all it does it defines few helpers for userspace. Instead, userspace should have a private copy of this file.  The main (if not the only) user is the mtd-utils package, but it already has a private copy of this file.  This patch also removes references to 'jffs2-user.h' from 'Kbuild' and MAINTAINERS' files.  Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com> Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
