<!DOCTYPE html>
<html><head><title>joekychen/linux » include › net › rose.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>rose.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *	Declarations of Rose type objects.</span>
<span class="cm"> *</span>
<span class="cm"> *	Jonathan Naylor G4KLX	25/8/96</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _ROSE_H</span>
<span class="cp">#define _ROSE_H </span>

<span class="cp">#include &lt;linux/rose.h&gt;</span>
<span class="cp">#include &lt;net/sock.h&gt;</span>

<span class="cp">#define	ROSE_ADDR_LEN			5</span>

<span class="cp">#define	ROSE_MIN_LEN			3</span>

<span class="cp">#define	ROSE_CALL_REQ_ADDR_LEN_OFF	3</span>
<span class="cp">#define	ROSE_CALL_REQ_ADDR_LEN_VAL	0xAA	</span><span class="cm">/* each address is 10 digits */</span><span class="cp"></span>
<span class="cp">#define	ROSE_CALL_REQ_DEST_ADDR_OFF	4</span>
<span class="cp">#define	ROSE_CALL_REQ_SRC_ADDR_OFF	9</span>
<span class="cp">#define	ROSE_CALL_REQ_FACILITIES_OFF	14</span>

<span class="cp">#define	ROSE_GFI			0x10</span>
<span class="cp">#define	ROSE_Q_BIT			0x80</span>
<span class="cp">#define	ROSE_D_BIT			0x40</span>
<span class="cp">#define	ROSE_M_BIT			0x10</span>

<span class="cp">#define	ROSE_CALL_REQUEST		0x0B</span>
<span class="cp">#define	ROSE_CALL_ACCEPTED		0x0F</span>
<span class="cp">#define	ROSE_CLEAR_REQUEST		0x13</span>
<span class="cp">#define	ROSE_CLEAR_CONFIRMATION		0x17</span>
<span class="cp">#define	ROSE_DATA			0x00</span>
<span class="cp">#define	ROSE_INTERRUPT			0x23</span>
<span class="cp">#define	ROSE_INTERRUPT_CONFIRMATION	0x27</span>
<span class="cp">#define	ROSE_RR				0x01</span>
<span class="cp">#define	ROSE_RNR			0x05</span>
<span class="cp">#define	ROSE_REJ			0x09</span>
<span class="cp">#define	ROSE_RESET_REQUEST		0x1B</span>
<span class="cp">#define	ROSE_RESET_CONFIRMATION		0x1F</span>
<span class="cp">#define	ROSE_REGISTRATION_REQUEST	0xF3</span>
<span class="cp">#define	ROSE_REGISTRATION_CONFIRMATION	0xF7</span>
<span class="cp">#define	ROSE_RESTART_REQUEST		0xFB</span>
<span class="cp">#define	ROSE_RESTART_CONFIRMATION	0xFF</span>
<span class="cp">#define	ROSE_DIAGNOSTIC			0xF1</span>
<span class="cp">#define	ROSE_ILLEGAL			0xFD</span>

<span class="cm">/* Define Link State constants. */</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">ROSE_STATE_0</span><span class="p">,</span>			<span class="cm">/* Ready */</span>
	<span class="n">ROSE_STATE_1</span><span class="p">,</span>			<span class="cm">/* Awaiting Call Accepted */</span>
	<span class="n">ROSE_STATE_2</span><span class="p">,</span>			<span class="cm">/* Awaiting Clear Confirmation */</span>
	<span class="n">ROSE_STATE_3</span><span class="p">,</span>			<span class="cm">/* Data Transfer */</span>
	<span class="n">ROSE_STATE_4</span><span class="p">,</span>			<span class="cm">/* Awaiting Reset Confirmation */</span>
	<span class="n">ROSE_STATE_5</span>			<span class="cm">/* Deferred Call Acceptance */</span>
<span class="p">};</span>

<span class="cp">#define ROSE_DEFAULT_T0			180000		</span><span class="cm">/* Default T10 T20 value */</span><span class="cp"></span>
<span class="cp">#define ROSE_DEFAULT_T1			200000		</span><span class="cm">/* Default T11 T21 value */</span><span class="cp"></span>
<span class="cp">#define ROSE_DEFAULT_T2			180000		</span><span class="cm">/* Default T12 T22 value */</span><span class="cp"></span>
<span class="cp">#define	ROSE_DEFAULT_T3			180000		</span><span class="cm">/* Default T13 T23 value */</span><span class="cp"></span>
<span class="cp">#define	ROSE_DEFAULT_HB			5000		</span><span class="cm">/* Default Holdback value */</span><span class="cp"></span>
<span class="cp">#define	ROSE_DEFAULT_IDLE		0		</span><span class="cm">/* No Activity Timeout - none */</span><span class="cp"></span>
<span class="cp">#define	ROSE_DEFAULT_ROUTING		1		</span><span class="cm">/* Default routing flag */</span><span class="cp"></span>
<span class="cp">#define	ROSE_DEFAULT_FAIL_TIMEOUT	120000		</span><span class="cm">/* Time until link considered usable */</span><span class="cp"></span>
<span class="cp">#define	ROSE_DEFAULT_MAXVC		50		</span><span class="cm">/* Maximum number of VCs per neighbour */</span><span class="cp"></span>
<span class="cp">#define	ROSE_DEFAULT_WINDOW_SIZE	7		</span><span class="cm">/* Default window size */</span><span class="cp"></span>

<span class="cp">#define ROSE_MODULUS 			8</span>
<span class="cp">#define	ROSE_MAX_PACKET_SIZE		251		</span><span class="cm">/* Maximum packet size */</span><span class="cp"></span>

<span class="cp">#define	ROSE_COND_ACK_PENDING		0x01</span>
<span class="cp">#define	ROSE_COND_PEER_RX_BUSY		0x02</span>
<span class="cp">#define	ROSE_COND_OWN_RX_BUSY		0x04</span>

<span class="cp">#define	FAC_NATIONAL			0x00</span>
<span class="cp">#define	FAC_CCITT			0x0F</span>

<span class="cp">#define	FAC_NATIONAL_RAND		0x7F</span>
<span class="cp">#define	FAC_NATIONAL_FLAGS		0x3F</span>
<span class="cp">#define	FAC_NATIONAL_DEST_DIGI		0xE9</span>
<span class="cp">#define	FAC_NATIONAL_SRC_DIGI		0xEB</span>
<span class="cp">#define	FAC_NATIONAL_FAIL_CALL		0xED</span>
<span class="cp">#define	FAC_NATIONAL_FAIL_ADD		0xEE</span>
<span class="cp">#define	FAC_NATIONAL_DIGIS			0xEF</span>

<span class="cp">#define	FAC_CCITT_DEST_NSAP		0xC9</span>
<span class="cp">#define	FAC_CCITT_SRC_NSAP		0xCB</span>

<span class="k">struct</span> <span class="n">rose_neigh</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">rose_neigh</span>	<span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="n">ax25_address</span>		<span class="n">callsign</span><span class="p">;</span>
	<span class="n">ax25_digi</span>		<span class="o">*</span><span class="n">digipeat</span><span class="p">;</span>
	<span class="n">ax25_cb</span>			<span class="o">*</span><span class="n">ax25</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">net_device</span>		<span class="o">*</span><span class="n">dev</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>		<span class="n">count</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>		<span class="n">use</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">number</span><span class="p">;</span>
	<span class="kt">char</span>			<span class="n">restarted</span><span class="p">;</span>
	<span class="kt">char</span>			<span class="n">dce_mode</span><span class="p">;</span>
	<span class="kt">char</span>			<span class="n">loopback</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sk_buff_head</span>	<span class="n">queue</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timer_list</span>	<span class="n">t0timer</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timer_list</span>	<span class="n">ftimer</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rose_node</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">rose_node</span>	<span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="n">rose_address</span>		<span class="n">address</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>		<span class="n">mask</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>		<span class="n">count</span><span class="p">;</span>
	<span class="kt">char</span>			<span class="n">loopback</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rose_neigh</span>	<span class="o">*</span><span class="n">neighbour</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rose_route</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">rose_route</span>	<span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">lci1</span><span class="p">,</span> <span class="n">lci2</span><span class="p">;</span>
	<span class="n">rose_address</span>		<span class="n">src_addr</span><span class="p">,</span> <span class="n">dest_addr</span><span class="p">;</span>
	<span class="n">ax25_address</span>		<span class="n">src_call</span><span class="p">,</span> <span class="n">dest_call</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rose_neigh</span> 	<span class="o">*</span><span class="n">neigh1</span><span class="p">,</span> <span class="o">*</span><span class="n">neigh2</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">rand</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rose_sock</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">sock</span>		<span class="n">sock</span><span class="p">;</span>
	<span class="n">rose_address</span>		<span class="n">source_addr</span><span class="p">,</span>   <span class="n">dest_addr</span><span class="p">;</span>
	<span class="n">ax25_address</span>		<span class="n">source_call</span><span class="p">,</span>   <span class="n">dest_call</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>		<span class="n">source_ndigis</span><span class="p">,</span> <span class="n">dest_ndigis</span><span class="p">;</span>
	<span class="n">ax25_address</span>		<span class="n">source_digis</span><span class="p">[</span><span class="n">ROSE_MAX_DIGIS</span><span class="p">];</span>
	<span class="n">ax25_address</span>		<span class="n">dest_digis</span><span class="p">[</span><span class="n">ROSE_MAX_DIGIS</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">rose_neigh</span>	<span class="o">*</span><span class="n">neighbour</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">net_device</span>		<span class="o">*</span><span class="n">device</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>		<span class="n">lci</span><span class="p">,</span> <span class="n">rand</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>		<span class="n">state</span><span class="p">,</span> <span class="n">condition</span><span class="p">,</span> <span class="n">qbitincl</span><span class="p">,</span> <span class="n">defer</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>		<span class="n">cause</span><span class="p">,</span> <span class="n">diagnostic</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>		<span class="n">vs</span><span class="p">,</span> <span class="n">vr</span><span class="p">,</span> <span class="n">va</span><span class="p">,</span> <span class="n">vl</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>		<span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">hb</span><span class="p">,</span> <span class="n">idle</span><span class="p">;</span>
<span class="cp">#ifdef M_BIT</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>		<span class="n">fraglen</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sk_buff_head</span>	<span class="n">frag_queue</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="k">struct</span> <span class="n">sk_buff_head</span>	<span class="n">ack_queue</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rose_facilities_struct</span> <span class="n">facilities</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timer_list</span>	<span class="n">timer</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timer_list</span>	<span class="n">idletimer</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define rose_sk(sk) ((struct rose_sock *)(sk))</span>

<span class="cm">/* af_rose.c */</span>
<span class="k">extern</span> <span class="n">ax25_address</span> <span class="n">rose_callsign</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_restart_request_timeout</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_call_request_timeout</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_reset_request_timeout</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_clear_request_timeout</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_no_activity_timeout</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_ack_hold_back_timeout</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_routing_control</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_link_fail_timeout</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_maximum_vcs</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">sysctl_rose_window_size</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rosecmp</span><span class="p">(</span><span class="n">rose_address</span> <span class="o">*</span><span class="p">,</span> <span class="n">rose_address</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rosecmpm</span><span class="p">(</span><span class="n">rose_address</span> <span class="o">*</span><span class="p">,</span> <span class="n">rose_address</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">short</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">char</span> <span class="o">*</span><span class="n">rose2asc</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="k">const</span> <span class="n">rose_address</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="n">rose_find_socket</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">,</span> <span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_kill_by_neigh</span><span class="p">(</span><span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">rose_new_lci</span><span class="p">(</span><span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_rx_call_request</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_destroy_socket</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/* rose_dev.c */</span>
<span class="k">extern</span> <span class="kt">void</span>  <span class="n">rose_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/* rose_in.c */</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_process_rx_frame</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/* rose_link.c */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_start_ftimer</span><span class="p">(</span><span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_stop_ftimer</span><span class="p">(</span><span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_stop_t0timer</span><span class="p">(</span><span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_ftimer_running</span><span class="p">(</span><span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_link_rx_restart</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">short</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_transmit_clear_request</span><span class="p">(</span><span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_transmit_link</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/* rose_loopback.c */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_loopback_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_loopback_clear</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_loopback_queue</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/* rose_out.c */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_kick</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_enquiry_response</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/* rose_route.c */</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="n">rose_loopback_neigh</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">file_operations</span> <span class="n">rose_neigh_fops</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">file_operations</span> <span class="n">rose_nodes_fops</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">file_operations</span> <span class="n">rose_routes_fops</span><span class="p">;</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_add_loopback_neigh</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">__must_check</span> <span class="n">rose_add_loopback_node</span><span class="p">(</span><span class="n">rose_address</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_del_loopback_node</span><span class="p">(</span><span class="n">rose_address</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_rt_device_down</span><span class="p">(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_link_device_down</span><span class="p">(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">rose_dev_first</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">rose_dev_get</span><span class="p">(</span><span class="n">rose_address</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">rose_route</span> <span class="o">*</span><span class="n">rose_route_free_lci</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">,</span> <span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">rose_neigh</span> <span class="o">*</span><span class="n">rose_get_neigh</span><span class="p">(</span><span class="n">rose_address</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_rt_ioctl</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">void</span> <span class="n">__user</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_link_failed</span><span class="p">(</span><span class="n">ax25_cb</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_route_frame</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">,</span> <span class="n">ax25_cb</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_rt_free</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cm">/* rose_subr.c */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_clear_queues</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_frames_acked</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">short</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_requeue_frames</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_validate_nr</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">short</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_write_internal</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_decode</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span>  <span class="n">rose_parse_facilities</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span><span class="p">,</span> <span class="k">struct</span> <span class="n">rose_facilities_struct</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_disconnect</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>

<span class="cm">/* rose_timer.c */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_start_heartbeat</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_start_t1timer</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_start_t2timer</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_start_t3timer</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_start_hbtimer</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_start_idletimer</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_stop_heartbeat</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_stop_timer</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_stop_idletimer</span><span class="p">(</span><span class="k">struct</span> <span class="n">sock</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/* sysctl_net_rose.c */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_register_sysctl</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">rose_unregister_sysctl</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
