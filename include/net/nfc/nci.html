<!DOCTYPE html>
<html><head><title>joekychen/linux » include › net › nfc › nci.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>nci.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  The NFC Controller Interface is the communication protocol between an</span>
<span class="cm"> *  NFC Controller (NFCC) and a Device Host (DH).</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2011 Texas Instruments, Inc.</span>
<span class="cm"> *</span>
<span class="cm"> *  Written by Ilan Elias &lt;ilane@ti.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *  Acknowledgements:</span>
<span class="cm"> *  This file is based on hci.h, which was written</span>
<span class="cm"> *  by Maxim Krasnyansky.</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> *  it under the terms of the GNU General Public License version 2</span>
<span class="cm"> *  as published by the Free Software Foundation</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is distributed in the hope that it will be useful,</span>
<span class="cm"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> *  GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> *  You should have received a copy of the GNU General Public License</span>
<span class="cm"> *  along with this program; if not, write to the Free Software</span>
<span class="cm"> *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __NCI_H</span>
<span class="cp">#define __NCI_H</span>

<span class="cm">/* NCI constants */</span>
<span class="cp">#define NCI_MAX_NUM_MAPPING_CONFIGS				10</span>
<span class="cp">#define NCI_MAX_NUM_RF_CONFIGS					10</span>
<span class="cp">#define NCI_MAX_NUM_CONN					10</span>

<span class="cm">/* NCI Status Codes */</span>
<span class="cp">#define NCI_STATUS_OK						0x00</span>
<span class="cp">#define NCI_STATUS_REJECTED					0x01</span>
<span class="cp">#define NCI_STATUS_RF_FRAME_CORRUPTED				0x02</span>
<span class="cp">#define NCI_STATUS_FAILED					0x03</span>
<span class="cp">#define NCI_STATUS_NOT_INITIALIZED				0x04</span>
<span class="cp">#define NCI_STATUS_SYNTAX_ERROR					0x05</span>
<span class="cp">#define NCI_STATUS_SEMANTIC_ERROR				0x06</span>
<span class="cp">#define NCI_STATUS_UNKNOWN_GID					0x07</span>
<span class="cp">#define NCI_STATUS_UNKNOWN_OID					0x08</span>
<span class="cp">#define NCI_STATUS_INVALID_PARAM				0x09</span>
<span class="cp">#define NCI_STATUS_MESSAGE_SIZE_EXCEEDED			0x0a</span>
<span class="cm">/* Discovery Specific Status Codes */</span>
<span class="cp">#define NCI_STATUS_DISCOVERY_ALREADY_STARTED			0xa0</span>
<span class="cp">#define NCI_STATUS_DISCOVERY_TARGET_ACTIVATION_FAILED		0xa1</span>
<span class="cp">#define NCI_STATUS_DISCOVERY_TEAR_DOWN				0xa2</span>
<span class="cm">/* RF Interface Specific Status Codes */</span>
<span class="cp">#define NCI_STATUS_RF_TRANSMISSION_ERROR			0xb0</span>
<span class="cp">#define NCI_STATUS_RF_PROTOCOL_ERROR				0xb1</span>
<span class="cp">#define NCI_STATUS_RF_TIMEOUT_ERROR				0xb2</span>
<span class="cm">/* NFCEE Interface Specific Status Codes */</span>
<span class="cp">#define NCI_STATUS_NFCEE_INTERFACE_ACTIVATION_FAILED		0xc0</span>
<span class="cp">#define NCI_STATUS_NFCEE_TRANSMISSION_ERROR			0xc1</span>
<span class="cp">#define NCI_STATUS_NFCEE_PROTOCOL_ERROR				0xc2</span>
<span class="cp">#define NCI_STATUS_NFCEE_TIMEOUT_ERROR				0xc3</span>

<span class="cm">/* NCI RF Technology and Mode */</span>
<span class="cp">#define NCI_NFC_A_PASSIVE_POLL_MODE				0x00</span>
<span class="cp">#define NCI_NFC_B_PASSIVE_POLL_MODE				0x01</span>
<span class="cp">#define NCI_NFC_F_PASSIVE_POLL_MODE				0x02</span>
<span class="cp">#define NCI_NFC_A_ACTIVE_POLL_MODE				0x03</span>
<span class="cp">#define NCI_NFC_F_ACTIVE_POLL_MODE				0x05</span>
<span class="cp">#define NCI_NFC_15693_PASSIVE_POLL_MODE				0x06</span>
<span class="cp">#define NCI_NFC_A_PASSIVE_LISTEN_MODE				0x80</span>
<span class="cp">#define NCI_NFC_B_PASSIVE_LISTEN_MODE				0x81</span>
<span class="cp">#define NCI_NFC_F_PASSIVE_LISTEN_MODE				0x82</span>
<span class="cp">#define NCI_NFC_A_ACTIVE_LISTEN_MODE				0x83</span>
<span class="cp">#define NCI_NFC_F_ACTIVE_LISTEN_MODE				0x85</span>
<span class="cp">#define NCI_NFC_15693_PASSIVE_LISTEN_MODE			0x86</span>

<span class="cm">/* NCI RF Technologies */</span>
<span class="cp">#define NCI_NFC_RF_TECHNOLOGY_A					0x00</span>
<span class="cp">#define NCI_NFC_RF_TECHNOLOGY_B					0x01</span>
<span class="cp">#define NCI_NFC_RF_TECHNOLOGY_F					0x02</span>
<span class="cp">#define NCI_NFC_RF_TECHNOLOGY_15693				0x03</span>

<span class="cm">/* NCI Bit Rates */</span>
<span class="cp">#define NCI_NFC_BIT_RATE_106					0x00</span>
<span class="cp">#define NCI_NFC_BIT_RATE_212					0x01</span>
<span class="cp">#define NCI_NFC_BIT_RATE_424					0x02</span>
<span class="cp">#define NCI_NFC_BIT_RATE_848					0x03</span>
<span class="cp">#define NCI_NFC_BIT_RATE_1695					0x04</span>
<span class="cp">#define NCI_NFC_BIT_RATE_3390					0x05</span>
<span class="cp">#define NCI_NFC_BIT_RATE_6780					0x06</span>

<span class="cm">/* NCI RF Protocols */</span>
<span class="cp">#define NCI_RF_PROTOCOL_UNKNOWN					0x00</span>
<span class="cp">#define NCI_RF_PROTOCOL_T1T					0x01</span>
<span class="cp">#define NCI_RF_PROTOCOL_T2T					0x02</span>
<span class="cp">#define NCI_RF_PROTOCOL_T3T					0x03</span>
<span class="cp">#define NCI_RF_PROTOCOL_ISO_DEP					0x04</span>
<span class="cp">#define NCI_RF_PROTOCOL_NFC_DEP					0x05</span>

<span class="cm">/* NCI RF Interfaces */</span>
<span class="cp">#define NCI_RF_INTERFACE_NFCEE_DIRECT				0x00</span>
<span class="cp">#define NCI_RF_INTERFACE_FRAME					0x01</span>
<span class="cp">#define NCI_RF_INTERFACE_ISO_DEP				0x02</span>
<span class="cp">#define NCI_RF_INTERFACE_NFC_DEP				0x03</span>

<span class="cm">/* NCI Reset types */</span>
<span class="cp">#define NCI_RESET_TYPE_KEEP_CONFIG				0x00</span>
<span class="cp">#define NCI_RESET_TYPE_RESET_CONFIG				0x01</span>

<span class="cm">/* NCI Static RF connection ID */</span>
<span class="cp">#define NCI_STATIC_RF_CONN_ID					0x00</span>

<span class="cm">/* NCI Data Flow Control */</span>
<span class="cp">#define NCI_DATA_FLOW_CONTROL_NOT_USED				0xff</span>

<span class="cm">/* NCI RF_DISCOVER_MAP_CMD modes */</span>
<span class="cp">#define NCI_DISC_MAP_MODE_POLL					0x01</span>
<span class="cp">#define NCI_DISC_MAP_MODE_LISTEN				0x02</span>

<span class="cm">/* NCI Discover Notification Type */</span>
<span class="cp">#define NCI_DISCOVER_NTF_TYPE_LAST				0x00</span>
<span class="cp">#define NCI_DISCOVER_NTF_TYPE_LAST_NFCC				0x01</span>
<span class="cp">#define NCI_DISCOVER_NTF_TYPE_MORE				0x02</span>

<span class="cm">/* NCI Deactivation Type */</span>
<span class="cp">#define NCI_DEACTIVATE_TYPE_IDLE_MODE				0x00</span>
<span class="cp">#define NCI_DEACTIVATE_TYPE_SLEEP_MODE				0x01</span>
<span class="cp">#define NCI_DEACTIVATE_TYPE_SLEEP_AF_MODE			0x02</span>
<span class="cp">#define NCI_DEACTIVATE_TYPE_DISCOVERY				0x03</span>

<span class="cm">/* Message Type (MT) */</span>
<span class="cp">#define NCI_MT_DATA_PKT						0x00</span>
<span class="cp">#define NCI_MT_CMD_PKT						0x01</span>
<span class="cp">#define NCI_MT_RSP_PKT						0x02</span>
<span class="cp">#define NCI_MT_NTF_PKT						0x03</span>

<span class="cp">#define nci_mt(hdr)			(((hdr)[0]&gt;&gt;5)&amp;0x07)</span>
<span class="cp">#define nci_mt_set(hdr, mt)		((hdr)[0] |= (__u8)(((mt)&amp;0x07)&lt;&lt;5))</span>

<span class="cm">/* Packet Boundary Flag (PBF) */</span>
<span class="cp">#define NCI_PBF_LAST						0x00</span>
<span class="cp">#define NCI_PBF_CONT						0x01</span>

<span class="cp">#define nci_pbf(hdr)			(__u8)(((hdr)[0]&gt;&gt;4)&amp;0x01)</span>
<span class="cp">#define nci_pbf_set(hdr, pbf)		((hdr)[0] |= (__u8)(((pbf)&amp;0x01)&lt;&lt;4))</span>

<span class="cm">/* Control Opcode manipulation */</span>
<span class="cp">#define nci_opcode_pack(gid, oid)	(__u16)((((__u16)((gid)&amp;0x0f))&lt;&lt;8)|\</span>
<span class="cp">					((__u16)((oid)&amp;0x3f)))</span>
<span class="cp">#define nci_opcode(hdr)			nci_opcode_pack(hdr[0], hdr[1])</span>
<span class="cp">#define nci_opcode_gid(op)		(__u8)(((op)&amp;0x0f00)&gt;&gt;8)</span>
<span class="cp">#define nci_opcode_oid(op)		(__u8)((op)&amp;0x003f)</span>

<span class="cm">/* Payload Length */</span>
<span class="cp">#define nci_plen(hdr)			(__u8)((hdr)[2])</span>

<span class="cm">/* Connection ID */</span>
<span class="cp">#define nci_conn_id(hdr)		(__u8)(((hdr)[0])&amp;0x0f)</span>

<span class="cm">/* GID values */</span>
<span class="cp">#define NCI_GID_CORE						0x0</span>
<span class="cp">#define NCI_GID_RF_MGMT						0x1</span>
<span class="cp">#define NCI_GID_NFCEE_MGMT					0x2</span>
<span class="cp">#define NCI_GID_PROPRIETARY					0xf</span>

<span class="cm">/* ---- NCI Packet structures ---- */</span>
<span class="cp">#define NCI_CTRL_HDR_SIZE					3</span>
<span class="cp">#define NCI_DATA_HDR_SIZE					3</span>

<span class="k">struct</span> <span class="n">nci_ctrl_hdr</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">gid</span><span class="p">;</span>		<span class="cm">/* MT &amp; PBF &amp; GID */</span>
	<span class="n">__u8</span>	<span class="n">oid</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">plen</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">nci_data_hdr</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">conn_id</span><span class="p">;</span>	<span class="cm">/* MT &amp; PBF &amp; ConnID */</span>
	<span class="n">__u8</span>	<span class="n">rfu</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">plen</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* ------------------------ */</span>
<span class="cm">/* -----  NCI Commands ---- */</span>
<span class="cm">/* ------------------------ */</span>
<span class="cp">#define NCI_OP_CORE_RESET_CMD		nci_opcode_pack(NCI_GID_CORE, 0x00)</span>
<span class="k">struct</span> <span class="n">nci_core_reset_cmd</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">reset_type</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_CORE_INIT_CMD		nci_opcode_pack(NCI_GID_CORE, 0x01)</span>

<span class="cp">#define NCI_OP_RF_DISCOVER_MAP_CMD	nci_opcode_pack(NCI_GID_RF_MGMT, 0x00)</span>
<span class="k">struct</span> <span class="n">disc_map_config</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">rf_protocol</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_interface</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">nci_rf_disc_map_cmd</span> <span class="p">{</span>
	<span class="n">__u8</span>				<span class="n">num_mapping_configs</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">disc_map_config</span>		<span class="n">mapping_configs</span>
					<span class="p">[</span><span class="n">NCI_MAX_NUM_MAPPING_CONFIGS</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_RF_DISCOVER_CMD		nci_opcode_pack(NCI_GID_RF_MGMT, 0x03)</span>
<span class="k">struct</span> <span class="n">disc_config</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">rf_tech_and_mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">frequency</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">nci_rf_disc_cmd</span> <span class="p">{</span>
	<span class="n">__u8</span>				<span class="n">num_disc_configs</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">disc_config</span>		<span class="n">disc_configs</span><span class="p">[</span><span class="n">NCI_MAX_NUM_RF_CONFIGS</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_RF_DISCOVER_SELECT_CMD	nci_opcode_pack(NCI_GID_RF_MGMT, 0x04)</span>
<span class="k">struct</span> <span class="n">nci_rf_discover_select_cmd</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">rf_discovery_id</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_protocol</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_interface</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_RF_DEACTIVATE_CMD	nci_opcode_pack(NCI_GID_RF_MGMT, 0x06)</span>
<span class="k">struct</span> <span class="n">nci_rf_deactivate_cmd</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">type</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* ----------------------- */</span>
<span class="cm">/* ---- NCI Responses ---- */</span>
<span class="cm">/* ----------------------- */</span>
<span class="cp">#define NCI_OP_CORE_RESET_RSP		nci_opcode_pack(NCI_GID_CORE, 0x00)</span>
<span class="k">struct</span> <span class="n">nci_core_reset_rsp</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">status</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">nci_ver</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">config_status</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_CORE_INIT_RSP		nci_opcode_pack(NCI_GID_CORE, 0x01)</span>
<span class="k">struct</span> <span class="n">nci_core_init_rsp_1</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">status</span><span class="p">;</span>
	<span class="n">__le32</span>	<span class="n">nfcc_features</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">num_supported_rf_interfaces</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">supported_rf_interfaces</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>	<span class="cm">/* variable size array */</span>
	<span class="cm">/* continuted in nci_core_init_rsp_2 */</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">nci_core_init_rsp_2</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">max_logical_connections</span><span class="p">;</span>
	<span class="n">__le16</span>	<span class="n">max_routing_table_size</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">max_ctrl_pkt_payload_len</span><span class="p">;</span>
	<span class="n">__le16</span>	<span class="n">max_size_for_large_params</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">manufact_id</span><span class="p">;</span>
	<span class="n">__le32</span>	<span class="n">manufact_specific_info</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_RF_DISCOVER_MAP_RSP	nci_opcode_pack(NCI_GID_RF_MGMT, 0x00)</span>

<span class="cp">#define NCI_OP_RF_DISCOVER_RSP		nci_opcode_pack(NCI_GID_RF_MGMT, 0x03)</span>

<span class="cp">#define NCI_OP_RF_DISCOVER_SELECT_RSP	nci_opcode_pack(NCI_GID_RF_MGMT, 0x04)</span>

<span class="cp">#define NCI_OP_RF_DEACTIVATE_RSP	nci_opcode_pack(NCI_GID_RF_MGMT, 0x06)</span>

<span class="cm">/* --------------------------- */</span>
<span class="cm">/* ---- NCI Notifications ---- */</span>
<span class="cm">/* --------------------------- */</span>
<span class="cp">#define NCI_OP_CORE_CONN_CREDITS_NTF	nci_opcode_pack(NCI_GID_CORE, 0x06)</span>
<span class="k">struct</span> <span class="n">conn_credit_entry</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">conn_id</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">credits</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">nci_core_conn_credit_ntf</span> <span class="p">{</span>
	<span class="n">__u8</span>				<span class="n">num_entries</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">conn_credit_entry</span>	<span class="n">conn_entries</span><span class="p">[</span><span class="n">NCI_MAX_NUM_CONN</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_CORE_GENERIC_ERROR_NTF	nci_opcode_pack(NCI_GID_CORE, 0x07)</span>

<span class="cp">#define NCI_OP_CORE_INTF_ERROR_NTF	nci_opcode_pack(NCI_GID_CORE, 0x08)</span>
<span class="k">struct</span> <span class="n">nci_core_intf_error_ntf</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">status</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">conn_id</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_RF_DISCOVER_NTF		nci_opcode_pack(NCI_GID_RF_MGMT, 0x03)</span>
<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfca_poll</span> <span class="p">{</span>
	<span class="n">__u16</span>	<span class="n">sens_res</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">nfcid1_len</span><span class="p">;</span>	<span class="cm">/* 0, 4, 7, or 10 Bytes */</span>
	<span class="n">__u8</span>	<span class="n">nfcid1</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">sel_res_len</span><span class="p">;</span>	<span class="cm">/* 0 or 1 Bytes */</span>
	<span class="n">__u8</span>	<span class="n">sel_res</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfcb_poll</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">sensb_res_len</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sensb_res</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>	<span class="cm">/* 11 or 12 Bytes */</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfcf_poll</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">bit_rate</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sensf_res_len</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sensf_res</span><span class="p">[</span><span class="mi">18</span><span class="p">];</span>	<span class="cm">/* 16 or 18 Bytes */</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">nci_rf_discover_ntf</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">rf_discovery_id</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_protocol</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_tech_and_mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_tech_specific_params_len</span><span class="p">;</span>

	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfca_poll</span> <span class="n">nfca_poll</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfcb_poll</span> <span class="n">nfcb_poll</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfcf_poll</span> <span class="n">nfcf_poll</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">rf_tech_specific_params</span><span class="p">;</span>

	<span class="n">__u8</span>	<span class="n">ntf_type</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_RF_INTF_ACTIVATED_NTF	nci_opcode_pack(NCI_GID_RF_MGMT, 0x05)</span>
<span class="k">struct</span> <span class="n">activation_params_nfca_poll_iso_dep</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">rats_res_len</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rats_res</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">activation_params_nfcb_poll_iso_dep</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">attrib_res_len</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">attrib_res</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">nci_rf_intf_activated_ntf</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">rf_discovery_id</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_interface</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_protocol</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">activation_rf_tech_and_mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">max_data_pkt_payload_size</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">initial_num_credits</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rf_tech_specific_params_len</span><span class="p">;</span>

	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfca_poll</span> <span class="n">nfca_poll</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfcb_poll</span> <span class="n">nfcb_poll</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">rf_tech_specific_params_nfcf_poll</span> <span class="n">nfcf_poll</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">rf_tech_specific_params</span><span class="p">;</span>

	<span class="n">__u8</span>	<span class="n">data_exch_rf_tech_and_mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">data_exch_tx_bit_rate</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">data_exch_rx_bit_rate</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">activation_params_len</span><span class="p">;</span>

	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">activation_params_nfca_poll_iso_dep</span> <span class="n">nfca_poll_iso_dep</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">activation_params_nfcb_poll_iso_dep</span> <span class="n">nfcb_poll_iso_dep</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">activation_params</span><span class="p">;</span>

<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define NCI_OP_RF_DEACTIVATE_NTF	nci_opcode_pack(NCI_GID_RF_MGMT, 0x06)</span>
<span class="k">struct</span> <span class="n">nci_rf_deactivate_ntf</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">type</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reason</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#endif </span><span class="cm">/* __NCI_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
