f | Kconfig | g | 5.3K |  | Randy Dunlap | rdunlap@xenotime.net | 1338511773 |  | kconfig: update compression algorithm info  There have been new compression algorithms added without updating nearby relevant descriptive text that refers to (a) the number of compression algorithms and (b) the most recent one.  Fix these inconsistencies.  Signed-off-by: Randy Dunlap <rdunlap@xenotime.net> Reported-by: <qasdfgtyuiop@gmail.com> Cc: Lasse Collin <lasse.collin@tukaani.org> Cc: "H. Peter Anvin" <hpa@zytor.com> Cc: Markus Trippelsdorf <markus@trippelsdorf.de> Cc: Alain Knaff <alain@knaff.lu> Cc: Albin Tonnerre <albin.tonnerre@free-electrons.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | initramfs_data.S | g | 1.3K |  | Hendrik Brueckner | brueckner@linux.vnet.ibm.com | 1291205601 |  | initramfs: Really fix build break on symbol-prefixed archs  Define the __initramfs_size variable using VMLINUX_SYMBOL() to take care of symbol-prefixed architectures, for example, blackfin.  Signed-off-by: Hendrik Brueckner <brueckner@linux.vnet.ibm.com> Cc: Mike Frysinger <vapier.adi@gmail.com> Cc: Hendrik Brueckner <brueckner@linux.vnet.ibm.com>, Cc: Michal Marek <mmarek@suse.cz> Cc: Sam Ravnborg <sam@ravnborg.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> [mmarek: leave out Makefile change, since d63f6d1 already takes care of the  SYMBOL_PREFIX define] Signed-off-by: Michal Marek <mmarek@suse.cz>
f | Makefile | g | 2.3K |  | Lasse Collin | lasse.collin@tukaani.org | 1294934605 |  | decompressors: add boot-time XZ support  This implements the API defined in <linux/decompress/generic.h> which is used for kernel, initramfs, and initrd decompression.  This patch together with the first patch is enough for XZ-compressed initramfs and initrd; XZ-compressed kernel will need arch-specific changes.  The buffering requirements described in decompress_unxz.c are stricter than with gzip, so the relevant changes should be done to the arch-specific code when adding support for XZ-compressed kernel. Similarly, the heap size in arch-specific pre-boot code may need to be increased (30 KiB is enough).  The XZ decompressor needs memmove(), memeq() (memcmp() == 0), and memzero() (memset(ptr, 0, size)), which aren't available in all arch-specific pre-boot environments.  I'm including simple versions in decompress_unxz.c, but a cleaner solution would naturally be nicer.  Signed-off-by: Lasse Collin <lasse.collin@tukaani.org> Cc: "H. Peter Anvin" <hpa@zytor.com> Cc: Alain Knaff <alain@knaff.lu> Cc: Albin Tonnerre <albin.tonnerre@free-electrons.com> Cc: Phillip Lougher <phillip@lougher.demon.co.uk> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | gen_init_cpio.c | s | 13K | 560 | Michal Marek | mmarek@suse.cz | 1303129672 |  | initramfs: Use KBUILD_BUILD_TIMESTAMP for generated entries  gen_init_cpio gets the current time and uses it for each symlink, special file, and directory.  Grab the current time once and make it possible to override it with the KBUILD_BUILD_TIMESTAMP variable for reproducible builds.  Signed-off-by: Michal Marek <mmarek@suse.cz>
