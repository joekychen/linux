d | src |  | 4 items |  | Devendra Naga | devendra.aaru@gmail.com | 1337783268 |  | Documentation/watchdog: Fix the file descriptor leak when no cmdline arg given  we start a infinite loop when user gives ./watchdog-test, and when user ctrl + c's the program, we just exit immeadiately with out closing the filedescriptor of the watchdog device. a signal handler is used to do the job of closing the filedescriptor and exiting the program.  Signed-off-by: Devendra Naga <devendra.aaru@gmail.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | hpwdt.txt | g | 3.9K |  | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | watchdog-parameters.txt | g | 16K |  | Ashish Jangam | ashish.jangam@kpitcummins.com | 1338357372 |  | Watchdog: DA9052/53 PMIC watchdog support  This driver adds support for the watchdog functionality provided by the Dialog Semiconductor DA9052 PMIC chip.  Tested on samsung smdkv6410 and i.mx53 QS boards.  Signed-off-by: Anthony Olech <Anthony.Olech@diasemi.com> Signed-off-by: Ashish Jangam <ashish.jangam@kpitcummins.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | wdt.txt | g | 1.8K |  | Randy Dunlap | randy.dunlap@oracle.com | 1274778334 |  | watchdog: update/improve/consolidate watchdog driver  Move the limited watchdog driver help from kernel-parameters.txt to Documentation/watchdog/watchdog-parameters.txt and add info to it for all watchdog drivers except the ones that have driver-specific files already.  Correct minor comments and MODULE_PARM_DESC() text in 2 places.  Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | watchdog-kernel-api.txt | g | 10K |  | Hans de Goede | hdegoede@redhat.com | 1338357331 |  | watchdog: Add support for dynamically allocated watchdog_device structs  If a driver's watchdog_device struct is part of a dynamically allocated struct (which it often will be), merely locking the module is not enough, even with a drivers module locked, the driver can be unbound from the device, examples: 1) The root user can unbind it through sysfd 2) The i2c bus master driver being unloaded for an i2c watchdog  I will gladly admit that these are corner cases, but we still need to handle them correctly.  The fix for this consists of 2 parts: 1) Add ref / unref operations, so that the driver can refcount the struct    holding the watchdog_device struct and delay freeing it until any    open filehandles referring to it are closed 2) Most driver operations will do IO on the device and the driver should not    do any IO on the device after it has been unbound. Rather then letting each    driver deal with this internally, it is better to ensure at the watchdog    core level that no operations (other then unref) will get called after    the driver has called watchdog_unregister_device(). This actually is the    bulk of this patch.  Signed-off-by: Hans de Goede <hdegoede@redhat.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | convert_drivers_to_kernel_api.txt | g | 7.5K |  | Viresh Kumar | viresh.kumar@st.com | 1332872137 |  | watchdog: Add support for WDIOC_GETTIMELEFT IOCTL in watchdog core  This patch adds support for WDIOC_GETTIMELEFT IOCTL in watchdog core. So, there is another function pointer added to struct watchdog_ops, which can be passed by drivers to support this IOCTL.  Related documentation is updated too.  Signed-off-by: Viresh Kumar <viresh.kumar@st.com> Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | watchdog-api.txt | g | 8.2K |  | James Hogan | james.hogan@imgtec.com | 1270563835 |  | [WATCHDOG] doc: Fix use of WDIOC_SETOPTIONS ioctl.  In the watchdog-test program and watchdog-api.txt, pass the values to the WDIOC_SETOPTIONS ioctl as a pointer to an integer containing the values intead of directly in the third ioctl argument. The actual watchdog drivers in drivers/watchdog don't read the options directly from the argument but use get_user and copy_from_user.  Signed-off-by: James Hogan <james.hogan@imgtec.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be> Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
f | pcwd-watchdog.txt | g | 2.2K |  | Alan Cox | alan@lxorguk.ukuu.org.uk | 1180027571 |  | [WATCHDOG] clean-up watchdog documentation  Random sampling of some URLs in the Documentation tree to see how many were stale found that one watchdog driver was now a porn site.  In fact if the watchdogs document directory was any older it would be written in latin  Clean it up somewhat and add Last reviewed headers, something all the Documentation could do with IMHO.  Signed-off-by: Alan Cox <alan@redhat.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
