f | resource_counter.txt | g | 6.4K |  | Frederic Weisbecker | fweisbec@gmail.com | 1338333747 |  | rescounters: add res_counter_uncharge_until()  When killing a res_counter which is a child of other counter, we need to do  	res_counter_uncharge(child, xxx) 	res_counter_charge(parent, xxx)  This is not atomic and wastes CPU.  This patch adds res_counter_uncharge_until().  This function's uncharge propagates to ancestors until specified res_counter.  	res_counter_uncharge_until(child, parent, xxx)  Now the operation is atomic and efficient.  Signed-off-by: Frederic Weisbecker <fweisbec@redhat.com> Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com> Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com> Cc: Michal Hocko <mhocko@suse.cz> Cc: Johannes Weiner <hannes@cmpxchg.org> Cc: Ying Han <yinghan@google.com> Cc: Glauber Costa <glommer@parallels.com> Reviewed-by: Tejun Heo <tj@kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | cpuacct.txt | g | 1.9K |  | Wanlong Gao | gaowanlong@cn.fujitsu.com | 1311443888 |  | Documentation: fix echo command in cgroups/cpuacct.txt  Must echo a task id to the cgroups' tasks file, but not to a directory.  Signed-off-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Acked-by: Paul Menage <menage@google.com> Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | freezer-subsystem.txt | g | 4.1K |  | Rafael J. Wysocki | rjw@sisk.pl | 1320703345 |  | Documentation: Fix typo in freezer-subsystem.txt  Fix a typo in Documentation/cgroups/freezer-subsystem.txt.  Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl> Reviewed-by: Srivatsa S. Bhat <srivatsa.bhat@linux.vnet.ibm.com> Acked-by: Randy Dunlap <rdunlap@xenotime.net>
f | memcg_test.txt | g | 13K |  | Uwe Kleine-König | u.kleine-koenig@pengutronix.de | 1288640314 |  | tree-wide: fix comment/printk typos  "gadget", "through", "command", "maintain", "maintain", "controller", "address", "between", "initiali[zs]e", "instead", "function", "select", "already", "equal", "access", "management", "hierarchy", "registration", "interest", "relative", "memory", "offset", "already",  Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | cgroups.txt | g | 26K |  | Li Zefan | lizf@cn.fujitsu.com | 1328203222 |  | cgroup: remove cgroup_subsys argument from callbacks  The argument is not used at all, and it's not necessary, because a specific callback handler of course knows which subsys it belongs to.  Now only ->pupulate() takes this argument, because the handlers of this callback always call cgroup_add_file()/cgroup_add_files().  So we reduce a few lines of code, though the shrinking of object size is minimal.   16 files changed, 113 insertions(+), 162 deletions(-)     text    data     bss     dec     hex filename 5486240  656987 7039960 13183187         c928d3 vmlinux.o.orig 5486170  656987 7039960 13183117         c9288d vmlinux.o  Signed-off-by: Li Zefan <lizf@cn.fujitsu.com> Signed-off-by: Tejun Heo <tj@kernel.org>
f | blkio-controller.txt | g | 15K |  | Masanari Iida | standby24x7@gmail.com | 1331132904 |  | Documentation: Fix multiple typo in Documentation  Signed-off-by: Masanari Iida <standby24x7@gmail.com> Acked-by: Randy Dunlap <rdunlap@xenotime.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | cpusets.txt | g | 36K |  | Rusty Russell | rusty@rustcorp.com.au | 1332997711 |  | documentation: remove references to cpu_*_map.  This has been obsolescent for a while, fix documentation and misc comments.  Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | 00-INDEX | g | 632B |  | Thadeu Lima de Souza Cascardo | cascardo@holoscopio.com | 1238419322 |  | trivial: fix where cgroup documentation is not correctly referred to  cgroup documentation was moved to Documentation/cgroups/. There are some places that still refer to Documentation/controllers/, Documentation/cgroups.txt and Documentation/cpusets.txt. Fix those.  Signed-off-by: Thadeu Lima de Souza Cascardo <cascardo@holoscopio.com> Reviewed-by: Li Zefan <lizf@cn.fujitsu.com> Acked-by: Paul Menage <menage@google.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | memory.txt | g | 29K |  | KAMEZAWA Hiroyuki | kamezawa.hiroyu@jp.fujitsu.com | 1338333747 |  | memcg: move charges to root cgroup if use_hierarchy=0  Presently, at removal of cgroup, ->pre_destroy() is called and moves charges to the parent cgroup.  A major reason for returning -EBUSY from ->pre_destroy() is that the 'moving' hits the parent's resource limitation.  It happens only when use_hierarchy=0.  Considering use_hierarchy=0, all cgroups should be flat.  So, no one cannot justify moving charges to parent...parent and children are in flat configuration, not hierarchical.  This patch modifes the code to move charges to the root cgroup at rmdir/force_empty if use_hierarchy==0.  This will much simplify rmdir() and reduce error in ->pre_destroy.  Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com> Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com> Cc: Michal Hocko <mhocko@suse.cz> Cc: Johannes Weiner <hannes@cmpxchg.org> Cc: Frederic Weisbecker <fweisbec@gmail.com> Cc: Ying Han <yinghan@google.com> Cc: Glauber Costa <glommer@parallels.com> Reviewed-by: Tejun Heo <tj@kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | cgroup_event_listener.c | s | 2.1K | 92 | Uwe Kleine-König | u.kleine-koenig@pengutronix.de | 1288640314 |  | tree-wide: fix comment/printk typos  "gadget", "through", "command", "maintain", "maintain", "controller", "address", "between", "initiali[zs]e", "instead", "function", "select", "already", "equal", "access", "management", "hierarchy", "registration", "interest", "relative", "memory", "offset", "already",  Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | devices.txt | g | 1.9K |  | Jörg Sommer | joerg@alea.gnuu.de | 1308199970 |  | Documentation: update cgroupfs mount point  According to commit 676db4af0430 ("cgroupfs: create /sys/fs/cgroup to mount cgroupfs on") the canonical mountpoint for the cgroup filesystem is /sys/fs/cgroup.  Hence, this should be used in the documentation.  Signed-off-by: Jörg Sommer <joerg@alea.gnuu.de> Acked-by: Paul Menage <menage@google.com> Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | net_prio.txt | g | 2.4K |  | Neil Horman | nhorman@tuxdriver.com | 1321993343 |  | net: add documentation for net_prio cgroups (v4)  Add the requisite documentation to explain to new users how net_prio cgroups work  Signed-off-by:Neil Horman <nhorman@tuxdriver.com> Signed-off-by: John Fastabend <john.r.fastabend@intel.com> CC: Robert Love <robert.w.love@intel.com> CC: "David S. Miller" <davem@davemloft.net> Signed-off-by: David S. Miller <davem@davemloft.net>
