f | spidev_test.c | s | 4.3K | 185 | Hector Palacios | hector.palacios@digi.com | 1272580830 |  | spi: spidev_test gives error upon 1-byte transfer  The sample application spidev_test.c is using SPI_IOC_MESSAGE ioctl to do an SPI transfer.  This ioctl returns the number of bytes successfully transmitted or a negative error code upon erroneous completion.  The application however is returning an error if the result of the ioclt if the return value is 1.  This makes the application to fail upon 1-byte length transfers.  Signed-off-by: Hector Palacios <hector.palacios@digi.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
f | spidev | g | 6.5K |  | Randy Dunlap | randy.dunlap@oracle.com | 1209398311 |  | documentation: move spidev_fdx example to its own source file  Move sample source code to its own source file so that it can be used easier and build-tested/check/maintained by anyone.  (Makefile changes are in a separate patch for all of Documentation/.)  Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Acked-by: David Brownell <dbrownell@users.sourceforge.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | butterfly | g | 2.9K |  | David Brownell | david-b@pacbell.net | 1139257037 |  | [PATCH] SPI: spi_butterfly, restore lost deltas  This resolves some minor version skew glitches that accumulated for the AVR Butterfly adapter driver, which caused among other things the existence of a duplicate Kconfig entry.  Most of it boils down to comment updates, but in one case it removes some now-superfluous code that would be better if not copied into other controller-level drivers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
f | Makefile | g | 333B |  | Randy Dunlap | randy.dunlap@oracle.com | 1218582450 |  | docsrc: build Documentation/ sources  Currently source files in the Documentation/ sub-dir can easily bit-rot since they are not generally buildable, either because they are hidden in text files or because there are no Makefile rules for them.  This needs to be fixed so that the source files remain usable and good examples of code instead of bad examples.  Add the ability to build source files that are in the Documentation/ dir. Add to Kconfig as "BUILD_DOCSRC" config symbol.  Use "CONFIG_BUILD_DOCSRC=1 make ..." to build objects from the Documentation/ sources.  Or enable BUILD_DOCSRC in the *config system. However, this symbol depends on HEADERS_CHECK since the header files need to be installed (for userspace builds).  Built (using cross-tools) for x86-64, i386, alpha, ia64, sparc32, sparc64, powerpc, sh, m68k, & mips.  Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Reviewed-by: Sam Ravnborg <sam@ravnborg.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | ep93xx_spi | g | 2.7K |  | Mika Westerberg | mika.westerberg@iki.fi | 1307569572 |  | spi/ep93xx: add DMA support  This patch adds DMA support for the EP93xx SPI driver. By default the DMA is not enabled but it can be enabled by setting ep93xx_spi_info.use_dma to true in board configuration file.  Note that the SPI driver still uses PIO for small transfers (<= 8 bytes) for performance reasons.  Signed-off-by: Mika Westerberg <mika.westerberg@iki.fi> Acked-by: H Hartley Sweeten <hsweeten@visionengravers.com> Acked-by: Vinod Koul <vinod.koul@intel.com> Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
f | spi-summary | g | 24K |  | Linus Walleij | linus.walleij@linaro.org | 1331173188 |  | spi: create a message queueing infrastructure  This rips the message queue in the PL022 driver out and pushes it into (optional) common infrastructure. Drivers that want to use the message pumping thread will need to define the new per-messags transfer methods and leave the deprecated transfer() method as NULL.  Most of the design is described in the documentation changes that are included in this patch.  Since there is a queue that need to be stopped when the system is suspending/resuming, two new calls are implemented for the device drivers to call in their suspend()/resume() functions: spi_master_suspend() and spi_master_resume().  ChangeLog v1->v2: - Remove Kconfig entry and do not make the queue support optional   at all, instead be more agressive and have it as part of the   compulsory infrastructure. - If the .transfer() method is implemented, delete print a small   deprecation notice and do not start the transfer pump. - Fix a bitrotted comment. ChangeLog v2->v3: - Fix up a problematic sequence courtesy of Chris Blair. - Stop rather than destroy the queue on suspend() courtesy of   Chris Blair.  Signed-off-by: Chris Blair <chris.blair@stericsson.com> Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Tested-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Reviewed-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
f | spi-lm70llp | g | 3.1K |  | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | spidev_fdx.c | s | 2.7K | 132 | Prarit Bhargava | prarit@redhat.com | 1274768596 |  | Documentation/spi/* compile warning fix  Fix this warning:  Documentation/spi/spidev_fdx.c: In function `do_msg': Documentation/spi/spidev_fdx.c:61: warning: cast from pointer to integer of different size Documentation/spi/spidev_fdx.c:64: warning: cast from pointer to integer of different size  buf should be unsigned long to match native arch on 32-bit x86 compile.  Signed-off-by: Prarit Bhargava <prarit@redhat.com> Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
f | pxa2xx | g | 8.5K |  | Paul Bolle | pebolle@tiscali.nl | 1317139684 |  | doc: fix broken references  There are numerous broken references to Documentation files (in other Documentation files, in comments, etc.). These broken references are caused by typo's in the references, and by renames or removals of the Documentation files. Some broken references are simply odd.  Fix these broken references, sometimes by dropping the irrelevant text they were part of.  Signed-off-by: Paul Bolle <pebolle@tiscali.nl> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
