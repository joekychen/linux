f | sysfs-module | g | 1.6K |  | Kay Sievers | kay.sievers@vrfy.org | 1326409335 |  | modules: sysfs - export: taint, coresize, initsize  Recent tools do not want to use /proc to retrieve module information. A few values are currently missing from sysfs to replace the information available in /proc/modules.  This adds /sys/module/*/{coresize,initsize,taint} attributes.  TAINT_PROPRIETARY_MODULE (P) and TAINT_OOT_MODULE (O) flags are both always shown now, and do no longer exclude each other, also in /proc/modules.  Replace the open-coded sysfs attribute initializers with the __ATTR() macro.  Add the new attributes to Documentation/ABI.  Cc: Lucas De Marchi <lucas.demarchi@profusion.mobi> Signed-off-by: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | sysfs-platform-asus-laptop | g | 2.0K |  | Sylvestre Ledru | sylvestre.ledru@scilab.org | 1301964707 |  | Documentation: fix minor typos/spelling  Fix some minor typos:  * informations => information  * there own => their own  * these => this  Signed-off-by: Sylvestre Ledru <sylvestre.ledru@scilab.org> Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-gpio | g | 1.1K |  | Daniel Glöckner | dg@emlix.com | 1253716788 |  | gpiolib: allow poll() on value  Many gpio chips allow to generate interrupts when the value of a pin changes.  This patch gives usermode application the opportunity to make use of this feature by calling poll(2) on the /sys/class/gpio/gpioN/value sysfs file.  The edge to trigger can be set in the edge file in the same directory.  Possible values are "none", "rising", "falling", and "both".  Using level triggers is not possible with current sysfs since nothing changes the GPIO value (and the IRQ keeps triggering).  Edge triggering will "just work".  Note that if there was an event between read() and poll(), the poll() returns immediately.  Also note that this version only supports true GPIO interrupts.  Some later patch might be able to synthesize this behavior by timer-driven polling; some systems seem to need that.  [dbrownell@users.sourceforge.net: align ids to 16 bit ids; whitespace] Signed-off-by: Daniel Glöckner <dg@emlix.com> Signed-off-by: David Brownell <dbrownell@users.sourceforge.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-cfq-target-latency | g | 358B |  | Tao Ma | boyu.mt@taobao.com | 1333316020 |  | Documentation: Add sysfs ABI change for cfq's target latency.  Cc: Jens Axboe <axboe@kernel.dk> Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Signed-off-by: Tao Ma <boyu.mt@taobao.com> Signed-off-by: Jens Axboe <axboe@kernel.dk>
f | sysfs-power | g | 9.9K |  | Rafael J. Wysocki | rjw@sisk.pl | 1335900365 |  | PM / Sleep: Add user space interface for manipulating wakeup sources, v3  Android allows user space to manipulate wakelocks using two sysfs file located in /sys/power/, wake_lock and wake_unlock. Writing a wakelock name and optionally a timeout to the wake_lock file causes the wakelock whose name was written to be acquired (it is created before is necessary), optionally with the given timeout. Writing the name of a wakelock to wake_unlock causes that wakelock to be released.  Implement an analogous interface for user space using wakeup sources. Add the /sys/power/wake_lock and /sys/power/wake_unlock files allowing user space to create, activate and deactivate wakeup sources, such that writing a name and optionally a timeout to wake_lock causes the wakeup source of that name to be activated, optionally with the given timeout.  If that wakeup source doesn't exist, it will be created and then activated.  Writing a name to wake_unlock causes the wakeup source of that name, if there is one, to be deactivated.  Wakeup sources created with the help of wake_lock that haven't been used for more than 5 minutes are garbage collected and destroyed.  Moreover, there can be only WL_NUMBER_LIMIT wakeup sources created with the help of wake_lock present at a time.  The data type used to track wakeup sources created by user space is called "struct wakelock" to indicate the origins of this feature.  This version of the patch includes an rbtree manipulation fix from John Stultz.  Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl> Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Reviewed-by: NeilBrown <neilb@suse.de>
f | sysfs-fs-ext4 | g | 3.2K |  | Lukas Czerner | lczerner@redhat.com | 1298337381 |  | ext4: update ext4 documentation  Add documentation for mount options and ioctls to Documentation/filesystem/ext4.txt, which has not been udpated for some time.  Also add for ext4 sysfs tunables to the Documentation/ABI/testing/sysfs-fs-ext4 file, and fix a few typographical errors in that file.  https://bugzilla.kernel.org/show_bug.cgi?id=9423  Signed-off-by: Lukas Czerner <lczerner@redhat.com> Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
f | sysfs-kernel-uids | g | 658B |  | J. Bruce Fields | bfields@citi.umich.edu | 1202402537 |  | Documentation: create new scheduler/ subdirectory  The top-level Documentation/ directory is unmanageably large, so we should take any obvious opportunities to move stuff into subdirectories. These sched-*.txt files seem an obvious easy case.  Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu> Cc: Ingo Molnar <mingo@elte.hu> Acked-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-bus-i2c-devices-fsa9480 | g | 602B |  | Donggeun Kim | dg77.kim@samsung.com | 1311652634 |  | drivers/misc: add support the FSA9480 USB Switch  The FSA9480 is a USB port accessory detector and switch.  This patch adds support the FSA9480 USB Switch.  [akpm@linux-foundation.org: make a couple of things static] Signed-off-by: Donggeun Kim <dg77.kim@samsung.com> Signed-off-by: Minkyu Kang <mk7.kang@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Cc: Greg KH <greg@kroah.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-firmware-gsmi | g | 2.0K |  | Mike Waychison | mikew@google.com | 1304125774 |  | driver: Google EFI SMI  The "gsmi" driver bridges userland with firmware specific routines for accessing hardware.  Currently, this driver only supports NVRAM and eventlog information. Deprecated functions have been removed from the driver, though their op-codes are left in place so that they are not re-used.  This driver works by trampolining into the firmware via the smi_command outlined in the FADT table.  Three protocols are used due to various limitations over time, but all are included herein.  This driver should only ever load on Google boards, identified by either a "Google, Inc." board vendor string in DMI, or "GOOGLE" in the OEM strings of the FADT ACPI table.  This logic happens in gsmi_system_valid().  Signed-off-by: Duncan Laurie <dlaurie@google.com> Signed-off-by: Aaron Durbin <adurbin@google.com> Signed-off-by: Mike Waychison <mikew@google.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-driver-hid-multitouch | g | 531B |  | Benjamin Tissoires | benjamin.tissoires@gmail.com | 1322056238 |  | HID: multitouch: create sysfs attribute to control quirks from user-space  Signed-off-by: Benjamin Tissoires <benjamin.tissoires@enac.fr> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-devices-mmc | g | 985B |  | Chuanxiao Dong | chuanxiao.dong@intel.com | 1300211281 |  | mmc: export eMMC4.4 enhanced area details to sysfs  Enhanced area feature is a new feature defined in eMMC4.4 standard. This user data area provides higher performance/reliability, at the expense of using twice the effective media space due to the area using SLC.  The MMC driver now reads out the enhanced area offset and size and adds them to the device attributes in sysfs. Enabling the enhanced area can only be done once, and should be done in manufacturing. To use this feature, bit ERASE_GRP_DEF should also be set.  Documentation/ABI/testing/sysfs-devices-mmc describes the two new attributes.  Signed-off-by: Chuanxiao Dong <chuanxiao.dong@intel.com> Reviewed-by: Chris Ball <cjb@laptop.org> Signed-off-by: Chris Ball <cjb@laptop.org>
f | sysfs-ibft | g | 1022B |  | Konrad Rzeszutek | ketuzsezr@darnok.org | 1208657428 |  | Firmware: add iSCSI iBFT Support  Add /sysfs/firmware/ibft/[initiator||targetX||ethernetX] directories along with text properties which export the the iSCSI Boot Firmware Table (iBFT) structure.  What is iSCSI Boot Firmware Table?  It is a mechanism for the iSCSI tools to extract from the machine NICs the iSCSI connection information so that they can automagically mount the iSCSI share/target.  Currently the iSCSI information is hard-coded in the initrd.  The /sysfs entries are read-only one-name-and-value fields.  The usual set of data exposed is:  # for a in `find /sys/firmware/ibft/ -type f -print`; do  echo -n "$a: ";  cat $a; done /sys/firmware/ibft/target0/target-name: iqn.2007.com.intel-sbx44:storage-10gb /sys/firmware/ibft/target0/nic-assoc: 0 /sys/firmware/ibft/target0/chap-type: 0 /sys/firmware/ibft/target0/lun: 00000000 /sys/firmware/ibft/target0/port: 3260 /sys/firmware/ibft/target0/ip-addr: 192.168.79.116 /sys/firmware/ibft/target0/flags: 3 /sys/firmware/ibft/target0/index: 0 /sys/firmware/ibft/ethernet0/mac: 00:11:25:9d:8b:01 /sys/firmware/ibft/ethernet0/vlan: 0 /sys/firmware/ibft/ethernet0/gateway: 192.168.79.254 /sys/firmware/ibft/ethernet0/origin: 0 /sys/firmware/ibft/ethernet0/subnet-mask: 255.255.252.0 /sys/firmware/ibft/ethernet0/ip-addr: 192.168.77.41 /sys/firmware/ibft/ethernet0/flags: 7 /sys/firmware/ibft/ethernet0/index: 0 /sys/firmware/ibft/initiator/initiator-name: iqn.2007-07.com:konrad.initiator /sys/firmware/ibft/initiator/flags: 3 /sys/firmware/ibft/initiator/index: 0  For full details of the IBFT structure please take a look at: ftp://ftp.software.ibm.com/systems/support/system_x_pdf/ibm_iscsi_boot_firmware_table_v1.02.pdf  [akpm@linux-foundation.org: fix build] Signed-off-by: Konrad Rzeszutek <konradr@linux.vnet.ibm.com> Cc: Mike Christie <michaelc@cs.wisc.edu> Cc: Peter Jones <pjones@redhat.com> Cc: James Bottomley <James.Bottomley@HansenPartnership.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-bus-pci-devices-cciss | g | 2.7K |  | Joe Handzik | joseph.t.handzik@beardog.cce.hp.com | 1312796417 |  | cciss: add transport mode attribute to sys  Signed-off-by: Joseph Handzik <joseph.t.handzik@beardog.cce.hp.com> Acked-by: Stephen M. Cameron <scameron@beardog.cce.hp.com> Signed-off-by: Jens Axboe <jaxboe@fusionio.com>
f | sysfs-firmware-sfi | g | 466B |  | Feng Tang | feng.tang@intel.com | 1274978780 |  | SFI: add sysfs interface for SFI tables.  Analogous to ACPI's /sys/firmware/acpi/tables/...  create /sys/firmware/sfi/tables/  The tables are primariy for the kernel, but sometimes it is useful for user-space to be able to read them.  Signed-off-by: Feng Tang <feng.tang@intel.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | sysfs-profiling | g | 331B |  | Dave Hansen | dave@linux.vnet.ibm.com | 1224181291 |  | profiling: dynamically enable readprofile at runtime  Way too often, I have a machine that exhibits some kind of crappy behavior.  The CPU looks wedged in the kernel or it is spending way too much system time and I wonder what is responsible.  I try to run readprofile.  But, of course, Ubuntu doesn't enable it by default.  Dang!  The reason we boot-time enable it is that it takes a big bufffer that we generally can only bootmem alloc.  But, does it hurt to at least try and runtime-alloc it?  To use: echo 2 > /sys/kernel/profile  Then run readprofile like normal.  This should fix the compile issue with allmodconfig.  I've compile-tested on a bunch more configs now including a few more architectures.  Signed-off-by: Dave Hansen <dave@linux.vnet.ibm.com> Acked-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | debugfs-ec | g | 838B |  | Thomas Renninger | trenn@suse.de | 1280843347 |  | Documentation: Add new /sys/kernel/debug/ec/* files to ABI  Signed-off-by: Thomas Renninger <trenn@suse.de>  CC: Alexey Starikovskiy <astarikovskiy@suse.de> CC: Len Brown <lenb@kernel.org> CC: linux-kernel@vger.kernel.org CC: linux-acpi@vger.kernel.org CC: platform-driver-x86@vger.kernel.org Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | sysfs-class-mtd | g | 6.1K |  | Mike Dunn | mikedunn@newsguy.com | 1336968863 |  | mtd: driver _read() returns max_bitflips; mtd_read() returns -EUCLEAN  The drivers' _read() method, absent an error, returns a non-negative integer indicating the maximum number of bit errors that were corrected in any one region comprising an ecc step.  MTD returns -EUCLEAN if this is >= bitflip_threshold, 0 otherwise.  If bitflip_threshold is zero, the comparison is not made since these devices lack ECC and always return zero in the non-error case (thanks Brian)¹.  Note that this is a subtle change to the driver interface.  This and the preceding patches in this set were tested with ubi on top of the nandsim and docg4 devices, running the ubi test io_basic from mtd-utils.  ¹ http://lists.infradead.org/pipermail/linux-mtd/2012-March/040468.html  Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Acked-by: Robert Jarzmik <robert.jarzmik@free.fr> Acked-by: Brian Norris <computersforpeace@gmail.com> Ivan Djelic <ivan.djelic@parrot.com> Signed-off-by: Artem Bityutskiy <artem.bityutskiy@linux.intel.com>  Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | sysfs-driver-hid-picolcd | g | 1.8K |  | Bruno Prémont | bonbons@linux-vserver.org | 1272375086 |  | HID: split picolcd's operation_mode sysfs attribute  Original operation_mode sysfs attribute accepts the operation mode as main value with an option delay as second value to change the start-up delay on mode change.  As it is preferred to have exactly one value per sysfs attribute, extract this delay into a separate sysfs attribute called operation_mode_delay.  Signed-off-by: Bruno Prémont <bonbons@linux-vserver.org> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-ocfs2 | g | 3.0K |  | Joel Becker | joel.becker@oracle.com | 1208534167 |  | ocfs2: Document /sys/fs/ocfs2  Add ABI documentation for these files:  	/sys/fs/ocfs2/max_locking_protocol 	/sys/fs/ocfs2/loaded_cluster_plugins 	/sys/fs/ocfs2/active_cluster_plugin 	/sys/fs/ocfs2/cluster_stack  Signed-off-by: Joel Becker <joel.becker@oracle.com> Signed-off-by: Mark Fasheh <mfasheh@suse.com>
f | sysfs-devices-node | g | 299B |  | Mel Gorman | mel@csn.ul.ie | 1274800019 |  | mm: compaction: add /sys trigger for per-node memory compaction  Add a per-node sysfs file called compact.  When the file is written to, each zone in that node is compacted.  The intention that this would be used by something like a job scheduler in a batch system before a job starts so that the job can allocate the maximum number of hugepages without significant start-up cost.  Signed-off-by: Mel Gorman <mel@csn.ul.ie> Acked-by: Rik van Riel <riel@redhat.com> Reviewed-by: KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com> Reviewed-by: Christoph Lameter <cl@linux-foundation.org> Reviewed-by: Minchan Kim <minchan.kim@gmail.com> Reviewed-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-platform-ideapad-laptop | g | 211B |  | Ike Panhc | ike.pan@canonical.com | 1319467959 |  | ideapad: remove sysfs node for cfg  Replaced by the one in debugfs.  Signed-off-by: Ike Panhc <ike.pan@canonical.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | ima_policy | g | 1.9K |  | Mimi Zohar | zohar@linux.vnet.ibm.com | 1265529983 |  | ima: rename PATH_CHECK to FILE_CHECK  With the movement of the ima hooks functions were renamed from *path* to *file* since they always deal with struct file.  This patch renames some of the ima internal flags to make them consistent with the rest of the code.  Signed-off-by: Mimi Zohar <zohar@linux.vnet.ibm.com> Signed-off-by: Eric Paris <eparis@redhat.com> Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | debugfs-ideapad | g | 465B |  | Ike Panhc | ike.pan@canonical.com | 1319467959 |  | ideapad: add debugfs support  Add two nodes in debugfs which shows cfg value and its meaning, and status info read from VPC2004.  Signed-off-by: Ike Panhc <ike.pan@canonical.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | sysfs-class-power | g | 756B |  | Daniel Mack | daniel@caiaq.de | 1274257539 |  | ds2760_battery: Document ABI change  Add some documentation for the newly added writeable properties.  Suggested-by: Greg KH <gregkh@suse.de> Signed-off-by: Daniel Mack <daniel@caiaq.de> Signed-off-by: Anton Vorontsov <cbouatmailru@gmail.com>
f | sysfs-bus-usb | g | 7.5K |  | Linus Torvalds | torvalds@linux-foundation.org | 1337739770 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial  Pull trivial updates from Jiri Kosina:  "As usual, it's mostly typo fixes, redundant code elimination and some   documentation updates."  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial: (57 commits)   edac, mips: don't change code that has been removed in edac/mips tree   xtensa: Change mail addresses of Hannes Weiner and Oskar Schirmer   lib: Change mail address of Oskar Schirmer   net: Change mail address of Oskar Schirmer   arm/m68k: Change mail address of Sebastian Hess   i2c: Change mail address of Oskar Schirmer   net: Fix tcp_build_and_update_options comment in struct tcp_sock   atomic64_32.h: fix parameter naming mismatch   Kconfig: replace "--- help ---" with "---help---"   c2port: fix bogus Kconfig "default no"   edac: Fix spelling errors.   qla1280: Remove redundant NULL check before release_firmware() call   remoteproc: remove redundant NULL check before release_firmware()   qla2xxx: Remove redundant NULL check before release_firmware() call.   aic94xx: Get rid of redundant NULL check before release_firmware() call   tehuti: delete redundant NULL check before release_firmware()   qlogic: get rid of a redundant test for NULL before call to release_firmware()   bna: remove redundant NULL test before release_firmware()   tg3: remove redundant NULL test before release_firmware() call   typhoon: get rid of redundant conditional before all to release_firmware()   ...
f | sysfs-driver-wacom | g | 3.3K |  | Linus Torvalds | torvalds@linux-foundation.org | 1337880869 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input  Pull input layer updates from Dmitry Torokhov:  - a bunch of new drivers (DA9052/53 touchscreenn controller, Synaptics    Navpoint, LM8333 keypads, Wacom I2C touhscreen);  - updates to existing touchpad drivers (ALPS, Sntelic);  - Wacom driver now supports Intuos5;  - device-tree bindings in numerous drivers;  - other cleanups and fixes.  Fix annoying conflict in drivers/input/tablet/wacom_wac.c that I think implies that the input layer device naming is broken, but let's see.  I brough it up with Dmitry.  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input: (57 commits)   Input: matrix-keymap - fix building keymaps   Input: spear-keyboard - document DT bindings   Input: spear-keyboard - add device tree bindings   Input: matrix-keymap - wire up device tree support   Input: matrix-keymap - uninline and prepare for device tree support   Input: adp5588 - add support for gpio names   Input: omap-keypad - dynamically handle register offsets   Input: synaptics - fix compile warning   MAINTAINERS: adjust input-related patterns   Input: ALPS - switch to using input_mt_report_finger_count   Input: ALPS - add semi-MT support for v4 protocol   Input: Add Synaptics NavPoint (PXA27x SSP/SPI) driver   Input: atmel_mxt_ts - dump each message on just 1 line   Input: atmel_mxt_ts - do not read extra (checksum) byte   Input: atmel_mxt_ts - verify object size in mxt_write_object   Input: atmel_mxt_ts - only allow root to update firmware   Input: atmel_mxt_ts - use CONFIG_PM_SLEEP   Input: sentelic - report device's production serial number   Input: tl6040-vibra - Device Tree support   Input: evdev - properly handle read/write with count 0   ...
f | sysfs-platform-eeepc-laptop | g | 1.5K |  | Corentin Chary | corentincj@iksaif.net | 1267381857 |  | eeepc-laptop: set the right paths in the documentation  Signed-off-by: Corentin Chary <corentincj@iksaif.net>
f | sysfs-bus-rpmsg | g | 2.9K |  | Ohad Ben-Cohen | ohad@wizery.com | 1328734438 |  | rpmsg: add virtio-based remote processor messaging bus  Add a virtio-based inter-processor communication bus, which enables kernel drivers to communicate with entities, running on remote processors, over shared memory using a simple messaging protocol.  Every pair of AMP processors share two vrings, which are used to send and receive the messages over shared memory.  The header of every message sent on the rpmsg bus contains src and dst addresses, which make it possible to multiplex several rpmsg channels on the same vring.  Every rpmsg channel is a device on this bus. When a channel is added, and an appropriate rpmsg driver is found and probed, it is also assigned a local rpmsg address, which is then bound to the driver's callback.  When inbound messages carry the local address of a bound driver, its callback is invoked by the bus.  This patch provides a kernel interface only; user space interfaces will be later exposed by kernel users of this rpmsg bus.  Designed with Brian Swetland <swetland@google.com>.  Signed-off-by: Ohad Ben-Cohen <ohad@wizery.com> Acked-by: Rusty Russell <rusty@rustcorp.com.au> (virtio_ids.h) Cc: Brian Swetland <swetland@google.com> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Tony Lindgren <tony@atomide.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Andrew Morton <akpm@linux-foundation.org> Cc: Greg KH <greg@kroah.com> Cc: Stephen Boyd <sboyd@codeaurora.org>
f | sysfs-driver-samsung-laptop | g | 1.4K |  | Linus Torvalds | torvalds@linux-foundation.org | 1332969623 |  | Merge branch 'for_linus' of git://cavan.codon.org.uk/platform-drivers-x86  Pull x86 platform driver updates from Matthew Garrett:  "Some significant updates to samsung-laptop, additional hardware   support for Toshibas, misc updates to various hardware and a new   backlight driver for some Apple machines."  Fix up trivial conflicts: geode Geos update happening next to net5501 support, and MSIC thermal platform support added twice.  * 'for_linus' of git://cavan.codon.org.uk/platform-drivers-x86: (77 commits)   acer-wmi: add quirk table for video backlight vendor mode   drivers/platform/x86/amilo-rfkill.c::amilo_rfkill_probe() avoid NULL deref   samsung-laptop: unregister ACPI video module for some well known laptops   acer-wmi: No wifi rfkill on Sony machines   thinkpad-acpi: recognize Lenovo as version string in newer V-series BIOS   asus-wmi: don't update power and brightness when using scalar   eeepc-wmi: split et2012 specific hacks   eeepc-wmi: refine quirks handling   asus-nb-wmi: set panel_power correctly   asus-wmi: move WAPF variable into quirks_entry   asus-wmi: store backlight power status for AIO machine   asus-wmi: add scalar board brightness adj. support   samsung-laptop: cleanup return type: mode_t vs umode_t   drivers, samsung-laptop: fix usage of isalnum   drivers, samsung-laptop: fix initialization of sabi_data in sabi_set_commandb   asus-wmi: on/off bit is not set when reading the value   eeepc-wmi: add extra keymaps for EP121   asus-nb-wmi: ignore useless keys   acer-wmi: support Lenovo ideapad S205 Brazos wifi switch   acer-wmi: fix out of input parameter size when set   ...
f | sysfs-class-devfreq | g | 1.9K |  | MyungJoo Ham | myungjoo.ham@samsung.com | 1317507574 |  | PM / devfreq: Add basic governors  Four cpufreq-like governors are provided as examples.  powersave: use the lowest frequency possible. The user (device) should set the polling_ms as 0 because polling is useless for this governor.  performance: use the highest freqeuncy possible. The user (device) should set the polling_ms as 0 because polling is useless for this governor.  userspace: use the user specified frequency stored at devfreq.user_set_freq. With sysfs support in the following patch, a user may set the value with the sysfs interface.  simple_ondemand: simplified version of cpufreq's ondemand governor.  When a user updates OPP entries (enable/disable/add), OPP framework automatically notifies devfreq to update operating frequency accordingly. Thus, devfreq users (device drivers) do not need to update devfreq manually with OPP entry updates or set polling_ms for powersave , performance, userspace, or any other "static" governors.  Note that these are given only as basic examples for governors and any devices with devfreq may implement their own governors with the drivers and use them.  Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Reviewed-by: Mike Turquette <mturquette@ti.com> Acked-by: Kevin Hilman <khilman@ti.com> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | sysfs-firmware-sgi_uv | g | 889B |  | Russ Anderson | rja@sgi.com | 1220408500 |  | sysfs: document files in /sys/firmware/sgi_uv/  Document files in /sys/firmware/sgi_uv/.  Signed-off-by: Russ Anderson <rja@sgi.com> Cc: Jack Steiner <steiner@sgi.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: Thomas Gleixner <tglx@linutronix.de> Acked-by: Greg Kroah-Hartman <gregkh@suse.de> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | evm | g | 1.2K |  | Mimi Zohar | zohar@linux.vnet.ibm.com | 1311006580 |  | evm: re-release  EVM protects a file's security extended attributes(xattrs) against integrity attacks.  This patchset provides the framework and an initial method.  The initial method maintains an HMAC-sha1 value across the security extended attributes, storing the HMAC value as the extended attribute 'security.evm'. Other methods of validating the integrity of a file's metadata will be posted separately (eg. EVM-digital-signatures).  While this patchset does authenticate the security xattrs, and cryptographically binds them to the inode, coming extensions will bind other directory and inode metadata for more complete protection.  To help simplify the review and upstreaming process, each extension will be posted separately (eg. IMA-appraisal, IMA-appraisal-directory).  For a general overview of the proposed Linux integrity subsystem, refer to Dave Safford's whitepaper: http://downloads.sf.net/project/linux-ima/linux-ima/Integrity_overview.pdf.  EVM depends on the Kernel Key Retention System to provide it with a trusted/encrypted key for the HMAC-sha1 operation. The key is loaded onto the root's keyring using keyctl.  Until EVM receives notification that the key has been successfully loaded onto the keyring (echo 1 > <securityfs>/evm), EVM can not create or validate the 'security.evm' xattr, but returns INTEGRITY_UNKNOWN. Loading the key and signaling EVM should be done as early as possible. Normally this is done in the initramfs, which has already been measured as part of the trusted boot.  For more information on creating and loading existing trusted/encrypted keys, refer to Documentation/keys-trusted-encrypted.txt.  A sample dracut patch, which loads the trusted/encrypted key and enables EVM, is available from http://linux-ima.sourceforge.net/#EVM.  Based on the LSMs enabled, the set of EVM protected security xattrs is defined at compile.  EVM adds the following three calls to the existing security hooks: evm_inode_setxattr(), evm_inode_post_setxattr(), and evm_inode_removexattr.  To initialize and update the 'security.evm' extended attribute, EVM defines three calls: evm_inode_post_init(), evm_inode_post_setattr() and evm_inode_post_removexattr() hooks.  To verify the integrity of a security xattr, EVM exports evm_verifyxattr().  Changelog v7: - Fixed URL in EVM ABI documentation  Changelog v6: (based on Serge Hallyn's review) - fix URL in patch description - remove evm_hmac_size definition - use SHA1_DIGEST_SIZE (removed both MAX_DIGEST_SIZE and evm_hmac_size) - moved linux include before other includes - test for crypto_hash_setkey failure - fail earlier for invalid key - clear entire encrypted key, even on failure - check xattr name length before comparing xattr names  Changelog: - locking based on i_mutex, remove evm_mutex - using trusted/encrypted keys for storing the EVM key used in the HMAC-sha1   operation. - replaced crypto hash with shash (Dmitry Kasatkin) - support for additional methods of verifying the security xattrs   (Dmitry Kasatkin) - iint not allocated for all regular files, but only for those appraised - Use cap_sys_admin in lieu of cap_mac_admin - Use __vfs_setxattr_noperm(), without permission checks, from EVM  Signed-off-by: Mimi Zohar <zohar@us.ibm.com> Acked-by: Serge Hallyn <serge.hallyn@canonical.com>
f | sysfs-class-backlight-driver-adp8870 | g | 2.3K |  | Jesper Juhl | jj@chaosbits.net | 1312543960 |  | Documentation/ABI/: update version number references from 2.6.x to 3.x  Update the version number references from 2.6.x to 3.x Also correct spelling of "May" (was spelled "Mai").  Signed-off-by: Jesper Juhl <jj@chaosbits.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | procfs-diskstats | g | 655B |  | André Goddard Rosa | andre.goddard@gmail.com | 1259937595 |  | tree-wide: fix assorted typos all over the place  That is "success", "unknown", "through", "performance", "[re||un]mapping" , "access", "default", "reasonable", "[con]currently", "temperature" , "channel", "[un]used", "application", "example","hierarchy", "therefore" , "[over||under]flow", "contiguous", "threshold", "enough" and others.  Signed-off-by: André Goddard Rosa <andre.goddard@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-bus-fcoe | g | 2.7K |  | Robert Love | robert.w.love@intel.com | 1337762409 |  | [SCSI] libfcoe: Add fcoe_sysfs  This patch adds a 'fcoe bus' infrastructure to the kernel that is driven by changes to libfcoe which allow LLDs to present FIP (FCoE Initialization Protocol) discovered entities and their attributes to user space via sysfs.  This patch adds the following APIs-  fcoe_ctlr_device_add fcoe_ctlr_device_delete fcoe_fcf_device_add fcoe_fcf_device_delete  They allow the LLD to expose the FCoE ENode Controller and any discovered FCFs (Fibre Channel Forwarders, e.g. FCoE switches) to the user. Each of these new devices has their own bus_type so that they are grouped together for easy lookup from a user space application. Each new class has an attribute_group to expose attributes for any created instances. The attributes are-  fcoe_ctlr_device * fcf_dev_loss_tmo * lesb_link_fail * lesb_vlink_fail * lesb_miss_fka * lesb_symb_err * lesb_err_block * lesb_fcs_error  fcoe_fcf_device * fabric_name * switch_name * priority * selected * fc_map * vfid * mac * fka_peroid * fabric_state * dev_loss_tmo  A device loss infrastructre similar to the FC Transport's is also added by this patch. It is nice to have so that a link flapping adapter doesn't continually advance the count used to identify the discovered FCF. FCFs will exist in a "Disconnected" state until either the timer expires or the FCF is rediscovered and becomes "Connected."  This patch generates a few checkpatch.pl WARNINGS that I'm not sure what to do about. They're macros modeled around the FC Transport attribute building macros, which have the same 'feature' where the caller can ommit a cast in the argument list and no cast occurs in the code. I'm not sure how to keep the code condensed while keeping the macros. Any advice would be appreciated.  Signed-off-by: Robert Love <robert.w.love@intel.com> Tested-by: Ross Brattain <ross.b.brattain@intel.com> Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Signed-off-by: James Bottomley <JBottomley@Parallels.com>
f | sysfs-class-net-batman-adv | g | 565B |  | Sven Eckelmann | sven@narfation.org | 1292535864 |  | net: Add batman-adv meshing protocol  B.A.T.M.A.N. (better approach to mobile ad-hoc networking) is a routing protocol for multi-hop ad-hoc mesh networks. The networks may be wired or wireless. See http://www.open-mesh.org/ for more information and user space tools.  Signed-off-by: Sven Eckelmann <sven@narfation.org> Signed-off-by: David S. Miller <davem@davemloft.net>
f | sysfs-block-rssd | g | 223B |  | Asai Thambi S P | asamymuthupa@micron.com | 1338880428 |  | mtip32xx: Remove 'registers' and 'flags' from sysfs  This patch removes entries 'registers' and 'flags' from sysfs. Updated ABI file to reflect this change.  Reported-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Signed-off-by: Asai Thambi S P <asamymuthupa@micron.com> Signed-off-by: Jens Axboe <axboe@kernel.dk>
f | sysfs-devices-system-cpu | g | 6.1K |  | Peter Zijlstra | peterz@infradead.org | 1337255336 |  | sched: Remove stale power aware scheduling remnants and dysfunctional knobs  It's been broken forever (i.e. it's not scheduling in a power aware fashion), as reported by Suresh and others sending patches, and nobody cares enough to fix it properly ... so remove it to make space free for something better.  There's various problems with the code as it stands today, first and foremost the user interface which is bound to topology levels and has multiple values per level. This results in a state explosion which the administrator or distro needs to master and almost nobody does.  Furthermore large configuration state spaces aren't good, it means the thing doesn't just work right because it's either under so many impossibe to meet constraints, or even if there's an achievable state workloads have to be aware of it precisely and can never meet it for dynamic workloads.  So pushing this kind of decision to user-space was a bad idea even with a single knob - it's exponentially worse with knobs on every node of the topology.  There is a proposal to replace the user interface with a single 3 state knob:   sched_balance_policy := { performance, power, auto }  where 'auto' would be the preferred default which looks at things like Battery/AC mode and possible cpufreq state or whatever the hw exposes to show us power use expectations - but there's been no progress on it in the past many months.  Aside from that, the actual implementation of the various knobs is known to be broken. There have been sporadic attempts at fixing things but these always stop short of reaching a mergable state.  Therefore this wholesale removal with the hopes of spurring people who care to come forward once again and work on a coherent replacement.  Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Cc: Suresh Siddha <suresh.b.siddha@intel.com> Cc: Arjan van de Ven <arjan@linux.intel.com> Cc: Vincent Guittot <vincent.guittot@linaro.org> Cc: Vaidyanathan Srinivasan <svaidy@linux.vnet.ibm.com> Cc: Linus Torvalds <torvalds@linux-foundation.org> Cc: Andrew Morton <akpm@linux-foundation.org> Link: http://lkml.kernel.org/r/1326104915.2442.53.camel@twins Signed-off-by: Ingo Molnar <mingo@kernel.org>
f | sysfs-bus-umc | g | 1018B |  | David Vrabel | david.vrabel@csr.com | 1221666875 |  | uwb: document UWB and WUSB sysfs files  Add some brief documentation on the UWB and WUSB related sysfs files.  Signed-off-by: David Vrabel <david.vrabel@csr.com>
f | sysfs-class-lcd | g | 681B |  | Corentin Chary | corentincj@iksaif.net | 1251487272 |  | video/lcd: document sysfs interface  Date and KernelVersion may be wrong because the lcd interface was introduced before git initial import.  Cc: Richard Purdie <rpurdie@rpsys.net> Signed-off-by: Corentin Chary <corentincj@iksaif.net> Signed-off-by: Len Brown <len.brown@intel.com>
f | sysfs-devices-power | g | 8.4K |  | Rafael J. Wysocki | rjw@sisk.pl | 1335900349 |  | PM / Sleep: Add "prevent autosleep time" statistics to wakeup sources  Android uses one wakelock statistics that is only necessary for opportunistic sleep.  Namely, the prevent_suspend_time field accumulates the total time the given wakelock has been locked while "automatic suspend" was enabled.  Add an analogous field, prevent_sleep_time, to wakeup sources and make it behave in a similar way.  Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl> Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sysfs-driver-hid-roccat-arvo | g | 2.8K |  | Stefan Achatz | erazor_de@users.sourceforge.net | 1296750589 |  | HID: roccat: Add 'Users:' tag to sysfs documentation  Added 'Users:' tag to sysfs documentation of roccat device drivers pointing to project website at sourceforge.  Signed-off-by: Stefan Achatz <erazor_de@users.sourceforge.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-class-uwb_rc-wusbhc | g | 1.6K |  | David Vrabel | david.vrabel@csr.com | 1260561316 |  | USB: wusb: add wusb_phy_rate sysfs file to host controllers  Add the wusb_phy_rate sysfs file to Wireless USB host controllers.  This sets the maximum PHY rate that will be used for all connected devices.  Signed-off-by: David Vrabel <david.vrabel@csr.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-class-uwb_rc | g | 5.1K |  | David Vrabel | david.vrabel@csr.com | 1227105993 |  | uwb: add basic radio manager  The UWB radio manager coordinates the use of the radio between the PALs that may be using it.  PALs request use of the radio with uwb_radio_start() and the radio manager will start beaconing if its not already doing so.  When the last PAL has called uwb_radio_stop() beaconing will be stopped.  In the future, the radio manager will have a more sophisticated channel selection algorithm, probably following the Channel Selection Policy from the WiMedia Alliance when it is finalized.  For now, channel 9 (BG1, TFC1) is selected.  The user may override the channel selected by the radio manager and may force the radio to stop beaconing.  The WUSB Host Controller PAL makes use of this and there are two new debug PAL commands that can be used for testing.  Signed-off-by: David Vrabel <david.vrabel@csr.com>
f | sysfs-firmware-memmap | g | 2.3K |  | Bernhard Walle | bernhard.walle@gmx.de | 1235000276 |  | Bernhard has moved  Since I don't work for SUSE any more and the bwalle@suse.de address is invalid, correct it in the copyright headers and documentation.  Signed-off-by: Bernhard Walle <bernhard.walle@gmx.de> Cc: Greg KH <greg@kroah.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-bus-i2c-devices-hm6352 | g | 640B |  | Kalhan Trisal | kalhan.trisal@intel.com | 1281411910 |  | hmc6352: add driver for the HMC6352 compass  This driver will report the heading values in degrees to the sysfs interface.  The values returned are headings .  e.g.  245.6  Alan: Cleanups requested now all folded in and a sysfs description to keep Andrew happy. The sysfs description now resembles hwmon.  Signed-off-by: Kalhan Trisal <kalhan.trisal@intel.com> Reviewed-by: Jean Delvare <khali@linux-fr.org> Signed-off-by: Alan Cox <alan@linux.intel.com> Cc: Jonathan Cameron <jic23@cam.ac.uk> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-class-scsi_host | g | 618B |  | Dave Jiang | dave.jiang@intel.com | 1314154464 |  | [SCSI] isci: Adding documentation to API change and fixup sysfs registration  Adding API update for adding isci_id entry scsi_host sysfs entry. Also fixing up the sysfs registration to the scsi_host template  Signed-off-by: Dave Jiang <dave.jiang@intel.com> Signed-off-by: Dan Williams <dan.j.williams@intel.com> Signed-off-by: James Bottomley <JBottomley@Parallels.com>
f | sysfs-driver-hid | g | 585B |  | Alan Ott | alan@signal11.us | 1297945394 |  | HID: Add HID Report Descriptor to sysfs  Add a new binary sysfs entry called report_descriptor which contains the HID report descriptor.  Signed-off-by: Alan Ott <alan@signal11.us> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-driver-hid-roccat-pyra | g | 5.3K |  | Sylvestre Ledru | sylvestre.ledru@scilab.org | 1301964707 |  | Documentation: fix minor typos/spelling  Fix some minor typos:  * informations => information  * there own => their own  * these => this  Signed-off-by: Sylvestre Ledru <sylvestre.ledru@scilab.org> Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-firmware-acpi | g | 5.0K |  | Matthew Garrett | mjg@redhat.com | 1333094964 |  | ACPI: Add support for exposing BGRT data  ACPI 5.0 adds the BGRT, a table that contains a pointer to the firmware boot splash and associated metadata. This simple driver exposes it via /sys/firmware/acpi in order to allow bootsplash applications to draw their splash around the firmware image and reduce the number of jarring graphical transitions during boot.  Signed-off-by: Matthew Garrett <mjg@redhat.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | sysfs-devices-soc | g | 2.0K |  | Lee Jones | lee.jones@linaro.org | 1328902945 |  | Documentation: add information for new sysfs soc bus functionality  This change applies the required documentation for each new attribute recenty added by the new System-On-Chip (SoC) information export bus driver.  Signed-off-by: Lee Jones <lee.jones@linaro.org> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sysfs-ptp | g | 3.3K |  | Richard Cochran | richardcochran@gmail.com | 1306180860 |  | ptp: Added a brand new class driver for ptp clocks.  This patch adds an infrastructure for hardware clocks that implement IEEE 1588, the Precision Time Protocol (PTP). A class driver offers a registration method to particular hardware clock drivers. Each clock is presented as a standard POSIX clock.  The ancillary clock features are exposed in two different ways, via the sysfs and by a character device.  Signed-off-by: Richard Cochran <richard.cochran@omicron.at> Acked-by: Arnd Bergmann <arnd@arndb.de> Acked-by: David S. Miller <davem@davemloft.net> Signed-off-by: John Stultz <john.stultz@linaro.org>
f | sysfs-class-led | g | 1.3K |  | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | sysfs-class-led-driver-lm3533 | g | 1.5K |  | Johan Hovold | jhovold@gmail.com | 1338333752 |  | leds: add LM3533 LED driver  Add sub-driver for the LEDs on National Semiconductor / TI LM3533 lighting power chips.  The chip provides 256 brightness levels, hardware accelerated blinking as well as ambient-light-sensor and pwm input control.  Signed-off-by: Johan Hovold <jhovold@gmail.com> Cc: Richard Purdie <rpurdie@rpsys.net> Cc: Rob Landley <rob@landley.net> Cc: Samuel Ortiz <sameo@linux.intel.com> Cc: Jonathan Cameron <jic23@cam.ac.uk> Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Cc: Florian Tobias Schandinat <FlorianSchandinat@gmx.de> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Mark Brown <broonie@opensource.wolfsonmicro.com> Cc: Bryan Wu <bryan.wu@canonical.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-pps | g | 2.1K |  | Rodolfo Giometti | giometti@linux.it | 1245355444 |  | LinuxPPS: core support  This patch adds the kernel side of the PPS support currently named "LinuxPPS".  PPS means "pulse per second" and a PPS source is just a device which provides a high precision signal each second so that an application can use it to adjust system clock time.  Common use is the combination of the NTPD as userland program with a GPS receiver as PPS source to obtain a wallclock-time with sub-millisecond synchronisation to UTC.  To obtain this goal the userland programs shoud use the PPS API specification (RFC 2783 - Pulse-Per-Second API for UNIX-like Operating Systems, Version 1.0) which in part is implemented by this patch.  It provides a set of chars devices, one per PPS source, which can be used to get the time signal.  The RFC's functions can be implemented by accessing to these char devices.  Signed-off-by: Rodolfo Giometti <giometti@linux.it> Cc: David Woodhouse <dwmw2@infradead.org> Cc: Greg KH <greg@kroah.com> Cc: Randy Dunlap <randy.dunlap@oracle.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Acked-by: Alan Cox <alan@lxorguk.ukuu.org.uk> Cc: Michael Kerrisk <mtk.manpages@googlemail.com> Cc: Christoph Hellwig <hch@infradead.org> Cc: Roman Zippel <zippel@linux-m68k.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-bus-event_source-devices-format | g | 517B |  | Jiri Olsa | jolsa@redhat.com | 1331917566 |  | perf: Adding sysfs group format attribute for pmu device  Adding sysfs group 'format' attribute for pmu device that contains a syntax description on how to construct raw events.  The event configuration is described in following struct pefr_event_attr attributes:    config   config1   config2  Each sysfs attribute within the format attribute group, describes mapping of name and bitfield definition within one of above attributes.  eg:   "/sys/...<dev>/format/event" contains "config:0-7"   "/sys/...<dev>/format/umask" contains "config:8-15"   "/sys/...<dev>/format/usr"   contains "config:16"  the attribute value syntax is:    line:      config ':' bits   config:    'config' || 'config1' || 'config2"   bits:      bits ',' bit_term || bit_term   bit_term:  VALUE '-' VALUE || VALUE  Adding format attribute definitions for x86 cpu pmus.  Acked-by: Peter Zijlstra <peterz@infradead.org> Signed-off-by: Peter Zijlstra <peterz@infradead.org> Signed-off-by: Jiri Olsa <jolsa@redhat.com> Link: http://lkml.kernel.org/n/tip-vhdk5y2hyype9j63prymty36@git.kernel.org Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
f | sysfs-driver-hid-logitech-lg4ff | g | 306B |  | Al Viro | viro@zeniv.linux.org.uk | 1325505895 |  | misc latin1 to utf8 conversions  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-driver-hid-roccat-kone | g | 4.9K |  | Sylvestre Ledru | sylvestre.ledru@scilab.org | 1301964707 |  | Documentation: fix minor typos/spelling  Fix some minor typos:  * informations => information  * there own => their own  * these => this  Signed-off-by: Sylvestre Ledru <sylvestre.ledru@scilab.org> Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-block-dm | g | 817B |  | Milan Broz | mbroz@redhat.com | 1332956483 |  | dm: document sysfs entries  Describe attributes provided by device-mapper in /sys/block.  Signed-off-by: Milan Broz <mbroz@redhat.com> Signed-off-by: Alasdair G Kergon <agk@redhat.com>
f | sysfs-kernel-mm | g | 202B |  | Nishanth Aravamudan | nacc@us.ibm.com | 1216921637 |  | mm: create /sys/kernel/mm  Add a kobject to create /sys/kernel/mm when sysfs is mounted.  The kobject will exist regardless.  This will allow for the hugepage related sysfs directories to exist under the mm "subsystem" directory.  Add an ABI file appropriately.  [kosaki.motohiro@jp.fujitsu.com: fix build] Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com> Cc: Nick Piggin <nickpiggin@yahoo.com.au> Cc: Mel Gorman <mel@csn.ul.ie> Signed-off-by: KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | pstore | g | 1.6K |  | Matthew Garrett | mjg@redhat.com | 1311376479 |  | pstore: Allow the user to explicitly choose a backend  pstore only allows one backend to be registered at present, but the system may provide several. Add a parameter to allow the user to choose which backend will be used rather than just relying on load order.  Signed-off-by: Matthew Garrett <mjg@redhat.com> Signed-off-by: Tony Luck <tony.luck@intel.com>
f | sysfs-bus-css | g | 1.4K |  | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | sysfs-devices | g | 1.0K |  | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1329346081 |  | driver-core: documentation: fix up Greg's email address  My old email address was used in a lot of documentation files, so fix this up to point to the correct one now.  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sysfs-i2c-bmp085 | g | 1.1K |  | Christoph Mair | christoph.mair@gmail.com | 1281411905 |  | drivers/misc: support for the pressure sensor BMP085 from Bosch Sensortec  This driver adds support for the BMP085 digital pressure sensor from Bosch Sensortec.  It exposes a sysfs api to userspace where pressure and temperature measurement results can be read from the pressure0_input and temp0_input file.  The chip is able to calculate the average of up to eight samples to increase the accuracy.  This feature can be controlled by writing to the oversampling file.  The BMP085 digital pressure sensor can measure ambient air pressure and temperature.  Both values can be obtained from sysfs files.  The pressure is measured by reading from pressure0_input.  Valid values range from 30000 to 110000 pascal with a resolution of 1 pascal (=0.01 millibar).  temp0_input holds the current temperature in degree celsius, multiplied by 10.  This results in a resolution of a tenth degree celsius.  Values range from -400 to 850.  To increase the accuracy, this chip can calculate the average of 1, 2, 4 or 8 samples.  This behavior is controlled through the oversampling sysfs file.  Two to the power of the value written to that file specifies how many samples will be used.  Valid values: 0..3.  [akpm@linux-foundation.org: fix typo] [shubhrajyoti@ti.com: optimize the wait time for the pressure sensor, definition of long is arch dependent so make it u32] [akpm@linux-foundation.org: coding-style fixes] Signed-off-by: Christoph Mair <christoph.mair@gmail.com> Signed-off-by: Shubhrajyoti D <shubhrajyoti@ti.com> Acked-by: Jonathan Cameron <jic23@cam.ac.uk> Cc: Stefan Schmidt <stefan@datenfreihafen.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-block | g | 7.9K |  | Tejun Heo | tj@kernel.org | 1320912235 |  | block: Revert "[SCSI] genhd: add a new attribute "alias" in gendisk"  This reverts commit a72c5e5eb738033938ab30d6a634b74d1d060f10.  The commit introduced alias for block devices which is intended to be used during logging although actual usage hasn't been committed yet. This approach adds very limited benefit (raw log might be easier to follow) which can be trivially implemented in userland but has a lot of problems.  It is much worse than netif renames because it doesn't rename the actual device but just adds conveninence name which isn't used universally or enforced.  Everything internal including device lookup and sysfs still uses the internal name and nothing prevents two devices from using conflicting alias - ie. sda can have sdb as its alias.  This has been nacked by people working on device driver core, block layer and kernel-userland interface and shouldn't have been upstreamed.  Revert it.   http://thread.gmane.org/gmane.linux.kernel/1155104  http://thread.gmane.org/gmane.linux.scsi/68632  http://thread.gmane.org/gmane.linux.scsi/69776  Signed-off-by: Tejun Heo <tj@kernel.org> Acked-by: Greg Kroah-Hartman <gregkh@suse.de>  Acked-by: Kay Sievers <kay.sievers@vrfy.org> Cc: "James E.J. Bottomley" <James.Bottomley@HansenPartnership.com> Cc: Nao Nishijima <nao.nishijima.xt@hitachi.com> Cc: Alan Cox <alan@linux.intel.com> Cc: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Jens Axboe <axboe@kernel.dk>
f | sysfs-devices-memory | g | 3.3K |  | Justin P. Mattock | justinmattock@gmail.com | 1280928100 |  | Documentation: update broken web addresses.  Below you will find an updated version from the original series bunching all patches into one big patch updating broken web addresses that are located in Documentation/* Some of the addresses date as far far back as 1995 etc... so searching became a bit difficult, the best way to deal with these is to use web.archive.org to locate these addresses that are outdated. Now there are also some addresses pointing to .spec files some are located, but some(after searching on the companies site)where still no where to be found. In this case I just changed the address to the company site this way the users can contact the company and they can locate them for the users.  Signed-off-by: Justin P. Mattock <justinmattock@gmail.com> Signed-off-by: Thomas Weber <weber@corscience.de> Signed-off-by: Mike Frysinger <vapier.adi@gmail.com> Cc: Paulo Marques <pmarques@grupopie.com> Cc: Randy Dunlap <rdunlap@xenotime.net> Cc: Michael Neuling <mikey@neuling.org> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-kernel-mm-hugepages | g | 521B |  | Nishanth Aravamudan | nacc@us.ibm.com | 1216921637 |  | hugetlb: new sysfs interface  Provide new hugepages user APIs that are more suited to multiple hstates in sysfs.  There is a new directory, /sys/kernel/hugepages.  Underneath that directory there will be a directory per-supported hugepage size, e.g.:  /sys/kernel/hugepages/hugepages-64kB /sys/kernel/hugepages/hugepages-16384kB /sys/kernel/hugepages/hugepages-16777216kB  corresponding to 64k, 16m and 16g respectively.  Within each hugepages-size directory there are a number of files, corresponding to the tracked counters in the hstate, e.g.:  /sys/kernel/hugepages/hugepages-64/nr_hugepages /sys/kernel/hugepages/hugepages-64/nr_overcommit_hugepages /sys/kernel/hugepages/hugepages-64/free_hugepages /sys/kernel/hugepages/hugepages-64/resv_hugepages /sys/kernel/hugepages/hugepages-64/surplus_hugepages  Of these files, the first two are read-write and the latter three are read-only.  The size of the hugepage being manipulated is trivially deducible from the enclosing directory and is always expressed in kB (to match meminfo).  [dave@linux.vnet.ibm.com: fix build] [nacc@us.ibm.com: hugetlb: hang off of /sys/kernel/mm rather than /sys/kernel] [nacc@us.ibm.com: hugetlb: remove CONFIG_SYSFS dependency] Acked-by: Greg Kroah-Hartman <gregkh@suse.de> Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com> Signed-off-by: Nick Piggin <npiggin@suse.de> Cc: Dave Hansen <dave@linux.vnet.ibm.com> Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-devices-system-ibm-rtl | g | 817B |  | Vernon Mauery | vernux@us.ibm.com | 1287670246 |  | IBM Real-Time "SMI Free" mode driver -v7  After a period of RFC for this driver, I think it is ready for inclusion in the platform-driver-x86 tree, hopefully to be staged in the next merge window into Linus's tree.  --Vernon  ------------------------------------------------------------  IBM Real-Time "SMI Free" mode driver  This driver supports the Real-Time Linux (RTL) BIOS feature. The RTL feature allows non-fatal System Management Interrupts (SMIs) to be disabled on supported IBM platforms and is intended to be coupled with a user-space daemon to monitor the hardware in a way that can be prioritized and scheduled to better suit the requirements for the system.  The Device is presented as a special "_RTL_" table to the OS in the Extended BIOS Data Area.  There is a simple protocol for entering and exiting the mode at runtime.  This driver creates a simple sysfs interface to allow a simple entry and exit from RTL mode in the UFI/BIOS.  Since the driver is specific to IBM SystemX hardware (x86- based servers) it only builds on x86 builds.  To reduce the risk of loading on the wrong hardware, the module uses DMI information and checks a list of servers that are known to work.  Signed-off-by: Vernon Mauery <vernux@us.ibm.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | sysfs-firmware-dmi | g | 4.0K |  | Mike Waychison | mikew@google.com | 1303256751 |  | firmware: Fix grammar in sysfs-firmware-dmi doc  Fix the grammar in describing the position attribute of DMI entries in the dmi-sysfs module.  While here, make a couple other small clarifying fixups to the docs.  Reported-by: <Valdis.Kletnieks@vt.edu> Signed-off-by: Mike Waychison <mikew@google.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-devices-platform-_UDC_-gadget | g | 667B |  | Andy Shevchenko | andy.shevchenko@gmail.com | 1281476142 |  | USB: gadget: storage: optional SCSI WRITE FUA bit  MS Windows mounts removable storage in "Removal optimized mode" by default. All the writes to the media are synchronous which is achieved by setting FUA (Force Unit Access) bit in SCSI WRITE(10,12) commands. This prevents I/O requests aggregation in block layer dramatically decreasing performance.  This patch brings an option to accept or ignore mentioned bit  a) via specifying module parameter "nofua", or  b) through sysfs entry 	/sys/devices/platform/_UDC_/gadget/gadget-lunX/nofua 	(_UDC_ is the name of the USB Device Controller driver)  Patch is based on the work that was done by Denis Karpov for Maemo 5 platform.  Signed-off-by: Andy Shevchenko <ext-andriy.shevchenko@nokia.com> Acked-by: Alan Stern <stern@rowland.harvard.edu> Cc: Denis Karpov <ext-denis.2.karpov@nokia.com> Cc: Adrian Hunter <adrian.hunter@nokia.com> Cc: David Brownell <dbrownell@users.sourceforge.net> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-class-pktcdvd | g | 2.7K |  | Thomas Maier | balagi@justmail.de | 1171219888 |  | [PATCH] pktcdvd: cleanup  - update documentation  - use clear_bdi_congested/set_bdi_congested functions directly instead of   old wrappers  - removed DECLARE_BUF_AS_STRING macro  Signed-off-by: Thomas Maier <balagi@justmail.de> Cc: Peter Osterlund <petero2@telia.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-memory-page-offline | g | 1.6K |  | Andi Kleen | andi@firstfloor.org | 1260962400 |  | HWPOISON: Add soft page offline support  This is a simpler, gentler variant of memory_failure() for soft page offlining controlled from user space.  It doesn't kill anything, just tries to invalidate and if that doesn't work migrate the page away.  This is useful for predictive failure analysis, where a page has a high rate of corrected errors, but hasn't gone bad yet. Instead it can be offlined early and avoided.  The offlining is controlled from sysfs, including a new generic entry point for hard page offlining for symmetry too.  We use the page isolate facility to prevent re-allocation race. Normally this is only used by memory hotplug. To avoid races with memory allocation I am using lock_system_sleep(). This avoids the situation where memory hotplug is about to isolate a page range and then hwpoison undoes that work. This is a big hammer currently, but the simplest solution currently.  When the page is not free or LRU we try to free pages from slab and other caches. The slab freeing is currently quite dumb and does not try to focus on the specific slab cache which might own the page. This could be potentially improved later.  Thanks to Fengguang Wu and Haicheng Li for some fixes.  [Added fix from Andrew Morton to adapt to new migrate_pages prototype] Signed-off-by: Andi Kleen <ak@linux.intel.com>
f | sysfs-bus-rbd | g | 1.5K |  | Josh Durgin | josh.durgin@dreamhost.com | 1337015594 |  | rbd: correct sysfs snap attribute documentation  Each attribute is prefixed with "snap_".  Signed-off-by: Josh Durgin <josh.durgin@dreamhost.com> Reviewed-by: Alex Elder <elder@dreamhost.com> Reviewed-by: Yehuda Sadeh <yehuda@hq.newdream.net>
f | sysfs-bus-bcma | g | 945B |  | Jesper Juhl | jj@chaosbits.net | 1312543960 |  | Documentation/ABI/: update version number references from 2.6.x to 3.x  Update the version number references from 2.6.x to 3.x Also correct spelling of "May" (was spelled "Mai").  Signed-off-by: Jesper Juhl <jj@chaosbits.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | debugfs-olpc | g | 572B |  | Daniel Drake | dsd@laptop.org | 1332874492 |  | x86/olpc: Add debugfs interface for EC commands  Add a debugfs interface for sending commands to the OLPC Embedded Controller (EC) and reading the responses.  The EC provides functionality for machine identification, battery and AC control, wakeup control, etc.  Having a debugfs interface available is useful for EC development and debugging.  Based on code by Paul Fox (who also approves of the end result).  Signed-off-by: Daniel Drake <dsd@laptop.org> Acked-by: Paul Fox <pgf@laptop.org> Cc: "H. Peter Anvin" <hpa@zytor.com> Cc: Andres Salomon <dilinger@queued.net> Link: http://lkml.kernel.org/r/20120327150740.667D09D401E@zog.reactivated.net Signed-off-by: Ingo Molnar <mingo@kernel.org>
f | sysfs-wusb_cbaf | g | 3.9K |  | David Vrabel | david.vrabel@csr.com | 1221666875 |  | uwb: document UWB and WUSB sysfs files  Add some brief documentation on the UWB and WUSB related sysfs files.  Signed-off-by: David Vrabel <david.vrabel@csr.com>
f | sysfs-driver-hid-wiimote | g | 1003B |  | David Herrmann | dh.herrmann@googlemail.com | 1321999748 |  | HID: wiimote: Add extension sysfs attribute  Add new sysfs attribute "extension" which returns the currently connected and initialized extensions.  Signed-off-by: David Herrmann <dh.herrmann@googlemail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-class | g | 532B |  | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1329346081 |  | driver-core: documentation: fix up Greg's email address  My old email address was used in a lot of documentation files, so fix this up to point to the correct one now.  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sysfs-tty | g | 584B |  | Kay Sievers | kay.sievers@vrfy.org | 1292544934 |  | tty: add 'active' sysfs attribute to tty0 and console device  tty: add 'active' sysfs attribute to tty0 and console device  Userspace can query the actual virtual console, and the configured console devices behind /dev/tt0 and /dev/console.  The last entry in the list of devices is the active device, analog to the console= kernel command line option.  The attribute supports poll(), which is raised when the virtual console is changed or /dev/console is reconfigured.  Signed-off-by: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>  index 0000000..b138b66
f | configfs-spear-pcie-gadget | g | 1.2K |  | Pratyush Anand | pratyush.anand@st.com | 1300841050 |  | ST SPEAr: PCIE gadget suppport  This is a configurable gadget.  can be configured by configfs interface. Any IP available at PCIE bus can be programmed to be used by host controller.It supoorts both INTX and MSI.  By default, the gadget is configured for INTX and SYSRAM1 is mapped to BAR0 with size 0x1000  Signed-off-by: Pratyush Anand <pratyush.anand@st.com> Cc: Randy Dunlap <randy.dunlap@oracle.com> Cc: Jesse Barnes <jbarnes@virtuousgeek.org> Cc: Viresh Kumar <viresh.kumar@st.com> Cc: Shiraz Hashim <shiraz.hashim@st.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-bus-i2c-devices-lm3533 | g | 472B |  | Johan Hovold | jhovold@gmail.com | 1337527621 |  | mfd: Remove lm3533 boost attributes  Remove boost-frequency and ovp attributes, which can be set through platform data, from sysfs.  Signed-off-by: Johan Hovold <jhovold@gmail.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | sysfs-class-net-mesh | g | 3.7K |  | Simon Wunderlich | simon.wunderlich@s2003.tu-chemnitz.de | 1334147339 |  | batman-adv: make bridge loop avoidance switchable  Signed-off-by: Simon Wunderlich <siwu@hrz.tu-chemnitz.de> Signed-off-by: Antonio Quartulli <ordex@autistici.org>
f | sysfs-platform-kim | g | 1.9K |  | Pavan Savoy | pavan_savoy@ti.com | 1296852080 |  | drivers:misc: ti-st: move from rfkill to sysfs  The communication between ST KIM and UIM was interfaced over the /dev/rfkill device node. Move the interface to a simpler less abusive sysfs entry mechanism and document it in Documentation/ABI/testing/ under sysfs-platform-kim.  Shared transport driver would now read the UART details originally received by bootloader or firmware as platform data. The data read will be shared over sysfs entries for the user-space UIM or other n/w manager/plugins to be read, and assist the driver by opening up the UART, setting the baud-rate and installing the line discipline.  Signed-off-by: Pavan Savoy <pavan_savoy@ti.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-block-zram | g | 3.3K |  | Nitin Gupta | ngupta@vflare.org | 1283294076 |  | Staging: zram: Document sysfs entries  Signed-off-by: Nitin Gupta <ngupta@vflare.org> Acked-by: Pekka Enberg <penberg@kernel.org> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-kernel-slab | g | 17K |  | Stanislaw Gruszka | sgruszka@redhat.com | 1326427984 |  | slub: document setting min order with debug_guardpage_minorder > 0  Acked-by: David Rientjes <rientjes@google.com> Cc: Pekka Enberg <penberg@cs.helsinki.fi> Cc: "Rafael J. Wysocki" <rjw@sisk.pl> Signed-off-by: Stanislaw Gruszka <sgruszka@redhat.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | debugfs-pktcdvd | g | 448B |  | Shen Feng | shen@cn.fujitsu.com | 1239660273 |  | doc: use correct debugfs mountpoint  Use the default mountpoint of debugfs in the pktcdvd ABI.  Signed-off-by: Shen Feng <shen@cn.fujitsu.com> Cc: <balagi@justmail.de> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-driver-hid-roccat-isku | g | 7.1K |  | Stefan Achatz | erazor_de@users.sourceforge.net | 1323163270 |  | HID: roccat: Add support for Isku keyboard  This patch adds support for Roccat Isku keyboard. Userland tools can be found at http://sourceforge.net/projects/roccat  Signed-off-by: Stefan Achatz <erazor_de@users.sourceforge.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-dev | g | 693B |  | Dan Williams | dan.j.williams@intel.com | 1216702480 |  | sysfs: add /sys/dev/{char,block} to lookup sysfs path by major:minor  Why?: There are occasions where userspace would like to access sysfs attributes for a device but it may not know how sysfs has named the device or the path.  For example what is the sysfs path for /dev/disk/by-id/ata-ST3160827AS_5MT004CK?  With this change a call to stat(2) returns the major:minor then userspace can see that /sys/dev/block/8:32 links to /sys/block/sdc.  What are the alternatives?: 1/ Add an ioctl to return the path: Doable, but sysfs is meant to reduce    the need to proliferate ioctl interfaces into the kernel, so this    seems counter productive.  2/ Use udev to create these symlinks: Also doable, but it adds a    udev dependency to utilities that might be running in a limited    environment like an initramfs.  3/ Do a full-tree search of sysfs.  [kay.sievers@vrfy.org: fix duplicate registrations] [kay.sievers@vrfy.org: cleanup suggestions]  Cc: Neil Brown <neilb@suse.de> Cc: Tejun Heo <htejun@gmail.com> Acked-by: Kay Sievers <kay.sievers@vrfy.org> Reviewed-by: SL Baur <steve@xemacs.org> Acked-by: Kay Sievers <kay.sievers@vrfy.org> Acked-by: Mark Lord <lkml@rtr.ca> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Dan Williams <dan.j.williams@intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-class-regulator | g | 11K |  | David Brownell | dbrownell@users.sourceforge.net | 1238489780 |  | regulator: add get_status()  Based on previous LKML discussions:   * Update docs for regulator sysfs class attributes to highlight    the fact that all current attributes are intended to be control    inputs, including notably "state" and "opmode" which previously    implied otherwise.   * Define a new regulator driver get_status() method, which is the    first method reporting regulator outputs instead of inputs.    It can report on/off and error status; or instead of simply    "on", report the actual operating mode.  For the moment, this is a sysfs-only interface, not accessible to regulator clients.  Such clients can use the current notification interfaces to detect errors, if the regulator reports them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net> Signed-off-by: Liam Girdwood <lrg@slimlogic.co.uk>
f | sysfs-platform-asus-wmi | g | 946B |  | Corentin Chary | corentincj@iksaif.net | 1301306840 |  | eeepc-wmi: asus generic asus-wmi.ko module  New Asus notebooks are using a WMI device similar to the one used in Eee PCs. Since we don't want to load eeepc-wmi module on Asus notebooks, and we want to keep the eeepc-wmi module for backward compatibility, this patch introduce a new module, named asus-wmi, that will be used by eeepc-wmi and the new Asus Notebook WMI Driver.  eeepc-wmi's input device strings (device name and phys) are kept, but rfkill and led names are changed (s/eeepc/asus/). This should not break anything since rfkill are used by type or index, not by name, and the eeepc::touchpad led wasn't working correctly before 2.6.39 anyway.  Signed-off-by: Corentin Chary <corentincj@iksaif.net> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | sysfs-bus-usb-devices-usbsevseg | g | 1.5K |  | Harrison Metzger | harrisonmetz@gmail.com | 1224279651 |  | USB: Added driver for a Delcom USB 7-segment LED Display  Added basic support for a Delcom USB 7-segment LED Display  Signed-off by: Harrison Metzger <harrisonmetz@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-platform-at91 | g | 799B |  | Marc Kleine-Budde | mkl@pengutronix.de | 1295877397 |  | can: at91_can: make can_id of mailbox 0 configurable  Due to a chip bug (errata 50.2.6.3 & 50.3.5.3 in "AT91SAM9263 Preliminary 6249H-ATARM-27-Jul-09") the contents of mailbox 0 may be send under certain conditions (even if disabled or in rx mode).  The workaround in the errata suggests not to use the mailbox and load it with an unused identifier.  This patch implements the second part of the workaround. A sysfs entry "mb0_id" is introduced. While the interface is down it can be used to configure the can_id of mailbox 0. The default value id 0x7ff.  In order to use an extended can_id add the CAN_EFF_FLAG (0x80000000U) to the can_id. Example:  - standard id 0x7ff: echo 0x7ff      > /sys/class/net/can0/mb0_id  - extended id 0x1fffffff: echo 0x9fffffff > /sys/class/net/can0/mb0_id  Signed-off-by: Marc Kleine-Budde <mkl@pengutronix.de> Acked-by: Wolfgang Grandegger <wg@grandegger.com> Acked-by: Kurt Van Dijck <kurt.van.dijck@eia.be> For the Documentation-part: Acked-by: Wolfram Sang <w.sang@pengutronix.de>
f | sysfs-class-extcon | g | 3.3K |  | MyungJoo Ham | myungjoo.ham@samsung.com | 1334939043 |  | Extcon: support mutually exclusive relation between cables.  There could be cables that t recannot be attaches simulatenously. Extcon device drivers may express such information via mutually_exclusive in struct extcon_dev.  For example, for an extcon device with 16 cables (bits 0 to 15 are available), if mutually_exclusive = { 0x7, 0xC0, 0x81, 0 }, then, the following attachments are prohibitted. {0, 1} {0, 2} {1, 2} {6, 7} {0, 7} and every attachment set that are superset of one of the above. For the detail, please refer to linux/include/linux/extcon.h.  The concept is suggested by NeilBrown <neilb@suse.de>  Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>  -- Changes from V5: - Updated sysfs format Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sysfs-driver-hid-roccat-koneplus | g | 6.3K |  | Stefan Achatz | erazor_de@users.sourceforge.net | 1307962240 |  | HID: roccat: Add "Roccat Talk" support for koneplus  Added binary sysfs attribute to support new functionality the manufacturer added to koneplus.  Signed-off-by: Stefan Achatz <erazor_de@users.sourceforge.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-driver-hid-roccat-kovaplus | g | 5.2K |  | Sylvestre Ledru | sylvestre.ledru@scilab.org | 1301964707 |  | Documentation: fix minor typos/spelling  Fix some minor typos:  * informations => information  * there own => their own  * these => this  Signed-off-by: Sylvestre Ledru <sylvestre.ledru@scilab.org> Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-class-rtc-rtc0-device-rtc_calibration | g | 717B |  | Mark Godfrey | mark.godfrey@stericsson.com | 1326241852 |  | rtc/ab8500: add calibration attribute to AB8500 RTC  The rtc_calibration attribute allows user-space to get and set the AB8500's RtcCalibration register.  The AB8500 will then use the value in this register to compensate for RTC drift every 60 seconds.  [akpm@linux-foundation.org: coding-style fixes] Signed-off-by: Mark Godfrey <mark.godfrey@stericsson.com> Signed-off-by: Linus Walleij <linus.walleij@stericsson.com> Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com> Cc: Alessandro Zummo <a.zummo@towertech.it> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-bus-pci | g | 8.3K |  | Neil Horman | nhorman@tuxdriver.com | 1323109304 |  | PCI/sysfs: add per pci device msi[x] irq listing (v5)  This patch adds a per-pci-device subdirectory in sysfs called: /sys/bus/pci/devices/<device>/msi_irqs  This sub-directory exports the set of msi vectors allocated by a given pci device, by creating a numbered sub-directory for each vector beneath msi_irqs.  For each vector various attributes can be exported. Currently the only attribute is called mode, which tracks the operational mode of that vector (msi vs. msix)  Acked-by: Greg Kroah-Hartman <gregkh@suse.de> Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
f | sysfs-class-bdi | g | 1.5K |  | Miklos Szeredi | mszeredi@suse.cz | 1211648167 |  | fuse: fix bdi naming conflict  Fuse allocates a separate bdi for each filesystem, and registers them in sysfs with "MAJOR:MINOR" of sb->s_dev (st_dev).  This works fine for anon devices normally used by fuse, but can conflict with an already registered BDI for "fuseblk" filesystems, where sb->s_dev represents a real block device.  In particularl this happens if a non-partitioned device is being mounted.  Fix by registering with a different name for "fuseblk" filesystems.  Thanks to Ioan Ionita for the bug report.  Signed-off-by: Miklos Szeredi <mszeredi@suse.cz> Reported-by: Ioan Ionita <opslynx@gmail.com> Tested-by: Ioan Ionita <opslynx@gmail.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-firmware-log | g | 223B |  | Mike Waychison | mikew@google.com | 1304125774 |  | driver: Google Memory Console  This patch introduces the 'memconsole' driver.  Our firmware gives us access to an in-memory log of the firmware's output.   This gives us visibility in a data-center of headless machines as to what the firmware is doing.  The memory console is found by the driver by finding a header block in the EBDA.  The buffer is then copied out, and is exported to userland in the file /sys/firmware/log.  Signed-off-by: San Mehat <san@google.com> Signed-off-by: Mike Waychison <mikew@google.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-bus-hsi | g | 683B |  | Carlos Chinea | carlos.chinea@nokia.com | 1335180212 |  | HSI: Add HSI ABI documentation  Adds sysfs HSI framework documentation  Signed-off-by: Carlos Chinea <carlos.chinea@nokia.com> Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Acked-by: Linus Walleij <linus.walleij@linaro.org>
f | sysfs-bus-iio | g | 34K |  | Michael Hennerich | michael.hennerich@analog.com | 1338869731 |  | iio: documentation: Add out_altvoltage and friends  Continuous frequency/clock generating devices, such as DDSs or PLLs should use out_altvoltage.  Signed-off-by: Michael Hennerich <michael.hennerich@analog.com> Acked-by: Jonathan Cameron <jic23@kernel.org> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sysfs-ata | g | 2.4K |  | Gwendal Grignou | gwendal@google.com | 1287706863 |  | [libata] Add ATA transport class  This is a scheleton for libata transport class. All information is read only, exporting information from libata: - ata_port class: one per ATA port - ata_link class: one per ATA port or 15 for SATA Port Multiplier - ata_device class: up to 2 for PATA link, usually one for SATA.  Signed-off-by: Gwendal Grignou <gwendal@google.com> Reviewed-by: Grant Grundler <grundler@google.com> Signed-off-by: Jeff Garzik <jgarzik@redhat.com>
f | sysfs-c2port | g | 2.9K |  | Rodolfo Giometti | giometti@linux.it | 1226539038 |  | Add c2 port support  C2port implements a two wire serial communication protocol (bit banging) designed to enable in-system programming, debugging, and boundary-scan testing on low pin-count Silicon Labs devices.  Currently this code supports only flash programming through sysfs interface but extensions shoud be easy to add.  Signed-off-by: Rodolfo Giometti <giometti@linux.it> Cc: Greg KH <greg@kroah.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs-devices-platform-docg3 | g | 1.2K |  | Robert Jarzmik | robert.jarzmik@free.fr | 1326132737 |  | Documentation: add sysfs entries for mtd docg3 chips  Add documentation for MSystems disk-on-chip docg3 chips sysfs entries, which enable and disable protection areas, giving or disabling access to the chip's memory.  Signed-off-by: Robert Jarzmik <robert.jarzmik@free.fr> Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
f | sysfs-class-backlight-driver-lm3533 | g | 1.3K |  | Johan Hovold | jhovold@gmail.com | 1338333749 |  | backlight: add LM3533 backlight driver  Add sub-driver for the backlights on National Semiconductor / TI LM3533 lighting power chips.  The chip provides 256 brightness levels and ambient-light-sensor and pwm input control.  [akpm@linux-foundation.org: fix warning] [akpm@linux-foundation.org: fix the type of `mode'] Signed-off-by: Johan Hovold <jhovold@gmail.com> Cc: Richard Purdie <rpurdie@rpsys.net> Cc: Rob Landley <rob@landley.net> Cc: Samuel Ortiz <sameo@linux.intel.com> Cc: Jonathan Cameron <jic23@cam.ac.uk> Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Cc: Florian Tobias Schandinat <FlorianSchandinat@gmx.de> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | debugfs-pfo-nx-crypto | g | 1.2K |  | Kent Yoder | key@linux.vnet.ibm.com | 1337144745 |  | powerpc/crypto: debugfs routines and docs for the nx device driver  These routines add debugfs files supporting the Power7+ in-Nest encryption accelerator driver.  Signed-off-by: Kent Yoder <key@linux.vnet.ibm.com> Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
f | dev-kmsg | g | 3.6K |  | Kay Sievers | kay@vrfy.org | 1336499065 |  | kmsg - add Documentation/ABI/testing/dev-kmsg  Signed-off-by: Kay Sievers <kay@vrfy.org> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sysfs-bus-media | g | 268B |  | Laurent Pinchart | laurent.pinchart@ideasonboard.com | 1300780389 |  | [media] media: Media device  The media_device structure abstracts functions common to all kind of media devices (v4l2, dvb, alsa, ...). It manages media entities and offers a userspace API to discover and configure the media device internal topology.  Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com> Acked-by: Hans Verkuil <hverkuil@xs4all.nl> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | sysfs-driver-hid-prodikeys | g | 985B |  | Don Prince | dhprince-devel@yahoo.co.uk | 1273670339 |  | HID: Prodikeys PC-MIDI HID Driver  A specialised HID driver for the Creative Prodikeys PC-MIDI USB Keyboard.  The Prodikeys PC-MIDI is a multifunction keyboard comprising a qwerty keyboard, multimedia keys and a touch sensitive musical keyboard.  The specialised HID driver adds full support for the musical keyboard and extra multimedia keys which are not currently handled by the default HID driver.  The specialised HID driver interfaces with ALSA, and presents the midi keyboard as a rawmidi device. Sustain duration, octave shifting and the midi output channel can be read/written form userspace via sysfs.  Signed-off-by: Don Prince <dhprince-devel@yahoo.co.uk> ALSA parts: Acked-by: Clemens Ladisch <clemens@ladisch.de> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | sysfs-bus-pci-drivers-ehci_hcd | g | 1.8K |  | Alan Stern | stern@rowland.harvard.edu | 1316335717 |  | USB: document ehci-hcd's "companion" sysfs attribute  This patch (as1484) adds documentation for ehci-hcd's "companion" sysfs attribute, which was added to the kernel over four years ago but never documented.  Signed-off-by: Alan Stern <stern@rowland.harvard.edu> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sysfs-kernel-fscaps | g | 208B |  | Ludwig Nussel | ludwig.nussel@suse.de | 1303256751 |  | kernel/ksysfs.c: expose file_caps_enabled in sysfs  A kernel booted with no_file_caps allows to install fscaps on a binary but doesn't actually honor the fscaps when running the binary. Userspace currently has no sane way to determine whether installing fscaps actually has any effect. Since parsing /proc/cmdline is fragile this patch exposes the current setting (1 or 0) via /sys/kernel/fscaps  Signed-off-by: Ludwig Nussel <ludwig.nussel@suse.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
