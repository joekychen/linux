f | usbmon.txt | g | 14K |  | Sebastian Andrzej Siewior | sebastian@breakpoint.cc | 1333745640 |  | usb/usbmon: correct the data interpretation of usbmon's output  The doc says that the data || 55534243 5e000000 00000000 00000600 00000000 00000000 00000000 000000 is the SCSI command 0x5e. According to the usbmon source, it dumps one byte after the other. The first 4 bytes are US_BULK_CB_SIGN which is correct. After that we see the TAG which is 0x5e. The cdb is 0x00 in this example. In order to correct this, I change the example to a READ_10 command which is 0x28 so it is not just a zero somewhere in the stream.  Signed-off-by: Sebastian Andrzej Siewior <sebastian@breakpoint.cc> Acked-by: Alan Stern <stern@rowland.harvard.edu> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | authorization.txt | g | 2.6K |  | Jean Delvare | khali@linux-fr.org | 1253713601 |  | USB: Fix sysfs paths in documentation  Neither /sys/usb/devices nor /sys/bus/devices exist. The correct path is /sys/bus/usb/devices.  Signed-off-by: Jean Delvare <khali@linux-fr.org> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | persist.txt | g | 7.4K |  | Alan Stern | stern@rowland.harvard.edu | 1216678608 |  | USB: use reset_resume when normal resume fails  This patch (as1109b) makes USB-Persist more resilient to errors.  With the current code, if a normal resume fails, it's an unrecoverable error.  With the patch, if a normal resume fails (and if the device is enabled for USB-Persist) then a reset-resume is tried.  This fixes the problem reported in Bugzilla #10977.  Signed-off-by: Alan Stern <stern@rowland.harvard.edu> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | iuu_phoenix.txt | g | 2.7K |  | Alain Degreffe | info@ecze.com | 1201905287 |  | USB: add iuu_phoenix driver  Signed-off-by: Alain Degreffe <eczema@ecze.com> Cc: Alan Cox <alan@lxorguk.ukuu.org.uk> Cc: Oliver Neukum <oliver@neukum.org> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | usb-serial.txt | g | 19K |  | Justin P. Mattock | justinmattock@gmail.com | 1280928100 |  | Documentation: update broken web addresses.  Below you will find an updated version from the original series bunching all patches into one big patch updating broken web addresses that are located in Documentation/* Some of the addresses date as far far back as 1995 etc... so searching became a bit difficult, the best way to deal with these is to use web.archive.org to locate these addresses that are outdated. Now there are also some addresses pointing to .spec files some are located, but some(after searching on the companies site)where still no where to be found. In this case I just changed the address to the company site this way the users can contact the company and they can locate them for the users.  Signed-off-by: Justin P. Mattock <justinmattock@gmail.com> Signed-off-by: Thomas Weber <weber@corscience.de> Signed-off-by: Mike Frysinger <vapier.adi@gmail.com> Cc: Paulo Marques <pmarques@grupopie.com> Cc: Randy Dunlap <rdunlap@xenotime.net> Cc: Michael Neuling <mikey@neuling.org> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | error-codes.txt | g | 6.4K |  | Sarah Sharp | sarah.a.sharp@linux.intel.com | 1308335301 |  | USB: Fix up URB error codes to reflect implementation.  Documentation/usb/error-codes.txt mentions that urb->status can be set to -EXDEV, if the isochronous transfer was not fully completed.  However, in practice, EHCI, UHCI, and OHCI all only set -EXDEV in the individual frame status, never in the URB status.  Those host controller actually always pass in a zero status to usb_hcd_giveback_urb, and rely on the core to set the appropriate status value.  The xHCI driver ran into issues with the uvcvideo driver when it tried to set -EXDEV in urb->status, because the driver refused to submit URBs, and the userspace camera application's video froze.  Clean up the documentation to reflect the actual implementation.  Signed-off-by: Sarah Sharp <sarah.a.sharp@linux.intel.com> Acked-by: Alan Stern <stern@rowland.harvard.edu>
f | usb-help.txt | g | 495B |  | Robert P. J. Day | rpjday@crashcourse.ca | 1205192547 |  | USB:Update mailing list information in documentation  Signed-off-by: Robert P. J. Day <rpjday@crashcourse.ca> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | acm.txt | g | 4.9K |  | Oliver Neukum | oliver@neukum.org | 1168028349 |  | USB: small update to Documentation/usb/acm.txt  this docu update mentions that cell phones also use cdc-acm.  Signed-off-by: Oliver Neukum <oliver@neukum.name>
f | ehci.txt | g | 9.7K |  | Kirill Smelkov | kirr@mns.spb.ru | 1310161893 |  | USB: EHCI: Allow users to override 80% max periodic bandwidth  There are cases, when 80% max isochronous bandwidth is too limiting.  For example I have two USB video capture cards which stream uncompressed video, and to stream full NTSC + PAL videos we'd need      NTSC 640x480 YUV422 @30fps      ~17.6 MB/s     PAL  720x576 YUV422 @25fps      ~19.7 MB/s  isoc bandwidth.  Now, due to limited alt settings in capture devices NTSC one ends up streaming with max_pkt_size=2688  and  PAL with max_pkt_size=2892, both with interval=1. In terms of microframe time allocation this gives      NTSC    ~53us     PAL     ~57us  and together      ~110us  >  100us == 80% of 125us uframe time.  So those two devices can't work together simultaneously because the'd over allocate isochronous bandwidth.  80% seemed a bit arbitrary to me, and I've tried to raise it to 90% and both devices started to work together, so I though sometimes it would be a good idea for users to override hardcoded default of max 80% isoc bandwidth.  After all, isn't it a user who should decide how to load the bus? If I can live with 10% or even 5% bulk bandwidth that should be ok. I'm a USB newcomer, but that 80% set in stone by USB 2.0 specification seems to be chosen pretty arbitrary to me, just to serve as a reasonable default.  NOTE 1 ~~~~~~  for two streams with max_pkt_size=3072 (worst case) both time allocation would be 60us+60us=120us which is 96% periodic bandwidth leaving 4% for bulk and control.  Alan Stern suggested that bulk then would be problematic (less than 300*8 bittimes left per microframe), but I think that is still enough for control traffic.  NOTE 2 ~~~~~~  Sarah Sharp expressed concern that maxing out periodic bandwidth could lead to vendor-specific hardware bugs on host controllers, because  > It's entirely possible that you'll run into > vendor-specific bugs if you try to pack the schedule with isochronous > transfers.  I don't think any hardware designer would seriously test or > validate their hardware with a schedule that is basically a violation of > the USB bus spec (more than 80% for periodic transfers).  So far I've only tested this patch on my HP Mini 5103 with N10 chipset      kirr@mini:~$ lspci     00:00.0 Host bridge: Intel Corporation N10 Family DMI Bridge     00:02.0 VGA compatible controller: Intel Corporation N10 Family Integrated Graphics Controller     00:02.1 Display controller: Intel Corporation N10 Family Integrated Graphics Controller     00:1b.0 Audio device: Intel Corporation N10/ICH 7 Family High Definition Audio Controller (rev 02)     00:1c.0 PCI bridge: Intel Corporation N10/ICH 7 Family PCI Express Port 1 (rev 02)     00:1c.3 PCI bridge: Intel Corporation N10/ICH 7 Family PCI Express Port 4 (rev 02)     00:1d.0 USB Controller: Intel Corporation N10/ICH 7 Family USB UHCI Controller #1 (rev 02)     00:1d.1 USB Controller: Intel Corporation N10/ICH 7 Family USB UHCI Controller #2 (rev 02)     00:1d.2 USB Controller: Intel Corporation N10/ICH 7 Family USB UHCI Controller #3 (rev 02)     00:1d.3 USB Controller: Intel Corporation N10/ICH 7 Family USB UHCI Controller #4 (rev 02)     00:1d.7 USB Controller: Intel Corporation N10/ICH 7 Family USB2 EHCI Controller (rev 02)     00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev e2)     00:1f.0 ISA bridge: Intel Corporation NM10 Family LPC Controller (rev 02)     00:1f.2 SATA controller: Intel Corporation N10/ICH7 Family SATA AHCI Controller (rev 02)     01:00.0 Network controller: Broadcom Corporation BCM4313 802.11b/g/n Wireless LAN Controller (rev 01)     02:00.0 Ethernet controller: Marvell Technology Group Ltd. 88E8059 PCI-E Gigabit Ethernet Controller (rev 11)  and the system works stable with 110us/uframe (~88%) isoc bandwith allocated for above-mentioned isochronous transfers.  NOTE 3 ~~~~~~  This feature is off by default. I mean max periodic bandwidth is set to 100us/uframe by default exactly as it was before the patch. So only those of us who need the extreme settings are taking the risk - normal users who do not alter uframe_periodic_max sysfs attribute should not see any change at all.  NOTE 4 ~~~~~~  I've tried to update documentation in Documentation/ABI/ thoroughly, but only "TBD" was put into Documentation/usb/ehci.txt -- the text there seems to be outdated and much needing refreshing, before it could be amended.  Cc: Sarah Sharp <sarah.a.sharp@linux.intel.com> Signed-off-by: Kirill Smelkov <kirr@mns.spb.ru> Acked-by: Alan Stern <stern@rowland.harvard.edu> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | callbacks.txt | g | 4.9K |  | Alan Stern | stern@rowland.harvard.edu | 1304123069 |  | USB: documentation update for the pre_reset method  This patch (as1459) updates the documentation for the pre_reset method in struct usb_driver.  When a driver is notified of an impending reset, it must cancel all outstanding I/O and not start any new I/O until it has been notified that the reset is complete.  As far as I know, most existing drivers that implement pre_reset do this now.  The major exceptions appear to be the SpeedTouch and CDC-WDM drivers.  Signed-off-by: Alan Stern <stern@rowland.harvard.edu> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | wusb-cbaf | g | 3.2K |  | Masanari Iida | standby24x7@gmail.com | 1333670572 |  | doc: fix a few typos  Signed-off-by: Masanari Iida <standby24x7@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | hotplug.txt | g | 6.3K |  | Andrea Gelmini | andrea.gelmini@gelma.net | 1281476134 |  | USB: Documentation/usb/hotplug.txt: Checkpatch cleanup  Documentation/usb/hotplug.txt:13: ERROR: trailing whitespace Documentation/usb/hotplug.txt:87: ERROR: trailing whitespace  Signed-off-by: Andrea Gelmini <andrea.gelmini@gelma.net> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | linux.inf | g | 2.2K |  | Michal Nazarewicz | mina86@mina86.com | 1304120722 |  | USB: gadget: g_multi: fixed vendor and product ID in inf files  Commit 1c6529e92b "USB: gadget: g_multi: fixed vendor and product ID" replaced g_multi's vendor and product ID with proper ID's from Linux Foundation.  This commit now updates INF files in the Documentation/usb directory which were omitted in the original commit.  Signed-off-by: Michal Nazarewicz <mina86@mina86.com> Cc: stable <stable@kernel.org> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | URB.txt | g | 10K |  | Alan Stern | stern@rowland.harvard.edu | 1333745640 |  | USB documentation: explain lifetime rules for unlinking URBs  This patch (as1534c) updates the documentation for usb_unlink_urb and related functions.  It explains that the caller must prevent the URB being unlinked from getting deallocated while the unlink is taking place.  Signed-off-by: Alan Stern <stern@rowland.harvard.edu> CC: Ming Lei <tom.leiming@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | ohci.txt | g | 1.5K |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | functionfs.txt | g | 3.0K |  | Andrzej Pietrasiewicz | andrzej.p@samsung.com | 1337012744 |  | FunctionFS: enable multiple functions  Signed-off-by: Andrzej Pietrasiewicz <andrzej.p@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Acked-by: Michal Nazarewicz <mina86@mina86.com> Cc: Felipe Balbi <balbi@ti.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | proc_usb_info.txt | g | 15K |  | Masanari Iida | standby24x7@gmail.com | 1329820839 |  | Documentation: Fix typo in proc_usb_info.txt  Correct typo "filsystem" to "filesystem" in Documentation/usb/proc_usb_info.txt  Signed-off-by: Masanari Iida <standby24x7@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | dma.txt | g | 5.8K |  | Paul Bolle | pebolle@tiscali.nl | 1317139684 |  | doc: fix broken references  There are numerous broken references to Documentation files (in other Documentation files, in comments, etc.). These broken references are caused by typo's in the references, and by renames or removals of the Documentation files. Some broken references are simply odd.  Fix these broken references, sometimes by dropping the irrelevant text they were part of.  Signed-off-by: Paul Bolle <pebolle@tiscali.nl> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | misc_usbsevseg.txt | g | 1.5K |  | Harrison Metzger | harrisonmetz@gmail.com | 1224279651 |  | USB: Added driver for a Delcom USB 7-segment LED Display  Added basic support for a Delcom USB 7-segment LED Display  Signed-off by: Harrison Metzger <harrisonmetz@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rio.txt | g | 4.3K |  | Matt LaPlante | kernel1@cyberdogtech.com | 1164858936 |  | Fix typos in /Documentation : 'T''  This patch fixes typos in various Documentation txts. The patch addresses some +words starting with the letter 'T'.  Signed-off-by: Matt LaPlante <kernel1@cyberdogtech.com> Acked-by: Randy Dunlap <rdunlap@xenotime.net> Signed-off-by: Adrian Bunk <bunk@stusta.de>
f | dwc3.txt | g | 1.8K |  | Masanari Iida | standby24x7@gmail.com | 1333670572 |  | doc: fix a few typos  Signed-off-by: Masanari Iida <standby24x7@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | gadget_hid.txt | g | 11K |  | Tobias Klauser | tklauser@distanz.ch | 1309556607 |  | USB: Documentation: Use correct character in gadget_hid.txt  Use ASCII minus sign instead of unicode EN DASH in gadget_hid.txt. Also remove two unecessary spaces in the same file.  Signed-off-by: Tobias Klauser <tklauser@distanz.ch> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | CREDITS | g | 7.2K |  | John Anthony Kazos Jr | jakj@j-a-k-j.com | 1178693899 |  | documentation: convert the Documentation directory to UTF-8  Convert files within the Documentation directory to UTF-8.  Adrian Bunk: small additional fixes  Signed-off-by: John Anthony Kazos Jr. <jakj@j-a-k-j.com> Signed-off-by: Adrian Bunk <bunk@stusta.de>
f | bulk-streams.txt | g | 3.2K |  | Sarah Sharp | sarah.a.sharp@linux.intel.com | 1274386898 |  | USB: Support for allocating USB 3.0 streams.  Bulk endpoint streams were added in the USB 3.0 specification.  Streams allow a device driver to overload a bulk endpoint so that multiple transfers can be queued at once.  The device then decides which transfer it wants to work on first, and can queue part of a transfer before it switches to a new stream.  All this switching is invisible to the device driver, which just gets a completion for the URB.  Drivers that use streams must be able to handle URBs completing in a different order than they were submitted to the endpoint.  This requires adding new API to set up xHCI data structures to support multiple queues ("stream rings") per endpoint.  Drivers will allocate a number of stream IDs before enqueueing URBs to the bulk endpoints of the device, and free the stream IDs in their disconnect function.  See Documentation/usb/bulk-streams.txt for details.  The new mass storage device class, USB Attached SCSI Protocol (UASP), uses these streams API.  Signed-off-by: Sarah Sharp <sarah.a.sharp@linux.intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | linux-cdc-acm.inf | g | 3.3K |  | Klaus Schwarzkopf | schwarzkopf@sensortherm.de | 1322528369 |  | USB: linux-cdc-acm.inf: add support for the acm_ms gadget  Support for the acm_ms usb gadget on windows.  Signed-off-by: Klaus Schwarzkopf <schwarzkopf@sensortherm.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | mtouchusb.txt | g | 2.7K |  | Masanari Iida | standby24x7@gmail.com | 1329821025 |  | Documentation: Fix Broken URL "freshmeat"  Fix broken URL in documents "freshmeat" to "freecode" in Documentation/filesystems/ramfs-rootfs-initramfs.txt, Documentation/scsi/scsi-generic.txt Documentation/usb/mtouchusb.txt  Signed-off-by: Masanari Iida <standby24x7@gmail.com> Acked-by: Randy Dunlap <rdunlap@xenotime.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | WUSB-Design-overview.txt | g | 17K |  | Francis Galiegue | fgaliegue@gmail.com | 1271981392 |  | Documentation/: it's -> its where appropriate  Fix obvious cases of "it's" being used when "its" was meant.  Signed-off-by: Francis Galiegue <fgaliegue@gmail.com> Acked-by: Randy Dunlap <rdunlap@xenotime.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | gadget_multi.txt | g | 5.4K |  | Michal Nazarewicz | m.nazarewicz@samsung.com | 1281476137 |                                                          -*- org -*- | USB: gadget: g_multi: added documentation and INF files  A short documentation of the g_multi driver along with INF files for Windows XP SP3 are provided.  Signed-off-by: Michal Nazarewicz <m.nazarewicz@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | power-management.txt | g | 22K |  | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1333148595 |  | Documentation: remove references to /etc/modprobe.conf  Usage of /etc/modprobe.conf file was deprecated by module-init-tools and is no longer parsed by new kmod tool. References to this file are replaced in Documentation, comments and Kconfig according to the context.  There are also some references to the old /etc/modules.conf from 2.4 kernels that are being removed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi> Acked-by: Takashi Iwai <tiwai@suse.de> Acked-by: Mauro Carvalho Chehab <mchehab@redhat.com> Signed-off-by: Randy Dunlap <rdunlap@xenotime.net> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | anchors.txt | g | 2.6K |  | Matt LaPlante | kernel1@cyberdogtech.com | 1244822507 |  | trivial: Miscellaneous documentation typo fixes  Fix various typos in documentation txts.  Signed-off-by: Matt LaPlante <kernel1@cyberdogtech.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | gadget_serial.txt | g | 11K |  | Michal Nazarewicz | m.nazarewicz@samsung.com | 1281476137 |  | USB: gadget: g_serial: INF file updated  Updated the INF file for g_serial gadget.  It should work with most recent Windows systems now.  Signed-off-by: Michal Nazarewicz <m.nazarewicz@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | gadget_printer.txt | g | 10K |  | Craig W. Nadler | craig@nadler.us | 1201905289 |  | USB: add Printer Gadget Driver  G_PRINTER: Adds a USB printer gadget driver for use in printer firmware.  This adds a USB printer gadget driver for use in printer firmware. The printer gadget channels data between the USB host and a userspace program driving the print engine. The user space program reads and writes the device file /dev/g_printer to receive or send printer data. It can use ioctl calls to the device file to get or set printer status.  Signed-off-by: Craig W. Nadler <craig@nadler.us> Signed-off-by: David Brownell <dbrownell@users.sourceforge.net> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
