f | mrvl-i2c.txt | g | 1013B |  | Haojian Zhuang | haojian.zhuang@gmail.com | 1336207208 |  | Documentation: update docs for mmp dt  Append interrupt controller and timer document for mmp. Updates documents for gpio and i2c.  Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | mux.txt | g | 1.2K |  | David Daney | david.daney@cavium.com | 1336825696 |  | i2c/of: Automatically populate i2c mux busses from device tree data.  For 'normal' i2c bus drivers, we can call of_i2c_register_devices() and have the device tree framework automatically populate the bus with the devices specified in the device tree.  This patch adds a common code to the i2c mux framework to have the mux sub-busses be populated by the of_i2c_register_devices() too.  If the mux device has an of_node, we populate the sub-bus' of_node so that the subsequent call to of_i2c_register_devices() will find the corresponding devices.  It seemed better to put this logic in i2c_add_mux_adapter() rather than the individual mux drivers, as they will all probably want to do the same thing.  Signed-off-by: David Daney <david.daney@cavium.com> Acked-by: Stephen Warren <swarren@wwwdotorg.org> Tested-by: Lars-Peter Clausen <lars@metafoo.de>  [wsa: removed superfluous ret-variable and fixed a typo in a comment] Signed-off-by: Wolfram Sang <w.sang@pengutronix.de>
f | i2c-designware.txt | g | 493B |  | Rob Herring | rob.herring@calxeda.com | 1325022764 |  | i2c-designware: add OF binding support  Add of_match_table and DT style i2c registration to designware i2c driver.  Refactored for pci/plat split by Dirk Brandewie.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Acked-by: Grant Likely <grant.likely@secretlab.ca> Signed-off-by: Dirk Brandewie <dirk.brandewie@gmail.com>
f | trivial-devices.txt | g | 3.1K |  | Olof Johansson | olof@lixom.net | 1325022146 |  | dt/i2c: Enumerate some of the known trivial i2c devices  Based on recent discussions, we apparently want to do bindings even for trivial i2c devices, even though they have for years just been added. So start a table of the currently known ones for others to be added to over time.  (I am intentionally letting lines go over 80 characters to make it easier to sort the file).  Signed-off-by: Olof Johansson <olof@lixom.net> Signed-off-by: Rob Herring <rob.herring@calxeda.com>
f | samsung-i2c.txt | g | 1.5K |  | Karol Lewandowski | k.lewandowsk@samsung.com | 1336825696 |  | i2c-s3c2410: Add HDMIPHY quirk for S3C2440  This patch adds support for s3c2440 I2C bus controller dedicated HDMIPHY device on Exynos4 platform. Some quirks are introduced due to differences between HDMIPHY and other I2C controllers on Exynos4.  These differences are: - no GPIOs, HDMIPHY is inside the SoC and the controller is connected   internally - due to unknown reason (probably HW bug in HDMIPHY and/or the controller) a   transfer fails to finish. The controller hangs after sending the last byte,   the workaround for this bug is resetting the controller after each transfer  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Karol Lewandowski <k.lewandowsk@samsung.com> Tested-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Wolfram Sang <w.sang@pengutronix.de>
f | omap-i2c.txt | g | 857B |  | Benoit Cousson | b-cousson@ti.com | 1326840297 |  | i2c: OMAP: Add DT support for i2c controller  Add initial DT support to retrieve the frequency using a DT attribute instead of the pdata pointer if of_node exist.  Add documentation for omap i2c controller binding.  Based on original patches from Manju and Grant.  Signed-off-by: Benoit Cousson <b-cousson@ti.com> Cc: Ben Dooks <ben-linux@fluff.org> Reviewed-by: Rob Herring <rob.herring@calxeda.com> Acked-by: Grant Likely <grant.likely@secretlab.ca> Signed-off-by: Kevin Hilman <khilman@ti.com>
f | xiic.txt | g | 462B |  | Lars-Peter Clausen | lars@metafoo.de | 1336825698 |  | I2C: xiic: Add OF binding support  Signed-off-by: Lars-Peter Clausen <lars@metafoo.de> Signed-off-by: Wolfram Sang <w.sang@pengutronix.de>
f | i2c-mxs.txt | g | 371B |  | Shawn Guo | shawn.guo@linaro.org | 1336868864 |  | i2c: mxs: add device tree probe support  Add device tree probe support for i2c-mxs driver.  So far, it's only been tested on imx28.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Wolfram Sang <w.sang@pengutronix.de>
f | arm-versatile.txt | g | 225B |  | Grant Likely | grant.likely@secretlab.ca | 1311838324 |  | arm/versatile: Add device tree support  For testing the dt work, define a dt-enabled versatile platform.  This patch adds a new versatile platform for when using the device tree.  Add platform and amba devices are discovered and registered by parsing the device tree.  Clocks and initial io mappings are still configured statically.  This patch still depends on some static platform_data for a few devices which is passed via the auxdata structure to of_platform_populate(), but it is a viable starting point until the drivers can get all configuration data out of the device tree.  Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
f | ce4100-i2c.txt | g | 2.7K |  | Sebastian Andrzej Siewior | bigeasy@linutronix.de | 1298496472 |  | x86: dtb: Add a device tree for CE4100  History: v1..v2: - dropped device_type except for cpu & pci. I have the compatible string   for pci so I can drop the device_type once it is possible - I lowercased all compatible types. I will need to resend some patches   which have upper case intel - The cpu had the same compatible string as the soc node. So I added to   the soc node -immr for internel memory mapped registers. - I added generic names for all parts. - I reworked the i2c bars matching the way you suggested. I added a   compatible node for the PCI device which only the PCI ids in its   compatible string. The bars (each represents a complete i2c   controller) have a "intel,ce4100-i2c-controller" compatible node. It   is not used by the driver.   The driver is probed via PCI ids (by the pci subsystem not OF) and   matches the bar address against the ressource in the child node. Once   there is a hit the node is attached. - The SPI driver is also probed via pci. However I also attached a   compatible property based on PCI ids  v2..v3: - intel,ce4100-immr become intel,ce4100-cp. cp stands for core   peripherals. The Atom data sheet talks here about ACPI devices. Since   we don't have ACPI this does not apply here. - The interrupt map is gone. There are now plenty of device nodes. - The "unit address string" got fixed, it uses not DD,V format.  v3..v4: - added descriptions for compatible nodes introduced here:   - intel,ce4100-ioapic   - intel,ce4100-lapic   - intel,ce4100-hpet   - intel,ce4100   - intel,ce4100-cp   - intel,ce4100-pci - added a description about I2C controller magic. - Added gpio-controller and gpio-cells property to gpio devices. Those   properties are not (yet) used.  Signed-off-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de> Signed-off-by: Dirk Brandewie <dirk.brandewie@gmail.com> Acked-by: Grant Likely <grant.likely@secretlab.ca> Cc: sodaville@linutronix.de Cc: devicetree-discuss@lists.ozlabs.org LKML-Reference: <1298405266-1624-4-git-send-email-bigeasy@linutronix.de> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | sirf-i2c.txt | g | 523B |  | Zhiwu Song | Zhiwu.Song@csr.com | 1331143504 |  | i2c: add CSR SiRFprimaII on-chip I2C controllers driver  SiRFprimaII is the latest generation application processor from CSRâ€™s multi-function SoC product family. The SoC support codes are in arch/arm/mach-prima2 from Linux mainline 3.0. There are two I2C controllers on primaII, features include: * Two I2C controller modules are on chip * RISC I/O bus read write register * Up to 16 bytes data buffer for issuing commands and writing data   at the same time * Up to 16 commands, and receiving read data 16 bytes at a time * Error INT report (ACK check) * No-ACK bus protocols (SCCB bus protocols)  Signed-off-by: Zhiwu Song <Zhiwu.Song@csr.com> Signed-off-by: Xiangzhen Ye <Xiangzhen.Ye@csr.com> Signed-off-by: Yuping Luo <Yuping.Luo@csr.com> Signed-off-by: Barry Song <Baohua.Song@csr.com> Signed-off-by: Wolfram Sang <w.sang@pengutronix.de>
f | i2c-mux-pinctrl.txt | g | 2.8K |  | Stephen Warren | swarren@nvidia.com | 1338821383 |  | i2c: Add generic I2C multiplexer using pinctrl API  This is useful for SoCs whose I2C module's signals can be routed to different sets of pins at run-time, using the pinctrl API.                                   +-----+  +-----+                                  || dev ||  || dev ||     +------------------------+   +-----+  +-----+     || SoC                    ||      ||        ||     ||                   /----||------+--------+     ||   +---+   +------+     || child bus A, on first set of pins     ||   ||I2C||---||Pinmux||     ||     ||   +---+   +------+     || child bus B, on second set of pins     ||                   \----||------+--------+--------+     ||                        ||      ||        ||        ||     +------------------------+  +-----+  +-----+  +-----+                                 || dev ||  || dev ||  || dev ||                                 +-----+  +-----+  +-----+  Signed-off-by: Stephen Warren <swarren@nvidia.com> Acked-by: Linus Walleij <linus.walleij@linaro.org> Acked-by: Rob Herring <rob.herring@calxeda.com> Signed-off-by: Wolfram Sang <w.sang@pengutronix.de>
f | fsl-i2c.txt | g | 1.8K |  | Grant Likely | grant.likely@secretlab.ca | 1296457741 |  | dt: Move device tree documentation out of powerpc directory  The device tree is used by more than just PowerPC.  Make the documentation directory available to all.  v2: reorganized files while moving to create arch and driver specific     directories.  Signed-off-by: Grant Likely <grant.likely@secretlab.ca> Acked-by: Josh Boyer <jwboyer@linux.vnet.ibm.com>
f | fsl-imx-i2c.txt | g | 730B |  | Shawn Guo | shawn.guo@linaro.org | 1316034974 |  | i2c-imx: add device tree probe support  It adds device tree probe support for i2c-imx driver.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Darius Augulis <augulis.darius@gmail.com> Cc: Ben Dooks <ben-linux@fluff.org> Acked-by: Grant Likely <grant.likely@secretlab.ca> Signed-off-by: Ben Dooks <ben-linux@fluff.org>
f | pnx.txt | g | 878B |  | Roland Stigge | stigge@antcom.de | 1335088787 |  | i2c: Add device tree support to i2c-pnx.c  This patch adds device tree support to the pnx-i2c driver by using platform resources for memory region and irq and removing dependency on mach includes.  The following platforms are affected:  * PNX * LPC31xx (WIP) * LPC32xx  The patch is based on a patch by Jon Smirl, working on lpc31xx integration  Signed-off-by: Roland Stigge <stigge@antcom.de> Signed-off-by: Wolfram Sang <w.sang@pengutronix.de>
