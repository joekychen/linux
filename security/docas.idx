d | selinux |  | 16 items |  | Al Viro | viro@zeniv.linux.org.uk | 1338484314 |  | split ->file_mmap() into ->mmap_addr()/->mmap_file()  ... i.e. file-dependent and address-dependent checks.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | device_cgroup.c | s | 11K | 463 | Tejun Heo | tj@kernel.org | 1333307395 |  | cgroup: convert all non-memcg controllers to the new cftype interface  Convert debug, freezer, cpuset, cpu_cgroup, cpuacct, net_prio, blkio, net_cls and device controllers to use the new cftype based interface. Termination entry is added to cftype arrays and populate callbacks are replaced with cgroup_subsys->base_cftypes initializations.  This is functionally identical transformation.  There shouldn't be any visible behavior change.  memcg is rather special and will be converted separately.  Signed-off-by: Tejun Heo <tj@kernel.org> Acked-by: Li Zefan <lizf@cn.fujitsu.com> Cc: Paul Menage <paul@paulmenage.org> Cc: Ingo Molnar <mingo@elte.hu> Cc: Peter Zijlstra <peterz@infradead.org> Cc: "David S. Miller" <davem@davemloft.net> Cc: Vivek Goyal <vgoyal@redhat.com>
f | Makefile | g | 1.0K |  | Kees Cook | keescook@chromium.org | 1328825932 |  | security: Yama LSM  This adds the Yama Linux Security Module to collect DAC security improvements (specifically just ptrace restrictions for now) that have existed in various forms over the years and have been carried outside the mainline kernel by other Linux distributions like Openwall and grsecurity.  Signed-off-by: Kees Cook <keescook@chromium.org> Acked-by: John Johansen <john.johansen@canonical.com> Signed-off-by: James Morris <jmorris@namei.org>
f | min_addr.c | s | 1.3K | 43 | Kees Cook | kees.cook@canonical.com | 1273827795 |  | mmap_min_addr check CAP_SYS_RAWIO only for write  Redirecting directly to lsm, here's the patch discussed on lkml: http://lkml.org/lkml/2010/4/22/219  The mmap_min_addr value is useful information for an admin to see without being root ("is my system vulnerable to kernel NULL pointer attacks?") and its setting is trivially easy for an attacker to determine by calling mmap() in PAGE_SIZE increments starting at 0, so trying to keep it private has no value.  Only require CAP_SYS_RAWIO if changing the value, not reading it.  Comment from Serge :    Me, I like to write my passwords with light blue pen on dark blue   paper, pasted on my window - if you're going to get my password, you're   gonna get a headache.  Signed-off-by: Kees Cook <kees.cook@canonical.com> Acked-by: Serge Hallyn <serue@us.ibm.com> Signed-off-by: James Morris <jmorris@namei.org> (cherry picked from commit 822cceec7248013821d655545ea45d1c6a9d15b3)
d | keys |  | 18 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1338515250 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/viro/signal  Pull second pile of signal handling patches from Al Viro:  "This one is just task_work_add() series + remaining prereqs for it.    There probably will be another pull request from that tree this   cycle - at least for helpers, to get them out of the way for per-arch   fixes remaining in the tree."  Fix trivial conflict in kernel/irq/manage.c: the merge of Andrew's pile had brought in commit 97fd75b7b8e0 ("kernel/irq/manage.c: use the pr_foo() infrastructure to prefix printks") which changed one of the pr_err() calls that this merge moves around.  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/viro/signal:   keys: kill task_struct->replacement_session_keyring   keys: kill the dummy key_replace_session_keyring()   keys: change keyctl_session_to_parent() to use task_work_add()   genirq: reimplement exit_irq_thread() hook via task_work_add()   task_work_add: generic process-context callbacks   avr32: missed _TIF_NOTIFY_RESUME on one of do_notify_resume callers   parisc: need to check NOTIFY_RESUME when exiting from syscall   move key_repace_session_keyring() into tracehook_notify_resume()   TIF_NOTIFY_RESUME is defined on all targets now
d | smack |  | 6 items |  | Al Viro | viro@zeniv.linux.org.uk | 1338484314 |  | split ->file_mmap() into ->mmap_addr()/->mmap_file()  ... i.e. file-dependent and address-dependent checks.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
d | tomoyo |  | 20 items |  | James Morris | james.l.morris@oracle.com | 1337649666 |  | Merge branch 'master' of git://git.infradead.org/users/eparis/selinux into next  Per pull request, for 3.5.
f | lsm_audit.c | s | 9.3K | 372 | Eric Paris | eparis@redhat.com | 1333988583 |  | LSM: BUILD_BUG_ON if the common_audit_data union ever grows  We did a lot of work to shrink the common_audit_data.  Add a BUILD_BUG_ON so future programers (let's be honest, probably me) won't do something foolish like make it large again!  Signed-off-by: Eric Paris <eparis@redhat.com>
d | yama |  | 3 items |  | Kees Cook | keescook@chromium.org | 1337041677 |  | Yama: replace capable() with ns_capable()  When checking capabilities, the question we want to be asking is "does current() have the capability in the child's namespace?"  Signed-off-by: Kees Cook <keescook@chromium.org> Signed-off-by: James Morris <james.l.morris@oracle.com>
f | capability.c | s | 23K | 908 | Al Viro | viro@zeniv.linux.org.uk | 1338484314 |  | split ->file_mmap() into ->mmap_addr()/->mmap_file()  ... i.e. file-dependent and address-dependent checks.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
d | integrity |  | 7 items |  | Mimi Zohar | zohar@us.ibm.com | 1337128601 |  | ima: fix filename hint to reflect script interpreter name  When IMA was first upstreamed, the bprm filename and interp were always the same.  Currently, the bprm->filename and bprm->interp are the same, except for when only bprm->interp contains the interpreter name.  So instead of using the bprm->filename as the IMA filename hint in the measurement list, we could replace it with bprm->interp, but this feels too fragil.  The following patch is not much better, but at least there is some indication that sometimes we're passing the filename and other times the interpreter name.  Reported-by: Andrew Lunn <andrew@lunn.ch> Signed-off-by: Mimi Zohar <zohar@linux.vnet.ibm.com> Signed-off-by: James Morris <james.l.morris@oracle.com>
f | inode.c | s | 6.7K | 207 | Al Viro | viro@zeniv.linux.org.uk | 1326208835 |  | securityfs: fix object creation races  inode needs to be fully set up before we feed it to d_instantiate(). securityfs_create_file() does *not* do so; it sets ->i_fop and ->i_private only after we'd exposed the inode.  Unfortunately, that's done fairly deep in call chain, so the amount of churn is considerable.  Helper functions killed by substituting into their solitary call sites, dead code removed.  We finally can bury default_file_ops, now that the final value of ->i_fop is available (and assigned) at the point where inode is allocated.  Reviewed-by: James Morris <jmorris@namei.org> Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
d | apparmor |  | 20 items |  | Al Viro | viro@zeniv.linux.org.uk | 1338484314 |  | split ->file_mmap() into ->mmap_addr()/->mmap_file()  ... i.e. file-dependent and address-dependent checks.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | commoncap.c | s | 27K | 884 | Al Viro | viro@zeniv.linux.org.uk | 1338484314 |  | split ->file_mmap() into ->mmap_addr()/->mmap_file()  ... i.e. file-dependent and address-dependent checks.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | security.c | s | 33K | 1143 | Paul Mundt | lethal@linux-sh.org | 1341315663 |  | security: Fix nommu build.  The security + nommu configuration presently blows up with an undefined reference to BDI_CAP_EXEC_MAP:  security/security.c: In function 'mmap_prot': security/security.c:687:36: error: dereferencing pointer to incomplete type security/security.c:688:16: error: 'BDI_CAP_EXEC_MAP' undeclared (first use in this function) security/security.c:688:16: note: each undeclared identifier is reported only once for each function it appears in  include backing-dev.h directly to fix it up.  Signed-off-by: Paul Mundt <lethal@linux-sh.org> Signed-off-by: James Morris <james.l.morris@oracle.com>
f | Kconfig | g | 5.7K |  | David Howells | dhowells@redhat.com | 1336730216 |  | KEYS: Move the key config into security/keys/Kconfig  Move the key config into security/keys/Kconfig as there are going to be a lot of key-related options.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Mimi Zohar <zohar@us.ibm.com>
