d | include |  | 13 items |  | Wanlong Gao | gaowanlong@cn.fujitsu.com | 1333988624 |  | SELinux: avc: remove the useless fields in avc_add_callback  avc_add_callback now just used for registering reset functions in initcalls, and the callback functions just did reset operations. So, reducing the arguments to only one event is enough now.  Signed-off-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Signed-off-by: Eric Paris <eparis@redhat.com>
f | selinuxfs.c | s | 42K | 1574 | Al Viro | viro@zeniv.linux.org.uk | 1338348513 |  | selinuxfs snprintf() misuses  a) %d does _not_ produce a page worth of output b) snprintf() doesn't return negatives - it used to in old glibc, but that's the kernel...  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | netport.c | s | 6.6K | 235 | Wanlong Gao | gaowanlong@cn.fujitsu.com | 1333988624 |  | SELinux: avc: remove the useless fields in avc_add_callback  avc_add_callback now just used for registering reset functions in initcalls, and the callback functions just did reset operations. So, reducing the arguments to only one event is enough now.  Signed-off-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Signed-off-by: Eric Paris <eparis@redhat.com>
f | Makefile | g | 846B |  | matt mooney | mfm@muteddisk.com | 1287616360 |  | selinux: change to new flag variable  Replace EXTRA_CFLAGS with ccflags-y.  Signed-off-by: matt mooney <mfm@muteddisk.com> Signed-off-by: James Morris <jmorris@namei.org>
f | netif.c | s | 7.1K | 263 | Wanlong Gao | gaowanlong@cn.fujitsu.com | 1333988624 |  | SELinux: avc: remove the useless fields in avc_add_callback  avc_add_callback now just used for registering reset functions in initcalls, and the callback functions just did reset operations. So, reducing the arguments to only one event is enough now.  Signed-off-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Signed-off-by: Eric Paris <eparis@redhat.com>
f | nlmsgtab.c | s | 6.0K | 153 | Pablo Neira Ayuso | pablo@netfilter.org | 1336501542 |  | netfilter: remove ip_queue support  This patch removes ip_queue support which was marked as obsolete years ago. The nfnetlink_queue modules provides more advanced user-space packet queueing mechanism.  This patch also removes capability code included in SELinux that refers to ip_queue. Otherwise, we break compilation.  Several warning has been sent regarding this to the mailing list in the past month without anyone rising the hand to stop this with some strong argument.  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
f | xfrm.c | s | 10K | 410 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | exports.c | s | 709B | 21 | James Morris | jmorris@namei.org | 1315612592 |  | selinux: sparse fix: include selinux.h in exports.c  Fix warning: security/selinux/exports.c:18:6: warning: symbol 'selinux_is_enabled' was not declared. Should it be static?  Signed-off-by: James Morris <jmorris@namei.org>
f | hooks.c | s | 142K | 4965 | Al Viro | viro@zeniv.linux.org.uk | 1338484314 |  | split ->file_mmap() into ->mmap_addr()/->mmap_file()  ... i.e. file-dependent and address-dependent checks.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | netlink.c | s | 2.4K | 99 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103892 |  | selinux: Add export.h to files using EXPORT_SYMBOL/THIS_MODULE  The pervasive, but implicit presence of <linux/module.h> meant that things like this file would happily compile as-is.  But with the desire to phase out the module.h being included everywhere, point this file at export.h which will give it THIS_MODULE and the EXPORT_SYMBOL variants.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | netlabel.c | s | 12K | 425 | Paul Moore | paul.moore@hp.com | 1312246713 |  | doc: Update the email address for Paul Moore in various source files  My @hp.com will no longer be valid starting August 5, 2011 so an update is necessary.  My new email address is employer independent so we don't have to worry about doing this again any time soon.  Signed-off-by: Paul Moore <paul.moore@hp.com> Signed-off-by: Paul Moore <paul@paul-moore.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Kconfig | g | 5.1K |  | Paul Moore | paul.moore@hp.com | 1230746051 |  | selinux: Deprecate and schedule the removal of the the compat_net functionality  This patch is the first step towards removing the old "compat_net" code from the kernel.  Secmark, the "compat_net" replacement was first introduced in 2.6.18 (September 2006) and the major Linux distributions with SELinux support have transitioned to Secmark so it is time to start deprecating the "compat_net" mechanism.  Testing a patched version of 2.6.28-rc6 with the initial release of Fedora Core 5 did not show any problems when running in enforcing mode.  This patch adds an entry to the feature-removal-schedule.txt file and removes the SECURITY_SELINUX_ENABLE_SECMARK_DEFAULT configuration option, forcing Secmark on by default although it can still be disabled at runtime.  The patch also makes the Secmark permission checks "dynamic" in the sense that they are only executed when Secmark is configured; this should help prevent problems with older distributions that have not yet migrated to Secmark.  Signed-off-by: Paul Moore <paul.moore@hp.com> Acked-by: James Morris <jmorris@namei.org>
d | ss |  | 22 items |  | Wanlong Gao | gaowanlong@cn.fujitsu.com | 1333988624 |  | SELinux: avc: remove the useless fields in avc_add_callback  avc_add_callback now just used for registering reset functions in initcalls, and the callback functions just did reset operations. So, reducing the arguments to only one event is enough now.  Signed-off-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Signed-off-by: Eric Paris <eparis@redhat.com>
f | avc.c | s | 19K | 699 | Wanlong Gao | gaowanlong@cn.fujitsu.com | 1333988624 |  | SELinux: avc: remove the useless fields in avc_add_callback  avc_add_callback now just used for registering reset functions in initcalls, and the callback functions just did reset operations. So, reducing the arguments to only one event is enough now.  Signed-off-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Signed-off-by: Eric Paris <eparis@redhat.com>
f | netnode.c | s | 8.1K | 295 | Wanlong Gao | gaowanlong@cn.fujitsu.com | 1333988624 |  | SELinux: avc: remove the useless fields in avc_add_callback  avc_add_callback now just used for registering reset functions in initcalls, and the callback functions just did reset operations. So, reducing the arguments to only one event is enough now.  Signed-off-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Signed-off-by: Eric Paris <eparis@redhat.com>
